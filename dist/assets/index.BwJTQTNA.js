var ML=e=>{throw TypeError(e)};var rA=(e,t,r)=>t.has(e)||ML("Cannot "+r);var de=(e,t,r)=>(rA(e,t,"read from private field"),r?r.call(e):t.get(e)),At=(e,t,r)=>t.has(e)?ML("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),ot=(e,t,r,n)=>(rA(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Ht=(e,t,r)=>(rA(e,t,"access private method"),r);var Ab=(e,t,r,n)=>({set _(i){ot(e,t,i,r)},get _(){return de(e,t,n)}});function $le(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var Oc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function kr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Zz={exports:{}},h2={},Jz={exports:{}},er={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l1=Symbol.for("react.element"),Ble=Symbol.for("react.portal"),Vle=Symbol.for("react.fragment"),Ule=Symbol.for("react.strict_mode"),zle=Symbol.for("react.profiler"),Wle=Symbol.for("react.provider"),Hle=Symbol.for("react.context"),qle=Symbol.for("react.forward_ref"),Gle=Symbol.for("react.suspense"),Kle=Symbol.for("react.memo"),Yle=Symbol.for("react.lazy"),LL=Symbol.iterator;function Xle(e){return e===null||typeof e!="object"?null:(e=LL&&e[LL]||e["@@iterator"],typeof e=="function"?e:null)}var eW={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tW=Object.assign,rW={};function J0(e,t,r){this.props=e,this.context=t,this.refs=rW,this.updater=r||eW}J0.prototype.isReactComponent={};J0.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};J0.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function nW(){}nW.prototype=J0.prototype;function AI(e,t,r){this.props=e,this.context=t,this.refs=rW,this.updater=r||eW}var CI=AI.prototype=new nW;CI.constructor=AI;tW(CI,J0.prototype);CI.isPureReactComponent=!0;var FL=Array.isArray,iW=Object.prototype.hasOwnProperty,jI={current:null},aW={key:!0,ref:!0,__self:!0,__source:!0};function sW(e,t,r){var n,i={},a=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(a=""+t.key),t)iW.call(t,n)&&!aW.hasOwnProperty(n)&&(i[n]=t[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:l1,type:e,key:a,ref:s,props:i,_owner:jI.current}}function Qle(e,t){return{$$typeof:l1,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function PI(e){return typeof e=="object"&&e!==null&&e.$$typeof===l1}function Zle(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var $L=/\/+/g;function nA(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Zle(""+e.key):t.toString(36)}function Hw(e,t,r,n,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case l1:case Ble:s=!0}}if(s)return s=e,i=i(s),e=n===""?"."+nA(s,0):n,FL(i)?(r="",e!=null&&(r=e.replace($L,"$&/")+"/"),Hw(i,t,r,"",function(u){return u})):i!=null&&(PI(i)&&(i=Qle(i,r+(!i.key||s&&s.key===i.key?"":(""+i.key).replace($L,"$&/")+"/")+e)),t.push(i)),1;if(s=0,n=n===""?".":n+":",FL(e))for(var o=0;o<e.length;o++){a=e[o];var c=n+nA(a,o);s+=Hw(a,t,r,c,i)}else if(c=Xle(e),typeof c=="function")for(e=c.call(e),o=0;!(a=e.next()).done;)a=a.value,c=n+nA(a,o++),s+=Hw(a,t,r,c,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Cb(e,t,r){if(e==null)return e;var n=[],i=0;return Hw(e,n,"","",function(a){return t.call(r,a,i++)}),n}function Jle(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Da={current:null},qw={transition:null},ece={ReactCurrentDispatcher:Da,ReactCurrentBatchConfig:qw,ReactCurrentOwner:jI};function oW(){throw Error("act(...) is not supported in production builds of React.")}er.Children={map:Cb,forEach:function(e,t,r){Cb(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Cb(e,function(){t++}),t},toArray:function(e){return Cb(e,function(t){return t})||[]},only:function(e){if(!PI(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};er.Component=J0;er.Fragment=Vle;er.Profiler=zle;er.PureComponent=AI;er.StrictMode=Ule;er.Suspense=Gle;er.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ece;er.act=oW;er.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=tW({},e.props),i=e.key,a=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,s=jI.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)iW.call(t,c)&&!aW.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:l1,type:e.type,key:i,ref:a,props:n,_owner:s}};er.createContext=function(e){return e={$$typeof:Hle,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Wle,_context:e},e.Consumer=e};er.createElement=sW;er.createFactory=function(e){var t=sW.bind(null,e);return t.type=e,t};er.createRef=function(){return{current:null}};er.forwardRef=function(e){return{$$typeof:qle,render:e}};er.isValidElement=PI;er.lazy=function(e){return{$$typeof:Yle,_payload:{_status:-1,_result:e},_init:Jle}};er.memo=function(e,t){return{$$typeof:Kle,type:e,compare:t===void 0?null:t}};er.startTransition=function(e){var t=qw.transition;qw.transition={};try{e()}finally{qw.transition=t}};er.unstable_act=oW;er.useCallback=function(e,t){return Da.current.useCallback(e,t)};er.useContext=function(e){return Da.current.useContext(e)};er.useDebugValue=function(){};er.useDeferredValue=function(e){return Da.current.useDeferredValue(e)};er.useEffect=function(e,t){return Da.current.useEffect(e,t)};er.useId=function(){return Da.current.useId()};er.useImperativeHandle=function(e,t,r){return Da.current.useImperativeHandle(e,t,r)};er.useInsertionEffect=function(e,t){return Da.current.useInsertionEffect(e,t)};er.useLayoutEffect=function(e,t){return Da.current.useLayoutEffect(e,t)};er.useMemo=function(e,t){return Da.current.useMemo(e,t)};er.useReducer=function(e,t,r){return Da.current.useReducer(e,t,r)};er.useRef=function(e){return Da.current.useRef(e)};er.useState=function(e){return Da.current.useState(e)};er.useSyncExternalStore=function(e,t,r){return Da.current.useSyncExternalStore(e,t,r)};er.useTransition=function(){return Da.current.useTransition()};er.version="18.3.1";Jz.exports=er;var b=Jz.exports;const te=kr(b),lW=$le({__proto__:null,default:te},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tce=b,rce=Symbol.for("react.element"),nce=Symbol.for("react.fragment"),ice=Object.prototype.hasOwnProperty,ace=tce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,sce={key:!0,ref:!0,__self:!0,__source:!0};function cW(e,t,r){var n,i={},a=null,s=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)ice.call(t,n)&&!sce.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:rce,type:e,key:a,ref:s,props:i,_owner:ace.current}}h2.Fragment=nce;h2.jsx=cW;h2.jsxs=cW;Zz.exports=h2;var l=Zz.exports,uW={exports:{}},Ls={},dW={exports:{}},fW={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(V,U){var se=V.length;V.push(U);e:for(;0<se;){var ne=se-1>>>1,M=V[ne];if(0<i(M,U))V[ne]=U,V[se]=M,se=ne;else break e}}function r(V){return V.length===0?null:V[0]}function n(V){if(V.length===0)return null;var U=V[0],se=V.pop();if(se!==U){V[0]=se;e:for(var ne=0,M=V.length,W=M>>>1;ne<W;){var G=2*(ne+1)-1,P=V[G],J=G+1,oe=V[J];if(0>i(P,se))J<M&&0>i(oe,P)?(V[ne]=oe,V[J]=se,ne=J):(V[ne]=P,V[G]=se,ne=G);else if(J<M&&0>i(oe,se))V[ne]=oe,V[J]=se,ne=J;else break e}}return U}function i(V,U){var se=V.sortIndex-U.sortIndex;return se!==0?se:V.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var c=[],u=[],d=1,f=null,h=3,m=!1,g=!1,p=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(V){for(var U=r(u);U!==null;){if(U.callback===null)n(u);else if(U.startTime<=V)n(u),U.sortIndex=U.expirationTime,t(c,U);else break;U=r(u)}}function N(V){if(p=!1,w(V),!g)if(r(c)!==null)g=!0,ee(E);else{var U=r(u);U!==null&&z(N,U.startTime-V)}}function E(V,U){g=!1,p&&(p=!1,y(A),A=-1),m=!0;var se=h;try{for(w(U),f=r(c);f!==null&&(!(f.expirationTime>U)||V&&!I());){var ne=f.callback;if(typeof ne=="function"){f.callback=null,h=f.priorityLevel;var M=ne(f.expirationTime<=U);U=e.unstable_now(),typeof M=="function"?f.callback=M:f===r(c)&&n(c),w(U)}else n(c);f=r(c)}if(f!==null)var W=!0;else{var G=r(u);G!==null&&z(N,G.startTime-U),W=!1}return W}finally{f=null,h=se,m=!1}}var T=!1,S=null,A=-1,C=5,j=-1;function I(){return!(e.unstable_now()-j<C)}function O(){if(S!==null){var V=e.unstable_now();j=V;var U=!0;try{U=S(!0,V)}finally{U?k():(T=!1,S=null)}}else T=!1}var k;if(typeof x=="function")k=function(){x(O)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,B=D.port2;D.port1.onmessage=O,k=function(){B.postMessage(null)}}else k=function(){v(O,0)};function ee(V){S=V,T||(T=!0,k())}function z(V,U){A=v(function(){V(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(V){V.callback=null},e.unstable_continueExecution=function(){g||m||(g=!0,ee(E))},e.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<V?Math.floor(1e3/V):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(V){switch(h){case 1:case 2:case 3:var U=3;break;default:U=h}var se=h;h=U;try{return V()}finally{h=se}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(V,U){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var se=h;h=V;try{return U()}finally{h=se}},e.unstable_scheduleCallback=function(V,U,se){var ne=e.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?ne+se:ne):se=ne,V){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=se+M,V={id:d++,callback:U,priorityLevel:V,startTime:se,expirationTime:M,sortIndex:-1},se>ne?(V.sortIndex=se,t(u,V),r(c)===null&&V===r(u)&&(p?(y(A),A=-1):p=!0,z(N,se-ne))):(V.sortIndex=M,t(c,V),g||m||(g=!0,ee(E))),V},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(V){var U=h;return function(){var se=h;h=U;try{return V.apply(this,arguments)}finally{h=se}}}})(fW);dW.exports=fW;var oce=dW.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lce=b,js=oce;function We(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var hW=new Set,Ey={};function Zh(e,t){Jp(e,t),Jp(e+"Capture",t)}function Jp(e,t){for(Ey[e]=t,e=0;e<t.length;e++)hW.add(t[e])}var su=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ej=Object.prototype.hasOwnProperty,cce=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,BL={},VL={};function uce(e){return Ej.call(VL,e)?!0:Ej.call(BL,e)?!1:cce.test(e)?VL[e]=!0:(BL[e]=!0,!1)}function dce(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function fce(e,t,r,n){if(t===null||typeof t>"u"||dce(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ma(e,t,r,n,i,a,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var zi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){zi[e]=new Ma(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];zi[t]=new Ma(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){zi[e]=new Ma(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){zi[e]=new Ma(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){zi[e]=new Ma(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){zi[e]=new Ma(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){zi[e]=new Ma(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){zi[e]=new Ma(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){zi[e]=new Ma(e,5,!1,e.toLowerCase(),null,!1,!1)});var RI=/[\-:]([a-z])/g;function kI(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(RI,kI);zi[t]=new Ma(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(RI,kI);zi[t]=new Ma(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(RI,kI);zi[t]=new Ma(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){zi[e]=new Ma(e,1,!1,e.toLowerCase(),null,!1,!1)});zi.xlinkHref=new Ma("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){zi[e]=new Ma(e,1,!1,e.toLowerCase(),null,!0,!0)});function II(e,t,r,n){var i=zi.hasOwnProperty(t)?zi[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(fce(t,r,i,n)&&(r=null),n||i===null?uce(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Cu=lce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,jb=Symbol.for("react.element"),Km=Symbol.for("react.portal"),Ym=Symbol.for("react.fragment"),OI=Symbol.for("react.strict_mode"),Sj=Symbol.for("react.profiler"),mW=Symbol.for("react.provider"),pW=Symbol.for("react.context"),DI=Symbol.for("react.forward_ref"),Tj=Symbol.for("react.suspense"),Nj=Symbol.for("react.suspense_list"),MI=Symbol.for("react.memo"),Gu=Symbol.for("react.lazy"),gW=Symbol.for("react.offscreen"),UL=Symbol.iterator;function Hg(e){return e===null||typeof e!="object"?null:(e=UL&&e[UL]||e["@@iterator"],typeof e=="function"?e:null)}var Tn=Object.assign,iA;function wv(e){if(iA===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);iA=t&&t[1]||""}return`
`+iA+e}var aA=!1;function sA(e,t){if(!e||aA)return"";aA=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=n.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var c=`
`+i[s].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=s&&0<=o);break}}}finally{aA=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?wv(e):""}function hce(e){switch(e.tag){case 5:return wv(e.type);case 16:return wv("Lazy");case 13:return wv("Suspense");case 19:return wv("SuspenseList");case 0:case 2:case 15:return e=sA(e.type,!1),e;case 11:return e=sA(e.type.render,!1),e;case 1:return e=sA(e.type,!0),e;default:return""}}function Aj(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ym:return"Fragment";case Km:return"Portal";case Sj:return"Profiler";case OI:return"StrictMode";case Tj:return"Suspense";case Nj:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case pW:return(e.displayName||"Context")+".Consumer";case mW:return(e._context.displayName||"Context")+".Provider";case DI:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case MI:return t=e.displayName||null,t!==null?t:Aj(e.type)||"Memo";case Gu:t=e._payload,e=e._init;try{return Aj(e(t))}catch{}}return null}function mce(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Aj(t);case 8:return t===OI?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Dd(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function vW(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function pce(e){var t=vW(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,a.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Pb(e){e._valueTracker||(e._valueTracker=pce(e))}function yW(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=vW(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function k_(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Cj(e,t){var r=t.checked;return Tn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function zL(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Dd(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function xW(e,t){t=t.checked,t!=null&&II(e,"checked",t,!1)}function jj(e,t){xW(e,t);var r=Dd(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Pj(e,t.type,r):t.hasOwnProperty("defaultValue")&&Pj(e,t.type,Dd(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function WL(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Pj(e,t,r){(t!=="number"||k_(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var _v=Array.isArray;function gp(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Dd(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Rj(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(We(91));return Tn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function HL(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(We(92));if(_v(r)){if(1<r.length)throw Error(We(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Dd(r)}}function bW(e,t){var r=Dd(t.value),n=Dd(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function qL(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function wW(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function kj(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?wW(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Rb,_W=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Rb=Rb||document.createElement("div"),Rb.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Rb.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Sy(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Bv={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gce=["Webkit","ms","Moz","O"];Object.keys(Bv).forEach(function(e){gce.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Bv[t]=Bv[e]})});function EW(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Bv.hasOwnProperty(e)&&Bv[e]?(""+t).trim():t+"px"}function SW(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=EW(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var vce=Tn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ij(e,t){if(t){if(vce[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(We(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(We(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(We(61))}if(t.style!=null&&typeof t.style!="object")throw Error(We(62))}}function Oj(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dj=null;function LI(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Mj=null,vp=null,yp=null;function GL(e){if(e=d1(e)){if(typeof Mj!="function")throw Error(We(280));var t=e.stateNode;t&&(t=y2(t),Mj(e.stateNode,e.type,t))}}function TW(e){vp?yp?yp.push(e):yp=[e]:vp=e}function NW(){if(vp){var e=vp,t=yp;if(yp=vp=null,GL(e),t)for(e=0;e<t.length;e++)GL(t[e])}}function AW(e,t){return e(t)}function CW(){}var oA=!1;function jW(e,t,r){if(oA)return e(t,r);oA=!0;try{return AW(e,t,r)}finally{oA=!1,(vp!==null||yp!==null)&&(CW(),NW())}}function Ty(e,t){var r=e.stateNode;if(r===null)return null;var n=y2(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(We(231,t,typeof r));return r}var Lj=!1;if(su)try{var qg={};Object.defineProperty(qg,"passive",{get:function(){Lj=!0}}),window.addEventListener("test",qg,qg),window.removeEventListener("test",qg,qg)}catch{Lj=!1}function yce(e,t,r,n,i,a,s,o,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Vv=!1,I_=null,O_=!1,Fj=null,xce={onError:function(e){Vv=!0,I_=e}};function bce(e,t,r,n,i,a,s,o,c){Vv=!1,I_=null,yce.apply(xce,arguments)}function wce(e,t,r,n,i,a,s,o,c){if(bce.apply(this,arguments),Vv){if(Vv){var u=I_;Vv=!1,I_=null}else throw Error(We(198));O_||(O_=!0,Fj=u)}}function Jh(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function PW(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function KL(e){if(Jh(e)!==e)throw Error(We(188))}function _ce(e){var t=e.alternate;if(!t){if(t=Jh(e),t===null)throw Error(We(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return KL(i),e;if(a===n)return KL(i),t;a=a.sibling}throw Error(We(188))}if(r.return!==n.return)r=i,n=a;else{for(var s=!1,o=i.child;o;){if(o===r){s=!0,r=i,n=a;break}if(o===n){s=!0,n=i,r=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===r){s=!0,r=a,n=i;break}if(o===n){s=!0,n=a,r=i;break}o=o.sibling}if(!s)throw Error(We(189))}}if(r.alternate!==n)throw Error(We(190))}if(r.tag!==3)throw Error(We(188));return r.stateNode.current===r?e:t}function RW(e){return e=_ce(e),e!==null?kW(e):null}function kW(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=kW(e);if(t!==null)return t;e=e.sibling}return null}var IW=js.unstable_scheduleCallback,YL=js.unstable_cancelCallback,Ece=js.unstable_shouldYield,Sce=js.unstable_requestPaint,Vn=js.unstable_now,Tce=js.unstable_getCurrentPriorityLevel,FI=js.unstable_ImmediatePriority,OW=js.unstable_UserBlockingPriority,D_=js.unstable_NormalPriority,Nce=js.unstable_LowPriority,DW=js.unstable_IdlePriority,m2=null,Wl=null;function Ace(e){if(Wl&&typeof Wl.onCommitFiberRoot=="function")try{Wl.onCommitFiberRoot(m2,e,void 0,(e.current.flags&128)===128)}catch{}}var al=Math.clz32?Math.clz32:Pce,Cce=Math.log,jce=Math.LN2;function Pce(e){return e>>>=0,e===0?32:31-(Cce(e)/jce|0)|0}var kb=64,Ib=4194304;function Ev(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function M_(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,s=r&268435455;if(s!==0){var o=s&~i;o!==0?n=Ev(o):(a&=s,a!==0&&(n=Ev(a)))}else s=r&~i,s!==0?n=Ev(s):a!==0&&(n=Ev(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-al(t),i=1<<r,n|=e[r],t&=~i;return n}function Rce(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kce(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-al(a),o=1<<s,c=i[s];c===-1?(!(o&r)||o&n)&&(i[s]=Rce(o,t)):c<=t&&(e.expiredLanes|=o),a&=~o}}function $j(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function MW(){var e=kb;return kb<<=1,!(kb&4194240)&&(kb=64),e}function lA(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function c1(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-al(t),e[t]=r}function Ice(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-al(r),a=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~a}}function $I(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-al(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var Pr=0;function LW(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var FW,BI,$W,BW,VW,Bj=!1,Ob=[],xd=null,bd=null,wd=null,Ny=new Map,Ay=new Map,Qu=[],Oce="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function XL(e,t){switch(e){case"focusin":case"focusout":xd=null;break;case"dragenter":case"dragleave":bd=null;break;case"mouseover":case"mouseout":wd=null;break;case"pointerover":case"pointerout":Ny.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ay.delete(t.pointerId)}}function Gg(e,t,r,n,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},t!==null&&(t=d1(t),t!==null&&BI(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Dce(e,t,r,n,i){switch(t){case"focusin":return xd=Gg(xd,e,t,r,n,i),!0;case"dragenter":return bd=Gg(bd,e,t,r,n,i),!0;case"mouseover":return wd=Gg(wd,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return Ny.set(a,Gg(Ny.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,Ay.set(a,Gg(Ay.get(a)||null,e,t,r,n,i)),!0}return!1}function UW(e){var t=qf(e.target);if(t!==null){var r=Jh(t);if(r!==null){if(t=r.tag,t===13){if(t=PW(r),t!==null){e.blockedOn=t,VW(e.priority,function(){$W(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Gw(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Vj(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Dj=n,r.target.dispatchEvent(n),Dj=null}else return t=d1(r),t!==null&&BI(t),e.blockedOn=r,!1;t.shift()}return!0}function QL(e,t,r){Gw(e)&&r.delete(t)}function Mce(){Bj=!1,xd!==null&&Gw(xd)&&(xd=null),bd!==null&&Gw(bd)&&(bd=null),wd!==null&&Gw(wd)&&(wd=null),Ny.forEach(QL),Ay.forEach(QL)}function Kg(e,t){e.blockedOn===t&&(e.blockedOn=null,Bj||(Bj=!0,js.unstable_scheduleCallback(js.unstable_NormalPriority,Mce)))}function Cy(e){function t(i){return Kg(i,e)}if(0<Ob.length){Kg(Ob[0],e);for(var r=1;r<Ob.length;r++){var n=Ob[r];n.blockedOn===e&&(n.blockedOn=null)}}for(xd!==null&&Kg(xd,e),bd!==null&&Kg(bd,e),wd!==null&&Kg(wd,e),Ny.forEach(t),Ay.forEach(t),r=0;r<Qu.length;r++)n=Qu[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Qu.length&&(r=Qu[0],r.blockedOn===null);)UW(r),r.blockedOn===null&&Qu.shift()}var xp=Cu.ReactCurrentBatchConfig,L_=!0;function Lce(e,t,r,n){var i=Pr,a=xp.transition;xp.transition=null;try{Pr=1,VI(e,t,r,n)}finally{Pr=i,xp.transition=a}}function Fce(e,t,r,n){var i=Pr,a=xp.transition;xp.transition=null;try{Pr=4,VI(e,t,r,n)}finally{Pr=i,xp.transition=a}}function VI(e,t,r,n){if(L_){var i=Vj(e,t,r,n);if(i===null)yA(e,t,n,F_,r),XL(e,n);else if(Dce(i,e,t,r,n))n.stopPropagation();else if(XL(e,n),t&4&&-1<Oce.indexOf(e)){for(;i!==null;){var a=d1(i);if(a!==null&&FW(a),a=Vj(e,t,r,n),a===null&&yA(e,t,n,F_,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else yA(e,t,n,null,r)}}var F_=null;function Vj(e,t,r,n){if(F_=null,e=LI(n),e=qf(e),e!==null)if(t=Jh(e),t===null)e=null;else if(r=t.tag,r===13){if(e=PW(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return F_=e,null}function zW(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Tce()){case FI:return 1;case OW:return 4;case D_:case Nce:return 16;case DW:return 536870912;default:return 16}default:return 16}}var hd=null,UI=null,Kw=null;function WW(){if(Kw)return Kw;var e,t=UI,r=t.length,n,i="value"in hd?hd.value:hd.textContent,a=i.length;for(e=0;e<r&&t[e]===i[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===i[a-n];n++);return Kw=i.slice(e,1<n?1-n:void 0)}function Yw(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Db(){return!0}function ZL(){return!1}function Fs(e){function t(r,n,i,a,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Db:ZL,this.isPropagationStopped=ZL,this}return Tn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Db)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Db)},persist:function(){},isPersistent:Db}),t}var eg={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zI=Fs(eg),u1=Tn({},eg,{view:0,detail:0}),$ce=Fs(u1),cA,uA,Yg,p2=Tn({},u1,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:WI,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Yg&&(Yg&&e.type==="mousemove"?(cA=e.screenX-Yg.screenX,uA=e.screenY-Yg.screenY):uA=cA=0,Yg=e),cA)},movementY:function(e){return"movementY"in e?e.movementY:uA}}),JL=Fs(p2),Bce=Tn({},p2,{dataTransfer:0}),Vce=Fs(Bce),Uce=Tn({},u1,{relatedTarget:0}),dA=Fs(Uce),zce=Tn({},eg,{animationName:0,elapsedTime:0,pseudoElement:0}),Wce=Fs(zce),Hce=Tn({},eg,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),qce=Fs(Hce),Gce=Tn({},eg,{data:0}),eF=Fs(Gce),Kce={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yce={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xce={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qce(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Xce[e])?!!t[e]:!1}function WI(){return Qce}var Zce=Tn({},u1,{key:function(e){if(e.key){var t=Kce[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Yw(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Yce[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:WI,charCode:function(e){return e.type==="keypress"?Yw(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Yw(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Jce=Fs(Zce),eue=Tn({},p2,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tF=Fs(eue),tue=Tn({},u1,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:WI}),rue=Fs(tue),nue=Tn({},eg,{propertyName:0,elapsedTime:0,pseudoElement:0}),iue=Fs(nue),aue=Tn({},p2,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),sue=Fs(aue),oue=[9,13,27,32],HI=su&&"CompositionEvent"in window,Uv=null;su&&"documentMode"in document&&(Uv=document.documentMode);var lue=su&&"TextEvent"in window&&!Uv,HW=su&&(!HI||Uv&&8<Uv&&11>=Uv),rF=" ",nF=!1;function qW(e,t){switch(e){case"keyup":return oue.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function GW(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Xm=!1;function cue(e,t){switch(e){case"compositionend":return GW(t);case"keypress":return t.which!==32?null:(nF=!0,rF);case"textInput":return e=t.data,e===rF&&nF?null:e;default:return null}}function uue(e,t){if(Xm)return e==="compositionend"||!HI&&qW(e,t)?(e=WW(),Kw=UI=hd=null,Xm=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return HW&&t.locale!=="ko"?null:t.data;default:return null}}var due={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function iF(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!due[e.type]:t==="textarea"}function KW(e,t,r,n){TW(n),t=$_(t,"onChange"),0<t.length&&(r=new zI("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var zv=null,jy=null;function fue(e){aH(e,0)}function g2(e){var t=Jm(e);if(yW(t))return e}function hue(e,t){if(e==="change")return t}var YW=!1;if(su){var fA;if(su){var hA="oninput"in document;if(!hA){var aF=document.createElement("div");aF.setAttribute("oninput","return;"),hA=typeof aF.oninput=="function"}fA=hA}else fA=!1;YW=fA&&(!document.documentMode||9<document.documentMode)}function sF(){zv&&(zv.detachEvent("onpropertychange",XW),jy=zv=null)}function XW(e){if(e.propertyName==="value"&&g2(jy)){var t=[];KW(t,jy,e,LI(e)),jW(fue,t)}}function mue(e,t,r){e==="focusin"?(sF(),zv=t,jy=r,zv.attachEvent("onpropertychange",XW)):e==="focusout"&&sF()}function pue(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return g2(jy)}function gue(e,t){if(e==="click")return g2(t)}function vue(e,t){if(e==="input"||e==="change")return g2(t)}function yue(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ul=typeof Object.is=="function"?Object.is:yue;function Py(e,t){if(ul(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Ej.call(t,i)||!ul(e[i],t[i]))return!1}return!0}function oF(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lF(e,t){var r=oF(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=oF(r)}}function QW(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?QW(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ZW(){for(var e=window,t=k_();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=k_(e.document)}return t}function qI(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function xue(e){var t=ZW(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&QW(r.ownerDocument.documentElement,r)){if(n!==null&&qI(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!e.extend&&a>n&&(i=n,n=a,a=i),i=lF(r,a);var s=lF(r,n);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var bue=su&&"documentMode"in document&&11>=document.documentMode,Qm=null,Uj=null,Wv=null,zj=!1;function cF(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;zj||Qm==null||Qm!==k_(n)||(n=Qm,"selectionStart"in n&&qI(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Wv&&Py(Wv,n)||(Wv=n,n=$_(Uj,"onSelect"),0<n.length&&(t=new zI("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Qm)))}function Mb(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Zm={animationend:Mb("Animation","AnimationEnd"),animationiteration:Mb("Animation","AnimationIteration"),animationstart:Mb("Animation","AnimationStart"),transitionend:Mb("Transition","TransitionEnd")},mA={},JW={};su&&(JW=document.createElement("div").style,"AnimationEvent"in window||(delete Zm.animationend.animation,delete Zm.animationiteration.animation,delete Zm.animationstart.animation),"TransitionEvent"in window||delete Zm.transitionend.transition);function v2(e){if(mA[e])return mA[e];if(!Zm[e])return e;var t=Zm[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in JW)return mA[e]=t[r];return e}var eH=v2("animationend"),tH=v2("animationiteration"),rH=v2("animationstart"),nH=v2("transitionend"),iH=new Map,uF="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function af(e,t){iH.set(e,t),Zh(t,[e])}for(var pA=0;pA<uF.length;pA++){var gA=uF[pA],wue=gA.toLowerCase(),_ue=gA[0].toUpperCase()+gA.slice(1);af(wue,"on"+_ue)}af(eH,"onAnimationEnd");af(tH,"onAnimationIteration");af(rH,"onAnimationStart");af("dblclick","onDoubleClick");af("focusin","onFocus");af("focusout","onBlur");af(nH,"onTransitionEnd");Jp("onMouseEnter",["mouseout","mouseover"]);Jp("onMouseLeave",["mouseout","mouseover"]);Jp("onPointerEnter",["pointerout","pointerover"]);Jp("onPointerLeave",["pointerout","pointerover"]);Zh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Zh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Zh("onBeforeInput",["compositionend","keypress","textInput","paste"]);Zh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Zh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Zh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sv="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Eue=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sv));function dF(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,wce(n,t,void 0,e),e.currentTarget=null}function aH(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var s=n.length-1;0<=s;s--){var o=n[s],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==a&&i.isPropagationStopped())break e;dF(i,o,u),a=c}else for(s=0;s<n.length;s++){if(o=n[s],c=o.instance,u=o.currentTarget,o=o.listener,c!==a&&i.isPropagationStopped())break e;dF(i,o,u),a=c}}}if(O_)throw e=Fj,O_=!1,Fj=null,e}function Qr(e,t){var r=t[Kj];r===void 0&&(r=t[Kj]=new Set);var n=e+"__bubble";r.has(n)||(sH(t,e,2,!1),r.add(n))}function vA(e,t,r){var n=0;t&&(n|=4),sH(r,e,n,t)}var Lb="_reactListening"+Math.random().toString(36).slice(2);function Ry(e){if(!e[Lb]){e[Lb]=!0,hW.forEach(function(r){r!=="selectionchange"&&(Eue.has(r)||vA(r,!1,e),vA(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Lb]||(t[Lb]=!0,vA("selectionchange",!1,t))}}function sH(e,t,r,n){switch(zW(t)){case 1:var i=Lce;break;case 4:i=Fce;break;default:i=VI}r=i.bind(null,t,r,e),i=void 0,!Lj||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function yA(e,t,r,n,i){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var c=s.tag;if((c===3||c===4)&&(c=s.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;s=s.return}for(;o!==null;){if(s=qf(o),s===null)return;if(c=s.tag,c===5||c===6){n=a=s;continue e}o=o.parentNode}}n=n.return}jW(function(){var u=a,d=LI(r),f=[];e:{var h=iH.get(e);if(h!==void 0){var m=zI,g=e;switch(e){case"keypress":if(Yw(r)===0)break e;case"keydown":case"keyup":m=Jce;break;case"focusin":g="focus",m=dA;break;case"focusout":g="blur",m=dA;break;case"beforeblur":case"afterblur":m=dA;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=JL;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=Vce;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=rue;break;case eH:case tH:case rH:m=Wce;break;case nH:m=iue;break;case"scroll":m=$ce;break;case"wheel":m=sue;break;case"copy":case"cut":case"paste":m=qce;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=tF}var p=(t&4)!==0,v=!p&&e==="scroll",y=p?h!==null?h+"Capture":null:h;p=[];for(var x=u,w;x!==null;){w=x;var N=w.stateNode;if(w.tag===5&&N!==null&&(w=N,y!==null&&(N=Ty(x,y),N!=null&&p.push(ky(x,N,w)))),v)break;x=x.return}0<p.length&&(h=new m(h,g,null,r,d),f.push({event:h,listeners:p}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==Dj&&(g=r.relatedTarget||r.fromElement)&&(qf(g)||g[ou]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(g=r.relatedTarget||r.toElement,m=u,g=g?qf(g):null,g!==null&&(v=Jh(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(p=JL,N="onMouseLeave",y="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(p=tF,N="onPointerLeave",y="onPointerEnter",x="pointer"),v=m==null?h:Jm(m),w=g==null?h:Jm(g),h=new p(N,x+"leave",m,r,d),h.target=v,h.relatedTarget=w,N=null,qf(d)===u&&(p=new p(y,x+"enter",g,r,d),p.target=w,p.relatedTarget=v,N=p),v=N,m&&g)t:{for(p=m,y=g,x=0,w=p;w;w=Nm(w))x++;for(w=0,N=y;N;N=Nm(N))w++;for(;0<x-w;)p=Nm(p),x--;for(;0<w-x;)y=Nm(y),w--;for(;x--;){if(p===y||y!==null&&p===y.alternate)break t;p=Nm(p),y=Nm(y)}p=null}else p=null;m!==null&&fF(f,h,m,p,!1),g!==null&&v!==null&&fF(f,v,g,p,!0)}}e:{if(h=u?Jm(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var E=hue;else if(iF(h))if(YW)E=vue;else{E=pue;var T=mue}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(E=gue);if(E&&(E=E(e,u))){KW(f,E,r,d);break e}T&&T(e,h,u),e==="focusout"&&(T=h._wrapperState)&&T.controlled&&h.type==="number"&&Pj(h,"number",h.value)}switch(T=u?Jm(u):window,e){case"focusin":(iF(T)||T.contentEditable==="true")&&(Qm=T,Uj=u,Wv=null);break;case"focusout":Wv=Uj=Qm=null;break;case"mousedown":zj=!0;break;case"contextmenu":case"mouseup":case"dragend":zj=!1,cF(f,r,d);break;case"selectionchange":if(bue)break;case"keydown":case"keyup":cF(f,r,d)}var S;if(HI)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Xm?qW(e,r)&&(A="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(A="onCompositionStart");A&&(HW&&r.locale!=="ko"&&(Xm||A!=="onCompositionStart"?A==="onCompositionEnd"&&Xm&&(S=WW()):(hd=d,UI="value"in hd?hd.value:hd.textContent,Xm=!0)),T=$_(u,A),0<T.length&&(A=new eF(A,e,null,r,d),f.push({event:A,listeners:T}),S?A.data=S:(S=GW(r),S!==null&&(A.data=S)))),(S=lue?cue(e,r):uue(e,r))&&(u=$_(u,"onBeforeInput"),0<u.length&&(d=new eF("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=S))}aH(f,t)})}function ky(e,t,r){return{instance:e,listener:t,currentTarget:r}}function $_(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Ty(e,r),a!=null&&n.unshift(ky(e,a,i)),a=Ty(e,t),a!=null&&n.push(ky(e,a,i))),e=e.return}return n}function Nm(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function fF(e,t,r,n,i){for(var a=t._reactName,s=[];r!==null&&r!==n;){var o=r,c=o.alternate,u=o.stateNode;if(c!==null&&c===n)break;o.tag===5&&u!==null&&(o=u,i?(c=Ty(r,a),c!=null&&s.unshift(ky(r,c,o))):i||(c=Ty(r,a),c!=null&&s.push(ky(r,c,o)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var Sue=/\r\n?/g,Tue=/\u0000|\uFFFD/g;function hF(e){return(typeof e=="string"?e:""+e).replace(Sue,`
`).replace(Tue,"")}function Fb(e,t,r){if(t=hF(t),hF(e)!==t&&r)throw Error(We(425))}function B_(){}var Wj=null,Hj=null;function qj(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Gj=typeof setTimeout=="function"?setTimeout:void 0,Nue=typeof clearTimeout=="function"?clearTimeout:void 0,mF=typeof Promise=="function"?Promise:void 0,Aue=typeof queueMicrotask=="function"?queueMicrotask:typeof mF<"u"?function(e){return mF.resolve(null).then(e).catch(Cue)}:Gj;function Cue(e){setTimeout(function(){throw e})}function xA(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),Cy(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Cy(t)}function _d(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function pF(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var tg=Math.random().toString(36).slice(2),Dl="__reactFiber$"+tg,Iy="__reactProps$"+tg,ou="__reactContainer$"+tg,Kj="__reactEvents$"+tg,jue="__reactListeners$"+tg,Pue="__reactHandles$"+tg;function qf(e){var t=e[Dl];if(t)return t;for(var r=e.parentNode;r;){if(t=r[ou]||r[Dl]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=pF(e);e!==null;){if(r=e[Dl])return r;e=pF(e)}return t}e=r,r=e.parentNode}return null}function d1(e){return e=e[Dl]||e[ou],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Jm(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(We(33))}function y2(e){return e[Iy]||null}var Yj=[],ep=-1;function sf(e){return{current:e}}function rn(e){0>ep||(e.current=Yj[ep],Yj[ep]=null,ep--)}function Wr(e,t){ep++,Yj[ep]=e.current,e.current=t}var Md={},ha=sf(Md),Za=sf(!1),Th=Md;function e0(e,t){var r=e.type.contextTypes;if(!r)return Md;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ja(e){return e=e.childContextTypes,e!=null}function V_(){rn(Za),rn(ha)}function gF(e,t,r){if(ha.current!==Md)throw Error(We(168));Wr(ha,t),Wr(Za,r)}function oH(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(We(108,mce(e)||"Unknown",i));return Tn({},r,n)}function U_(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Md,Th=ha.current,Wr(ha,e),Wr(Za,Za.current),!0}function vF(e,t,r){var n=e.stateNode;if(!n)throw Error(We(169));r?(e=oH(e,t,Th),n.__reactInternalMemoizedMergedChildContext=e,rn(Za),rn(ha),Wr(ha,e)):rn(Za),Wr(Za,r)}var Rc=null,x2=!1,bA=!1;function lH(e){Rc===null?Rc=[e]:Rc.push(e)}function Rue(e){x2=!0,lH(e)}function of(){if(!bA&&Rc!==null){bA=!0;var e=0,t=Pr;try{var r=Rc;for(Pr=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Rc=null,x2=!1}catch(i){throw Rc!==null&&(Rc=Rc.slice(e+1)),IW(FI,of),i}finally{Pr=t,bA=!1}}return null}var tp=[],rp=0,z_=null,W_=0,io=[],ao=0,Nh=null,$c=1,Bc="";function Of(e,t){tp[rp++]=W_,tp[rp++]=z_,z_=e,W_=t}function cH(e,t,r){io[ao++]=$c,io[ao++]=Bc,io[ao++]=Nh,Nh=e;var n=$c;e=Bc;var i=32-al(n)-1;n&=~(1<<i),r+=1;var a=32-al(t)+i;if(30<a){var s=i-i%5;a=(n&(1<<s)-1).toString(32),n>>=s,i-=s,$c=1<<32-al(t)+i|r<<i|n,Bc=a+e}else $c=1<<a|r<<i|n,Bc=e}function GI(e){e.return!==null&&(Of(e,1),cH(e,1,0))}function KI(e){for(;e===z_;)z_=tp[--rp],tp[rp]=null,W_=tp[--rp],tp[rp]=null;for(;e===Nh;)Nh=io[--ao],io[ao]=null,Bc=io[--ao],io[ao]=null,$c=io[--ao],io[ao]=null}var Ns=null,Ss=null,fn=!1,Yo=null;function uH(e,t){var r=fo(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function yF(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ns=e,Ss=_d(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ns=e,Ss=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Nh!==null?{id:$c,overflow:Bc}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=fo(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Ns=e,Ss=null,!0):!1;default:return!1}}function Xj(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Qj(e){if(fn){var t=Ss;if(t){var r=t;if(!yF(e,t)){if(Xj(e))throw Error(We(418));t=_d(r.nextSibling);var n=Ns;t&&yF(e,t)?uH(n,r):(e.flags=e.flags&-4097|2,fn=!1,Ns=e)}}else{if(Xj(e))throw Error(We(418));e.flags=e.flags&-4097|2,fn=!1,Ns=e}}}function xF(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ns=e}function $b(e){if(e!==Ns)return!1;if(!fn)return xF(e),fn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!qj(e.type,e.memoizedProps)),t&&(t=Ss)){if(Xj(e))throw dH(),Error(We(418));for(;t;)uH(e,t),t=_d(t.nextSibling)}if(xF(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(We(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Ss=_d(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Ss=null}}else Ss=Ns?_d(e.stateNode.nextSibling):null;return!0}function dH(){for(var e=Ss;e;)e=_d(e.nextSibling)}function t0(){Ss=Ns=null,fn=!1}function YI(e){Yo===null?Yo=[e]:Yo.push(e)}var kue=Cu.ReactCurrentBatchConfig;function Xg(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(We(309));var n=r.stateNode}if(!n)throw Error(We(147,e));var i=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(s){var o=i.refs;s===null?delete o[a]:o[a]=s},t._stringRef=a,t)}if(typeof e!="string")throw Error(We(284));if(!r._owner)throw Error(We(290,e))}return e}function Bb(e,t){throw e=Object.prototype.toString.call(t),Error(We(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bF(e){var t=e._init;return t(e._payload)}function fH(e){function t(y,x){if(e){var w=y.deletions;w===null?(y.deletions=[x],y.flags|=16):w.push(x)}}function r(y,x){if(!e)return null;for(;x!==null;)t(y,x),x=x.sibling;return null}function n(y,x){for(y=new Map;x!==null;)x.key!==null?y.set(x.key,x):y.set(x.index,x),x=x.sibling;return y}function i(y,x){return y=Nd(y,x),y.index=0,y.sibling=null,y}function a(y,x,w){return y.index=w,e?(w=y.alternate,w!==null?(w=w.index,w<x?(y.flags|=2,x):w):(y.flags|=2,x)):(y.flags|=1048576,x)}function s(y){return e&&y.alternate===null&&(y.flags|=2),y}function o(y,x,w,N){return x===null||x.tag!==6?(x=AA(w,y.mode,N),x.return=y,x):(x=i(x,w),x.return=y,x)}function c(y,x,w,N){var E=w.type;return E===Ym?d(y,x,w.props.children,N,w.key):x!==null&&(x.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Gu&&bF(E)===x.type)?(N=i(x,w.props),N.ref=Xg(y,x,w),N.return=y,N):(N=r_(w.type,w.key,w.props,null,y.mode,N),N.ref=Xg(y,x,w),N.return=y,N)}function u(y,x,w,N){return x===null||x.tag!==4||x.stateNode.containerInfo!==w.containerInfo||x.stateNode.implementation!==w.implementation?(x=CA(w,y.mode,N),x.return=y,x):(x=i(x,w.children||[]),x.return=y,x)}function d(y,x,w,N,E){return x===null||x.tag!==7?(x=hh(w,y.mode,N,E),x.return=y,x):(x=i(x,w),x.return=y,x)}function f(y,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return x=AA(""+x,y.mode,w),x.return=y,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case jb:return w=r_(x.type,x.key,x.props,null,y.mode,w),w.ref=Xg(y,null,x),w.return=y,w;case Km:return x=CA(x,y.mode,w),x.return=y,x;case Gu:var N=x._init;return f(y,N(x._payload),w)}if(_v(x)||Hg(x))return x=hh(x,y.mode,w,null),x.return=y,x;Bb(y,x)}return null}function h(y,x,w,N){var E=x!==null?x.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return E!==null?null:o(y,x,""+w,N);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case jb:return w.key===E?c(y,x,w,N):null;case Km:return w.key===E?u(y,x,w,N):null;case Gu:return E=w._init,h(y,x,E(w._payload),N)}if(_v(w)||Hg(w))return E!==null?null:d(y,x,w,N,null);Bb(y,w)}return null}function m(y,x,w,N,E){if(typeof N=="string"&&N!==""||typeof N=="number")return y=y.get(w)||null,o(x,y,""+N,E);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case jb:return y=y.get(N.key===null?w:N.key)||null,c(x,y,N,E);case Km:return y=y.get(N.key===null?w:N.key)||null,u(x,y,N,E);case Gu:var T=N._init;return m(y,x,w,T(N._payload),E)}if(_v(N)||Hg(N))return y=y.get(w)||null,d(x,y,N,E,null);Bb(x,N)}return null}function g(y,x,w,N){for(var E=null,T=null,S=x,A=x=0,C=null;S!==null&&A<w.length;A++){S.index>A?(C=S,S=null):C=S.sibling;var j=h(y,S,w[A],N);if(j===null){S===null&&(S=C);break}e&&S&&j.alternate===null&&t(y,S),x=a(j,x,A),T===null?E=j:T.sibling=j,T=j,S=C}if(A===w.length)return r(y,S),fn&&Of(y,A),E;if(S===null){for(;A<w.length;A++)S=f(y,w[A],N),S!==null&&(x=a(S,x,A),T===null?E=S:T.sibling=S,T=S);return fn&&Of(y,A),E}for(S=n(y,S);A<w.length;A++)C=m(S,y,A,w[A],N),C!==null&&(e&&C.alternate!==null&&S.delete(C.key===null?A:C.key),x=a(C,x,A),T===null?E=C:T.sibling=C,T=C);return e&&S.forEach(function(I){return t(y,I)}),fn&&Of(y,A),E}function p(y,x,w,N){var E=Hg(w);if(typeof E!="function")throw Error(We(150));if(w=E.call(w),w==null)throw Error(We(151));for(var T=E=null,S=x,A=x=0,C=null,j=w.next();S!==null&&!j.done;A++,j=w.next()){S.index>A?(C=S,S=null):C=S.sibling;var I=h(y,S,j.value,N);if(I===null){S===null&&(S=C);break}e&&S&&I.alternate===null&&t(y,S),x=a(I,x,A),T===null?E=I:T.sibling=I,T=I,S=C}if(j.done)return r(y,S),fn&&Of(y,A),E;if(S===null){for(;!j.done;A++,j=w.next())j=f(y,j.value,N),j!==null&&(x=a(j,x,A),T===null?E=j:T.sibling=j,T=j);return fn&&Of(y,A),E}for(S=n(y,S);!j.done;A++,j=w.next())j=m(S,y,A,j.value,N),j!==null&&(e&&j.alternate!==null&&S.delete(j.key===null?A:j.key),x=a(j,x,A),T===null?E=j:T.sibling=j,T=j);return e&&S.forEach(function(O){return t(y,O)}),fn&&Of(y,A),E}function v(y,x,w,N){if(typeof w=="object"&&w!==null&&w.type===Ym&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case jb:e:{for(var E=w.key,T=x;T!==null;){if(T.key===E){if(E=w.type,E===Ym){if(T.tag===7){r(y,T.sibling),x=i(T,w.props.children),x.return=y,y=x;break e}}else if(T.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Gu&&bF(E)===T.type){r(y,T.sibling),x=i(T,w.props),x.ref=Xg(y,T,w),x.return=y,y=x;break e}r(y,T);break}else t(y,T);T=T.sibling}w.type===Ym?(x=hh(w.props.children,y.mode,N,w.key),x.return=y,y=x):(N=r_(w.type,w.key,w.props,null,y.mode,N),N.ref=Xg(y,x,w),N.return=y,y=N)}return s(y);case Km:e:{for(T=w.key;x!==null;){if(x.key===T)if(x.tag===4&&x.stateNode.containerInfo===w.containerInfo&&x.stateNode.implementation===w.implementation){r(y,x.sibling),x=i(x,w.children||[]),x.return=y,y=x;break e}else{r(y,x);break}else t(y,x);x=x.sibling}x=CA(w,y.mode,N),x.return=y,y=x}return s(y);case Gu:return T=w._init,v(y,x,T(w._payload),N)}if(_v(w))return g(y,x,w,N);if(Hg(w))return p(y,x,w,N);Bb(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,x!==null&&x.tag===6?(r(y,x.sibling),x=i(x,w),x.return=y,y=x):(r(y,x),x=AA(w,y.mode,N),x.return=y,y=x),s(y)):r(y,x)}return v}var r0=fH(!0),hH=fH(!1),H_=sf(null),q_=null,np=null,XI=null;function QI(){XI=np=q_=null}function ZI(e){var t=H_.current;rn(H_),e._currentValue=t}function Zj(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function bp(e,t){q_=e,XI=np=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ya=!0),e.firstContext=null)}function yo(e){var t=e._currentValue;if(XI!==e)if(e={context:e,memoizedValue:t,next:null},np===null){if(q_===null)throw Error(We(308));np=e,q_.dependencies={lanes:0,firstContext:e}}else np=np.next=e;return t}var Gf=null;function JI(e){Gf===null?Gf=[e]:Gf.push(e)}function mH(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,JI(t)):(r.next=i.next,i.next=r),t.interleaved=r,lu(e,n)}function lu(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Ku=!1;function eO(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function pH(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Gc(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ed(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,cr&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,lu(e,r)}return i=n.interleaved,i===null?(t.next=t,JI(n)):(t.next=i.next,i.next=t),n.interleaved=t,lu(e,r)}function Xw(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,$I(e,r)}}function wF(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=s:a=a.next=s,r=r.next}while(r!==null);a===null?i=a=t:a=a.next=t}else i=a=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function G_(e,t,r,n){var i=e.updateQueue;Ku=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var c=o,u=c.next;c.next=null,s===null?a=u:s.next=u,s=c;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==s&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=c))}if(a!==null){var f=i.baseState;s=0,d=u=c=null,o=a;do{var h=o.lane,m=o.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=e,p=o;switch(h=t,m=r,p.tag){case 1:if(g=p.payload,typeof g=="function"){f=g.call(m,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=p.payload,h=typeof g=="function"?g.call(m,f,h):g,h==null)break e;f=Tn({},f,h);break e;case 2:Ku=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[o]:h.push(o))}else m={eventTime:m,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,s|=h;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;h=o,o=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(c=f),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);Ch|=s,e.lanes=s,e.memoizedState=f}}function _F(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(We(191,i));i.call(n)}}}var f1={},Hl=sf(f1),Oy=sf(f1),Dy=sf(f1);function Kf(e){if(e===f1)throw Error(We(174));return e}function tO(e,t){switch(Wr(Dy,t),Wr(Oy,e),Wr(Hl,f1),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:kj(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=kj(t,e)}rn(Hl),Wr(Hl,t)}function n0(){rn(Hl),rn(Oy),rn(Dy)}function gH(e){Kf(Dy.current);var t=Kf(Hl.current),r=kj(t,e.type);t!==r&&(Wr(Oy,e),Wr(Hl,r))}function rO(e){Oy.current===e&&(rn(Hl),rn(Oy))}var xn=sf(0);function K_(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var wA=[];function nO(){for(var e=0;e<wA.length;e++)wA[e]._workInProgressVersionPrimary=null;wA.length=0}var Qw=Cu.ReactCurrentDispatcher,_A=Cu.ReactCurrentBatchConfig,Ah=0,Sn=null,ui=null,xi=null,Y_=!1,Hv=!1,My=0,Iue=0;function ea(){throw Error(We(321))}function iO(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ul(e[r],t[r]))return!1;return!0}function aO(e,t,r,n,i,a){if(Ah=a,Sn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Qw.current=e===null||e.memoizedState===null?Lue:Fue,e=r(n,i),Hv){a=0;do{if(Hv=!1,My=0,25<=a)throw Error(We(301));a+=1,xi=ui=null,t.updateQueue=null,Qw.current=$ue,e=r(n,i)}while(Hv)}if(Qw.current=X_,t=ui!==null&&ui.next!==null,Ah=0,xi=ui=Sn=null,Y_=!1,t)throw Error(We(300));return e}function sO(){var e=My!==0;return My=0,e}function Pl(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xi===null?Sn.memoizedState=xi=e:xi=xi.next=e,xi}function xo(){if(ui===null){var e=Sn.alternate;e=e!==null?e.memoizedState:null}else e=ui.next;var t=xi===null?Sn.memoizedState:xi.next;if(t!==null)xi=t,ui=e;else{if(e===null)throw Error(We(310));ui=e,e={memoizedState:ui.memoizedState,baseState:ui.baseState,baseQueue:ui.baseQueue,queue:ui.queue,next:null},xi===null?Sn.memoizedState=xi=e:xi=xi.next=e}return xi}function Ly(e,t){return typeof t=="function"?t(e):t}function EA(e){var t=xo(),r=t.queue;if(r===null)throw Error(We(311));r.lastRenderedReducer=e;var n=ui,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var o=s=null,c=null,u=a;do{var d=u.lane;if((Ah&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(o=c=f,s=n):c=c.next=f,Sn.lanes|=d,Ch|=d}u=u.next}while(u!==null&&u!==a);c===null?s=n:c.next=o,ul(n,t.memoizedState)||(Ya=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do a=i.lane,Sn.lanes|=a,Ch|=a,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function SA(e){var t=xo(),r=t.queue;if(r===null)throw Error(We(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do a=e(a,s.action),s=s.next;while(s!==i);ul(a,t.memoizedState)||(Ya=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function vH(){}function yH(e,t){var r=Sn,n=xo(),i=t(),a=!ul(n.memoizedState,i);if(a&&(n.memoizedState=i,Ya=!0),n=n.queue,oO(wH.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||xi!==null&&xi.memoizedState.tag&1){if(r.flags|=2048,Fy(9,bH.bind(null,r,n,i,t),void 0,null),Si===null)throw Error(We(349));Ah&30||xH(r,t,i)}return i}function xH(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Sn.updateQueue,t===null?(t={lastEffect:null,stores:null},Sn.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function bH(e,t,r,n){t.value=r,t.getSnapshot=n,_H(t)&&EH(e)}function wH(e,t,r){return r(function(){_H(t)&&EH(e)})}function _H(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ul(e,r)}catch{return!0}}function EH(e){var t=lu(e,1);t!==null&&sl(t,e,1,-1)}function EF(e){var t=Pl();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ly,lastRenderedState:e},t.queue=e,e=e.dispatch=Mue.bind(null,Sn,e),[t.memoizedState,e]}function Fy(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Sn.updateQueue,t===null?(t={lastEffect:null,stores:null},Sn.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function SH(){return xo().memoizedState}function Zw(e,t,r,n){var i=Pl();Sn.flags|=e,i.memoizedState=Fy(1|t,r,void 0,n===void 0?null:n)}function b2(e,t,r,n){var i=xo();n=n===void 0?null:n;var a=void 0;if(ui!==null){var s=ui.memoizedState;if(a=s.destroy,n!==null&&iO(n,s.deps)){i.memoizedState=Fy(t,r,a,n);return}}Sn.flags|=e,i.memoizedState=Fy(1|t,r,a,n)}function SF(e,t){return Zw(8390656,8,e,t)}function oO(e,t){return b2(2048,8,e,t)}function TH(e,t){return b2(4,2,e,t)}function NH(e,t){return b2(4,4,e,t)}function AH(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function CH(e,t,r){return r=r!=null?r.concat([e]):null,b2(4,4,AH.bind(null,t,e),r)}function lO(){}function jH(e,t){var r=xo();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&iO(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function PH(e,t){var r=xo();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&iO(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function RH(e,t,r){return Ah&21?(ul(r,t)||(r=MW(),Sn.lanes|=r,Ch|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ya=!0),e.memoizedState=r)}function Oue(e,t){var r=Pr;Pr=r!==0&&4>r?r:4,e(!0);var n=_A.transition;_A.transition={};try{e(!1),t()}finally{Pr=r,_A.transition=n}}function kH(){return xo().memoizedState}function Due(e,t,r){var n=Td(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},IH(e))OH(t,r);else if(r=mH(e,t,r,n),r!==null){var i=Ca();sl(r,e,n,i),DH(r,t,n)}}function Mue(e,t,r){var n=Td(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(IH(e))OH(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var s=t.lastRenderedState,o=a(s,r);if(i.hasEagerState=!0,i.eagerState=o,ul(o,s)){var c=t.interleaved;c===null?(i.next=i,JI(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}r=mH(e,t,i,n),r!==null&&(i=Ca(),sl(r,e,n,i),DH(r,t,n))}}function IH(e){var t=e.alternate;return e===Sn||t!==null&&t===Sn}function OH(e,t){Hv=Y_=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function DH(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,$I(e,r)}}var X_={readContext:yo,useCallback:ea,useContext:ea,useEffect:ea,useImperativeHandle:ea,useInsertionEffect:ea,useLayoutEffect:ea,useMemo:ea,useReducer:ea,useRef:ea,useState:ea,useDebugValue:ea,useDeferredValue:ea,useTransition:ea,useMutableSource:ea,useSyncExternalStore:ea,useId:ea,unstable_isNewReconciler:!1},Lue={readContext:yo,useCallback:function(e,t){return Pl().memoizedState=[e,t===void 0?null:t],e},useContext:yo,useEffect:SF,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Zw(4194308,4,AH.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Zw(4194308,4,e,t)},useInsertionEffect:function(e,t){return Zw(4,2,e,t)},useMemo:function(e,t){var r=Pl();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Pl();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Due.bind(null,Sn,e),[n.memoizedState,e]},useRef:function(e){var t=Pl();return e={current:e},t.memoizedState=e},useState:EF,useDebugValue:lO,useDeferredValue:function(e){return Pl().memoizedState=e},useTransition:function(){var e=EF(!1),t=e[0];return e=Oue.bind(null,e[1]),Pl().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Sn,i=Pl();if(fn){if(r===void 0)throw Error(We(407));r=r()}else{if(r=t(),Si===null)throw Error(We(349));Ah&30||xH(n,t,r)}i.memoizedState=r;var a={value:r,getSnapshot:t};return i.queue=a,SF(wH.bind(null,n,a,e),[e]),n.flags|=2048,Fy(9,bH.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=Pl(),t=Si.identifierPrefix;if(fn){var r=Bc,n=$c;r=(n&~(1<<32-al(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=My++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Iue++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Fue={readContext:yo,useCallback:jH,useContext:yo,useEffect:oO,useImperativeHandle:CH,useInsertionEffect:TH,useLayoutEffect:NH,useMemo:PH,useReducer:EA,useRef:SH,useState:function(){return EA(Ly)},useDebugValue:lO,useDeferredValue:function(e){var t=xo();return RH(t,ui.memoizedState,e)},useTransition:function(){var e=EA(Ly)[0],t=xo().memoizedState;return[e,t]},useMutableSource:vH,useSyncExternalStore:yH,useId:kH,unstable_isNewReconciler:!1},$ue={readContext:yo,useCallback:jH,useContext:yo,useEffect:oO,useImperativeHandle:CH,useInsertionEffect:TH,useLayoutEffect:NH,useMemo:PH,useReducer:SA,useRef:SH,useState:function(){return SA(Ly)},useDebugValue:lO,useDeferredValue:function(e){var t=xo();return ui===null?t.memoizedState=e:RH(t,ui.memoizedState,e)},useTransition:function(){var e=SA(Ly)[0],t=xo().memoizedState;return[e,t]},useMutableSource:vH,useSyncExternalStore:yH,useId:kH,unstable_isNewReconciler:!1};function Wo(e,t){if(e&&e.defaultProps){t=Tn({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Jj(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Tn({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var w2={isMounted:function(e){return(e=e._reactInternals)?Jh(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Ca(),i=Td(e),a=Gc(n,i);a.payload=t,r!=null&&(a.callback=r),t=Ed(e,a,i),t!==null&&(sl(t,e,i,n),Xw(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Ca(),i=Td(e),a=Gc(n,i);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=Ed(e,a,i),t!==null&&(sl(t,e,i,n),Xw(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ca(),n=Td(e),i=Gc(r,n);i.tag=2,t!=null&&(i.callback=t),t=Ed(e,i,n),t!==null&&(sl(t,e,n,r),Xw(t,e,n))}};function TF(e,t,r,n,i,a,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,s):t.prototype&&t.prototype.isPureReactComponent?!Py(r,n)||!Py(i,a):!0}function MH(e,t,r){var n=!1,i=Md,a=t.contextType;return typeof a=="object"&&a!==null?a=yo(a):(i=Ja(t)?Th:ha.current,n=t.contextTypes,a=(n=n!=null)?e0(e,i):Md),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=w2,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function NF(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&w2.enqueueReplaceState(t,t.state,null)}function eP(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},eO(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=yo(a):(a=Ja(t)?Th:ha.current,i.context=e0(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Jj(e,t,a,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&w2.enqueueReplaceState(i,i.state,null),G_(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function i0(e,t){try{var r="",n=t;do r+=hce(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function TA(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function tP(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Bue=typeof WeakMap=="function"?WeakMap:Map;function LH(e,t,r){r=Gc(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Z_||(Z_=!0,dP=n),tP(e,t)},r}function FH(e,t,r){r=Gc(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){tP(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){tP(e,t),typeof n!="function"&&(Sd===null?Sd=new Set([this]):Sd.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function AF(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Bue;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=ede.bind(null,e,t,r),t.then(e,e))}function CF(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function jF(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Gc(-1,1),t.tag=2,Ed(r,t,1))),r.lanes|=1),e)}var Vue=Cu.ReactCurrentOwner,Ya=!1;function ba(e,t,r,n){t.child=e===null?hH(t,null,r,n):r0(t,e.child,r,n)}function PF(e,t,r,n,i){r=r.render;var a=t.ref;return bp(t,i),n=aO(e,t,r,n,a,i),r=sO(),e!==null&&!Ya?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,cu(e,t,i)):(fn&&r&&GI(t),t.flags|=1,ba(e,t,n,i),t.child)}function RF(e,t,r,n,i){if(e===null){var a=r.type;return typeof a=="function"&&!gO(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,$H(e,t,a,n,i)):(e=r_(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var s=a.memoizedProps;if(r=r.compare,r=r!==null?r:Py,r(s,n)&&e.ref===t.ref)return cu(e,t,i)}return t.flags|=1,e=Nd(a,n),e.ref=t.ref,e.return=t,t.child=e}function $H(e,t,r,n,i){if(e!==null){var a=e.memoizedProps;if(Py(a,n)&&e.ref===t.ref)if(Ya=!1,t.pendingProps=n=a,(e.lanes&i)!==0)e.flags&131072&&(Ya=!0);else return t.lanes=e.lanes,cu(e,t,i)}return rP(e,t,r,n,i)}function BH(e,t,r){var n=t.pendingProps,i=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Wr(ap,ps),ps|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Wr(ap,ps),ps|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,Wr(ap,ps),ps|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,Wr(ap,ps),ps|=n;return ba(e,t,i,r),t.child}function VH(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function rP(e,t,r,n,i){var a=Ja(r)?Th:ha.current;return a=e0(t,a),bp(t,i),r=aO(e,t,r,n,a,i),n=sO(),e!==null&&!Ya?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,cu(e,t,i)):(fn&&n&&GI(t),t.flags|=1,ba(e,t,r,i),t.child)}function kF(e,t,r,n,i){if(Ja(r)){var a=!0;U_(t)}else a=!1;if(bp(t,i),t.stateNode===null)Jw(e,t),MH(t,r,n),eP(t,r,n,i),n=!0;else if(e===null){var s=t.stateNode,o=t.memoizedProps;s.props=o;var c=s.context,u=r.contextType;typeof u=="object"&&u!==null?u=yo(u):(u=Ja(r)?Th:ha.current,u=e0(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==n||c!==u)&&NF(t,s,n,u),Ku=!1;var h=t.memoizedState;s.state=h,G_(t,n,s,i),c=t.memoizedState,o!==n||h!==c||Za.current||Ku?(typeof d=="function"&&(Jj(t,r,d,n),c=t.memoizedState),(o=Ku||TF(t,r,o,n,h,c,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),s.props=n,s.state=c,s.context=u,n=o):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,pH(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:Wo(t.type,o),s.props=u,f=t.pendingProps,h=s.context,c=r.contextType,typeof c=="object"&&c!==null?c=yo(c):(c=Ja(r)?Th:ha.current,c=e0(t,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||h!==c)&&NF(t,s,n,c),Ku=!1,h=t.memoizedState,s.state=h,G_(t,n,s,i);var g=t.memoizedState;o!==f||h!==g||Za.current||Ku?(typeof m=="function"&&(Jj(t,r,m,n),g=t.memoizedState),(u=Ku||TF(t,r,u,n,h,g,c)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,g,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,g,c)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),s.props=n,s.state=g,s.context=c,n=u):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return nP(e,t,r,n,a,i)}function nP(e,t,r,n,i,a){VH(e,t);var s=(t.flags&128)!==0;if(!n&&!s)return i&&vF(t,r,!1),cu(e,t,a);n=t.stateNode,Vue.current=t;var o=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=r0(t,e.child,null,a),t.child=r0(t,null,o,a)):ba(e,t,o,a),t.memoizedState=n.state,i&&vF(t,r,!0),t.child}function UH(e){var t=e.stateNode;t.pendingContext?gF(e,t.pendingContext,t.pendingContext!==t.context):t.context&&gF(e,t.context,!1),tO(e,t.containerInfo)}function IF(e,t,r,n,i){return t0(),YI(i),t.flags|=256,ba(e,t,r,n),t.child}var iP={dehydrated:null,treeContext:null,retryLane:0};function aP(e){return{baseLanes:e,cachePool:null,transitions:null}}function zH(e,t,r){var n=t.pendingProps,i=xn.current,a=!1,s=(t.flags&128)!==0,o;if((o=s)||(o=e!==null&&e.memoizedState===null?!1:(i&2)!==0),o?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Wr(xn,i&1),e===null)return Qj(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=n.children,e=n.fallback,a?(n=t.mode,a=t.child,s={mode:"hidden",children:s},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=S2(s,n,0,null),e=hh(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=aP(r),t.memoizedState=iP,e):cO(t,s));if(i=e.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return Uue(e,t,s,n,o,i,r);if(a){a=n.fallback,s=t.mode,i=e.child,o=i.sibling;var c={mode:"hidden",children:n.children};return!(s&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Nd(i,c),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=Nd(o,a):(a=hh(a,s,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,s=e.child.memoizedState,s=s===null?aP(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=e.childLanes&~r,t.memoizedState=iP,n}return a=e.child,e=a.sibling,n=Nd(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function cO(e,t){return t=S2({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Vb(e,t,r,n){return n!==null&&YI(n),r0(t,e.child,null,r),e=cO(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Uue(e,t,r,n,i,a,s){if(r)return t.flags&256?(t.flags&=-257,n=TA(Error(We(422))),Vb(e,t,s,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,i=t.mode,n=S2({mode:"visible",children:n.children},i,0,null),a=hh(a,i,s,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&r0(t,e.child,null,s),t.child.memoizedState=aP(s),t.memoizedState=iP,a);if(!(t.mode&1))return Vb(e,t,s,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,a=Error(We(419)),n=TA(a,n,void 0),Vb(e,t,s,n)}if(o=(s&e.childLanes)!==0,Ya||o){if(n=Si,n!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,lu(e,i),sl(n,e,i,-1))}return pO(),n=TA(Error(We(421))),Vb(e,t,s,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=tde.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,Ss=_d(i.nextSibling),Ns=t,fn=!0,Yo=null,e!==null&&(io[ao++]=$c,io[ao++]=Bc,io[ao++]=Nh,$c=e.id,Bc=e.overflow,Nh=t),t=cO(t,n.children),t.flags|=4096,t)}function OF(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Zj(e.return,t,r)}function NA(e,t,r,n,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function WH(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(ba(e,t,n.children,r),n=xn.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&OF(e,r,t);else if(e.tag===19)OF(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Wr(xn,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&K_(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),NA(t,!1,i,r,a);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&K_(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}NA(t,!0,r,null,a);break;case"together":NA(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Jw(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function cu(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Ch|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(We(153));if(t.child!==null){for(e=t.child,r=Nd(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Nd(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function zue(e,t,r){switch(t.tag){case 3:UH(t),t0();break;case 5:gH(t);break;case 1:Ja(t.type)&&U_(t);break;case 4:tO(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;Wr(H_,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Wr(xn,xn.current&1),t.flags|=128,null):r&t.child.childLanes?zH(e,t,r):(Wr(xn,xn.current&1),e=cu(e,t,r),e!==null?e.sibling:null);Wr(xn,xn.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return WH(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Wr(xn,xn.current),n)break;return null;case 22:case 23:return t.lanes=0,BH(e,t,r)}return cu(e,t,r)}var HH,sP,qH,GH;HH=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};sP=function(){};qH=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Kf(Hl.current);var a=null;switch(r){case"input":i=Cj(e,i),n=Cj(e,n),a=[];break;case"select":i=Tn({},i,{value:void 0}),n=Tn({},n,{value:void 0}),a=[];break;case"textarea":i=Rj(e,i),n=Rj(e,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=B_)}Ij(r,n);var s;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(s in o)o.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ey.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var c=n[u];if(o=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&c!==o&&(c!=null||o!=null))if(u==="style")if(o){for(s in o)!o.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in c)c.hasOwnProperty(s)&&o[s]!==c[s]&&(r||(r={}),r[s]=c[s])}else r||(a||(a=[]),a.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ey.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Qr("scroll",e),a||o===c||(a=[])):(a=a||[]).push(u,c))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};GH=function(e,t,r,n){r!==n&&(t.flags|=4)};function Qg(e,t){if(!fn)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ta(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Wue(e,t,r){var n=t.pendingProps;switch(KI(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ta(t),null;case 1:return Ja(t.type)&&V_(),ta(t),null;case 3:return n=t.stateNode,n0(),rn(Za),rn(ha),nO(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&($b(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Yo!==null&&(mP(Yo),Yo=null))),sP(e,t),ta(t),null;case 5:rO(t);var i=Kf(Dy.current);if(r=t.type,e!==null&&t.stateNode!=null)qH(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(We(166));return ta(t),null}if(e=Kf(Hl.current),$b(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[Dl]=t,n[Iy]=a,e=(t.mode&1)!==0,r){case"dialog":Qr("cancel",n),Qr("close",n);break;case"iframe":case"object":case"embed":Qr("load",n);break;case"video":case"audio":for(i=0;i<Sv.length;i++)Qr(Sv[i],n);break;case"source":Qr("error",n);break;case"img":case"image":case"link":Qr("error",n),Qr("load",n);break;case"details":Qr("toggle",n);break;case"input":zL(n,a),Qr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Qr("invalid",n);break;case"textarea":HL(n,a),Qr("invalid",n)}Ij(r,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?n.textContent!==o&&(a.suppressHydrationWarning!==!0&&Fb(n.textContent,o,e),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&Fb(n.textContent,o,e),i=["children",""+o]):Ey.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&Qr("scroll",n)}switch(r){case"input":Pb(n),WL(n,a,!0);break;case"textarea":Pb(n),qL(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=B_)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=wW(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[Dl]=t,e[Iy]=n,HH(e,t,!1,!1),t.stateNode=e;e:{switch(s=Oj(r,n),r){case"dialog":Qr("cancel",e),Qr("close",e),i=n;break;case"iframe":case"object":case"embed":Qr("load",e),i=n;break;case"video":case"audio":for(i=0;i<Sv.length;i++)Qr(Sv[i],e);i=n;break;case"source":Qr("error",e),i=n;break;case"img":case"image":case"link":Qr("error",e),Qr("load",e),i=n;break;case"details":Qr("toggle",e),i=n;break;case"input":zL(e,n),i=Cj(e,n),Qr("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=Tn({},n,{value:void 0}),Qr("invalid",e);break;case"textarea":HL(e,n),i=Rj(e,n),Qr("invalid",e);break;default:i=n}Ij(r,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var c=o[a];a==="style"?SW(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&_W(e,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Sy(e,c):typeof c=="number"&&Sy(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Ey.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Qr("scroll",e):c!=null&&II(e,a,c,s))}switch(r){case"input":Pb(e),WL(e,n,!1);break;case"textarea":Pb(e),qL(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Dd(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?gp(e,!!n.multiple,a,!1):n.defaultValue!=null&&gp(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=B_)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ta(t),null;case 6:if(e&&t.stateNode!=null)GH(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(We(166));if(r=Kf(Dy.current),Kf(Hl.current),$b(t)){if(n=t.stateNode,r=t.memoizedProps,n[Dl]=t,(a=n.nodeValue!==r)&&(e=Ns,e!==null))switch(e.tag){case 3:Fb(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Fb(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Dl]=t,t.stateNode=n}return ta(t),null;case 13:if(rn(xn),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(fn&&Ss!==null&&t.mode&1&&!(t.flags&128))dH(),t0(),t.flags|=98560,a=!1;else if(a=$b(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(We(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(We(317));a[Dl]=t}else t0(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ta(t),a=!1}else Yo!==null&&(mP(Yo),Yo=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||xn.current&1?fi===0&&(fi=3):pO())),t.updateQueue!==null&&(t.flags|=4),ta(t),null);case 4:return n0(),sP(e,t),e===null&&Ry(t.stateNode.containerInfo),ta(t),null;case 10:return ZI(t.type._context),ta(t),null;case 17:return Ja(t.type)&&V_(),ta(t),null;case 19:if(rn(xn),a=t.memoizedState,a===null)return ta(t),null;if(n=(t.flags&128)!==0,s=a.rendering,s===null)if(n)Qg(a,!1);else{if(fi!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=K_(e),s!==null){for(t.flags|=128,Qg(a,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,e=s.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Wr(xn,xn.current&1|2),t.child}e=e.sibling}a.tail!==null&&Vn()>a0&&(t.flags|=128,n=!0,Qg(a,!1),t.lanes=4194304)}else{if(!n)if(e=K_(s),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Qg(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!fn)return ta(t),null}else 2*Vn()-a.renderingStartTime>a0&&r!==1073741824&&(t.flags|=128,n=!0,Qg(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(r=a.last,r!==null?r.sibling=s:t.child=s,a.last=s)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Vn(),t.sibling=null,r=xn.current,Wr(xn,n?r&1|2:r&1),t):(ta(t),null);case 22:case 23:return mO(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?ps&1073741824&&(ta(t),t.subtreeFlags&6&&(t.flags|=8192)):ta(t),null;case 24:return null;case 25:return null}throw Error(We(156,t.tag))}function Hue(e,t){switch(KI(t),t.tag){case 1:return Ja(t.type)&&V_(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return n0(),rn(Za),rn(ha),nO(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return rO(t),null;case 13:if(rn(xn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(We(340));t0()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return rn(xn),null;case 4:return n0(),null;case 10:return ZI(t.type._context),null;case 22:case 23:return mO(),null;case 24:return null;default:return null}}var Ub=!1,sa=!1,que=typeof WeakSet=="function"?WeakSet:Set,ft=null;function ip(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Rn(e,t,n)}else r.current=null}function oP(e,t,r){try{r()}catch(n){Rn(e,t,n)}}var DF=!1;function Gue(e,t){if(Wj=L_,e=ZW(),qI(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var s=0,o=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==r||i!==0&&f.nodeType!==3||(o=s+i),f!==a||n!==0&&f.nodeType!==3||(c=s+n),f.nodeType===3&&(s+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++u===i&&(o=s),h===a&&++d===n&&(c=s),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Hj={focusedElem:e,selectionRange:r},L_=!1,ft=t;ft!==null;)if(t=ft,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ft=e;else for(;ft!==null;){t=ft;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var p=g.memoizedProps,v=g.memoizedState,y=t.stateNode,x=y.getSnapshotBeforeUpdate(t.elementType===t.type?p:Wo(t.type,p),v);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(We(163))}}catch(N){Rn(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,ft=e;break}ft=t.return}return g=DF,DF=!1,g}function qv(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&oP(t,r,a)}i=i.next}while(i!==n)}}function _2(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function lP(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function KH(e){var t=e.alternate;t!==null&&(e.alternate=null,KH(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Dl],delete t[Iy],delete t[Kj],delete t[jue],delete t[Pue])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function YH(e){return e.tag===5||e.tag===3||e.tag===4}function MF(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||YH(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function cP(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=B_));else if(n!==4&&(e=e.child,e!==null))for(cP(e,t,r),e=e.sibling;e!==null;)cP(e,t,r),e=e.sibling}function uP(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(uP(e,t,r),e=e.sibling;e!==null;)uP(e,t,r),e=e.sibling}var Pi=null,Go=!1;function Lu(e,t,r){for(r=r.child;r!==null;)XH(e,t,r),r=r.sibling}function XH(e,t,r){if(Wl&&typeof Wl.onCommitFiberUnmount=="function")try{Wl.onCommitFiberUnmount(m2,r)}catch{}switch(r.tag){case 5:sa||ip(r,t);case 6:var n=Pi,i=Go;Pi=null,Lu(e,t,r),Pi=n,Go=i,Pi!==null&&(Go?(e=Pi,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Pi.removeChild(r.stateNode));break;case 18:Pi!==null&&(Go?(e=Pi,r=r.stateNode,e.nodeType===8?xA(e.parentNode,r):e.nodeType===1&&xA(e,r),Cy(e)):xA(Pi,r.stateNode));break;case 4:n=Pi,i=Go,Pi=r.stateNode.containerInfo,Go=!0,Lu(e,t,r),Pi=n,Go=i;break;case 0:case 11:case 14:case 15:if(!sa&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&oP(r,t,s),i=i.next}while(i!==n)}Lu(e,t,r);break;case 1:if(!sa&&(ip(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Rn(r,t,o)}Lu(e,t,r);break;case 21:Lu(e,t,r);break;case 22:r.mode&1?(sa=(n=sa)||r.memoizedState!==null,Lu(e,t,r),sa=n):Lu(e,t,r);break;default:Lu(e,t,r)}}function LF(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new que),t.forEach(function(n){var i=rde.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Mo(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=e,s=t,o=s;e:for(;o!==null;){switch(o.tag){case 5:Pi=o.stateNode,Go=!1;break e;case 3:Pi=o.stateNode.containerInfo,Go=!0;break e;case 4:Pi=o.stateNode.containerInfo,Go=!0;break e}o=o.return}if(Pi===null)throw Error(We(160));XH(a,s,i),Pi=null,Go=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){Rn(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)QH(t,e),t=t.sibling}function QH(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Mo(t,e),Al(e),n&4){try{qv(3,e,e.return),_2(3,e)}catch(p){Rn(e,e.return,p)}try{qv(5,e,e.return)}catch(p){Rn(e,e.return,p)}}break;case 1:Mo(t,e),Al(e),n&512&&r!==null&&ip(r,r.return);break;case 5:if(Mo(t,e),Al(e),n&512&&r!==null&&ip(r,r.return),e.flags&32){var i=e.stateNode;try{Sy(i,"")}catch(p){Rn(e,e.return,p)}}if(n&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,s=r!==null?r.memoizedProps:a,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&xW(i,a),Oj(o,s);var u=Oj(o,a);for(s=0;s<c.length;s+=2){var d=c[s],f=c[s+1];d==="style"?SW(i,f):d==="dangerouslySetInnerHTML"?_W(i,f):d==="children"?Sy(i,f):II(i,d,f,u)}switch(o){case"input":jj(i,a);break;case"textarea":bW(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var m=a.value;m!=null?gp(i,!!a.multiple,m,!1):h!==!!a.multiple&&(a.defaultValue!=null?gp(i,!!a.multiple,a.defaultValue,!0):gp(i,!!a.multiple,a.multiple?[]:"",!1))}i[Iy]=a}catch(p){Rn(e,e.return,p)}}break;case 6:if(Mo(t,e),Al(e),n&4){if(e.stateNode===null)throw Error(We(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(p){Rn(e,e.return,p)}}break;case 3:if(Mo(t,e),Al(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Cy(t.containerInfo)}catch(p){Rn(e,e.return,p)}break;case 4:Mo(t,e),Al(e);break;case 13:Mo(t,e),Al(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(fO=Vn())),n&4&&LF(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(sa=(u=sa)||d,Mo(t,e),sa=u):Mo(t,e),Al(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(ft=e,d=e.child;d!==null;){for(f=ft=d;ft!==null;){switch(h=ft,m=h.child,h.tag){case 0:case 11:case 14:case 15:qv(4,h,h.return);break;case 1:ip(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(p){Rn(n,r,p)}}break;case 5:ip(h,h.return);break;case 22:if(h.memoizedState!==null){$F(f);continue}}m!==null?(m.return=h,ft=m):$F(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=f.stateNode,c=f.memoizedProps.style,s=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=EW("display",s))}catch(p){Rn(e,e.return,p)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(p){Rn(e,e.return,p)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Mo(t,e),Al(e),n&4&&LF(e);break;case 21:break;default:Mo(t,e),Al(e)}}function Al(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(YH(r)){var n=r;break e}r=r.return}throw Error(We(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Sy(i,""),n.flags&=-33);var a=MF(e);uP(e,a,i);break;case 3:case 4:var s=n.stateNode.containerInfo,o=MF(e);cP(e,o,s);break;default:throw Error(We(161))}}catch(c){Rn(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Kue(e,t,r){ft=e,ZH(e)}function ZH(e,t,r){for(var n=(e.mode&1)!==0;ft!==null;){var i=ft,a=i.child;if(i.tag===22&&n){var s=i.memoizedState!==null||Ub;if(!s){var o=i.alternate,c=o!==null&&o.memoizedState!==null||sa;o=Ub;var u=sa;if(Ub=s,(sa=c)&&!u)for(ft=i;ft!==null;)s=ft,c=s.child,s.tag===22&&s.memoizedState!==null?BF(i):c!==null?(c.return=s,ft=c):BF(i);for(;a!==null;)ft=a,ZH(a),a=a.sibling;ft=i,Ub=o,sa=u}FF(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,ft=a):FF(e)}}function FF(e){for(;ft!==null;){var t=ft;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:sa||_2(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!sa)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:Wo(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&_F(t,a,n);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}_F(t,s,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Cy(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(We(163))}sa||t.flags&512&&lP(t)}catch(h){Rn(t,t.return,h)}}if(t===e){ft=null;break}if(r=t.sibling,r!==null){r.return=t.return,ft=r;break}ft=t.return}}function $F(e){for(;ft!==null;){var t=ft;if(t===e){ft=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ft=r;break}ft=t.return}}function BF(e){for(;ft!==null;){var t=ft;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{_2(4,t)}catch(c){Rn(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(c){Rn(t,i,c)}}var a=t.return;try{lP(t)}catch(c){Rn(t,a,c)}break;case 5:var s=t.return;try{lP(t)}catch(c){Rn(t,s,c)}}}catch(c){Rn(t,t.return,c)}if(t===e){ft=null;break}var o=t.sibling;if(o!==null){o.return=t.return,ft=o;break}ft=t.return}}var Yue=Math.ceil,Q_=Cu.ReactCurrentDispatcher,uO=Cu.ReactCurrentOwner,po=Cu.ReactCurrentBatchConfig,cr=0,Si=null,Xn=null,Bi=0,ps=0,ap=sf(0),fi=0,$y=null,Ch=0,E2=0,dO=0,Gv=null,Ga=null,fO=0,a0=1/0,jc=null,Z_=!1,dP=null,Sd=null,zb=!1,md=null,J_=0,Kv=0,fP=null,e_=-1,t_=0;function Ca(){return cr&6?Vn():e_!==-1?e_:e_=Vn()}function Td(e){return e.mode&1?cr&2&&Bi!==0?Bi&-Bi:kue.transition!==null?(t_===0&&(t_=MW()),t_):(e=Pr,e!==0||(e=window.event,e=e===void 0?16:zW(e.type)),e):1}function sl(e,t,r,n){if(50<Kv)throw Kv=0,fP=null,Error(We(185));c1(e,r,n),(!(cr&2)||e!==Si)&&(e===Si&&(!(cr&2)&&(E2|=r),fi===4&&Zu(e,Bi)),es(e,n),r===1&&cr===0&&!(t.mode&1)&&(a0=Vn()+500,x2&&of()))}function es(e,t){var r=e.callbackNode;kce(e,t);var n=M_(e,e===Si?Bi:0);if(n===0)r!==null&&YL(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&YL(r),t===1)e.tag===0?Rue(VF.bind(null,e)):lH(VF.bind(null,e)),Aue(function(){!(cr&6)&&of()}),r=null;else{switch(LW(n)){case 1:r=FI;break;case 4:r=OW;break;case 16:r=D_;break;case 536870912:r=DW;break;default:r=D_}r=sq(r,JH.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function JH(e,t){if(e_=-1,t_=0,cr&6)throw Error(We(327));var r=e.callbackNode;if(wp()&&e.callbackNode!==r)return null;var n=M_(e,e===Si?Bi:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=eE(e,n);else{t=n;var i=cr;cr|=2;var a=tq();(Si!==e||Bi!==t)&&(jc=null,a0=Vn()+500,fh(e,t));do try{Zue();break}catch(o){eq(e,o)}while(!0);QI(),Q_.current=a,cr=i,Xn!==null?t=0:(Si=null,Bi=0,t=fi)}if(t!==0){if(t===2&&(i=$j(e),i!==0&&(n=i,t=hP(e,i))),t===1)throw r=$y,fh(e,0),Zu(e,n),es(e,Vn()),r;if(t===6)Zu(e,n);else{if(i=e.current.alternate,!(n&30)&&!Xue(i)&&(t=eE(e,n),t===2&&(a=$j(e),a!==0&&(n=a,t=hP(e,a))),t===1))throw r=$y,fh(e,0),Zu(e,n),es(e,Vn()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(We(345));case 2:Df(e,Ga,jc);break;case 3:if(Zu(e,n),(n&130023424)===n&&(t=fO+500-Vn(),10<t)){if(M_(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){Ca(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Gj(Df.bind(null,e,Ga,jc),t);break}Df(e,Ga,jc);break;case 4:if(Zu(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var s=31-al(n);a=1<<s,s=t[s],s>i&&(i=s),n&=~a}if(n=i,n=Vn()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Yue(n/1960))-n,10<n){e.timeoutHandle=Gj(Df.bind(null,e,Ga,jc),n);break}Df(e,Ga,jc);break;case 5:Df(e,Ga,jc);break;default:throw Error(We(329))}}}return es(e,Vn()),e.callbackNode===r?JH.bind(null,e):null}function hP(e,t){var r=Gv;return e.current.memoizedState.isDehydrated&&(fh(e,t).flags|=256),e=eE(e,t),e!==2&&(t=Ga,Ga=r,t!==null&&mP(t)),e}function mP(e){Ga===null?Ga=e:Ga.push.apply(Ga,e)}function Xue(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!ul(a(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Zu(e,t){for(t&=~dO,t&=~E2,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-al(t),n=1<<r;e[r]=-1,t&=~n}}function VF(e){if(cr&6)throw Error(We(327));wp();var t=M_(e,0);if(!(t&1))return es(e,Vn()),null;var r=eE(e,t);if(e.tag!==0&&r===2){var n=$j(e);n!==0&&(t=n,r=hP(e,n))}if(r===1)throw r=$y,fh(e,0),Zu(e,t),es(e,Vn()),r;if(r===6)throw Error(We(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Df(e,Ga,jc),es(e,Vn()),null}function hO(e,t){var r=cr;cr|=1;try{return e(t)}finally{cr=r,cr===0&&(a0=Vn()+500,x2&&of())}}function jh(e){md!==null&&md.tag===0&&!(cr&6)&&wp();var t=cr;cr|=1;var r=po.transition,n=Pr;try{if(po.transition=null,Pr=1,e)return e()}finally{Pr=n,po.transition=r,cr=t,!(cr&6)&&of()}}function mO(){ps=ap.current,rn(ap)}function fh(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Nue(r)),Xn!==null)for(r=Xn.return;r!==null;){var n=r;switch(KI(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&V_();break;case 3:n0(),rn(Za),rn(ha),nO();break;case 5:rO(n);break;case 4:n0();break;case 13:rn(xn);break;case 19:rn(xn);break;case 10:ZI(n.type._context);break;case 22:case 23:mO()}r=r.return}if(Si=e,Xn=e=Nd(e.current,null),Bi=ps=t,fi=0,$y=null,dO=E2=Ch=0,Ga=Gv=null,Gf!==null){for(t=0;t<Gf.length;t++)if(r=Gf[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var s=a.next;a.next=i,n.next=s}r.pending=n}Gf=null}return e}function eq(e,t){do{var r=Xn;try{if(QI(),Qw.current=X_,Y_){for(var n=Sn.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Y_=!1}if(Ah=0,xi=ui=Sn=null,Hv=!1,My=0,uO.current=null,r===null||r.return===null){fi=1,$y=t,Xn=null;break}e:{var a=e,s=r.return,o=r,c=t;if(t=Bi,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=o,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=CF(s);if(m!==null){m.flags&=-257,jF(m,s,o,a,t),m.mode&1&&AF(a,u,t),t=m,c=u;var g=t.updateQueue;if(g===null){var p=new Set;p.add(c),t.updateQueue=p}else g.add(c);break e}else{if(!(t&1)){AF(a,u,t),pO();break e}c=Error(We(426))}}else if(fn&&o.mode&1){var v=CF(s);if(v!==null){!(v.flags&65536)&&(v.flags|=256),jF(v,s,o,a,t),YI(i0(c,o));break e}}a=c=i0(c,o),fi!==4&&(fi=2),Gv===null?Gv=[a]:Gv.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var y=LH(a,c,t);wF(a,y);break e;case 1:o=c;var x=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof x.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Sd===null||!Sd.has(w)))){a.flags|=65536,t&=-t,a.lanes|=t;var N=FH(a,o,t);wF(a,N);break e}}a=a.return}while(a!==null)}nq(r)}catch(E){t=E,Xn===r&&r!==null&&(Xn=r=r.return);continue}break}while(!0)}function tq(){var e=Q_.current;return Q_.current=X_,e===null?X_:e}function pO(){(fi===0||fi===3||fi===2)&&(fi=4),Si===null||!(Ch&268435455)&&!(E2&268435455)||Zu(Si,Bi)}function eE(e,t){var r=cr;cr|=2;var n=tq();(Si!==e||Bi!==t)&&(jc=null,fh(e,t));do try{Que();break}catch(i){eq(e,i)}while(!0);if(QI(),cr=r,Q_.current=n,Xn!==null)throw Error(We(261));return Si=null,Bi=0,fi}function Que(){for(;Xn!==null;)rq(Xn)}function Zue(){for(;Xn!==null&&!Ece();)rq(Xn)}function rq(e){var t=aq(e.alternate,e,ps);e.memoizedProps=e.pendingProps,t===null?nq(e):Xn=t,uO.current=null}function nq(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Hue(r,t),r!==null){r.flags&=32767,Xn=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{fi=6,Xn=null;return}}else if(r=Wue(r,t,ps),r!==null){Xn=r;return}if(t=t.sibling,t!==null){Xn=t;return}Xn=t=e}while(t!==null);fi===0&&(fi=5)}function Df(e,t,r){var n=Pr,i=po.transition;try{po.transition=null,Pr=1,Jue(e,t,r,n)}finally{po.transition=i,Pr=n}return null}function Jue(e,t,r,n){do wp();while(md!==null);if(cr&6)throw Error(We(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(We(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(Ice(e,a),e===Si&&(Xn=Si=null,Bi=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||zb||(zb=!0,sq(D_,function(){return wp(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=po.transition,po.transition=null;var s=Pr;Pr=1;var o=cr;cr|=4,uO.current=null,Gue(e,r),QH(r,e),xue(Hj),L_=!!Wj,Hj=Wj=null,e.current=r,Kue(r),Sce(),cr=o,Pr=s,po.transition=a}else e.current=r;if(zb&&(zb=!1,md=e,J_=i),a=e.pendingLanes,a===0&&(Sd=null),Ace(r.stateNode),es(e,Vn()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Z_)throw Z_=!1,e=dP,dP=null,e;return J_&1&&e.tag!==0&&wp(),a=e.pendingLanes,a&1?e===fP?Kv++:(Kv=0,fP=e):Kv=0,of(),null}function wp(){if(md!==null){var e=LW(J_),t=po.transition,r=Pr;try{if(po.transition=null,Pr=16>e?16:e,md===null)var n=!1;else{if(e=md,md=null,J_=0,cr&6)throw Error(We(331));var i=cr;for(cr|=4,ft=e.current;ft!==null;){var a=ft,s=a.child;if(ft.flags&16){var o=a.deletions;if(o!==null){for(var c=0;c<o.length;c++){var u=o[c];for(ft=u;ft!==null;){var d=ft;switch(d.tag){case 0:case 11:case 15:qv(8,d,a)}var f=d.child;if(f!==null)f.return=d,ft=f;else for(;ft!==null;){d=ft;var h=d.sibling,m=d.return;if(KH(d),d===u){ft=null;break}if(h!==null){h.return=m,ft=h;break}ft=m}}}var g=a.alternate;if(g!==null){var p=g.child;if(p!==null){g.child=null;do{var v=p.sibling;p.sibling=null,p=v}while(p!==null)}}ft=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,ft=s;else e:for(;ft!==null;){if(a=ft,a.flags&2048)switch(a.tag){case 0:case 11:case 15:qv(9,a,a.return)}var y=a.sibling;if(y!==null){y.return=a.return,ft=y;break e}ft=a.return}}var x=e.current;for(ft=x;ft!==null;){s=ft;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,ft=w;else e:for(s=x;ft!==null;){if(o=ft,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:_2(9,o)}}catch(E){Rn(o,o.return,E)}if(o===s){ft=null;break e}var N=o.sibling;if(N!==null){N.return=o.return,ft=N;break e}ft=o.return}}if(cr=i,of(),Wl&&typeof Wl.onPostCommitFiberRoot=="function")try{Wl.onPostCommitFiberRoot(m2,e)}catch{}n=!0}return n}finally{Pr=r,po.transition=t}}return!1}function UF(e,t,r){t=i0(r,t),t=LH(e,t,1),e=Ed(e,t,1),t=Ca(),e!==null&&(c1(e,1,t),es(e,t))}function Rn(e,t,r){if(e.tag===3)UF(e,e,r);else for(;t!==null;){if(t.tag===3){UF(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Sd===null||!Sd.has(n))){e=i0(r,e),e=FH(t,e,1),t=Ed(t,e,1),e=Ca(),t!==null&&(c1(t,1,e),es(t,e));break}}t=t.return}}function ede(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Ca(),e.pingedLanes|=e.suspendedLanes&r,Si===e&&(Bi&r)===r&&(fi===4||fi===3&&(Bi&130023424)===Bi&&500>Vn()-fO?fh(e,0):dO|=r),es(e,t)}function iq(e,t){t===0&&(e.mode&1?(t=Ib,Ib<<=1,!(Ib&130023424)&&(Ib=4194304)):t=1);var r=Ca();e=lu(e,t),e!==null&&(c1(e,t,r),es(e,r))}function tde(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),iq(e,r)}function rde(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(We(314))}n!==null&&n.delete(t),iq(e,r)}var aq;aq=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Za.current)Ya=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ya=!1,zue(e,t,r);Ya=!!(e.flags&131072)}else Ya=!1,fn&&t.flags&1048576&&cH(t,W_,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Jw(e,t),e=t.pendingProps;var i=e0(t,ha.current);bp(t,r),i=aO(null,t,n,e,i,r);var a=sO();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ja(n)?(a=!0,U_(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,eO(t),i.updater=w2,t.stateNode=i,i._reactInternals=t,eP(t,n,e,r),t=nP(null,t,n,!0,a,r)):(t.tag=0,fn&&a&&GI(t),ba(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Jw(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=ide(n),e=Wo(n,e),i){case 0:t=rP(null,t,n,e,r);break e;case 1:t=kF(null,t,n,e,r);break e;case 11:t=PF(null,t,n,e,r);break e;case 14:t=RF(null,t,n,Wo(n.type,e),r);break e}throw Error(We(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Wo(n,i),rP(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Wo(n,i),kF(e,t,n,i,r);case 3:e:{if(UH(t),e===null)throw Error(We(387));n=t.pendingProps,a=t.memoizedState,i=a.element,pH(e,t),G_(t,n,null,r);var s=t.memoizedState;if(n=s.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=i0(Error(We(423)),t),t=IF(e,t,n,r,i);break e}else if(n!==i){i=i0(Error(We(424)),t),t=IF(e,t,n,r,i);break e}else for(Ss=_d(t.stateNode.containerInfo.firstChild),Ns=t,fn=!0,Yo=null,r=hH(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(t0(),n===i){t=cu(e,t,r);break e}ba(e,t,n,r)}t=t.child}return t;case 5:return gH(t),e===null&&Qj(t),n=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,s=i.children,qj(n,i)?s=null:a!==null&&qj(n,a)&&(t.flags|=32),VH(e,t),ba(e,t,s,r),t.child;case 6:return e===null&&Qj(t),null;case 13:return zH(e,t,r);case 4:return tO(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=r0(t,null,n,r):ba(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Wo(n,i),PF(e,t,n,i,r);case 7:return ba(e,t,t.pendingProps,r),t.child;case 8:return ba(e,t,t.pendingProps.children,r),t.child;case 12:return ba(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,Wr(H_,n._currentValue),n._currentValue=s,a!==null)if(ul(a.value,s)){if(a.children===i.children&&!Za.current){t=cu(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var c=o.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=Gc(-1,r&-r),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),Zj(a.return,r,t),o.lanes|=r;break}c=c.next}}else if(a.tag===10)s=a.type===t.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(We(341));s.lanes|=r,o=s.alternate,o!==null&&(o.lanes|=r),Zj(s,r,t),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===t){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}ba(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,bp(t,r),i=yo(i),n=n(i),t.flags|=1,ba(e,t,n,r),t.child;case 14:return n=t.type,i=Wo(n,t.pendingProps),i=Wo(n.type,i),RF(e,t,n,i,r);case 15:return $H(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Wo(n,i),Jw(e,t),t.tag=1,Ja(n)?(e=!0,U_(t)):e=!1,bp(t,r),MH(t,n,i),eP(t,n,i,r),nP(null,t,n,!0,e,r);case 19:return WH(e,t,r);case 22:return BH(e,t,r)}throw Error(We(156,t.tag))};function sq(e,t){return IW(e,t)}function nde(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fo(e,t,r,n){return new nde(e,t,r,n)}function gO(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ide(e){if(typeof e=="function")return gO(e)?1:0;if(e!=null){if(e=e.$$typeof,e===DI)return 11;if(e===MI)return 14}return 2}function Nd(e,t){var r=e.alternate;return r===null?(r=fo(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function r_(e,t,r,n,i,a){var s=2;if(n=e,typeof e=="function")gO(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Ym:return hh(r.children,i,a,t);case OI:s=8,i|=8;break;case Sj:return e=fo(12,r,t,i|2),e.elementType=Sj,e.lanes=a,e;case Tj:return e=fo(13,r,t,i),e.elementType=Tj,e.lanes=a,e;case Nj:return e=fo(19,r,t,i),e.elementType=Nj,e.lanes=a,e;case gW:return S2(r,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case mW:s=10;break e;case pW:s=9;break e;case DI:s=11;break e;case MI:s=14;break e;case Gu:s=16,n=null;break e}throw Error(We(130,e==null?e:typeof e,""))}return t=fo(s,r,t,i),t.elementType=e,t.type=n,t.lanes=a,t}function hh(e,t,r,n){return e=fo(7,e,n,t),e.lanes=r,e}function S2(e,t,r,n){return e=fo(22,e,n,t),e.elementType=gW,e.lanes=r,e.stateNode={isHidden:!1},e}function AA(e,t,r){return e=fo(6,e,null,t),e.lanes=r,e}function CA(e,t,r){return t=fo(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ade(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=lA(0),this.expirationTimes=lA(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lA(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function vO(e,t,r,n,i,a,s,o,c){return e=new ade(e,t,r,o,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=fo(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},eO(a),e}function sde(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Km,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function oq(e){if(!e)return Md;e=e._reactInternals;e:{if(Jh(e)!==e||e.tag!==1)throw Error(We(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ja(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(We(171))}if(e.tag===1){var r=e.type;if(Ja(r))return oH(e,r,t)}return t}function lq(e,t,r,n,i,a,s,o,c){return e=vO(r,n,!0,e,i,a,s,o,c),e.context=oq(null),r=e.current,n=Ca(),i=Td(r),a=Gc(n,i),a.callback=t??null,Ed(r,a,i),e.current.lanes=i,c1(e,i,n),es(e,n),e}function T2(e,t,r,n){var i=t.current,a=Ca(),s=Td(i);return r=oq(r),t.context===null?t.context=r:t.pendingContext=r,t=Gc(a,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Ed(i,t,s),e!==null&&(sl(e,i,s,a),Xw(e,i,s)),s}function tE(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function zF(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function yO(e,t){zF(e,t),(e=e.alternate)&&zF(e,t)}function ode(){return null}var cq=typeof reportError=="function"?reportError:function(e){console.error(e)};function xO(e){this._internalRoot=e}N2.prototype.render=xO.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(We(409));T2(e,t,null,null)};N2.prototype.unmount=xO.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;jh(function(){T2(null,e,null,null)}),t[ou]=null}};function N2(e){this._internalRoot=e}N2.prototype.unstable_scheduleHydration=function(e){if(e){var t=BW();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Qu.length&&t!==0&&t<Qu[r].priority;r++);Qu.splice(r,0,e),r===0&&UW(e)}};function bO(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function A2(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function WF(){}function lde(e,t,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var u=tE(s);a.call(u)}}var s=lq(t,n,e,0,null,!1,!1,"",WF);return e._reactRootContainer=s,e[ou]=s.current,Ry(e.nodeType===8?e.parentNode:e),jh(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var u=tE(c);o.call(u)}}var c=vO(e,0,!1,null,null,!1,!1,"",WF);return e._reactRootContainer=c,e[ou]=c.current,Ry(e.nodeType===8?e.parentNode:e),jh(function(){T2(t,c,r,n)}),c}function C2(e,t,r,n,i){var a=r._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var c=tE(s);o.call(c)}}T2(t,s,e,i)}else s=lde(r,t,e,i,n);return tE(s)}FW=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Ev(t.pendingLanes);r!==0&&($I(t,r|1),es(t,Vn()),!(cr&6)&&(a0=Vn()+500,of()))}break;case 13:jh(function(){var n=lu(e,1);if(n!==null){var i=Ca();sl(n,e,1,i)}}),yO(e,1)}};BI=function(e){if(e.tag===13){var t=lu(e,134217728);if(t!==null){var r=Ca();sl(t,e,134217728,r)}yO(e,134217728)}};$W=function(e){if(e.tag===13){var t=Td(e),r=lu(e,t);if(r!==null){var n=Ca();sl(r,e,t,n)}yO(e,t)}};BW=function(){return Pr};VW=function(e,t){var r=Pr;try{return Pr=e,t()}finally{Pr=r}};Mj=function(e,t,r){switch(t){case"input":if(jj(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=y2(n);if(!i)throw Error(We(90));yW(n),jj(n,i)}}}break;case"textarea":bW(e,r);break;case"select":t=r.value,t!=null&&gp(e,!!r.multiple,t,!1)}};AW=hO;CW=jh;var cde={usingClientEntryPoint:!1,Events:[d1,Jm,y2,TW,NW,hO]},Zg={findFiberByHostInstance:qf,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ude={bundleType:Zg.bundleType,version:Zg.version,rendererPackageName:Zg.rendererPackageName,rendererConfig:Zg.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Cu.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=RW(e),e===null?null:e.stateNode},findFiberByHostInstance:Zg.findFiberByHostInstance||ode,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wb=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wb.isDisabled&&Wb.supportsFiber)try{m2=Wb.inject(ude),Wl=Wb}catch{}}Ls.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cde;Ls.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bO(t))throw Error(We(200));return sde(e,t,null,r)};Ls.createRoot=function(e,t){if(!bO(e))throw Error(We(299));var r=!1,n="",i=cq;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=vO(e,1,!1,null,null,r,!1,n,i),e[ou]=t.current,Ry(e.nodeType===8?e.parentNode:e),new xO(t)};Ls.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(We(188)):(e=Object.keys(e).join(","),Error(We(268,e)));return e=RW(t),e=e===null?null:e.stateNode,e};Ls.flushSync=function(e){return jh(e)};Ls.hydrate=function(e,t,r){if(!A2(t))throw Error(We(200));return C2(null,e,t,!0,r)};Ls.hydrateRoot=function(e,t,r){if(!bO(e))throw Error(We(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",s=cq;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=lq(t,null,e,1,r??null,i,!1,a,s),e[ou]=t.current,Ry(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new N2(t)};Ls.render=function(e,t,r){if(!A2(t))throw Error(We(200));return C2(null,e,t,!1,r)};Ls.unmountComponentAtNode=function(e){if(!A2(e))throw Error(We(40));return e._reactRootContainer?(jh(function(){C2(null,null,e,!1,function(){e._reactRootContainer=null,e[ou]=null})}),!0):!1};Ls.unstable_batchedUpdates=hO;Ls.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!A2(r))throw Error(We(200));if(e==null||e._reactInternals===void 0)throw Error(We(38));return C2(e,t,r,!1,n)};Ls.version="18.3.1-next-f1338f8080-20240426";function uq(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(uq)}catch(e){console.error(e)}}uq(),uW.exports=Ls;var lf=uW.exports;const dq=kr(lf);var fq,HF=lf;fq=HF.createRoot,HF.hydrateRoot;const dde=1,fde=1e6;let jA=0;function hde(){return jA=(jA+1)%Number.MAX_SAFE_INTEGER,jA.toString()}const PA=new Map,qF=e=>{if(PA.has(e))return;const t=setTimeout(()=>{PA.delete(e),Yv({type:"REMOVE_TOAST",toastId:e})},fde);PA.set(e,t)},mde=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,dde)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?qF(r):e.toasts.forEach(n=>{qF(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},n_=[];let i_={toasts:[]};function Yv(e){i_=mde(i_,e),n_.forEach(t=>{t(i_)})}function Vo({...e}){const t=hde(),r=i=>Yv({type:"UPDATE_TOAST",toast:{...i,id:t}}),n=()=>Yv({type:"DISMISS_TOAST",toastId:t});return Yv({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||n()}}}),{id:t,dismiss:n,update:r}}function So(){const[e,t]=b.useState(i_);return b.useEffect(()=>(n_.push(t),()=>{const r=n_.indexOf(t);r>-1&&n_.splice(r,1)}),[e]),{...e,toast:Vo,dismiss:r=>Yv({type:"DISMISS_TOAST",toastId:r})}}function Ye(e,t,{checkForDefaultPrevented:r=!0}={}){return function(i){if(e==null||e(i),r===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function GF(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function uu(...e){return t=>{let r=!1;const n=e.map(i=>{const a=GF(i,t);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let i=0;i<n.length;i++){const a=n[i];typeof a=="function"?a():GF(e[i],null)}}}}function Jt(...e){return b.useCallback(uu(...e),e)}function pde(e,t){const r=b.createContext(t),n=a=>{const{children:s,...o}=a,c=b.useMemo(()=>o,Object.values(o));return l.jsx(r.Provider,{value:c,children:s})};n.displayName=e+"Provider";function i(a){const s=b.useContext(r);if(s)return s;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[n,i]}function $s(e,t=[]){let r=[];function n(a,s){const o=b.createContext(s),c=r.length;r=[...r,s];const u=f=>{var y;const{scope:h,children:m,...g}=f,p=((y=h==null?void 0:h[e])==null?void 0:y[c])||o,v=b.useMemo(()=>g,Object.values(g));return l.jsx(p.Provider,{value:v,children:m})};u.displayName=a+"Provider";function d(f,h){var p;const m=((p=h==null?void 0:h[e])==null?void 0:p[c])||o,g=b.useContext(m);if(g)return g;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[u,d]}const i=()=>{const a=r.map(s=>b.createContext(s));return function(o){const c=(o==null?void 0:o[e])||a;return b.useMemo(()=>({[`__scope${e}`]:{...o,[e]:c}}),[o,c])}};return i.scopeName=e,[n,gde(i,...t)]}function gde(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const s=n.reduce((o,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...o,...f}},{});return b.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return r.scopeName=t.scopeName,r}function Ld(e){const t=vde(e),r=b.forwardRef((n,i)=>{const{children:a,...s}=n,o=b.Children.toArray(a),c=o.find(yde);if(c){const u=c.props.children,d=o.map(f=>f===c?b.Children.count(u)>1?b.Children.only(null):b.isValidElement(u)?u.props.children:null:f);return l.jsx(t,{...s,ref:i,children:b.isValidElement(u)?b.cloneElement(u,void 0,d):null})}return l.jsx(t,{...s,ref:i,children:a})});return r.displayName=`${e}.Slot`,r}var hq=Ld("Slot");function vde(e){const t=b.forwardRef((r,n)=>{const{children:i,...a}=r;if(b.isValidElement(i)){const s=bde(i),o=xde(a,i.props);return i.type!==b.Fragment&&(o.ref=n?uu(n,s):s),b.cloneElement(i,o)}return b.Children.count(i)>1?b.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var mq=Symbol("radix.slottable");function pq(e){const t=({children:r})=>l.jsx(l.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=mq,t}function yde(e){return b.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===mq}function xde(e,t){const r={...t};for(const n in t){const i=e[n],a=t[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...o)=>{const c=a(...o);return i(...o),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...e,...r}}function bde(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function j2(e){const t=e+"CollectionProvider",[r,n]=$s(t),[i,a]=r(t,{collectionRef:{current:null},itemMap:new Map}),s=p=>{const{scope:v,children:y}=p,x=te.useRef(null),w=te.useRef(new Map).current;return l.jsx(i,{scope:v,itemMap:w,collectionRef:x,children:y})};s.displayName=t;const o=e+"CollectionSlot",c=Ld(o),u=te.forwardRef((p,v)=>{const{scope:y,children:x}=p,w=a(o,y),N=Jt(v,w.collectionRef);return l.jsx(c,{ref:N,children:x})});u.displayName=o;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=Ld(d),m=te.forwardRef((p,v)=>{const{scope:y,children:x,...w}=p,N=te.useRef(null),E=Jt(v,N),T=a(d,y);return te.useEffect(()=>(T.itemMap.set(N,{ref:N,...w}),()=>void T.itemMap.delete(N))),l.jsx(h,{[f]:"",ref:E,children:x})});m.displayName=d;function g(p){const v=a(e+"CollectionConsumer",p);return te.useCallback(()=>{const x=v.collectionRef.current;if(!x)return[];const w=Array.from(x.querySelectorAll(`[${f}]`));return Array.from(v.itemMap.values()).sort((T,S)=>w.indexOf(T.ref.current)-w.indexOf(S.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:s,Slot:u,ItemSlot:m},g,n]}var wde=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],wt=wde.reduce((e,t)=>{const r=Ld(`Primitive.${t}`),n=b.forwardRef((i,a)=>{const{asChild:s,...o}=i,c=s?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...o,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function wO(e,t){e&&lf.flushSync(()=>e.dispatchEvent(t))}function is(e){const t=b.useRef(e);return b.useEffect(()=>{t.current=e}),b.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function _de(e,t=globalThis==null?void 0:globalThis.document){const r=is(e);b.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var Ede="DismissableLayer",pP="dismissableLayer.update",Sde="dismissableLayer.pointerDownOutside",Tde="dismissableLayer.focusOutside",KF,gq=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),em=b.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:s,onDismiss:o,...c}=e,u=b.useContext(gq),[d,f]=b.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=b.useState({}),g=Jt(t,S=>f(S)),p=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=p.indexOf(v),x=d?p.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,N=x>=y,E=Ade(S=>{const A=S.target,C=[...u.branches].some(j=>j.contains(A));!N||C||(i==null||i(S),s==null||s(S),S.defaultPrevented||o==null||o())},h),T=Cde(S=>{const A=S.target;[...u.branches].some(j=>j.contains(A))||(a==null||a(S),s==null||s(S),S.defaultPrevented||o==null||o())},h);return _de(S=>{x===u.layers.size-1&&(n==null||n(S),!S.defaultPrevented&&o&&(S.preventDefault(),o()))},h),b.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(KF=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),YF(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=KF)}},[d,h,r,u]),b.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),YF())},[d,u]),b.useEffect(()=>{const S=()=>m({});return document.addEventListener(pP,S),()=>document.removeEventListener(pP,S)},[]),l.jsx(wt.div,{...c,ref:g,style:{pointerEvents:w?N?"auto":"none":void 0,...e.style},onFocusCapture:Ye(e.onFocusCapture,T.onFocusCapture),onBlurCapture:Ye(e.onBlurCapture,T.onBlurCapture),onPointerDownCapture:Ye(e.onPointerDownCapture,E.onPointerDownCapture)})});em.displayName=Ede;var Nde="DismissableLayerBranch",vq=b.forwardRef((e,t)=>{const r=b.useContext(gq),n=b.useRef(null),i=Jt(t,n);return b.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),l.jsx(wt.div,{...e,ref:i})});vq.displayName=Nde;function Ade(e,t=globalThis==null?void 0:globalThis.document){const r=is(e),n=b.useRef(!1),i=b.useRef(()=>{});return b.useEffect(()=>{const a=o=>{if(o.target&&!n.current){let c=function(){yq(Sde,r,u,{discrete:!0})};const u={originalEvent:o};o.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=c,t.addEventListener("click",i.current,{once:!0})):c()}else t.removeEventListener("click",i.current);n.current=!1},s=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(s),t.removeEventListener("pointerdown",a),t.removeEventListener("click",i.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function Cde(e,t=globalThis==null?void 0:globalThis.document){const r=is(e),n=b.useRef(!1);return b.useEffect(()=>{const i=a=>{a.target&&!n.current&&yq(Tde,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function YF(){const e=new CustomEvent(pP);document.dispatchEvent(e)}function yq(e,t,r,{discrete:n}){const i=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?wO(i,a):i.dispatchEvent(a)}var jde=em,Pde=vq,Wi=globalThis!=null&&globalThis.document?b.useLayoutEffect:()=>{},Rde="Portal",rg=b.forwardRef((e,t)=>{var o;const{container:r,...n}=e,[i,a]=b.useState(!1);Wi(()=>a(!0),[]);const s=r||i&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return s?dq.createPortal(l.jsx(wt.div,{...n,ref:t}),s):null});rg.displayName=Rde;function kde(e,t){return b.useReducer((r,n)=>t[r][n]??r,e)}var os=e=>{const{present:t,children:r}=e,n=Ide(t),i=typeof r=="function"?r({present:n.isPresent}):b.Children.only(r),a=Jt(n.ref,Ode(i));return typeof r=="function"||n.isPresent?b.cloneElement(i,{ref:a}):null};os.displayName="Presence";function Ide(e){const[t,r]=b.useState(),n=b.useRef(null),i=b.useRef(e),a=b.useRef("none"),s=e?"mounted":"unmounted",[o,c]=kde(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const u=Hb(n.current);a.current=o==="mounted"?u:"none"},[o]),Wi(()=>{const u=n.current,d=i.current;if(d!==e){const h=a.current,m=Hb(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,c]),Wi(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=m=>{const p=Hb(n.current).includes(m.animationName);if(m.target===t&&p&&(c("ANIMATION_END"),!i.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},h=m=>{m.target===t&&(a.current=Hb(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:b.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function Hb(e){return(e==null?void 0:e.animationName)||"none"}function Ode(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Dde=lW[" useInsertionEffect ".trim().toString()]||Wi;function du({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[i,a,s]=Mde({defaultProp:t,onChange:r}),o=e!==void 0,c=o?e:i;{const d=b.useRef(e!==void 0);b.useEffect(()=>{const f=d.current;f!==o&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=o},[o,n])}const u=b.useCallback(d=>{var f;if(o){const h=Lde(d)?d(e):d;h!==e&&((f=s.current)==null||f.call(s,h))}else a(d)},[o,e,a,s]);return[c,u]}function Mde({defaultProp:e,onChange:t}){const[r,n]=b.useState(e),i=b.useRef(r),a=b.useRef(t);return Dde(()=>{a.current=t},[t]),b.useEffect(()=>{var s;i.current!==r&&((s=a.current)==null||s.call(a,r),i.current=r)},[r,i]),[r,n,a]}function Lde(e){return typeof e=="function"}var xq=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Fde="VisuallyHidden",P2=b.forwardRef((e,t)=>l.jsx(wt.span,{...e,ref:t,style:{...xq,...e.style}}));P2.displayName=Fde;var $de=P2,_O="ToastProvider",[EO,Bde,Vde]=j2("Toast"),[bq,oft]=$s("Toast",[Vde]),[Ude,R2]=bq(_O),wq=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:s}=e,[o,c]=b.useState(null),[u,d]=b.useState(0),f=b.useRef(!1),h=b.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${_O}\`. Expected non-empty \`string\`.`),l.jsx(EO.Provider,{scope:t,children:l.jsx(Ude,{scope:t,label:r,duration:n,swipeDirection:i,swipeThreshold:a,toastCount:u,viewport:o,onViewportChange:c,onToastAdd:b.useCallback(()=>d(m=>m+1),[]),onToastRemove:b.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:s})})};wq.displayName=_O;var _q="ToastViewport",zde=["F8"],gP="toast.viewportPause",vP="toast.viewportResume",Eq=b.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=zde,label:i="Notifications ({hotkey})",...a}=e,s=R2(_q,r),o=Bde(r),c=b.useRef(null),u=b.useRef(null),d=b.useRef(null),f=b.useRef(null),h=Jt(t,f,s.onViewportChange),m=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=s.toastCount>0;b.useEffect(()=>{const v=y=>{var w;n.length!==0&&n.every(N=>y[N]||y.code===N)&&((w=f.current)==null||w.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[n]),b.useEffect(()=>{const v=c.current,y=f.current;if(g&&v&&y){const x=()=>{if(!s.isClosePausedRef.current){const T=new CustomEvent(gP);y.dispatchEvent(T),s.isClosePausedRef.current=!0}},w=()=>{if(s.isClosePausedRef.current){const T=new CustomEvent(vP);y.dispatchEvent(T),s.isClosePausedRef.current=!1}},N=T=>{!v.contains(T.relatedTarget)&&w()},E=()=>{v.contains(document.activeElement)||w()};return v.addEventListener("focusin",x),v.addEventListener("focusout",N),v.addEventListener("pointermove",x),v.addEventListener("pointerleave",E),window.addEventListener("blur",x),window.addEventListener("focus",w),()=>{v.removeEventListener("focusin",x),v.removeEventListener("focusout",N),v.removeEventListener("pointermove",x),v.removeEventListener("pointerleave",E),window.removeEventListener("blur",x),window.removeEventListener("focus",w)}}},[g,s.isClosePausedRef]);const p=b.useCallback(({tabbingDirection:v})=>{const x=o().map(w=>{const N=w.ref.current,E=[N,...rfe(N)];return v==="forwards"?E:E.reverse()});return(v==="forwards"?x.reverse():x).flat()},[o]);return b.useEffect(()=>{const v=f.current;if(v){const y=x=>{var E,T,S;const w=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!w){const A=document.activeElement,C=x.shiftKey;if(x.target===v&&C){(E=u.current)==null||E.focus();return}const O=p({tabbingDirection:C?"backwards":"forwards"}),k=O.findIndex(D=>D===A);RA(O.slice(k+1))?x.preventDefault():C?(T=u.current)==null||T.focus():(S=d.current)==null||S.focus()}};return v.addEventListener("keydown",y),()=>v.removeEventListener("keydown",y)}},[o,p]),l.jsxs(Pde,{ref:c,role:"region","aria-label":i.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&l.jsx(yP,{ref:u,onFocusFromOutsideViewport:()=>{const v=p({tabbingDirection:"forwards"});RA(v)}}),l.jsx(EO.Slot,{scope:r,children:l.jsx(wt.ol,{tabIndex:-1,...a,ref:h})}),g&&l.jsx(yP,{ref:d,onFocusFromOutsideViewport:()=>{const v=p({tabbingDirection:"backwards"});RA(v)}})]})});Eq.displayName=_q;var Sq="ToastFocusProxy",yP=b.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...i}=e,a=R2(Sq,r);return l.jsx(P2,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:s=>{var u;const o=s.relatedTarget;!((u=a.viewport)!=null&&u.contains(o))&&n()}})});yP.displayName=Sq;var h1="Toast",Wde="toast.swipeStart",Hde="toast.swipeMove",qde="toast.swipeCancel",Gde="toast.swipeEnd",Tq=b.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:i,onOpenChange:a,...s}=e,[o,c]=du({prop:n,defaultProp:i??!0,onChange:a,caller:h1});return l.jsx(os,{present:r||o,children:l.jsx(Xde,{open:o,...s,ref:t,onClose:()=>c(!1),onPause:is(e.onPause),onResume:is(e.onResume),onSwipeStart:Ye(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ye(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Ye(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ye(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});Tq.displayName=h1;var[Kde,Yde]=bq(h1,{onClose(){}}),Xde=b.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:i,open:a,onClose:s,onEscapeKeyDown:o,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:m,...g}=e,p=R2(h1,r),[v,y]=b.useState(null),x=Jt(t,D=>y(D)),w=b.useRef(null),N=b.useRef(null),E=i||p.duration,T=b.useRef(0),S=b.useRef(E),A=b.useRef(0),{onToastAdd:C,onToastRemove:j}=p,I=is(()=>{var B;(v==null?void 0:v.contains(document.activeElement))&&((B=p.viewport)==null||B.focus()),s()}),O=b.useCallback(D=>{!D||D===1/0||(window.clearTimeout(A.current),T.current=new Date().getTime(),A.current=window.setTimeout(I,D))},[I]);b.useEffect(()=>{const D=p.viewport;if(D){const B=()=>{O(S.current),u==null||u()},ee=()=>{const z=new Date().getTime()-T.current;S.current=S.current-z,window.clearTimeout(A.current),c==null||c()};return D.addEventListener(gP,ee),D.addEventListener(vP,B),()=>{D.removeEventListener(gP,ee),D.removeEventListener(vP,B)}}},[p.viewport,E,c,u,O]),b.useEffect(()=>{a&&!p.isClosePausedRef.current&&O(E)},[a,E,p.isClosePausedRef,O]),b.useEffect(()=>(C(),()=>j()),[C,j]);const k=b.useMemo(()=>v?kq(v):null,[v]);return p.viewport?l.jsxs(l.Fragment,{children:[k&&l.jsx(Qde,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:k}),l.jsx(Kde,{scope:r,onClose:I,children:lf.createPortal(l.jsx(EO.ItemSlot,{scope:r,children:l.jsx(jde,{asChild:!0,onEscapeKeyDown:Ye(o,()=>{p.isFocusedToastEscapeKeyDownRef.current||I(),p.isFocusedToastEscapeKeyDownRef.current=!1}),children:l.jsx(wt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":p.swipeDirection,...g,ref:x,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Ye(e.onKeyDown,D=>{D.key==="Escape"&&(o==null||o(D.nativeEvent),D.nativeEvent.defaultPrevented||(p.isFocusedToastEscapeKeyDownRef.current=!0,I()))}),onPointerDown:Ye(e.onPointerDown,D=>{D.button===0&&(w.current={x:D.clientX,y:D.clientY})}),onPointerMove:Ye(e.onPointerMove,D=>{if(!w.current)return;const B=D.clientX-w.current.x,ee=D.clientY-w.current.y,z=!!N.current,V=["left","right"].includes(p.swipeDirection),U=["left","up"].includes(p.swipeDirection)?Math.min:Math.max,se=V?U(0,B):0,ne=V?0:U(0,ee),M=D.pointerType==="touch"?10:2,W={x:se,y:ne},G={originalEvent:D,delta:W};z?(N.current=W,qb(Hde,f,G,{discrete:!1})):XF(W,p.swipeDirection,M)?(N.current=W,qb(Wde,d,G,{discrete:!1}),D.target.setPointerCapture(D.pointerId)):(Math.abs(B)>M||Math.abs(ee)>M)&&(w.current=null)}),onPointerUp:Ye(e.onPointerUp,D=>{const B=N.current,ee=D.target;if(ee.hasPointerCapture(D.pointerId)&&ee.releasePointerCapture(D.pointerId),N.current=null,w.current=null,B){const z=D.currentTarget,V={originalEvent:D,delta:B};XF(B,p.swipeDirection,p.swipeThreshold)?qb(Gde,m,V,{discrete:!0}):qb(qde,h,V,{discrete:!0}),z.addEventListener("click",U=>U.preventDefault(),{once:!0})}})})})}),p.viewport)})]}):null}),Qde=e=>{const{__scopeToast:t,children:r,...n}=e,i=R2(h1,t),[a,s]=b.useState(!1),[o,c]=b.useState(!1);return efe(()=>s(!0)),b.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),o?null:l.jsx(rg,{asChild:!0,children:l.jsx(P2,{...n,children:a&&l.jsxs(l.Fragment,{children:[i.label," ",r]})})})},Zde="ToastTitle",Nq=b.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return l.jsx(wt.div,{...n,ref:t})});Nq.displayName=Zde;var Jde="ToastDescription",Aq=b.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return l.jsx(wt.div,{...n,ref:t})});Aq.displayName=Jde;var Cq="ToastAction",jq=b.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?l.jsx(Rq,{altText:r,asChild:!0,children:l.jsx(SO,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${Cq}\`. Expected non-empty \`string\`.`),null)});jq.displayName=Cq;var Pq="ToastClose",SO=b.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,i=Yde(Pq,r);return l.jsx(Rq,{asChild:!0,children:l.jsx(wt.button,{type:"button",...n,ref:t,onClick:Ye(e.onClick,i.onClose)})})});SO.displayName=Pq;var Rq=b.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...i}=e;return l.jsx(wt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...i,ref:t})});function kq(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),tfe(n)){const i=n.ariaHidden||n.hidden||n.style.display==="none",a=n.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const s=n.dataset.radixToastAnnounceAlt;s&&t.push(s)}else t.push(...kq(n))}}),t}function qb(e,t,r,{discrete:n}){const i=r.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?wO(i,a):i.dispatchEvent(a)}var XF=(e,t,r=0)=>{const n=Math.abs(e.x),i=Math.abs(e.y),a=n>i;return t==="left"||t==="right"?a&&n>r:!a&&i>r};function efe(e=()=>{}){const t=is(e);Wi(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function tfe(e){return e.nodeType===e.ELEMENT_NODE}function rfe(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function RA(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var nfe=wq,Iq=Eq,Oq=Tq,Dq=Nq,Mq=Aq,Lq=jq,Fq=SO;function $q(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=$q(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function lr(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=$q(e))&&(n&&(n+=" "),n+=t);return n}const QF=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,ZF=lr,m1=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return ZF(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:i,defaultVariants:a}=t,s=Object.keys(i).map(u=>{const d=r==null?void 0:r[u],f=a==null?void 0:a[u];if(d===null)return null;const h=QF(d)||QF(f);return i[u][h]}),o=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...m}=d;return Object.entries(m).every(g=>{let[p,v]=g;return Array.isArray(v)?v.includes({...a,...o}[p]):{...a,...o}[p]===v})?[...u,f,h]:u},[]);return ZF(e,s,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ife=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Bq=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var afe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sfe=b.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:s,...o},c)=>b.createElement("svg",{ref:c,...afe,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:Bq("lucide",i),...o},[...s.map(([u,d])=>b.createElement(u,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=(e,t)=>{const r=b.forwardRef(({className:n,...i},a)=>b.createElement(sfe,{ref:a,iconNode:t,className:Bq(`lucide-${ife(e)}`,n),...i}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JF=tt("BellPlus",[["path",{d:"M19.3 14.8C20.1 16.4 21 17 21 17H3s3-2 3-9c0-3.3 2.7-6 6-6 1 0 1.9.2 2.8.7",key:"guizqy"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"M15 8h6",key:"8ybuxh"}],["path",{d:"M18 5v6",key:"g5ayrv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ofe=tt("BellRing",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mh=tt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lfe=tt("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cfe=tt("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pd=tt("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ufe=tt("CalendarCheck2",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 14V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8",key:"bce9hv"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m16 20 2 2 4-4",key:"13tcca"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rE=tt("CalendarCheck",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e5=tt("CalendarPlus",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 13V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8",key:"3spt84"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M16 19h6",key:"xwg31i"}],["path",{d:"M19 16v6",key:"tddt3s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t5=tt("CalendarX",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m14 14-4 4",key:"rymu2i"}],["path",{d:"m10 14 4 4",key:"3sz06r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zn=tt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k2=tt("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tm=tt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lc=tt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nE=tt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const By=tt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vq=tt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dfe=tt("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r5=tt("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I2=tt("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ph=tt("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n5=tt("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TO=tt("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vc=tt("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ffe=tt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NO=tt("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fu=tt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hfe=tt("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O2=tt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ps=tt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uq=tt("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cf=tt("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i5=tt("FileImage",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oi=tt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cc=tt("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a_=tt("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a5=tt("HardHat",[["path",{d:"M10 10V5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v5",key:"1p9q5i"}],["path",{d:"M14 6a6 6 0 0 1 6 6v3",key:"1hnv84"}],["path",{d:"M4 15v-3a6 6 0 0 1 6-6",key:"9ciidu"}],["rect",{x:"2",y:"15",width:"20",height:"4",rx:"1",key:"g3x8cw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mfe=tt("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D2=tt("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AO=tt("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pfe=tt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iE=tt("Laptop",[["path",{d:"M20 16V7a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v9m16 0H4m16 0 1.28 2.55a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45L4 16",key:"tarvll"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zq=tt("ListPlus",[["path",{d:"M11 12H3",key:"51ecnj"}],["path",{d:"M16 6H3",key:"1wxfjs"}],["path",{d:"M16 18H3",key:"12xzn7"}],["path",{d:"M18 9v6",key:"1twb98"}],["path",{d:"M21 12h-6",key:"bt1uis"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gfe=tt("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wq=tt("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vfe=tt("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s5=tt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o5=tt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yfe=tt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xfe=tt("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bfe=tt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rm=tt("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hq=tt("PackageCheck",[["path",{d:"m16 16 2 2 4-4",key:"gfu2re"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qq=tt("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gq=tt("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kq=tt("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aE=tt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s0=tt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M2=tt("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gc=tt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yq=tt("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wfe=tt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xq=tt("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CO=tt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wn=tt("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vy=tt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rs=tt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xP=tt("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sE=tt("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _fe=tt("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Efe=tt("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bP=tt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sfe=tt("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kc=tt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uy=tt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oE=tt("Warehouse",[["path",{d:"M22 8.35V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8.35A2 2 0 0 1 3.26 6.5l8-3.2a2 2 0 0 1 1.48 0l8 3.2A2 2 0 0 1 22 8.35Z",key:"gksnxg"}],["path",{d:"M6 18h12",key:"9pbo8z"}],["path",{d:"M6 14h12",key:"4cwo0f"}],["rect",{width:"12",height:"12",x:"6",y:"10",key:"apd30q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ql=tt("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const go=tt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),jO="-",Tfe=e=>{const t=Afe(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:s=>{const o=s.split(jO);return o[0]===""&&o.length!==1&&o.shift(),Qq(o,t)||Nfe(s)},getConflictingClassGroupIds:(s,o)=>{const c=r[s]||[];return o&&n[s]?[...c,...n[s]]:c}}},Qq=(e,t)=>{var s;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),i=n?Qq(e.slice(1),n):void 0;if(i)return i;if(t.validators.length===0)return;const a=e.join(jO);return(s=t.validators.find(({validator:o})=>o(a)))==null?void 0:s.classGroupId},l5=/^\[(.+)\]$/,Nfe=e=>{if(l5.test(e)){const t=l5.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},Afe=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return jfe(Object.entries(e.classGroups),r).forEach(([a,s])=>{wP(s,n,a,t)}),n},wP=(e,t,r,n)=>{e.forEach(i=>{if(typeof i=="string"){const a=i===""?t:c5(t,i);a.classGroupId=r;return}if(typeof i=="function"){if(Cfe(i)){wP(i(n),t,r,n);return}t.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([a,s])=>{wP(s,c5(t,a),r,n)})})},c5=(e,t)=>{let r=e;return t.split(jO).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},Cfe=e=>e.isThemeGetter,jfe=(e,t)=>t?e.map(([r,n])=>{const i=n.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([s,o])=>[t+s,o])):a);return[r,i]}):e,Pfe=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const i=(a,s)=>{r.set(a,s),t++,t>e&&(t=0,n=r,r=new Map)};return{get(a){let s=r.get(a);if(s!==void 0)return s;if((s=n.get(a))!==void 0)return i(a,s),s},set(a,s){r.has(a)?r.set(a,s):i(a,s)}}},Zq="!",Rfe=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,i=t[0],a=t.length,s=o=>{const c=[];let u=0,d=0,f;for(let v=0;v<o.length;v++){let y=o[v];if(u===0){if(y===i&&(n||o.slice(v,v+a)===t)){c.push(o.slice(d,v)),d=v+a;continue}if(y==="/"){f=v;continue}}y==="["?u++:y==="]"&&u--}const h=c.length===0?o:o.substring(d),m=h.startsWith(Zq),g=m?h.substring(1):h,p=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:g,maybePostfixModifierPosition:p}};return r?o=>r({className:o,parseClassName:s}):s},kfe=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},Ife=e=>({cache:Pfe(e.cacheSize),parseClassName:Rfe(e),...Tfe(e)}),Ofe=/\s+/,Dfe=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=t,a=[],s=e.trim().split(Ofe);let o="";for(let c=s.length-1;c>=0;c-=1){const u=s[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=r(u);let g=!!m,p=n(g?h.substring(0,m):h);if(!p){if(!g){o=u+(o.length>0?" "+o:o);continue}if(p=n(h),!p){o=u+(o.length>0?" "+o:o);continue}g=!1}const v=kfe(d).join(":"),y=f?v+Zq:v,x=y+p;if(a.includes(x))continue;a.push(x);const w=i(p,g);for(let N=0;N<w.length;++N){const E=w[N];a.push(y+E)}o=u+(o.length>0?" "+o:o)}return o};function Mfe(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=Jq(t))&&(n&&(n+=" "),n+=r);return n}const Jq=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=Jq(e[n]))&&(r&&(r+=" "),r+=t);return r};function Lfe(e,...t){let r,n,i,a=s;function s(c){const u=t.reduce((d,f)=>f(d),e());return r=Ife(u),n=r.cache.get,i=r.cache.set,a=o,o(c)}function o(c){const u=n(c);if(u)return u;const d=Dfe(c,r);return i(c,d),d}return function(){return a(Mfe.apply(null,arguments))}}const Xr=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},eG=/^\[(?:([a-z-]+):)?(.+)\]$/i,Ffe=/^\d+\/\d+$/,$fe=new Set(["px","full","screen"]),Bfe=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Vfe=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Ufe=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,zfe=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Wfe=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ec=e=>_p(e)||$fe.has(e)||Ffe.test(e),Fu=e=>ng(e,"length",Zfe),_p=e=>!!e&&!Number.isNaN(Number(e)),kA=e=>ng(e,"number",_p),Jg=e=>!!e&&Number.isInteger(Number(e)),Hfe=e=>e.endsWith("%")&&_p(e.slice(0,-1)),Wt=e=>eG.test(e),$u=e=>Bfe.test(e),qfe=new Set(["length","size","percentage"]),Gfe=e=>ng(e,qfe,tG),Kfe=e=>ng(e,"position",tG),Yfe=new Set(["image","url"]),Xfe=e=>ng(e,Yfe,ehe),Qfe=e=>ng(e,"",Jfe),ev=()=>!0,ng=(e,t,r)=>{const n=eG.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},Zfe=e=>Vfe.test(e)&&!Ufe.test(e),tG=()=>!1,Jfe=e=>zfe.test(e),ehe=e=>Wfe.test(e),the=()=>{const e=Xr("colors"),t=Xr("spacing"),r=Xr("blur"),n=Xr("brightness"),i=Xr("borderColor"),a=Xr("borderRadius"),s=Xr("borderSpacing"),o=Xr("borderWidth"),c=Xr("contrast"),u=Xr("grayscale"),d=Xr("hueRotate"),f=Xr("invert"),h=Xr("gap"),m=Xr("gradientColorStops"),g=Xr("gradientColorStopPositions"),p=Xr("inset"),v=Xr("margin"),y=Xr("opacity"),x=Xr("padding"),w=Xr("saturate"),N=Xr("scale"),E=Xr("sepia"),T=Xr("skew"),S=Xr("space"),A=Xr("translate"),C=()=>["auto","contain","none"],j=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto",Wt,t],O=()=>[Wt,t],k=()=>["",Ec,Fu],D=()=>["auto",_p,Wt],B=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ee=()=>["solid","dashed","dotted","double","none"],z=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],V=()=>["start","end","center","between","around","evenly","stretch"],U=()=>["","0",Wt],se=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ne=()=>[_p,Wt];return{cacheSize:500,separator:":",theme:{colors:[ev],spacing:[Ec,Fu],blur:["none","",$u,Wt],brightness:ne(),borderColor:[e],borderRadius:["none","","full",$u,Wt],borderSpacing:O(),borderWidth:k(),contrast:ne(),grayscale:U(),hueRotate:ne(),invert:U(),gap:O(),gradientColorStops:[e],gradientColorStopPositions:[Hfe,Fu],inset:I(),margin:I(),opacity:ne(),padding:O(),saturate:ne(),scale:ne(),sepia:U(),skew:ne(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",Wt]}],container:["container"],columns:[{columns:[$u]}],"break-after":[{"break-after":se()}],"break-before":[{"break-before":se()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...B(),Wt]}],overflow:[{overflow:j()}],"overflow-x":[{"overflow-x":j()}],"overflow-y":[{"overflow-y":j()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Jg,Wt]}],basis:[{basis:I()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Wt]}],grow:[{grow:U()}],shrink:[{shrink:U()}],order:[{order:["first","last","none",Jg,Wt]}],"grid-cols":[{"grid-cols":[ev]}],"col-start-end":[{col:["auto",{span:["full",Jg,Wt]},Wt]}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":[ev]}],"row-start-end":[{row:["auto",{span:[Jg,Wt]},Wt]}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Wt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Wt]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...V()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...V(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...V(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Wt,t]}],"min-w":[{"min-w":[Wt,t,"min","max","fit"]}],"max-w":[{"max-w":[Wt,t,"none","full","min","max","fit","prose",{screen:[$u]},$u]}],h:[{h:[Wt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Wt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Wt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Wt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",$u,Fu]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",kA]}],"font-family":[{font:[ev]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Wt]}],"line-clamp":[{"line-clamp":["none",_p,kA]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ec,Wt]}],"list-image":[{"list-image":["none",Wt]}],"list-style-type":[{list:["none","disc","decimal",Wt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ee(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ec,Fu]}],"underline-offset":[{"underline-offset":["auto",Ec,Wt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Wt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Wt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...B(),Kfe]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Gfe]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Xfe]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...ee(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:ee()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...ee()]}],"outline-offset":[{"outline-offset":[Ec,Wt]}],"outline-w":[{outline:[Ec,Fu]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:k()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Ec,Fu]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",$u,Qfe]}],"shadow-color":[{shadow:[ev]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...z(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":z()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",$u,Wt]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Wt]}],duration:[{duration:ne()}],ease:[{ease:["linear","in","out","in-out",Wt]}],delay:[{delay:ne()}],animate:[{animate:["none","spin","ping","pulse","bounce",Wt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[Jg,Wt]}],"translate-x":[{"translate-x":[A]}],"translate-y":[{"translate-y":[A]}],"skew-x":[{"skew-x":[T]}],"skew-y":[{"skew-y":[T]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Wt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Wt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Wt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Ec,Fu,kA]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},rhe=Lfe(the);function Re(...e){return rhe(lr(e))}const nhe=nfe,rG=b.forwardRef(({className:e,...t},r)=>l.jsx(Iq,{ref:r,className:Re("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));rG.displayName=Iq.displayName;const ihe=m1("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),nG=b.forwardRef(({className:e,variant:t,...r},n)=>l.jsx(Oq,{ref:n,className:Re(ihe({variant:t}),e),...r}));nG.displayName=Oq.displayName;const ahe=b.forwardRef(({className:e,...t},r)=>l.jsx(Lq,{ref:r,className:Re("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));ahe.displayName=Lq.displayName;const iG=b.forwardRef(({className:e,...t},r)=>l.jsx(Fq,{ref:r,className:Re("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:l.jsx(go,{className:"h-4 w-4"})}));iG.displayName=Fq.displayName;const aG=b.forwardRef(({className:e,...t},r)=>l.jsx(Dq,{ref:r,className:Re("text-sm font-semibold",e),...t}));aG.displayName=Dq.displayName;const sG=b.forwardRef(({className:e,...t},r)=>l.jsx(Mq,{ref:r,className:Re("text-sm opacity-90",e),...t}));sG.displayName=Mq.displayName;function she(){const{toasts:e}=So();return l.jsxs(nhe,{children:[e.map(function({id:t,title:r,description:n,action:i,...a}){return l.jsxs(nG,{...a,children:[l.jsxs("div",{className:"grid gap-1",children:[r&&l.jsx(aG,{children:r}),n&&l.jsx(sG,{children:n})]}),i,l.jsx(iG,{})]},t)}),l.jsx(rG,{})]})}var u5=["light","dark"],ohe="(prefers-color-scheme: dark)",lhe=b.createContext(void 0),che={setTheme:e=>{},themes:[]},uhe=()=>{var e;return(e=b.useContext(lhe))!=null?e:che};b.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:i,defaultTheme:a,value:s,attrs:o,nonce:c})=>{let u=a==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${o.map(g=>`'${g}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=i?u5.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(g,p=!1,v=!0)=>{let y=s?s[g]:g,x=p?g+"|| ''":`'${y}'`,w="";return i&&v&&!p&&u5.includes(g)&&(w+=`d.style.colorScheme = '${g}';`),r==="class"?p||y?w+=`c.add(${x})`:w+="null":y&&(w+=`d[s](n,${x})`),w},m=e?`!function(){${d}${h(e)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${ohe}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${s?`var x=${JSON.stringify(s)};`:""}${h(s?"x[e]":"e",!0)}}${u?"":"else{"+h(a,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${s?`var x=${JSON.stringify(s)};`:""}${h(s?"x[e]":"e",!0)}}else{${h(a,!1,!1)};}${f}}catch(t){}}();`;return b.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:m}})});var dhe=e=>{switch(e){case"success":return mhe;case"info":return ghe;case"warning":return phe;case"error":return vhe;default:return null}},fhe=Array(12).fill(0),hhe=({visible:e,className:t})=>te.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},te.createElement("div",{className:"sonner-spinner"},fhe.map((r,n)=>te.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),mhe=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},te.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),phe=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},te.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),ghe=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},te.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),vhe=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},te.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),yhe=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},te.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),te.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),xhe=()=>{let[e,t]=te.useState(document.hidden);return te.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},_P=1,bhe=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let r=this.subscribers.indexOf(t);this.subscribers.splice(r,1)}),this.publish=t=>{this.subscribers.forEach(r=>r(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var r;let{message:n,...i}=t,a=typeof(t==null?void 0:t.id)=="number"||((r=t.id)==null?void 0:r.length)>0?t.id:_P++,s=this.toasts.find(c=>c.id===a),o=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),s?this.toasts=this.toasts.map(c=>c.id===a?(this.publish({...c,...t,id:a,title:n}),{...c,...t,id:a,dismissible:o,title:n}):c):this.addToast({title:n,...i,dismissible:o,id:a}),a},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),this.subscribers.forEach(r=>r({id:t,dismiss:!0})),t),this.message=(t,r)=>this.create({...r,message:t}),this.error=(t,r)=>this.create({...r,message:t,type:"error"}),this.success=(t,r)=>this.create({...r,type:"success",message:t}),this.info=(t,r)=>this.create({...r,type:"info",message:t}),this.warning=(t,r)=>this.create({...r,type:"warning",message:t}),this.loading=(t,r)=>this.create({...r,type:"loading",message:t}),this.promise=(t,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:t,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));let i=t instanceof Promise?t:t(),a=n!==void 0,s,o=i.then(async u=>{if(s=["resolve",u],te.isValidElement(u))a=!1,this.create({id:n,type:"default",message:u});else if(_he(u)&&!u.ok){a=!1;let d=typeof r.error=="function"?await r.error(`HTTP error! status: ${u.status}`):r.error,f=typeof r.description=="function"?await r.description(`HTTP error! status: ${u.status}`):r.description;this.create({id:n,type:"error",message:d,description:f})}else if(r.success!==void 0){a=!1;let d=typeof r.success=="function"?await r.success(u):r.success,f=typeof r.description=="function"?await r.description(u):r.description;this.create({id:n,type:"success",message:d,description:f})}}).catch(async u=>{if(s=["reject",u],r.error!==void 0){a=!1;let d=typeof r.error=="function"?await r.error(u):r.error,f=typeof r.description=="function"?await r.description(u):r.description;this.create({id:n,type:"error",message:d,description:f})}}).finally(()=>{var u;a&&(this.dismiss(n),n=void 0),(u=r.finally)==null||u.call(r)}),c=()=>new Promise((u,d)=>o.then(()=>s[0]==="reject"?d(s[1]):u(s[1])).catch(d));return typeof n!="string"&&typeof n!="number"?{unwrap:c}:Object.assign(n,{unwrap:c})},this.custom=(t,r)=>{let n=(r==null?void 0:r.id)||_P++;return this.create({jsx:t(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},za=new bhe,whe=(e,t)=>{let r=(t==null?void 0:t.id)||_P++;return za.addToast({title:e,...t,id:r}),r},_he=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",Ehe=whe,She=()=>za.toasts,The=()=>za.getActiveToasts(),$e=Object.assign(Ehe,{success:za.success,info:za.info,warning:za.warning,error:za.error,custom:za.custom,message:za.message,promise:za.promise,dismiss:za.dismiss,loading:za.loading},{getHistory:She,getToasts:The});function Nhe(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}Nhe(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Gb(e){return e.label!==void 0}var Ahe=3,Che="32px",jhe="16px",d5=4e3,Phe=356,Rhe=14,khe=20,Ihe=200;function Lo(...e){return e.filter(Boolean).join(" ")}function Ohe(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var Dhe=e=>{var t,r,n,i,a,s,o,c,u,d,f;let{invert:h,toast:m,unstyled:g,interacting:p,setHeights:v,visibleToasts:y,heights:x,index:w,toasts:N,expanded:E,removeToast:T,defaultRichColors:S,closeButton:A,style:C,cancelButtonStyle:j,actionButtonStyle:I,className:O="",descriptionClassName:k="",duration:D,position:B,gap:ee,loadingIcon:z,expandByDefault:V,classNames:U,icons:se,closeButtonAriaLabel:ne="Close toast",pauseWhenPageIsHidden:M}=e,[W,G]=te.useState(null),[P,J]=te.useState(null),[oe,ae]=te.useState(!1),[K,ie]=te.useState(!1),[fe,le]=te.useState(!1),[Be,Oe]=te.useState(!1),[vt,mt]=te.useState(!1),[ge,st]=te.useState(0),[_e,Q]=te.useState(0),ce=te.useRef(m.duration||D||d5),he=te.useRef(null),Pe=te.useRef(null),ke=w===0,Le=w+1<=y,Ve=m.type,ct=m.dismissible!==!1,$t=m.className||"",vn=m.descriptionClassName||"",Ni=te.useMemo(()=>x.findIndex(Tt=>Tt.toastId===m.id)||0,[x,m.id]),un=te.useMemo(()=>{var Tt;return(Tt=m.closeButton)!=null?Tt:A},[m.closeButton,A]),Gi=te.useMemo(()=>m.duration||D||d5,[m.duration,D]),Ki=te.useRef(0),si=te.useRef(0),ds=te.useRef(0),Yi=te.useRef(null),[zs,Fa]=B.split("-"),Ws=te.useMemo(()=>x.reduce((Tt,Zt,yr)=>yr>=Ni?Tt:Tt+Zt.height,0),[x,Ni]),Nl=xhe(),Hs=m.invert||h,Io=Ve==="loading";si.current=te.useMemo(()=>Ni*ee+Ws,[Ni,Ws]),te.useEffect(()=>{ce.current=Gi},[Gi]),te.useEffect(()=>{ae(!0)},[]),te.useEffect(()=>{let Tt=Pe.current;if(Tt){let Zt=Tt.getBoundingClientRect().height;return Q(Zt),v(yr=>[{toastId:m.id,height:Zt,position:m.position},...yr]),()=>v(yr=>yr.filter(ue=>ue.toastId!==m.id))}},[v,m.id]),te.useLayoutEffect(()=>{if(!oe)return;let Tt=Pe.current,Zt=Tt.style.height;Tt.style.height="auto";let yr=Tt.getBoundingClientRect().height;Tt.style.height=Zt,Q(yr),v(ue=>ue.find(pe=>pe.toastId===m.id)?ue.map(pe=>pe.toastId===m.id?{...pe,height:yr}:pe):[{toastId:m.id,height:yr,position:m.position},...ue])},[oe,m.title,m.description,v,m.id]);let Hn=te.useCallback(()=>{ie(!0),st(si.current),v(Tt=>Tt.filter(Zt=>Zt.toastId!==m.id)),setTimeout(()=>{T(m)},Ihe)},[m,T,v,si]);te.useEffect(()=>{if(m.promise&&Ve==="loading"||m.duration===1/0||m.type==="loading")return;let Tt;return E||p||M&&Nl?(()=>{if(ds.current<Ki.current){let Zt=new Date().getTime()-Ki.current;ce.current=ce.current-Zt}ds.current=new Date().getTime()})():ce.current!==1/0&&(Ki.current=new Date().getTime(),Tt=setTimeout(()=>{var Zt;(Zt=m.onAutoClose)==null||Zt.call(m,m),Hn()},ce.current)),()=>clearTimeout(Tt)},[E,p,m,Ve,M,Nl,Hn]),te.useEffect(()=>{m.delete&&Hn()},[Hn,m.delete]);function Xi(){var Tt,Zt,yr;return se!=null&&se.loading?te.createElement("div",{className:Lo(U==null?void 0:U.loader,(Tt=m==null?void 0:m.classNames)==null?void 0:Tt.loader,"sonner-loader"),"data-visible":Ve==="loading"},se.loading):z?te.createElement("div",{className:Lo(U==null?void 0:U.loader,(Zt=m==null?void 0:m.classNames)==null?void 0:Zt.loader,"sonner-loader"),"data-visible":Ve==="loading"},z):te.createElement(hhe,{className:Lo(U==null?void 0:U.loader,(yr=m==null?void 0:m.classNames)==null?void 0:yr.loader),visible:Ve==="loading"})}return te.createElement("li",{tabIndex:0,ref:Pe,className:Lo(O,$t,U==null?void 0:U.toast,(t=m==null?void 0:m.classNames)==null?void 0:t.toast,U==null?void 0:U.default,U==null?void 0:U[Ve],(r=m==null?void 0:m.classNames)==null?void 0:r[Ve]),"data-sonner-toast":"","data-rich-colors":(n=m.richColors)!=null?n:S,"data-styled":!(m.jsx||m.unstyled||g),"data-mounted":oe,"data-promise":!!m.promise,"data-swiped":vt,"data-removed":K,"data-visible":Le,"data-y-position":zs,"data-x-position":Fa,"data-index":w,"data-front":ke,"data-swiping":fe,"data-dismissible":ct,"data-type":Ve,"data-invert":Hs,"data-swipe-out":Be,"data-swipe-direction":P,"data-expanded":!!(E||V&&oe),style:{"--index":w,"--toasts-before":w,"--z-index":N.length-w,"--offset":`${K?ge:si.current}px`,"--initial-height":V?"auto":`${_e}px`,...C,...m.style},onDragEnd:()=>{le(!1),G(null),Yi.current=null},onPointerDown:Tt=>{Io||!ct||(he.current=new Date,st(si.current),Tt.target.setPointerCapture(Tt.pointerId),Tt.target.tagName!=="BUTTON"&&(le(!0),Yi.current={x:Tt.clientX,y:Tt.clientY}))},onPointerUp:()=>{var Tt,Zt,yr,ue;if(Be||!ct)return;Yi.current=null;let pe=Number(((Tt=Pe.current)==null?void 0:Tt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),we=Number(((Zt=Pe.current)==null?void 0:Zt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Me=new Date().getTime()-((yr=he.current)==null?void 0:yr.getTime()),Ue=W==="x"?pe:we,at=Math.abs(Ue)/Me;if(Math.abs(Ue)>=khe||at>.11){st(si.current),(ue=m.onDismiss)==null||ue.call(m,m),J(W==="x"?pe>0?"right":"left":we>0?"down":"up"),Hn(),Oe(!0),mt(!1);return}le(!1),G(null)},onPointerMove:Tt=>{var Zt,yr,ue,pe;if(!Yi.current||!ct||((Zt=window.getSelection())==null?void 0:Zt.toString().length)>0)return;let we=Tt.clientY-Yi.current.y,Me=Tt.clientX-Yi.current.x,Ue=(yr=e.swipeDirections)!=null?yr:Ohe(B);!W&&(Math.abs(Me)>1||Math.abs(we)>1)&&G(Math.abs(Me)>Math.abs(we)?"x":"y");let at={x:0,y:0};W==="y"?(Ue.includes("top")||Ue.includes("bottom"))&&(Ue.includes("top")&&we<0||Ue.includes("bottom")&&we>0)&&(at.y=we):W==="x"&&(Ue.includes("left")||Ue.includes("right"))&&(Ue.includes("left")&&Me<0||Ue.includes("right")&&Me>0)&&(at.x=Me),(Math.abs(at.x)>0||Math.abs(at.y)>0)&&mt(!0),(ue=Pe.current)==null||ue.style.setProperty("--swipe-amount-x",`${at.x}px`),(pe=Pe.current)==null||pe.style.setProperty("--swipe-amount-y",`${at.y}px`)}},un&&!m.jsx?te.createElement("button",{"aria-label":ne,"data-disabled":Io,"data-close-button":!0,onClick:Io||!ct?()=>{}:()=>{var Tt;Hn(),(Tt=m.onDismiss)==null||Tt.call(m,m)},className:Lo(U==null?void 0:U.closeButton,(i=m==null?void 0:m.classNames)==null?void 0:i.closeButton)},(a=se==null?void 0:se.close)!=null?a:yhe):null,m.jsx||b.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:te.createElement(te.Fragment,null,Ve||m.icon||m.promise?te.createElement("div",{"data-icon":"",className:Lo(U==null?void 0:U.icon,(s=m==null?void 0:m.classNames)==null?void 0:s.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||Xi():null,m.type!=="loading"?m.icon||(se==null?void 0:se[Ve])||dhe(Ve):null):null,te.createElement("div",{"data-content":"",className:Lo(U==null?void 0:U.content,(o=m==null?void 0:m.classNames)==null?void 0:o.content)},te.createElement("div",{"data-title":"",className:Lo(U==null?void 0:U.title,(c=m==null?void 0:m.classNames)==null?void 0:c.title)},typeof m.title=="function"?m.title():m.title),m.description?te.createElement("div",{"data-description":"",className:Lo(k,vn,U==null?void 0:U.description,(u=m==null?void 0:m.classNames)==null?void 0:u.description)},typeof m.description=="function"?m.description():m.description):null),b.isValidElement(m.cancel)?m.cancel:m.cancel&&Gb(m.cancel)?te.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||j,onClick:Tt=>{var Zt,yr;Gb(m.cancel)&&ct&&((yr=(Zt=m.cancel).onClick)==null||yr.call(Zt,Tt),Hn())},className:Lo(U==null?void 0:U.cancelButton,(d=m==null?void 0:m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,b.isValidElement(m.action)?m.action:m.action&&Gb(m.action)?te.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||I,onClick:Tt=>{var Zt,yr;Gb(m.action)&&((yr=(Zt=m.action).onClick)==null||yr.call(Zt,Tt),!Tt.defaultPrevented&&Hn())},className:Lo(U==null?void 0:U.actionButton,(f=m==null?void 0:m.classNames)==null?void 0:f.actionButton)},m.action.label):null))};function f5(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function Mhe(e,t){let r={};return[e,t].forEach((n,i)=>{let a=i===1,s=a?"--mobile-offset":"--offset",o=a?jhe:Che;function c(u){["top","right","bottom","left"].forEach(d=>{r[`${s}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${s}-${u}`]=o:r[`${s}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(o)}),r}var Lhe=b.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:i=["altKey","KeyT"],expand:a,closeButton:s,className:o,offset:c,mobileOffset:u,theme:d="light",richColors:f,duration:h,style:m,visibleToasts:g=Ahe,toastOptions:p,dir:v=f5(),gap:y=Rhe,loadingIcon:x,icons:w,containerAriaLabel:N="Notifications",pauseWhenPageIsHidden:E}=e,[T,S]=te.useState([]),A=te.useMemo(()=>Array.from(new Set([n].concat(T.filter(M=>M.position).map(M=>M.position)))),[T,n]),[C,j]=te.useState([]),[I,O]=te.useState(!1),[k,D]=te.useState(!1),[B,ee]=te.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),z=te.useRef(null),V=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),U=te.useRef(null),se=te.useRef(!1),ne=te.useCallback(M=>{S(W=>{var G;return(G=W.find(P=>P.id===M.id))!=null&&G.delete||za.dismiss(M.id),W.filter(({id:P})=>P!==M.id)})},[]);return te.useEffect(()=>za.subscribe(M=>{if(M.dismiss){S(W=>W.map(G=>G.id===M.id?{...G,delete:!0}:G));return}setTimeout(()=>{dq.flushSync(()=>{S(W=>{let G=W.findIndex(P=>P.id===M.id);return G!==-1?[...W.slice(0,G),{...W[G],...M},...W.slice(G+1)]:[M,...W]})})})}),[]),te.useEffect(()=>{if(d!=="system"){ee(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ee("dark"):ee("light")),typeof window>"u")return;let M=window.matchMedia("(prefers-color-scheme: dark)");try{M.addEventListener("change",({matches:W})=>{ee(W?"dark":"light")})}catch{M.addListener(({matches:G})=>{try{ee(G?"dark":"light")}catch(P){console.error(P)}})}},[d]),te.useEffect(()=>{T.length<=1&&O(!1)},[T]),te.useEffect(()=>{let M=W=>{var G,P;i.every(J=>W[J]||W.code===J)&&(O(!0),(G=z.current)==null||G.focus()),W.code==="Escape"&&(document.activeElement===z.current||(P=z.current)!=null&&P.contains(document.activeElement))&&O(!1)};return document.addEventListener("keydown",M),()=>document.removeEventListener("keydown",M)},[i]),te.useEffect(()=>{if(z.current)return()=>{U.current&&(U.current.focus({preventScroll:!0}),U.current=null,se.current=!1)}},[z.current]),te.createElement("section",{ref:t,"aria-label":`${N} ${V}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},A.map((M,W)=>{var G;let[P,J]=M.split("-");return T.length?te.createElement("ol",{key:M,dir:v==="auto"?f5():v,tabIndex:-1,ref:z,className:o,"data-sonner-toaster":!0,"data-theme":B,"data-y-position":P,"data-lifted":I&&T.length>1&&!a,"data-x-position":J,style:{"--front-toast-height":`${((G=C[0])==null?void 0:G.height)||0}px`,"--width":`${Phe}px`,"--gap":`${y}px`,...m,...Mhe(c,u)},onBlur:oe=>{se.current&&!oe.currentTarget.contains(oe.relatedTarget)&&(se.current=!1,U.current&&(U.current.focus({preventScroll:!0}),U.current=null))},onFocus:oe=>{oe.target instanceof HTMLElement&&oe.target.dataset.dismissible==="false"||se.current||(se.current=!0,U.current=oe.relatedTarget)},onMouseEnter:()=>O(!0),onMouseMove:()=>O(!0),onMouseLeave:()=>{k||O(!1)},onDragEnd:()=>O(!1),onPointerDown:oe=>{oe.target instanceof HTMLElement&&oe.target.dataset.dismissible==="false"||D(!0)},onPointerUp:()=>D(!1)},T.filter(oe=>!oe.position&&W===0||oe.position===M).map((oe,ae)=>{var K,ie;return te.createElement(Dhe,{key:oe.id,icons:w,index:ae,toast:oe,defaultRichColors:f,duration:(K=p==null?void 0:p.duration)!=null?K:h,className:p==null?void 0:p.className,descriptionClassName:p==null?void 0:p.descriptionClassName,invert:r,visibleToasts:g,closeButton:(ie=p==null?void 0:p.closeButton)!=null?ie:s,interacting:k,position:M,style:p==null?void 0:p.style,unstyled:p==null?void 0:p.unstyled,classNames:p==null?void 0:p.classNames,cancelButtonStyle:p==null?void 0:p.cancelButtonStyle,actionButtonStyle:p==null?void 0:p.actionButtonStyle,removeToast:ne,toasts:T.filter(fe=>fe.position==oe.position),heights:C.filter(fe=>fe.position==oe.position),setHeights:j,expandByDefault:a,gap:y,loadingIcon:x,expanded:I,pauseWhenPageIsHidden:E,swipeDirections:e.swipeDirections})})):null}))});const Fhe=({...e})=>{const{theme:t="system"}=uhe();return l.jsx(Lhe,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var $he=lW[" useId ".trim().toString()]||(()=>{}),Bhe=0;function Vi(e){const[t,r]=b.useState($he());return Wi(()=>{r(n=>n??String(Bhe++))},[e]),t?`radix-${t}`:""}const Vhe=["top","right","bottom","left"],Fd=Math.min,xs=Math.max,lE=Math.round,Kb=Math.floor,Gl=e=>({x:e,y:e}),Uhe={left:"right",right:"left",bottom:"top",top:"bottom"},zhe={start:"end",end:"start"};function EP(e,t,r){return xs(e,Fd(t,r))}function hu(e,t){return typeof e=="function"?e(t):e}function mu(e){return e.split("-")[0]}function ig(e){return e.split("-")[1]}function PO(e){return e==="x"?"y":"x"}function RO(e){return e==="y"?"height":"width"}const Whe=new Set(["top","bottom"]);function $l(e){return Whe.has(mu(e))?"y":"x"}function kO(e){return PO($l(e))}function Hhe(e,t,r){r===void 0&&(r=!1);const n=ig(e),i=kO(e),a=RO(i);let s=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(s=cE(s)),[s,cE(s)]}function qhe(e){const t=cE(e);return[SP(e),t,SP(t)]}function SP(e){return e.replace(/start|end/g,t=>zhe[t])}const h5=["left","right"],m5=["right","left"],Ghe=["top","bottom"],Khe=["bottom","top"];function Yhe(e,t,r){switch(e){case"top":case"bottom":return r?t?m5:h5:t?h5:m5;case"left":case"right":return t?Ghe:Khe;default:return[]}}function Xhe(e,t,r,n){const i=ig(e);let a=Yhe(mu(e),r==="start",n);return i&&(a=a.map(s=>s+"-"+i),t&&(a=a.concat(a.map(SP)))),a}function cE(e){return e.replace(/left|right|bottom|top/g,t=>Uhe[t])}function Qhe(e){return{top:0,right:0,bottom:0,left:0,...e}}function oG(e){return typeof e!="number"?Qhe(e):{top:e,right:e,bottom:e,left:e}}function uE(e){const{x:t,y:r,width:n,height:i}=e;return{width:n,height:i,top:r,left:t,right:t+n,bottom:r+i,x:t,y:r}}function p5(e,t,r){let{reference:n,floating:i}=e;const a=$l(t),s=kO(t),o=RO(s),c=mu(t),u=a==="y",d=n.x+n.width/2-i.width/2,f=n.y+n.height/2-i.height/2,h=n[o]/2-i[o]/2;let m;switch(c){case"top":m={x:d,y:n.y-i.height};break;case"bottom":m={x:d,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:f};break;case"left":m={x:n.x-i.width,y:f};break;default:m={x:n.x,y:n.y}}switch(ig(t)){case"start":m[s]-=h*(r&&u?-1:1);break;case"end":m[s]+=h*(r&&u?-1:1);break}return m}const Zhe=async(e,t,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:a=[],platform:s}=r,o=a.filter(Boolean),c=await(s.isRTL==null?void 0:s.isRTL(t));let u=await s.getElementRects({reference:e,floating:t,strategy:i}),{x:d,y:f}=p5(u,n,c),h=n,m={},g=0;for(let p=0;p<o.length;p++){const{name:v,fn:y}=o[p],{x,y:w,data:N,reset:E}=await y({x:d,y:f,initialPlacement:n,placement:h,strategy:i,middlewareData:m,rects:u,platform:s,elements:{reference:e,floating:t}});d=x??d,f=w??f,m={...m,[v]:{...m[v],...N}},E&&g<=50&&(g++,typeof E=="object"&&(E.placement&&(h=E.placement),E.rects&&(u=E.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:i}):E.rects),{x:d,y:f}=p5(u,h,c)),p=-1)}return{x:d,y:f,placement:h,strategy:i,middlewareData:m}};async function zy(e,t){var r;t===void 0&&(t={});const{x:n,y:i,platform:a,rects:s,elements:o,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=hu(t,e),g=oG(m),v=o[h?f==="floating"?"reference":"floating":f],y=uE(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(v)))==null||r?v:v.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(o.floating)),boundary:u,rootBoundary:d,strategy:c})),x=f==="floating"?{x:n,y:i,width:s.floating.width,height:s.floating.height}:s.reference,w=await(a.getOffsetParent==null?void 0:a.getOffsetParent(o.floating)),N=await(a.isElement==null?void 0:a.isElement(w))?await(a.getScale==null?void 0:a.getScale(w))||{x:1,y:1}:{x:1,y:1},E=uE(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:x,offsetParent:w,strategy:c}):x);return{top:(y.top-E.top+g.top)/N.y,bottom:(E.bottom-y.bottom+g.bottom)/N.y,left:(y.left-E.left+g.left)/N.x,right:(E.right-y.right+g.right)/N.x}}const Jhe=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:i,rects:a,platform:s,elements:o,middlewareData:c}=t,{element:u,padding:d=0}=hu(e,t)||{};if(u==null)return{};const f=oG(d),h={x:r,y:n},m=kO(i),g=RO(m),p=await s.getDimensions(u),v=m==="y",y=v?"top":"left",x=v?"bottom":"right",w=v?"clientHeight":"clientWidth",N=a.reference[g]+a.reference[m]-h[m]-a.floating[g],E=h[m]-a.reference[m],T=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u));let S=T?T[w]:0;(!S||!await(s.isElement==null?void 0:s.isElement(T)))&&(S=o.floating[w]||a.floating[g]);const A=N/2-E/2,C=S/2-p[g]/2-1,j=Fd(f[y],C),I=Fd(f[x],C),O=j,k=S-p[g]-I,D=S/2-p[g]/2+A,B=EP(O,D,k),ee=!c.arrow&&ig(i)!=null&&D!==B&&a.reference[g]/2-(D<O?j:I)-p[g]/2<0,z=ee?D<O?D-O:D-k:0;return{[m]:h[m]+z,data:{[m]:B,centerOffset:D-B-z,...ee&&{alignmentOffset:z}},reset:ee}}}),eme=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:i,middlewareData:a,rects:s,initialPlacement:o,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:p=!0,...v}=hu(e,t);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const y=mu(i),x=$l(o),w=mu(o)===o,N=await(c.isRTL==null?void 0:c.isRTL(u.floating)),E=h||(w||!p?[cE(o)]:qhe(o)),T=g!=="none";!h&&T&&E.push(...Xhe(o,p,g,N));const S=[o,...E],A=await zy(t,v),C=[];let j=((n=a.flip)==null?void 0:n.overflows)||[];if(d&&C.push(A[y]),f){const D=Hhe(i,s,N);C.push(A[D[0]],A[D[1]])}if(j=[...j,{placement:i,overflows:C}],!C.every(D=>D<=0)){var I,O;const D=(((I=a.flip)==null?void 0:I.index)||0)+1,B=S[D];if(B&&(!(f==="alignment"?x!==$l(B):!1)||j.every(V=>$l(V.placement)===x?V.overflows[0]>0:!0)))return{data:{index:D,overflows:j},reset:{placement:B}};let ee=(O=j.filter(z=>z.overflows[0]<=0).sort((z,V)=>z.overflows[1]-V.overflows[1])[0])==null?void 0:O.placement;if(!ee)switch(m){case"bestFit":{var k;const z=(k=j.filter(V=>{if(T){const U=$l(V.placement);return U===x||U==="y"}return!0}).map(V=>[V.placement,V.overflows.filter(U=>U>0).reduce((U,se)=>U+se,0)]).sort((V,U)=>V[1]-U[1])[0])==null?void 0:k[0];z&&(ee=z);break}case"initialPlacement":ee=o;break}if(i!==ee)return{reset:{placement:ee}}}return{}}}};function g5(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function v5(e){return Vhe.some(t=>e[t]>=0)}const tme=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...i}=hu(e,t);switch(n){case"referenceHidden":{const a=await zy(t,{...i,elementContext:"reference"}),s=g5(a,r.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:v5(s)}}}case"escaped":{const a=await zy(t,{...i,altBoundary:!0}),s=g5(a,r.floating);return{data:{escapedOffsets:s,escaped:v5(s)}}}default:return{}}}}},lG=new Set(["left","top"]);async function rme(e,t){const{placement:r,platform:n,elements:i}=e,a=await(n.isRTL==null?void 0:n.isRTL(i.floating)),s=mu(r),o=ig(r),c=$l(r)==="y",u=lG.has(s)?-1:1,d=a&&c?-1:1,f=hu(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return o&&typeof g=="number"&&(m=o==="end"?g*-1:g),c?{x:m*d,y:h*u}:{x:h*u,y:m*d}}const nme=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:i,y:a,placement:s,middlewareData:o}=t,c=await rme(t,e);return s===((r=o.offset)==null?void 0:r.placement)&&(n=o.arrow)!=null&&n.alignmentOffset?{}:{x:i+c.x,y:a+c.y,data:{...c,placement:s}}}}},ime=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:i}=t,{mainAxis:a=!0,crossAxis:s=!1,limiter:o={fn:v=>{let{x:y,y:x}=v;return{x:y,y:x}}},...c}=hu(e,t),u={x:r,y:n},d=await zy(t,c),f=$l(mu(i)),h=PO(f);let m=u[h],g=u[f];if(a){const v=h==="y"?"top":"left",y=h==="y"?"bottom":"right",x=m+d[v],w=m-d[y];m=EP(x,m,w)}if(s){const v=f==="y"?"top":"left",y=f==="y"?"bottom":"right",x=g+d[v],w=g-d[y];g=EP(x,g,w)}const p=o.fn({...t,[h]:m,[f]:g});return{...p,data:{x:p.x-r,y:p.y-n,enabled:{[h]:a,[f]:s}}}}}},ame=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:i,rects:a,middlewareData:s}=t,{offset:o=0,mainAxis:c=!0,crossAxis:u=!0}=hu(e,t),d={x:r,y:n},f=$l(i),h=PO(f);let m=d[h],g=d[f];const p=hu(o,t),v=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const w=h==="y"?"height":"width",N=a.reference[h]-a.floating[w]+v.mainAxis,E=a.reference[h]+a.reference[w]-v.mainAxis;m<N?m=N:m>E&&(m=E)}if(u){var y,x;const w=h==="y"?"width":"height",N=lG.has(mu(i)),E=a.reference[f]-a.floating[w]+(N&&((y=s.offset)==null?void 0:y[f])||0)+(N?0:v.crossAxis),T=a.reference[f]+a.reference[w]+(N?0:((x=s.offset)==null?void 0:x[f])||0)-(N?v.crossAxis:0);g<E?g=E:g>T&&(g=T)}return{[h]:m,[f]:g}}}},sme=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:i,rects:a,platform:s,elements:o}=t,{apply:c=()=>{},...u}=hu(e,t),d=await zy(t,u),f=mu(i),h=ig(i),m=$l(i)==="y",{width:g,height:p}=a.floating;let v,y;f==="top"||f==="bottom"?(v=f,y=h===(await(s.isRTL==null?void 0:s.isRTL(o.floating))?"start":"end")?"left":"right"):(y=f,v=h==="end"?"top":"bottom");const x=p-d.top-d.bottom,w=g-d.left-d.right,N=Fd(p-d[v],x),E=Fd(g-d[y],w),T=!t.middlewareData.shift;let S=N,A=E;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(A=w),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(S=x),T&&!h){const j=xs(d.left,0),I=xs(d.right,0),O=xs(d.top,0),k=xs(d.bottom,0);m?A=g-2*(j!==0||I!==0?j+I:xs(d.left,d.right)):S=p-2*(O!==0||k!==0?O+k:xs(d.top,d.bottom))}await c({...t,availableWidth:A,availableHeight:S});const C=await s.getDimensions(o.floating);return g!==C.width||p!==C.height?{reset:{rects:!0}}:{}}}};function L2(){return typeof window<"u"}function ag(e){return cG(e)?(e.nodeName||"").toLowerCase():"#document"}function As(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function vc(e){var t;return(t=(cG(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function cG(e){return L2()?e instanceof Node||e instanceof As(e).Node:!1}function dl(e){return L2()?e instanceof Element||e instanceof As(e).Element:!1}function uc(e){return L2()?e instanceof HTMLElement||e instanceof As(e).HTMLElement:!1}function y5(e){return!L2()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof As(e).ShadowRoot}const ome=new Set(["inline","contents"]);function p1(e){const{overflow:t,overflowX:r,overflowY:n,display:i}=fl(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!ome.has(i)}const lme=new Set(["table","td","th"]);function cme(e){return lme.has(ag(e))}const ume=[":popover-open",":modal"];function F2(e){return ume.some(t=>{try{return e.matches(t)}catch{return!1}})}const dme=["transform","translate","scale","rotate","perspective"],fme=["transform","translate","scale","rotate","perspective","filter"],hme=["paint","layout","strict","content"];function IO(e){const t=OO(),r=dl(e)?fl(e):e;return dme.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||fme.some(n=>(r.willChange||"").includes(n))||hme.some(n=>(r.contain||"").includes(n))}function mme(e){let t=$d(e);for(;uc(t)&&!o0(t);){if(IO(t))return t;if(F2(t))return null;t=$d(t)}return null}function OO(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const pme=new Set(["html","body","#document"]);function o0(e){return pme.has(ag(e))}function fl(e){return As(e).getComputedStyle(e)}function $2(e){return dl(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function $d(e){if(ag(e)==="html")return e;const t=e.assignedSlot||e.parentNode||y5(e)&&e.host||vc(e);return y5(t)?t.host:t}function uG(e){const t=$d(e);return o0(t)?e.ownerDocument?e.ownerDocument.body:e.body:uc(t)&&p1(t)?t:uG(t)}function Wy(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const i=uG(e),a=i===((n=e.ownerDocument)==null?void 0:n.body),s=As(i);if(a){const o=TP(s);return t.concat(s,s.visualViewport||[],p1(i)?i:[],o&&r?Wy(o):[])}return t.concat(i,Wy(i,[],r))}function TP(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function dG(e){const t=fl(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const i=uc(e),a=i?e.offsetWidth:r,s=i?e.offsetHeight:n,o=lE(r)!==a||lE(n)!==s;return o&&(r=a,n=s),{width:r,height:n,$:o}}function DO(e){return dl(e)?e:e.contextElement}function Ep(e){const t=DO(e);if(!uc(t))return Gl(1);const r=t.getBoundingClientRect(),{width:n,height:i,$:a}=dG(t);let s=(a?lE(r.width):r.width)/n,o=(a?lE(r.height):r.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!o||!Number.isFinite(o))&&(o=1),{x:s,y:o}}const gme=Gl(0);function fG(e){const t=As(e);return!OO()||!t.visualViewport?gme:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function vme(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==As(e)?!1:t}function Ph(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const i=e.getBoundingClientRect(),a=DO(e);let s=Gl(1);t&&(n?dl(n)&&(s=Ep(n)):s=Ep(e));const o=vme(a,r,n)?fG(a):Gl(0);let c=(i.left+o.x)/s.x,u=(i.top+o.y)/s.y,d=i.width/s.x,f=i.height/s.y;if(a){const h=As(a),m=n&&dl(n)?As(n):n;let g=h,p=TP(g);for(;p&&n&&m!==g;){const v=Ep(p),y=p.getBoundingClientRect(),x=fl(p),w=y.left+(p.clientLeft+parseFloat(x.paddingLeft))*v.x,N=y.top+(p.clientTop+parseFloat(x.paddingTop))*v.y;c*=v.x,u*=v.y,d*=v.x,f*=v.y,c+=w,u+=N,g=As(p),p=TP(g)}}return uE({width:d,height:f,x:c,y:u})}function MO(e,t){const r=$2(e).scrollLeft;return t?t.left+r:Ph(vc(e)).left+r}function hG(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),i=n.left+t.scrollLeft-(r?0:MO(e,n)),a=n.top+t.scrollTop;return{x:i,y:a}}function yme(e){let{elements:t,rect:r,offsetParent:n,strategy:i}=e;const a=i==="fixed",s=vc(n),o=t?F2(t.floating):!1;if(n===s||o&&a)return r;let c={scrollLeft:0,scrollTop:0},u=Gl(1);const d=Gl(0),f=uc(n);if((f||!f&&!a)&&((ag(n)!=="body"||p1(s))&&(c=$2(n)),uc(n))){const m=Ph(n);u=Ep(n),d.x=m.x+n.clientLeft,d.y=m.y+n.clientTop}const h=s&&!f&&!a?hG(s,c,!0):Gl(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-c.scrollTop*u.y+d.y+h.y}}function xme(e){return Array.from(e.getClientRects())}function bme(e){const t=vc(e),r=$2(e),n=e.ownerDocument.body,i=xs(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),a=xs(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let s=-r.scrollLeft+MO(e);const o=-r.scrollTop;return fl(n).direction==="rtl"&&(s+=xs(t.clientWidth,n.clientWidth)-i),{width:i,height:a,x:s,y:o}}function wme(e,t){const r=As(e),n=vc(e),i=r.visualViewport;let a=n.clientWidth,s=n.clientHeight,o=0,c=0;if(i){a=i.width,s=i.height;const u=OO();(!u||u&&t==="fixed")&&(o=i.offsetLeft,c=i.offsetTop)}return{width:a,height:s,x:o,y:c}}const _me=new Set(["absolute","fixed"]);function Eme(e,t){const r=Ph(e,!0,t==="fixed"),n=r.top+e.clientTop,i=r.left+e.clientLeft,a=uc(e)?Ep(e):Gl(1),s=e.clientWidth*a.x,o=e.clientHeight*a.y,c=i*a.x,u=n*a.y;return{width:s,height:o,x:c,y:u}}function x5(e,t,r){let n;if(t==="viewport")n=wme(e,r);else if(t==="document")n=bme(vc(e));else if(dl(t))n=Eme(t,r);else{const i=fG(e);n={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return uE(n)}function mG(e,t){const r=$d(e);return r===t||!dl(r)||o0(r)?!1:fl(r).position==="fixed"||mG(r,t)}function Sme(e,t){const r=t.get(e);if(r)return r;let n=Wy(e,[],!1).filter(o=>dl(o)&&ag(o)!=="body"),i=null;const a=fl(e).position==="fixed";let s=a?$d(e):e;for(;dl(s)&&!o0(s);){const o=fl(s),c=IO(s);!c&&o.position==="fixed"&&(i=null),(a?!c&&!i:!c&&o.position==="static"&&!!i&&_me.has(i.position)||p1(s)&&!c&&mG(e,s))?n=n.filter(d=>d!==s):i=o,s=$d(s)}return t.set(e,n),n}function Tme(e){let{element:t,boundary:r,rootBoundary:n,strategy:i}=e;const s=[...r==="clippingAncestors"?F2(t)?[]:Sme(t,this._c):[].concat(r),n],o=s[0],c=s.reduce((u,d)=>{const f=x5(t,d,i);return u.top=xs(f.top,u.top),u.right=Fd(f.right,u.right),u.bottom=Fd(f.bottom,u.bottom),u.left=xs(f.left,u.left),u},x5(t,o,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Nme(e){const{width:t,height:r}=dG(e);return{width:t,height:r}}function Ame(e,t,r){const n=uc(t),i=vc(t),a=r==="fixed",s=Ph(e,!0,a,t);let o={scrollLeft:0,scrollTop:0};const c=Gl(0);function u(){c.x=MO(i)}if(n||!n&&!a)if((ag(t)!=="body"||p1(i))&&(o=$2(t)),n){const m=Ph(t,!0,a,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else i&&u();a&&!n&&i&&u();const d=i&&!n&&!a?hG(i,o):Gl(0),f=s.left+o.scrollLeft-c.x-d.x,h=s.top+o.scrollTop-c.y-d.y;return{x:f,y:h,width:s.width,height:s.height}}function IA(e){return fl(e).position==="static"}function b5(e,t){if(!uc(e)||fl(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return vc(e)===r&&(r=r.ownerDocument.body),r}function pG(e,t){const r=As(e);if(F2(e))return r;if(!uc(e)){let i=$d(e);for(;i&&!o0(i);){if(dl(i)&&!IA(i))return i;i=$d(i)}return r}let n=b5(e,t);for(;n&&cme(n)&&IA(n);)n=b5(n,t);return n&&o0(n)&&IA(n)&&!IO(n)?r:n||mme(e)||r}const Cme=async function(e){const t=this.getOffsetParent||pG,r=this.getDimensions,n=await r(e.floating);return{reference:Ame(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function jme(e){return fl(e).direction==="rtl"}const Pme={convertOffsetParentRelativeRectToViewportRelativeRect:yme,getDocumentElement:vc,getClippingRect:Tme,getOffsetParent:pG,getElementRects:Cme,getClientRects:xme,getDimensions:Nme,getScale:Ep,isElement:dl,isRTL:jme};function gG(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Rme(e,t){let r=null,n;const i=vc(e);function a(){var o;clearTimeout(n),(o=r)==null||o.disconnect(),r=null}function s(o,c){o===void 0&&(o=!1),c===void 0&&(c=1),a();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:m}=u;if(o||t(),!h||!m)return;const g=Kb(f),p=Kb(i.clientWidth-(d+h)),v=Kb(i.clientHeight-(f+m)),y=Kb(d),w={rootMargin:-g+"px "+-p+"px "+-v+"px "+-y+"px",threshold:xs(0,Fd(1,c))||1};let N=!0;function E(T){const S=T[0].intersectionRatio;if(S!==c){if(!N)return s();S?s(!1,S):n=setTimeout(()=>{s(!1,1e-7)},1e3)}S===1&&!gG(u,e.getBoundingClientRect())&&s(),N=!1}try{r=new IntersectionObserver(E,{...w,root:i.ownerDocument})}catch{r=new IntersectionObserver(E,w)}r.observe(e)}return s(!0),a}function kme(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=DO(e),d=i||a?[...u?Wy(u):[],...Wy(t)]:[];d.forEach(y=>{i&&y.addEventListener("scroll",r,{passive:!0}),a&&y.addEventListener("resize",r)});const f=u&&o?Rme(u,r):null;let h=-1,m=null;s&&(m=new ResizeObserver(y=>{let[x]=y;x&&x.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=m)==null||w.observe(t)})),r()}),u&&!c&&m.observe(u),m.observe(t));let g,p=c?Ph(e):null;c&&v();function v(){const y=Ph(e);p&&!gG(p,y)&&r(),p=y,g=requestAnimationFrame(v)}return r(),()=>{var y;d.forEach(x=>{i&&x.removeEventListener("scroll",r),a&&x.removeEventListener("resize",r)}),f==null||f(),(y=m)==null||y.disconnect(),m=null,c&&cancelAnimationFrame(g)}}const Ime=nme,Ome=ime,Dme=eme,Mme=sme,Lme=tme,w5=Jhe,Fme=ame,$me=(e,t,r)=>{const n=new Map,i={platform:Pme,...r},a={...i.platform,_c:n};return Zhe(e,t,{...i,platform:a})};var Bme=typeof document<"u",Vme=function(){},s_=Bme?b.useLayoutEffect:Vme;function dE(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!dE(e[n],t[n]))return!1;return!0}if(i=Object.keys(e),r=i.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,i[n]))return!1;for(n=r;n--!==0;){const a=i[n];if(!(a==="_owner"&&e.$$typeof)&&!dE(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function vG(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function _5(e,t){const r=vG(e);return Math.round(t*r)/r}function OA(e){const t=b.useRef(e);return s_(()=>{t.current=e}),t}function Ume(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:a,floating:s}={},transform:o=!0,whileElementsMounted:c,open:u}=e,[d,f]=b.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,m]=b.useState(n);dE(h,n)||m(n);const[g,p]=b.useState(null),[v,y]=b.useState(null),x=b.useCallback(V=>{V!==T.current&&(T.current=V,p(V))},[]),w=b.useCallback(V=>{V!==S.current&&(S.current=V,y(V))},[]),N=a||g,E=s||v,T=b.useRef(null),S=b.useRef(null),A=b.useRef(d),C=c!=null,j=OA(c),I=OA(i),O=OA(u),k=b.useCallback(()=>{if(!T.current||!S.current)return;const V={placement:t,strategy:r,middleware:h};I.current&&(V.platform=I.current),$me(T.current,S.current,V).then(U=>{const se={...U,isPositioned:O.current!==!1};D.current&&!dE(A.current,se)&&(A.current=se,lf.flushSync(()=>{f(se)}))})},[h,t,r,I,O]);s_(()=>{u===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,f(V=>({...V,isPositioned:!1})))},[u]);const D=b.useRef(!1);s_(()=>(D.current=!0,()=>{D.current=!1}),[]),s_(()=>{if(N&&(T.current=N),E&&(S.current=E),N&&E){if(j.current)return j.current(N,E,k);k()}},[N,E,k,j,C]);const B=b.useMemo(()=>({reference:T,floating:S,setReference:x,setFloating:w}),[x,w]),ee=b.useMemo(()=>({reference:N,floating:E}),[N,E]),z=b.useMemo(()=>{const V={position:r,left:0,top:0};if(!ee.floating)return V;const U=_5(ee.floating,d.x),se=_5(ee.floating,d.y);return o?{...V,transform:"translate("+U+"px, "+se+"px)",...vG(ee.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:U,top:se}},[r,o,ee.floating,d.x,d.y]);return b.useMemo(()=>({...d,update:k,refs:B,elements:ee,floatingStyles:z}),[d,k,B,ee,z])}const zme=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:i}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?w5({element:n.current,padding:i}).fn(r):{}:n?w5({element:n,padding:i}).fn(r):{}}}},Wme=(e,t)=>({...Ime(e),options:[e,t]}),Hme=(e,t)=>({...Ome(e),options:[e,t]}),qme=(e,t)=>({...Fme(e),options:[e,t]}),Gme=(e,t)=>({...Dme(e),options:[e,t]}),Kme=(e,t)=>({...Mme(e),options:[e,t]}),Yme=(e,t)=>({...Lme(e),options:[e,t]}),Xme=(e,t)=>({...zme(e),options:[e,t]});var Qme="Arrow",yG=b.forwardRef((e,t)=>{const{children:r,width:n=10,height:i=5,...a}=e;return l.jsx(wt.svg,{...a,ref:t,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});yG.displayName=Qme;var Zme=yG;function xG(e){const[t,r]=b.useState(void 0);return Wi(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let s,o;if("borderBoxSize"in a){const c=a.borderBoxSize,u=Array.isArray(c)?c[0]:c;s=u.inlineSize,o=u.blockSize}else s=e.offsetWidth,o=e.offsetHeight;r({width:s,height:o})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var LO="Popper",[bG,uf]=$s(LO),[Jme,wG]=bG(LO),_G=e=>{const{__scopePopper:t,children:r}=e,[n,i]=b.useState(null);return l.jsx(Jme,{scope:t,anchor:n,onAnchorChange:i,children:r})};_G.displayName=LO;var EG="PopperAnchor",SG=b.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...i}=e,a=wG(EG,r),s=b.useRef(null),o=Jt(t,s);return b.useEffect(()=>{a.onAnchorChange((n==null?void 0:n.current)||s.current)}),n?null:l.jsx(wt.div,{...i,ref:o})});SG.displayName=EG;var FO="PopperContent",[epe,tpe]=bG(FO),TG=b.forwardRef((e,t)=>{var oe,ae,K,ie,fe,le;const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:a="center",alignOffset:s=0,arrowPadding:o=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:g,...p}=e,v=wG(FO,r),[y,x]=b.useState(null),w=Jt(t,Be=>x(Be)),[N,E]=b.useState(null),T=xG(N),S=(T==null?void 0:T.width)??0,A=(T==null?void 0:T.height)??0,C=n+(a!=="center"?"-"+a:""),j=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},I=Array.isArray(u)?u:[u],O=I.length>0,k={padding:j,boundary:I.filter(npe),altBoundary:O},{refs:D,floatingStyles:B,placement:ee,isPositioned:z,middlewareData:V}=Ume({strategy:"fixed",placement:C,whileElementsMounted:(...Be)=>kme(...Be,{animationFrame:m==="always"}),elements:{reference:v.anchor},middleware:[Wme({mainAxis:i+A,alignmentAxis:s}),c&&Hme({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?qme():void 0,...k}),c&&Gme({...k}),Kme({...k,apply:({elements:Be,rects:Oe,availableWidth:vt,availableHeight:mt})=>{const{width:ge,height:st}=Oe.reference,_e=Be.floating.style;_e.setProperty("--radix-popper-available-width",`${vt}px`),_e.setProperty("--radix-popper-available-height",`${mt}px`),_e.setProperty("--radix-popper-anchor-width",`${ge}px`),_e.setProperty("--radix-popper-anchor-height",`${st}px`)}}),N&&Xme({element:N,padding:o}),ipe({arrowWidth:S,arrowHeight:A}),h&&Yme({strategy:"referenceHidden",...k})]}),[U,se]=CG(ee),ne=is(g);Wi(()=>{z&&(ne==null||ne())},[z,ne]);const M=(oe=V.arrow)==null?void 0:oe.x,W=(ae=V.arrow)==null?void 0:ae.y,G=((K=V.arrow)==null?void 0:K.centerOffset)!==0,[P,J]=b.useState();return Wi(()=>{y&&J(window.getComputedStyle(y).zIndex)},[y]),l.jsx("div",{ref:D.setFloating,"data-radix-popper-content-wrapper":"",style:{...B,transform:z?B.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:P,"--radix-popper-transform-origin":[(ie=V.transformOrigin)==null?void 0:ie.x,(fe=V.transformOrigin)==null?void 0:fe.y].join(" "),...((le=V.hide)==null?void 0:le.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:l.jsx(epe,{scope:r,placedSide:U,onArrowChange:E,arrowX:M,arrowY:W,shouldHideArrow:G,children:l.jsx(wt.div,{"data-side":U,"data-align":se,...p,ref:w,style:{...p.style,animation:z?void 0:"none"}})})})});TG.displayName=FO;var NG="PopperArrow",rpe={top:"bottom",right:"left",bottom:"top",left:"right"},AG=b.forwardRef(function(t,r){const{__scopePopper:n,...i}=t,a=tpe(NG,n),s=rpe[a.placedSide];return l.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:l.jsx(Zme,{...i,ref:r,style:{...i.style,display:"block"}})})});AG.displayName=NG;function npe(e){return e!==null}var ipe=e=>({name:"transformOrigin",options:e,fn(t){var v,y,x;const{placement:r,rects:n,middlewareData:i}=t,s=((v=i.arrow)==null?void 0:v.centerOffset)!==0,o=s?0:e.arrowWidth,c=s?0:e.arrowHeight,[u,d]=CG(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((y=i.arrow)==null?void 0:y.x)??0)+o/2,m=(((x=i.arrow)==null?void 0:x.y)??0)+c/2;let g="",p="";return u==="bottom"?(g=s?f:`${h}px`,p=`${-c}px`):u==="top"?(g=s?f:`${h}px`,p=`${n.floating.height+c}px`):u==="right"?(g=`${-c}px`,p=s?f:`${m}px`):u==="left"&&(g=`${n.floating.width+c}px`,p=s?f:`${m}px`),{data:{x:g,y:p}}}});function CG(e){const[t,r="center"]=e.split("-");return[t,r]}var $O=_G,g1=SG,B2=TG,V2=AG,[U2,cft]=$s("Tooltip",[uf]),BO=uf(),jG="TooltipProvider",ape=700,E5="tooltip.open",[spe,PG]=U2(jG),RG=e=>{const{__scopeTooltip:t,delayDuration:r=ape,skipDelayDuration:n=300,disableHoverableContent:i=!1,children:a}=e,s=b.useRef(!0),o=b.useRef(!1),c=b.useRef(0);return b.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),l.jsx(spe,{scope:t,isOpenDelayedRef:s,delayDuration:r,onOpen:b.useCallback(()=>{window.clearTimeout(c.current),s.current=!1},[]),onClose:b.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>s.current=!0,n)},[n]),isPointerInTransitRef:o,onPointerInTransitChange:b.useCallback(u=>{o.current=u},[]),disableHoverableContent:i,children:a})};RG.displayName=jG;var kG="Tooltip",[uft,z2]=U2(kG),NP="TooltipTrigger",ope=b.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,i=z2(NP,r),a=PG(NP,r),s=BO(r),o=b.useRef(null),c=Jt(t,o,i.onTriggerChange),u=b.useRef(!1),d=b.useRef(!1),f=b.useCallback(()=>u.current=!1,[]);return b.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),l.jsx(g1,{asChild:!0,...s,children:l.jsx(wt.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...n,ref:c,onPointerMove:Ye(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:Ye(e.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:Ye(e.onPointerDown,()=>{i.open&&i.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Ye(e.onFocus,()=>{u.current||i.onOpen()}),onBlur:Ye(e.onBlur,i.onClose),onClick:Ye(e.onClick,i.onClose)})})});ope.displayName=NP;var lpe="TooltipPortal",[dft,cpe]=U2(lpe,{forceMount:void 0}),l0="TooltipContent",IG=b.forwardRef((e,t)=>{const r=cpe(l0,e.__scopeTooltip),{forceMount:n=r.forceMount,side:i="top",...a}=e,s=z2(l0,e.__scopeTooltip);return l.jsx(os,{present:n||s.open,children:s.disableHoverableContent?l.jsx(OG,{side:i,...a,ref:t}):l.jsx(upe,{side:i,...a,ref:t})})}),upe=b.forwardRef((e,t)=>{const r=z2(l0,e.__scopeTooltip),n=PG(l0,e.__scopeTooltip),i=b.useRef(null),a=Jt(t,i),[s,o]=b.useState(null),{trigger:c,onClose:u}=r,d=i.current,{onPointerInTransitChange:f}=n,h=b.useCallback(()=>{o(null),f(!1)},[f]),m=b.useCallback((g,p)=>{const v=g.currentTarget,y={x:g.clientX,y:g.clientY},x=ppe(y,v.getBoundingClientRect()),w=gpe(y,x),N=vpe(p.getBoundingClientRect()),E=xpe([...w,...N]);o(E),f(!0)},[f]);return b.useEffect(()=>()=>h(),[h]),b.useEffect(()=>{if(c&&d){const g=v=>m(v,d),p=v=>m(v,c);return c.addEventListener("pointerleave",g),d.addEventListener("pointerleave",p),()=>{c.removeEventListener("pointerleave",g),d.removeEventListener("pointerleave",p)}}},[c,d,m,h]),b.useEffect(()=>{if(s){const g=p=>{const v=p.target,y={x:p.clientX,y:p.clientY},x=(c==null?void 0:c.contains(v))||(d==null?void 0:d.contains(v)),w=!ype(y,s);x?h():w&&(h(),u())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[c,d,s,u,h]),l.jsx(OG,{...e,ref:a})}),[dpe,fpe]=U2(kG,{isInside:!1}),hpe=pq("TooltipContent"),OG=b.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:s,...o}=e,c=z2(l0,r),u=BO(r),{onClose:d}=c;return b.useEffect(()=>(document.addEventListener(E5,d),()=>document.removeEventListener(E5,d)),[d]),b.useEffect(()=>{if(c.trigger){const f=h=>{const m=h.target;m!=null&&m.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),l.jsx(em,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:l.jsxs(B2,{"data-state":c.stateAttribute,...u,...o,ref:t,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[l.jsx(hpe,{children:n}),l.jsx(dpe,{scope:r,isInside:!0,children:l.jsx($de,{id:c.contentId,role:"tooltip",children:i||n})})]})})});IG.displayName=l0;var DG="TooltipArrow",mpe=b.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,i=BO(r);return fpe(DG,r).isInside?null:l.jsx(V2,{...i,...n,ref:t})});mpe.displayName=DG;function ppe(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(r,n,i,a)){case a:return"left";case i:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function gpe(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function vpe(e){const{top:t,right:r,bottom:n,left:i}=e;return[{x:i,y:t},{x:r,y:t},{x:r,y:n},{x:i,y:n}]}function ype(e,t){const{x:r,y:n}=e;let i=!1;for(let a=0,s=t.length-1;a<t.length;s=a++){const o=t[a],c=t[s],u=o.x,d=o.y,f=c.x,h=c.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(i=!i)}return i}function xpe(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),bpe(t)}function bpe(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const i=e[n];for(;t.length>=2;){const a=t[t.length-1],s=t[t.length-2];if((a.x-s.x)*(i.y-s.y)>=(a.y-s.y)*(i.x-s.x))t.pop();else break}t.push(i)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const i=e[n];for(;r.length>=2;){const a=r[r.length-1],s=r[r.length-2];if((a.x-s.x)*(i.y-s.y)>=(a.y-s.y)*(i.x-s.x))r.pop();else break}r.push(i)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var wpe=RG,MG=IG;const _pe=wpe,Epe=b.forwardRef(({className:e,sideOffset:t=4,...r},n)=>l.jsx(MG,{ref:n,sideOffset:t,className:Re("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));Epe.displayName=MG.displayName;var sg=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Rh=typeof window>"u"||"Deno"in globalThis;function wa(){}function Spe(e,t){return typeof e=="function"?e(t):e}function AP(e){return typeof e=="number"&&e>=0&&e!==1/0}function LG(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Ad(e,t){return typeof e=="function"?e(t):e}function no(e,t){return typeof e=="function"?e(t):e}function S5(e,t){const{type:r="all",exact:n,fetchStatus:i,predicate:a,queryKey:s,stale:o}=e;if(s){if(n){if(t.queryHash!==VO(s,t.options))return!1}else if(!Hy(t.queryKey,s))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||i&&i!==t.state.fetchStatus||a&&!a(t))}function T5(e,t){const{exact:r,status:n,predicate:i,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(r){if(kh(t.options.mutationKey)!==kh(a))return!1}else if(!Hy(t.options.mutationKey,a))return!1}return!(n&&t.state.status!==n||i&&!i(t))}function VO(e,t){return((t==null?void 0:t.queryKeyHashFn)||kh)(e)}function kh(e){return JSON.stringify(e,(t,r)=>CP(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function Hy(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Hy(e[r],t[r])):!1}function FG(e,t){if(e===t)return e;const r=N5(e)&&N5(t);if(r||CP(e)&&CP(t)){const n=r?e:Object.keys(e),i=n.length,a=r?t:Object.keys(t),s=a.length,o=r?[]:{},c=new Set(n);let u=0;for(let d=0;d<s;d++){const f=r?d:a[d];(!r&&c.has(f)||r)&&e[f]===void 0&&t[f]===void 0?(o[f]=void 0,u++):(o[f]=FG(e[f],t[f]),o[f]===e[f]&&e[f]!==void 0&&u++)}return i===s&&u===i?e:o}return t}function fE(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function N5(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function CP(e){if(!A5(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!A5(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function A5(e){return Object.prototype.toString.call(e)==="[object Object]"}function Tpe(e){return new Promise(t=>{setTimeout(t,e)})}function jP(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?FG(e,t):t}function Npe(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function Ape(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var UO=Symbol();function $G(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===UO?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function BG(e,t){return typeof e=="function"?e(...t):!!e}var nh,nd,Vp,Uz,Cpe=(Uz=class extends sg{constructor(){super();At(this,nh);At(this,nd);At(this,Vp);ot(this,Vp,t=>{if(!Rh&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){de(this,nd)||this.setEventListener(de(this,Vp))}onUnsubscribe(){var t;this.hasListeners()||((t=de(this,nd))==null||t.call(this),ot(this,nd,void 0))}setEventListener(t){var r;ot(this,Vp,t),(r=de(this,nd))==null||r.call(this),ot(this,nd,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){de(this,nh)!==t&&(ot(this,nh,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof de(this,nh)=="boolean"?de(this,nh):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},nh=new WeakMap,nd=new WeakMap,Vp=new WeakMap,Uz),zO=new Cpe,Up,id,zp,zz,jpe=(zz=class extends sg{constructor(){super();At(this,Up,!0);At(this,id);At(this,zp);ot(this,zp,t=>{if(!Rh&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){de(this,id)||this.setEventListener(de(this,zp))}onUnsubscribe(){var t;this.hasListeners()||((t=de(this,id))==null||t.call(this),ot(this,id,void 0))}setEventListener(t){var r;ot(this,zp,t),(r=de(this,id))==null||r.call(this),ot(this,id,t(this.setOnline.bind(this)))}setOnline(t){de(this,Up)!==t&&(ot(this,Up,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return de(this,Up)}},Up=new WeakMap,id=new WeakMap,zp=new WeakMap,zz),hE=new jpe;function PP(){let e,t;const r=new Promise((i,a)=>{e=i,t=a});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),e(i)},r.reject=i=>{n({status:"rejected",reason:i}),t(i)},r}function Ppe(e){return Math.min(1e3*2**e,3e4)}function VG(e){return(e??"online")==="online"?hE.isOnline():!0}var UG=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function DA(e){return e instanceof UG}function zG(e){let t=!1,r=0,n=!1,i;const a=PP(),s=p=>{var v;n||(h(new UG(p)),(v=e.abort)==null||v.call(e))},o=()=>{t=!0},c=()=>{t=!1},u=()=>zO.isFocused()&&(e.networkMode==="always"||hE.isOnline())&&e.canRun(),d=()=>VG(e.networkMode)&&e.canRun(),f=p=>{var v;n||(n=!0,(v=e.onSuccess)==null||v.call(e,p),i==null||i(),a.resolve(p))},h=p=>{var v;n||(n=!0,(v=e.onError)==null||v.call(e,p),i==null||i(),a.reject(p))},m=()=>new Promise(p=>{var v;i=y=>{(n||u())&&p(y)},(v=e.onPause)==null||v.call(e)}).then(()=>{var p;i=void 0,n||(p=e.onContinue)==null||p.call(e)}),g=()=>{if(n)return;let p;const v=r===0?e.initialPromise:void 0;try{p=v??e.fn()}catch(y){p=Promise.reject(y)}Promise.resolve(p).then(f).catch(y=>{var T;if(n)return;const x=e.retry??(Rh?0:3),w=e.retryDelay??Ppe,N=typeof w=="function"?w(r,y):w,E=x===!0||typeof x=="number"&&r<x||typeof x=="function"&&x(r,y);if(t||!E){h(y);return}r++,(T=e.onFail)==null||T.call(e,r,y),Tpe(N).then(()=>u()?void 0:m()).then(()=>{t?h(y):g()})})};return{promise:a,cancel:s,continue:()=>(i==null||i(),a),cancelRetry:o,continueRetry:c,canStart:d,start:()=>(d()?g():m().then(g),a)}}var Rpe=e=>setTimeout(e,0);function kpe(){let e=[],t=0,r=o=>{o()},n=o=>{o()},i=Rpe;const a=o=>{t?e.push(o):i(()=>{r(o)})},s=()=>{const o=e;e=[],o.length&&i(()=>{n(()=>{o.forEach(c=>{r(c)})})})};return{batch:o=>{let c;t++;try{c=o()}finally{t--,t||s()}return c},batchCalls:o=>(...c)=>{a(()=>{o(...c)})},schedule:a,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{i=o}}}var di=kpe(),ih,Wz,WG=(Wz=class{constructor(){At(this,ih)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),AP(this.gcTime)&&ot(this,ih,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Rh?1/0:5*60*1e3))}clearGcTimeout(){de(this,ih)&&(clearTimeout(de(this,ih)),ot(this,ih,void 0))}},ih=new WeakMap,Wz),Wp,ah,Js,sh,na,i1,oh,Ho,Ac,Hz,Ipe=(Hz=class extends WG{constructor(r){super();At(this,Ho);At(this,Wp);At(this,ah);At(this,Js);At(this,sh);At(this,na);At(this,i1);At(this,oh);ot(this,oh,!1),ot(this,i1,r.defaultOptions),this.setOptions(r.options),this.observers=[],ot(this,sh,r.client),ot(this,Js,de(this,sh).getQueryCache()),this.queryKey=r.queryKey,this.queryHash=r.queryHash,ot(this,Wp,Ope(this.options)),this.state=r.state??de(this,Wp),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var r;return(r=de(this,na))==null?void 0:r.promise}setOptions(r){this.options={...de(this,i1),...r},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&de(this,Js).remove(this)}setData(r,n){const i=jP(this.state.data,r,this.options);return Ht(this,Ho,Ac).call(this,{data:i,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),i}setState(r,n){Ht(this,Ho,Ac).call(this,{type:"setState",state:r,setStateOptions:n})}cancel(r){var i,a;const n=(i=de(this,na))==null?void 0:i.promise;return(a=de(this,na))==null||a.cancel(r),n?n.then(wa).catch(wa):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(de(this,Wp))}isActive(){return this.observers.some(r=>no(r.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===UO||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(r=>Ad(r.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(r=>r.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(r=0){return this.state.data===void 0?!0:r==="static"?!1:this.state.isInvalidated?!0:!LG(this.state.dataUpdatedAt,r)}onFocus(){var n;const r=this.observers.find(i=>i.shouldFetchOnWindowFocus());r==null||r.refetch({cancelRefetch:!1}),(n=de(this,na))==null||n.continue()}onOnline(){var n;const r=this.observers.find(i=>i.shouldFetchOnReconnect());r==null||r.refetch({cancelRefetch:!1}),(n=de(this,na))==null||n.continue()}addObserver(r){this.observers.includes(r)||(this.observers.push(r),this.clearGcTimeout(),de(this,Js).notify({type:"observerAdded",query:this,observer:r}))}removeObserver(r){this.observers.includes(r)&&(this.observers=this.observers.filter(n=>n!==r),this.observers.length||(de(this,na)&&(de(this,oh)?de(this,na).cancel({revert:!0}):de(this,na).cancelRetry()),this.scheduleGc()),de(this,Js).notify({type:"observerRemoved",query:this,observer:r}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ht(this,Ho,Ac).call(this,{type:"invalidate"})}fetch(r,n){var d,f,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(de(this,na))return de(this,na).continueRetry(),de(this,na).promise}if(r&&this.setOptions(r),!this.options.queryFn){const m=this.observers.find(g=>g.options.queryFn);m&&this.setOptions(m.options)}const i=new AbortController,a=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(ot(this,oh,!0),i.signal)})},s=()=>{const m=$G(this.options,n),p=(()=>{const v={client:de(this,sh),queryKey:this.queryKey,meta:this.meta};return a(v),v})();return ot(this,oh,!1),this.options.persister?this.options.persister(m,p,this):m(p)},c=(()=>{const m={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:de(this,sh),state:this.state,fetchFn:s};return a(m),m})();(d=this.options.behavior)==null||d.onFetch(c,this),ot(this,ah,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=c.fetchOptions)==null?void 0:f.meta))&&Ht(this,Ho,Ac).call(this,{type:"fetch",meta:(h=c.fetchOptions)==null?void 0:h.meta});const u=m=>{var g,p,v,y;DA(m)&&m.silent||Ht(this,Ho,Ac).call(this,{type:"error",error:m}),DA(m)||((p=(g=de(this,Js).config).onError)==null||p.call(g,m,this),(y=(v=de(this,Js).config).onSettled)==null||y.call(v,this.state.data,m,this)),this.scheduleGc()};return ot(this,na,zG({initialPromise:n==null?void 0:n.initialPromise,fn:c.fetchFn,abort:i.abort.bind(i),onSuccess:m=>{var g,p,v,y;if(m===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(x){u(x);return}(p=(g=de(this,Js).config).onSuccess)==null||p.call(g,m,this),(y=(v=de(this,Js).config).onSettled)==null||y.call(v,m,this.state.error,this),this.scheduleGc()},onError:u,onFail:(m,g)=>{Ht(this,Ho,Ac).call(this,{type:"failed",failureCount:m,error:g})},onPause:()=>{Ht(this,Ho,Ac).call(this,{type:"pause"})},onContinue:()=>{Ht(this,Ho,Ac).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0})),de(this,na).start()}},Wp=new WeakMap,ah=new WeakMap,Js=new WeakMap,sh=new WeakMap,na=new WeakMap,i1=new WeakMap,oh=new WeakMap,Ho=new WeakSet,Ac=function(r){const n=i=>{switch(r.type){case"failed":return{...i,fetchFailureCount:r.failureCount,fetchFailureReason:r.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...HG(i.data,this.options),fetchMeta:r.meta??null};case"success":return ot(this,ah,void 0),{...i,data:r.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:r.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!r.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=r.error;return DA(a)&&a.revert&&de(this,ah)?{...de(this,ah),fetchStatus:"idle"}:{...i,error:a,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...r.state}}};this.state=n(this.state),di.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),de(this,Js).notify({query:this,type:"updated",action:r})})},Hz);function HG(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:VG(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Ope(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var kl,qz,Dpe=(qz=class extends sg{constructor(t={}){super();At(this,kl);this.config=t,ot(this,kl,new Map)}build(t,r,n){const i=r.queryKey,a=r.queryHash??VO(i,r);let s=this.get(a);return s||(s=new Ipe({client:t,queryKey:i,queryHash:a,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(i)}),this.add(s)),s}add(t){de(this,kl).has(t.queryHash)||(de(this,kl).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=de(this,kl).get(t.queryHash);r&&(t.destroy(),r===t&&de(this,kl).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){di.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return de(this,kl).get(t)}getAll(){return[...de(this,kl).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>S5(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>S5(t,n)):r}notify(t){di.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){di.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){di.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},kl=new WeakMap,qz),Il,va,lh,Ol,zu,Gz,Mpe=(Gz=class extends WG{constructor(r){super();At(this,Ol);At(this,Il);At(this,va);At(this,lh);this.mutationId=r.mutationId,ot(this,va,r.mutationCache),ot(this,Il,[]),this.state=r.state||qG(),this.setOptions(r.options),this.scheduleGc()}setOptions(r){this.options=r,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(r){de(this,Il).includes(r)||(de(this,Il).push(r),this.clearGcTimeout(),de(this,va).notify({type:"observerAdded",mutation:this,observer:r}))}removeObserver(r){ot(this,Il,de(this,Il).filter(n=>n!==r)),this.scheduleGc(),de(this,va).notify({type:"observerRemoved",mutation:this,observer:r})}optionalRemove(){de(this,Il).length||(this.state.status==="pending"?this.scheduleGc():de(this,va).remove(this))}continue(){var r;return((r=de(this,lh))==null?void 0:r.continue())??this.execute(this.state.variables)}async execute(r){var s,o,c,u,d,f,h,m,g,p,v,y,x,w,N,E,T,S,A,C;const n=()=>{Ht(this,Ol,zu).call(this,{type:"continue"})};ot(this,lh,zG({fn:()=>this.options.mutationFn?this.options.mutationFn(r):Promise.reject(new Error("No mutationFn found")),onFail:(j,I)=>{Ht(this,Ol,zu).call(this,{type:"failed",failureCount:j,error:I})},onPause:()=>{Ht(this,Ol,zu).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>de(this,va).canRun(this)}));const i=this.state.status==="pending",a=!de(this,lh).canStart();try{if(i)n();else{Ht(this,Ol,zu).call(this,{type:"pending",variables:r,isPaused:a}),await((o=(s=de(this,va).config).onMutate)==null?void 0:o.call(s,r,this));const I=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,r));I!==this.state.context&&Ht(this,Ol,zu).call(this,{type:"pending",context:I,variables:r,isPaused:a})}const j=await de(this,lh).start();return await((f=(d=de(this,va).config).onSuccess)==null?void 0:f.call(d,j,r,this.state.context,this)),await((m=(h=this.options).onSuccess)==null?void 0:m.call(h,j,r,this.state.context)),await((p=(g=de(this,va).config).onSettled)==null?void 0:p.call(g,j,null,this.state.variables,this.state.context,this)),await((y=(v=this.options).onSettled)==null?void 0:y.call(v,j,null,r,this.state.context)),Ht(this,Ol,zu).call(this,{type:"success",data:j}),j}catch(j){try{throw await((w=(x=de(this,va).config).onError)==null?void 0:w.call(x,j,r,this.state.context,this)),await((E=(N=this.options).onError)==null?void 0:E.call(N,j,r,this.state.context)),await((S=(T=de(this,va).config).onSettled)==null?void 0:S.call(T,void 0,j,this.state.variables,this.state.context,this)),await((C=(A=this.options).onSettled)==null?void 0:C.call(A,void 0,j,r,this.state.context)),j}finally{Ht(this,Ol,zu).call(this,{type:"error",error:j})}}finally{de(this,va).runNext(this)}}},Il=new WeakMap,va=new WeakMap,lh=new WeakMap,Ol=new WeakSet,zu=function(r){const n=i=>{switch(r.type){case"failed":return{...i,failureCount:r.failureCount,failureReason:r.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:r.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:r.isPaused,status:"pending",variables:r.variables,submittedAt:Date.now()};case"success":return{...i,data:r.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:r.error,failureCount:i.failureCount+1,failureReason:r.error,isPaused:!1,status:"error"}}};this.state=n(this.state),di.batch(()=>{de(this,Il).forEach(i=>{i.onMutationUpdate(r)}),de(this,va).notify({mutation:this,type:"updated",action:r})})},Gz);function qG(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var kc,qo,a1,Kz,Lpe=(Kz=class extends sg{constructor(t={}){super();At(this,kc);At(this,qo);At(this,a1);this.config=t,ot(this,kc,new Set),ot(this,qo,new Map),ot(this,a1,0)}build(t,r,n){const i=new Mpe({mutationCache:this,mutationId:++Ab(this,a1)._,options:t.defaultMutationOptions(r),state:n});return this.add(i),i}add(t){de(this,kc).add(t);const r=Yb(t);if(typeof r=="string"){const n=de(this,qo).get(r);n?n.push(t):de(this,qo).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(de(this,kc).delete(t)){const r=Yb(t);if(typeof r=="string"){const n=de(this,qo).get(r);if(n)if(n.length>1){const i=n.indexOf(t);i!==-1&&n.splice(i,1)}else n[0]===t&&de(this,qo).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Yb(t);if(typeof r=="string"){const n=de(this,qo).get(r),i=n==null?void 0:n.find(a=>a.state.status==="pending");return!i||i===t}else return!0}runNext(t){var n;const r=Yb(t);if(typeof r=="string"){const i=(n=de(this,qo).get(r))==null?void 0:n.find(a=>a!==t&&a.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){di.batch(()=>{de(this,kc).forEach(t=>{this.notify({type:"removed",mutation:t})}),de(this,kc).clear(),de(this,qo).clear()})}getAll(){return Array.from(de(this,kc))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>T5(r,n))}findAll(t={}){return this.getAll().filter(r=>T5(t,r))}notify(t){di.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return di.batch(()=>Promise.all(t.map(r=>r.continue().catch(wa))))}},kc=new WeakMap,qo=new WeakMap,a1=new WeakMap,Kz);function Yb(e){var t;return(t=e.options.scope)==null?void 0:t.id}function C5(e){return{onFetch:(t,r)=>{var d,f,h,m,g;const n=t.options,i=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,a=((m=t.state.data)==null?void 0:m.pages)||[],s=((g=t.state.data)==null?void 0:g.pageParams)||[];let o={pages:[],pageParams:[]},c=0;const u=async()=>{let p=!1;const v=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?p=!0:t.signal.addEventListener("abort",()=>{p=!0}),t.signal)})},y=$G(t.options,t.fetchOptions),x=async(w,N,E)=>{if(p)return Promise.reject();if(N==null&&w.pages.length)return Promise.resolve(w);const S=(()=>{const I={client:t.client,queryKey:t.queryKey,pageParam:N,direction:E?"backward":"forward",meta:t.options.meta};return v(I),I})(),A=await y(S),{maxPages:C}=t.options,j=E?Ape:Npe;return{pages:j(w.pages,A,C),pageParams:j(w.pageParams,N,C)}};if(i&&a.length){const w=i==="backward",N=w?Fpe:j5,E={pages:a,pageParams:s},T=N(n,E);o=await x(E,T,w)}else{const w=e??a.length;do{const N=c===0?s[0]??n.initialPageParam:j5(n,o);if(c>0&&N==null)break;o=await x(o,N),c++}while(c<w)}return o};t.options.persister?t.fetchFn=()=>{var p,v;return(v=(p=t.options).persister)==null?void 0:v.call(p,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function j5(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function Fpe(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var jn,ad,sd,Hp,qp,od,Gp,Kp,Yz,$pe=(Yz=class{constructor(e={}){At(this,jn);At(this,ad);At(this,sd);At(this,Hp);At(this,qp);At(this,od);At(this,Gp);At(this,Kp);ot(this,jn,e.queryCache||new Dpe),ot(this,ad,e.mutationCache||new Lpe),ot(this,sd,e.defaultOptions||{}),ot(this,Hp,new Map),ot(this,qp,new Map),ot(this,od,0)}mount(){Ab(this,od)._++,de(this,od)===1&&(ot(this,Gp,zO.subscribe(async e=>{e&&(await this.resumePausedMutations(),de(this,jn).onFocus())})),ot(this,Kp,hE.subscribe(async e=>{e&&(await this.resumePausedMutations(),de(this,jn).onOnline())})))}unmount(){var e,t;Ab(this,od)._--,de(this,od)===0&&((e=de(this,Gp))==null||e.call(this),ot(this,Gp,void 0),(t=de(this,Kp))==null||t.call(this),ot(this,Kp,void 0))}isFetching(e){return de(this,jn).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return de(this,ad).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=de(this,jn).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=de(this,jn).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Ad(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return de(this,jn).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),i=de(this,jn).get(n.queryHash),a=i==null?void 0:i.state.data,s=Spe(t,a);if(s!==void 0)return de(this,jn).build(this,n).setData(s,{...r,manual:!0})}setQueriesData(e,t,r){return di.batch(()=>de(this,jn).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=de(this,jn).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=de(this,jn);di.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=de(this,jn);return di.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=di.batch(()=>de(this,jn).findAll(e).map(i=>i.cancel(r)));return Promise.all(n).then(wa).catch(wa)}invalidateQueries(e,t={}){return di.batch(()=>(de(this,jn).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=di.batch(()=>de(this,jn).findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let a=i.fetch(void 0,r);return r.throwOnError||(a=a.catch(wa)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(wa)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=de(this,jn).build(this,t);return r.isStaleByTime(Ad(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(wa).catch(wa)}fetchInfiniteQuery(e){return e.behavior=C5(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(wa).catch(wa)}ensureInfiniteQueryData(e){return e.behavior=C5(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return hE.isOnline()?de(this,ad).resumePausedMutations():Promise.resolve()}getQueryCache(){return de(this,jn)}getMutationCache(){return de(this,ad)}getDefaultOptions(){return de(this,sd)}setDefaultOptions(e){ot(this,sd,e)}setQueryDefaults(e,t){de(this,Hp).set(kh(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...de(this,Hp).values()],r={};return t.forEach(n=>{Hy(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){de(this,qp).set(kh(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...de(this,qp).values()],r={};return t.forEach(n=>{Hy(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...de(this,sd).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=VO(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===UO&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...de(this,sd).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){de(this,jn).clear(),de(this,ad).clear()}},jn=new WeakMap,ad=new WeakMap,sd=new WeakMap,Hp=new WeakMap,qp=new WeakMap,od=new WeakMap,Gp=new WeakMap,Kp=new WeakMap,Yz),Ba,ir,s1,ya,ch,Yp,ld,cd,o1,Xp,Qp,uh,dh,ud,Zp,Er,Tv,RP,kP,IP,OP,DP,MP,LP,GG,Xz,Bpe=(Xz=class extends sg{constructor(t,r){super();At(this,Er);At(this,Ba);At(this,ir);At(this,s1);At(this,ya);At(this,ch);At(this,Yp);At(this,ld);At(this,cd);At(this,o1);At(this,Xp);At(this,Qp);At(this,uh);At(this,dh);At(this,ud);At(this,Zp,new Set);this.options=r,ot(this,Ba,t),ot(this,cd,null),ot(this,ld,PP()),this.options.experimental_prefetchInRender||de(this,ld).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(de(this,ir).addObserver(this),P5(de(this,ir),this.options)?Ht(this,Er,Tv).call(this):this.updateResult(),Ht(this,Er,OP).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return FP(de(this,ir),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return FP(de(this,ir),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ht(this,Er,DP).call(this),Ht(this,Er,MP).call(this),de(this,ir).removeObserver(this)}setOptions(t){const r=this.options,n=de(this,ir);if(this.options=de(this,Ba).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof no(this.options.enabled,de(this,ir))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ht(this,Er,LP).call(this),de(this,ir).setOptions(this.options),r._defaulted&&!fE(this.options,r)&&de(this,Ba).getQueryCache().notify({type:"observerOptionsUpdated",query:de(this,ir),observer:this});const i=this.hasListeners();i&&R5(de(this,ir),n,this.options,r)&&Ht(this,Er,Tv).call(this),this.updateResult(),i&&(de(this,ir)!==n||no(this.options.enabled,de(this,ir))!==no(r.enabled,de(this,ir))||Ad(this.options.staleTime,de(this,ir))!==Ad(r.staleTime,de(this,ir)))&&Ht(this,Er,RP).call(this);const a=Ht(this,Er,kP).call(this);i&&(de(this,ir)!==n||no(this.options.enabled,de(this,ir))!==no(r.enabled,de(this,ir))||a!==de(this,ud))&&Ht(this,Er,IP).call(this,a)}getOptimisticResult(t){const r=de(this,Ba).getQueryCache().build(de(this,Ba),t),n=this.createResult(r,t);return Upe(this,n)&&(ot(this,ya,n),ot(this,Yp,this.options),ot(this,ch,de(this,ir).state)),n}getCurrentResult(){return de(this,ya)}trackResult(t,r){return new Proxy(t,{get:(n,i)=>(this.trackProp(i),r==null||r(i),Reflect.get(n,i))})}trackProp(t){de(this,Zp).add(t)}getCurrentQuery(){return de(this,ir)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=de(this,Ba).defaultQueryOptions(t),n=de(this,Ba).getQueryCache().build(de(this,Ba),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return Ht(this,Er,Tv).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),de(this,ya)))}createResult(t,r){var C;const n=de(this,ir),i=this.options,a=de(this,ya),s=de(this,ch),o=de(this,Yp),u=t!==n?t.state:de(this,s1),{state:d}=t;let f={...d},h=!1,m;if(r._optimisticResults){const j=this.hasListeners(),I=!j&&P5(t,r),O=j&&R5(t,n,r,i);(I||O)&&(f={...f,...HG(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:g,errorUpdatedAt:p,status:v}=f;m=f.data;let y=!1;if(r.placeholderData!==void 0&&m===void 0&&v==="pending"){let j;a!=null&&a.isPlaceholderData&&r.placeholderData===(o==null?void 0:o.placeholderData)?(j=a.data,y=!0):j=typeof r.placeholderData=="function"?r.placeholderData((C=de(this,Qp))==null?void 0:C.state.data,de(this,Qp)):r.placeholderData,j!==void 0&&(v="success",m=jP(a==null?void 0:a.data,j,r),h=!0)}if(r.select&&m!==void 0&&!y)if(a&&m===(s==null?void 0:s.data)&&r.select===de(this,o1))m=de(this,Xp);else try{ot(this,o1,r.select),m=r.select(m),m=jP(a==null?void 0:a.data,m,r),ot(this,Xp,m),ot(this,cd,null)}catch(j){ot(this,cd,j)}de(this,cd)&&(g=de(this,cd),m=de(this,Xp),p=Date.now(),v="error");const x=f.fetchStatus==="fetching",w=v==="pending",N=v==="error",E=w&&x,T=m!==void 0,A={status:v,fetchStatus:f.fetchStatus,isPending:w,isSuccess:v==="success",isError:N,isInitialLoading:E,isLoading:E,data:m,dataUpdatedAt:f.dataUpdatedAt,error:g,errorUpdatedAt:p,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:x,isRefetching:x&&!w,isLoadingError:N&&!T,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:N&&T,isStale:WO(t,r),refetch:this.refetch,promise:de(this,ld),isEnabled:no(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const j=k=>{A.status==="error"?k.reject(A.error):A.data!==void 0&&k.resolve(A.data)},I=()=>{const k=ot(this,ld,A.promise=PP());j(k)},O=de(this,ld);switch(O.status){case"pending":t.queryHash===n.queryHash&&j(O);break;case"fulfilled":(A.status==="error"||A.data!==O.value)&&I();break;case"rejected":(A.status!=="error"||A.error!==O.reason)&&I();break}}return A}updateResult(){const t=de(this,ya),r=this.createResult(de(this,ir),this.options);if(ot(this,ch,de(this,ir).state),ot(this,Yp,this.options),de(this,ch).data!==void 0&&ot(this,Qp,de(this,ir)),fE(r,t))return;ot(this,ya,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:i}=this.options,a=typeof i=="function"?i():i;if(a==="all"||!a&&!de(this,Zp).size)return!0;const s=new Set(a??de(this,Zp));return this.options.throwOnError&&s.add("error"),Object.keys(de(this,ya)).some(o=>{const c=o;return de(this,ya)[c]!==t[c]&&s.has(c)})};Ht(this,Er,GG).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ht(this,Er,OP).call(this)}},Ba=new WeakMap,ir=new WeakMap,s1=new WeakMap,ya=new WeakMap,ch=new WeakMap,Yp=new WeakMap,ld=new WeakMap,cd=new WeakMap,o1=new WeakMap,Xp=new WeakMap,Qp=new WeakMap,uh=new WeakMap,dh=new WeakMap,ud=new WeakMap,Zp=new WeakMap,Er=new WeakSet,Tv=function(t){Ht(this,Er,LP).call(this);let r=de(this,ir).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(wa)),r},RP=function(){Ht(this,Er,DP).call(this);const t=Ad(this.options.staleTime,de(this,ir));if(Rh||de(this,ya).isStale||!AP(t))return;const n=LG(de(this,ya).dataUpdatedAt,t)+1;ot(this,uh,setTimeout(()=>{de(this,ya).isStale||this.updateResult()},n))},kP=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(de(this,ir)):this.options.refetchInterval)??!1},IP=function(t){Ht(this,Er,MP).call(this),ot(this,ud,t),!(Rh||no(this.options.enabled,de(this,ir))===!1||!AP(de(this,ud))||de(this,ud)===0)&&ot(this,dh,setInterval(()=>{(this.options.refetchIntervalInBackground||zO.isFocused())&&Ht(this,Er,Tv).call(this)},de(this,ud)))},OP=function(){Ht(this,Er,RP).call(this),Ht(this,Er,IP).call(this,Ht(this,Er,kP).call(this))},DP=function(){de(this,uh)&&(clearTimeout(de(this,uh)),ot(this,uh,void 0))},MP=function(){de(this,dh)&&(clearInterval(de(this,dh)),ot(this,dh,void 0))},LP=function(){const t=de(this,Ba).getQueryCache().build(de(this,Ba),this.options);if(t===de(this,ir))return;const r=de(this,ir);ot(this,ir,t),ot(this,s1,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},GG=function(t){di.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(de(this,ya))}),de(this,Ba).getQueryCache().notify({query:de(this,ir),type:"observerResultsUpdated"})})},Xz);function Vpe(e,t){return no(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function P5(e,t){return Vpe(e,t)||e.state.data!==void 0&&FP(e,t,t.refetchOnMount)}function FP(e,t,r){if(no(t.enabled,e)!==!1&&Ad(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&WO(e,t)}return!1}function R5(e,t,r,n){return(e!==t||no(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&WO(e,r)}function WO(e,t){return no(t.enabled,e)!==!1&&e.isStaleByTime(Ad(t.staleTime,e))}function Upe(e,t){return!fE(e.getCurrentResult(),t)}var dd,fd,Va,Ic,au,o_,$P,Qz,zpe=(Qz=class extends sg{constructor(r,n){super();At(this,au);At(this,dd);At(this,fd);At(this,Va);At(this,Ic);ot(this,dd,r),this.setOptions(n),this.bindMethods(),Ht(this,au,o_).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var i;const n=this.options;this.options=de(this,dd).defaultMutationOptions(r),fE(this.options,n)||de(this,dd).getMutationCache().notify({type:"observerOptionsUpdated",mutation:de(this,Va),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&kh(n.mutationKey)!==kh(this.options.mutationKey)?this.reset():((i=de(this,Va))==null?void 0:i.state.status)==="pending"&&de(this,Va).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=de(this,Va))==null||r.removeObserver(this)}onMutationUpdate(r){Ht(this,au,o_).call(this),Ht(this,au,$P).call(this,r)}getCurrentResult(){return de(this,fd)}reset(){var r;(r=de(this,Va))==null||r.removeObserver(this),ot(this,Va,void 0),Ht(this,au,o_).call(this),Ht(this,au,$P).call(this)}mutate(r,n){var i;return ot(this,Ic,n),(i=de(this,Va))==null||i.removeObserver(this),ot(this,Va,de(this,dd).getMutationCache().build(de(this,dd),this.options)),de(this,Va).addObserver(this),de(this,Va).execute(r)}},dd=new WeakMap,fd=new WeakMap,Va=new WeakMap,Ic=new WeakMap,au=new WeakSet,o_=function(){var n;const r=((n=de(this,Va))==null?void 0:n.state)??qG();ot(this,fd,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},$P=function(r){di.batch(()=>{var n,i,a,s,o,c,u,d;if(de(this,Ic)&&this.hasListeners()){const f=de(this,fd).variables,h=de(this,fd).context;(r==null?void 0:r.type)==="success"?((i=(n=de(this,Ic)).onSuccess)==null||i.call(n,r.data,f,h),(s=(a=de(this,Ic)).onSettled)==null||s.call(a,r.data,null,f,h)):(r==null?void 0:r.type)==="error"&&((c=(o=de(this,Ic)).onError)==null||c.call(o,r.error,f,h),(d=(u=de(this,Ic)).onSettled)==null||d.call(u,void 0,r.error,f,h))}this.listeners.forEach(f=>{f(de(this,fd))})})},Qz),KG=b.createContext(void 0),vl=e=>{const t=b.useContext(KG);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Wpe=({client:e,children:t})=>(b.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),l.jsx(KG.Provider,{value:e,children:t})),YG=b.createContext(!1),Hpe=()=>b.useContext(YG);YG.Provider;function qpe(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Gpe=b.createContext(qpe()),Kpe=()=>b.useContext(Gpe),Ype=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},Xpe=e=>{b.useEffect(()=>{e.clearReset()},[e])},Qpe=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(i&&e.data===void 0||BG(r,[e.error,n])),Zpe=e=>{if(e.suspense){const t=n=>n==="static"?n:Math.max(n??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...n)=>t(r(...n)):t(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},Jpe=(e,t)=>e.isLoading&&e.isFetching&&!t,e0e=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,k5=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function t0e(e,t,r){var f,h,m,g,p;const n=Hpe(),i=Kpe(),a=vl(),s=a.defaultQueryOptions(e);(h=(f=a.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||h.call(f,s),s._optimisticResults=n?"isRestoring":"optimistic",Zpe(s),Ype(s,i),Xpe(i);const o=!a.getQueryCache().get(s.queryHash),[c]=b.useState(()=>new t(a,s)),u=c.getOptimisticResult(s),d=!n&&e.subscribed!==!1;if(b.useSyncExternalStore(b.useCallback(v=>{const y=d?c.subscribe(di.batchCalls(v)):wa;return c.updateResult(),y},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),b.useEffect(()=>{c.setOptions(s)},[s,c]),e0e(s,u))throw k5(s,c,i);if(Qpe({result:u,errorResetBoundary:i,throwOnError:s.throwOnError,query:a.getQueryCache().get(s.queryHash),suspense:s.suspense}))throw u.error;if((g=(m=a.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||g.call(m,s,u),s.experimental_prefetchInRender&&!Rh&&Jpe(u,n)){const v=o?k5(s,c,i):(p=a.getQueryCache().get(s.queryHash))==null?void 0:p.promise;v==null||v.catch(wa).finally(()=>{c.updateResult()})}return s.notifyOnChangeProps?u:c.trackResult(u)}function ua(e,t){return t0e(e,Bpe)}function Xb(e,t){const r=vl(),[n]=b.useState(()=>new zpe(r,e));b.useEffect(()=>{n.setOptions(e)},[n,e]);const i=b.useSyncExternalStore(b.useCallback(s=>n.subscribe(di.batchCalls(s)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),a=b.useCallback((s,o)=>{n.mutate(s,o).catch(wa)},[n]);if(i.error&&BG(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var XG=e=>{throw TypeError(e)},r0e=(e,t,r)=>t.has(e)||XG("Cannot "+r),MA=(e,t,r)=>(r0e(e,t,"read from private field"),r?r.call(e):t.get(e)),n0e=(e,t,r)=>t.has(e)?XG("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),I5="popstate";function i0e(e={}){function t(n,i){let{pathname:a,search:s,hash:o}=n.location;return qy("",{pathname:a,search:s,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Bd(i)}return s0e(t,r,null,e)}function Xt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Un(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function a0e(){return Math.random().toString(36).substring(2,10)}function O5(e,t){return{usr:e.state,key:e.key,idx:t}}function qy(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?df(t):t,state:r,key:t&&t.key||n||a0e()}}function Bd({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function df(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function s0e(e,t,r,n={}){let{window:i=document.defaultView,v5Compat:a=!1}=n,s=i.history,o="POP",c=null,u=d();u==null&&(u=0,s.replaceState({...s.state,idx:u},""));function d(){return(s.state||{idx:null}).idx}function f(){o="POP";let v=d(),y=v==null?null:v-u;u=v,c&&c({action:o,location:p.location,delta:y})}function h(v,y){o="PUSH";let x=qy(p.location,v,y);u=d()+1;let w=O5(x,u),N=p.createHref(x);try{s.pushState(w,"",N)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;i.location.assign(N)}a&&c&&c({action:o,location:p.location,delta:1})}function m(v,y){o="REPLACE";let x=qy(p.location,v,y);u=d();let w=O5(x,u),N=p.createHref(x);s.replaceState(w,"",N),a&&c&&c({action:o,location:p.location,delta:0})}function g(v){return QG(v)}let p={get action(){return o},get location(){return e(i,s)},listen(v){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(I5,f),c=v,()=>{i.removeEventListener(I5,f),c=null}},createHref(v){return t(i,v)},createURL:g,encodeLocation(v){let y=g(v);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:m,go(v){return s.go(v)}};return p}function QG(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Xt(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:Bd(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}var Nv,D5=class{constructor(e){if(n0e(this,Nv,new Map),e)for(let[t,r]of e)this.set(t,r)}get(e){if(MA(this,Nv).has(e))return MA(this,Nv).get(e);if(e.defaultValue!==void 0)return e.defaultValue;throw new Error("No value found for context")}set(e,t){MA(this,Nv).set(e,t)}};Nv=new WeakMap;var o0e=new Set(["lazy","caseSensitive","path","id","index","children"]);function l0e(e){return o0e.has(e)}var c0e=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function u0e(e){return c0e.has(e)}function d0e(e){return e.index===!0}function Gy(e,t,r=[],n={},i=!1){return e.map((a,s)=>{let o=[...r,String(s)],c=typeof a.id=="string"?a.id:o.join("-");if(Xt(a.index!==!0||!a.children,"Cannot specify children on an index route"),Xt(i||!n[c],`Found a route id collision on id "${c}".  Route id's must be globally unique within Data Router usages`),d0e(a)){let u={...a,...t(a),id:c};return n[c]=u,u}else{let u={...a,...t(a),id:c,children:void 0};return n[c]=u,a.children&&(u.children=Gy(a.children,t,o,n,i)),u}})}function Ju(e,t,r="/"){return l_(e,t,r,!1)}function l_(e,t,r,n){let i=typeof t=="string"?df(t):t,a=bo(i.pathname||"/",r);if(a==null)return null;let s=ZG(e);h0e(s);let o=null;for(let c=0;o==null&&c<s.length;++c){let u=S0e(a);o=_0e(s[c],u,n)}return o}function f0e(e,t){let{route:r,pathname:n,params:i}=e;return{id:r.id,pathname:n,params:i,data:t[r.id],handle:r.handle}}function ZG(e,t=[],r=[],n=""){let i=(a,s,o)=>{let c={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};c.relativePath.startsWith("/")&&(Xt(c.relativePath.startsWith(n),`Absolute route path "${c.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(n.length));let u=Kl([n,c.relativePath]),d=r.concat(c);a.children&&a.children.length>0&&(Xt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),ZG(a.children,t,d,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:b0e(u,a.index),routesMeta:d})};return e.forEach((a,s)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))i(a,s);else for(let c of JG(a.path))i(a,s,c)}),t}function JG(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let s=JG(n.join("/")),o=[];return o.push(...s.map(c=>c===""?a:[a,c].join("/"))),i&&o.push(...s),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function h0e(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:w0e(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var m0e=/^:[\w-]+$/,p0e=3,g0e=2,v0e=1,y0e=10,x0e=-2,M5=e=>e==="*";function b0e(e,t){let r=e.split("/"),n=r.length;return r.some(M5)&&(n+=x0e),t&&(n+=g0e),r.filter(i=>!M5(i)).reduce((i,a)=>i+(m0e.test(a)?p0e:a===""?v0e:y0e),n)}function w0e(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function _0e(e,t,r=!1){let{routesMeta:n}=e,i={},a="/",s=[];for(let o=0;o<n.length;++o){let c=n[o],u=o===n.length-1,d=a==="/"?t:t.slice(a.length)||"/",f=mE({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=mE({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(i,f.params),s.push({params:i,pathname:Kl([a,f.pathname]),pathnameBase:C0e(Kl([a,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(a=Kl([a,f.pathnameBase]))}return s}function mE(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=E0e(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((u,{paramName:d,isOptional:f},h)=>{if(d==="*"){let g=o[h]||"";s=a.slice(0,a.length-g.length).replace(/(.)\/+$/,"$1")}const m=o[h];return f&&!m?u[d]=void 0:u[d]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:s,pattern:e}}function E0e(e,t=!1,r=!0){Un(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,c)=>(n.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function S0e(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Un(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function bo(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function T0e({basename:e,pathname:t}){return t==="/"?e:Kl([e,t])}function N0e(e,t="/"){let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?df(e):e;return{pathname:r?r.startsWith("/")?r:A0e(r,t):t,search:j0e(n),hash:P0e(i)}}function A0e(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function LA(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function eK(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function W2(e){let t=eK(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function H2(e,t,r,n=!1){let i;typeof e=="string"?i=df(e):(i={...e},Xt(!i.pathname||!i.pathname.includes("?"),LA("?","pathname","search",i)),Xt(!i.pathname||!i.pathname.includes("#"),LA("#","pathname","hash",i)),Xt(!i.search||!i.search.includes("#"),LA("#","search","hash",i)));let a=e===""||i.pathname==="",s=a?"/":i.pathname,o;if(s==null)o=r;else{let f=t.length-1;if(!n&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}o=f>=0?t[f]:"/"}let c=N0e(i,o),u=s&&s!=="/"&&s.endsWith("/"),d=(a||s===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}var Kl=e=>e.join("/").replace(/\/\/+/g,"/"),C0e=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),j0e=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,P0e=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,pE=class{constructor(e,t,r,n=!1){this.status=e,this.statusText=t||"",this.internal=n,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function Ky(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var tK=["POST","PUT","PATCH","DELETE"],R0e=new Set(tK),k0e=["GET",...tK],I0e=new Set(k0e),O0e=new Set([301,302,303,307,308]),D0e=new Set([307,308]),FA={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},M0e={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},tv={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},L0e=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,HO=e=>L0e.test(e),F0e=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),rK="remix-router-transitions",nK=Symbol("ResetLoaderData");function $0e(e){const t=e.window?e.window:typeof window<"u"?window:void 0,r=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u";Xt(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let n=e.hydrationRouteProperties||[],i=e.mapRouteProperties||F0e,a={},s=Gy(e.routes,i,void 0,a),o,c=e.basename||"/",u=e.dataStrategy||W0e,d={unstable_middleware:!1,...e.future},f=null,h=new Set,m=null,g=null,p=null,v=e.hydrationData!=null,y=Ju(s,e.history.location,c),x=!1,w=null,N;if(y==null&&!e.patchRoutesOnNavigation){let ue=eo(404,{pathname:e.history.location.pathname}),{matches:pe,route:we}=K5(s);N=!0,y=pe,w={[we.id]:ue}}else if(y&&!e.hydrationData&&Xi(y,s,e.history.location.pathname).active&&(y=null),y)if(y.some(ue=>ue.route.lazy))N=!1;else if(!y.some(ue=>ue.route.loader))N=!0;else{let ue=e.hydrationData?e.hydrationData.loaderData:null,pe=e.hydrationData?e.hydrationData.errors:null;if(pe){let we=y.findIndex(Me=>pe[Me.route.id]!==void 0);N=y.slice(0,we+1).every(Me=>!VP(Me.route,ue,pe))}else N=y.every(we=>!VP(we.route,ue,pe))}else{N=!1,y=[];let ue=Xi(null,s,e.history.location.pathname);ue.active&&ue.matches&&(x=!0,y=ue.matches)}let E,T={historyAction:e.history.action,location:e.history.location,matches:y,initialized:N,navigation:FA,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||w,fetchers:new Map,blockers:new Map},S="POP",A=!1,C,j=!1,I=new Map,O=null,k=!1,D=!1,B=new Set,ee=new Map,z=0,V=-1,U=new Map,se=new Set,ne=new Map,M=new Map,W=new Set,G=new Map,P,J=null;function oe(){if(f=e.history.listen(({action:ue,location:pe,delta:we})=>{if(P){P(),P=void 0;return}Un(G.size===0||we!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Me=Fa({currentLocation:T.location,nextLocation:pe,historyAction:ue});if(Me&&we!=null){let Ue=new Promise(at=>{P=at});e.history.go(we*-1),zs(Me,{state:"blocked",location:pe,proceed(){zs(Me,{state:"proceeding",proceed:void 0,reset:void 0,location:pe}),Ue.then(()=>e.history.go(we))},reset(){let at=new Map(T.blockers);at.set(Me,tv),ie({blockers:at})}});return}return Oe(ue,pe)}),r){tge(t,I);let ue=()=>rge(t,I);t.addEventListener("pagehide",ue),O=()=>t.removeEventListener("pagehide",ue)}return T.initialized||Oe("POP",T.location,{initialHydration:!0}),E}function ae(){f&&f(),O&&O(),h.clear(),C&&C.abort(),T.fetchers.forEach((ue,pe)=>vn(pe)),T.blockers.forEach((ue,pe)=>Yi(pe))}function K(ue){return h.add(ue),()=>h.delete(ue)}function ie(ue,pe={}){ue.matches&&(ue.matches=ue.matches.map(Ue=>{let at=a[Ue.route.id],bt=Ue.route;return bt.element!==at.element||bt.errorElement!==at.errorElement||bt.hydrateFallbackElement!==at.hydrateFallbackElement?{...Ue,route:at}:Ue})),T={...T,...ue};let we=[],Me=[];T.fetchers.forEach((Ue,at)=>{Ue.state==="idle"&&(W.has(at)?we.push(at):Me.push(at))}),W.forEach(Ue=>{!T.fetchers.has(Ue)&&!ee.has(Ue)&&we.push(Ue)}),[...h].forEach(Ue=>Ue(T,{deletedFetchers:we,viewTransitionOpts:pe.viewTransitionOpts,flushSync:pe.flushSync===!0})),we.forEach(Ue=>vn(Ue)),Me.forEach(Ue=>T.fetchers.delete(Ue))}function fe(ue,pe,{flushSync:we}={}){var H,q;let Me=T.actionData!=null&&T.navigation.formMethod!=null&&qa(T.navigation.formMethod)&&T.navigation.state==="loading"&&((H=ue.state)==null?void 0:H._isRedirect)!==!0,Ue;pe.actionData?Object.keys(pe.actionData).length>0?Ue=pe.actionData:Ue=null:Me?Ue=T.actionData:Ue=null;let at=pe.loaderData?q5(T.loaderData,pe.loaderData,pe.matches||[],pe.errors):T.loaderData,bt=T.blockers;bt.size>0&&(bt=new Map(bt),bt.forEach((Z,re)=>bt.set(re,tv)));let pt=k?!1:Hn(ue,pe.matches||T.matches),F=A===!0||T.navigation.formMethod!=null&&qa(T.navigation.formMethod)&&((q=ue.state)==null?void 0:q._isRedirect)!==!0;o&&(s=o,o=void 0),k||S==="POP"||(S==="PUSH"?e.history.push(ue,ue.state):S==="REPLACE"&&e.history.replace(ue,ue.state));let Y;if(S==="POP"){let Z=I.get(T.location.pathname);Z&&Z.has(ue.pathname)?Y={currentLocation:T.location,nextLocation:ue}:I.has(ue.pathname)&&(Y={currentLocation:ue,nextLocation:T.location})}else if(j){let Z=I.get(T.location.pathname);Z?Z.add(ue.pathname):(Z=new Set([ue.pathname]),I.set(T.location.pathname,Z)),Y={currentLocation:T.location,nextLocation:ue}}ie({...pe,actionData:Ue,loaderData:at,historyAction:S,location:ue,initialized:!0,navigation:FA,revalidation:"idle",restoreScrollPosition:pt,preventScrollReset:F,blockers:bt},{viewTransitionOpts:Y,flushSync:we===!0}),S="POP",A=!1,j=!1,k=!1,D=!1,J==null||J.resolve(),J=null}async function le(ue,pe){if(typeof ue=="number"){e.history.go(ue);return}let we=BP(T.location,T.matches,c,ue,pe==null?void 0:pe.fromRouteId,pe==null?void 0:pe.relative),{path:Me,submission:Ue,error:at}=L5(!1,we,pe),bt=T.location,pt=qy(T.location,Me,pe&&pe.state);pt={...pt,...e.history.encodeLocation(pt)};let F=pe&&pe.replace!=null?pe.replace:void 0,Y="PUSH";F===!0?Y="REPLACE":F===!1||Ue!=null&&qa(Ue.formMethod)&&Ue.formAction===T.location.pathname+T.location.search&&(Y="REPLACE");let H=pe&&"preventScrollReset"in pe?pe.preventScrollReset===!0:void 0,q=(pe&&pe.flushSync)===!0,Z=Fa({currentLocation:bt,nextLocation:pt,historyAction:Y});if(Z){zs(Z,{state:"blocked",location:pt,proceed(){zs(Z,{state:"proceeding",proceed:void 0,reset:void 0,location:pt}),le(ue,pe)},reset(){let re=new Map(T.blockers);re.set(Z,tv),ie({blockers:re})}});return}await Oe(Y,pt,{submission:Ue,pendingError:at,preventScrollReset:H,replace:pe&&pe.replace,enableViewTransition:pe&&pe.viewTransition,flushSync:q})}function Be(){J||(J=nge()),Le(),ie({revalidation:"loading"});let ue=J.promise;return T.navigation.state==="submitting"?ue:T.navigation.state==="idle"?(Oe(T.historyAction,T.location,{startUninterruptedRevalidation:!0}),ue):(Oe(S||T.historyAction,T.navigation.location,{overrideNavigation:T.navigation,enableViewTransition:j===!0}),ue)}async function Oe(ue,pe,we){C&&C.abort(),C=null,S=ue,k=(we&&we.startUninterruptedRevalidation)===!0,Io(T.location,T.matches),A=(we&&we.preventScrollReset)===!0,j=(we&&we.enableViewTransition)===!0;let Me=o||s,Ue=we&&we.overrideNavigation,at=we!=null&&we.initialHydration&&T.matches&&T.matches.length>0&&!x?T.matches:Ju(Me,pe,c),bt=(we&&we.flushSync)===!0;if(at&&T.initialized&&!D&&X0e(T.location,pe)&&!(we&&we.submission&&qa(we.submission.formMethod))){fe(pe,{matches:at},{flushSync:bt});return}let pt=Xi(at,Me,pe.pathname);if(pt.active&&pt.matches&&(at=pt.matches),!at){let{error:Te,notFoundMatches:ve,route:ye}=Ws(pe.pathname);fe(pe,{matches:ve,loaderData:{},errors:{[ye.id]:Te}},{flushSync:bt});return}C=new AbortController;let F=Fm(e.history,pe,C.signal,we&&we.submission),Y=new D5(e.unstable_getContext?await e.unstable_getContext():void 0),H;if(we&&we.pendingError)H=[zf(at).route.id,{type:"error",error:we.pendingError}];else if(we&&we.submission&&qa(we.submission.formMethod)){let Te=await vt(F,pe,we.submission,at,Y,pt.active,we&&we.initialHydration===!0,{replace:we.replace,flushSync:bt});if(Te.shortCircuited)return;if(Te.pendingActionResult){let[ve,ye]=Te.pendingActionResult;if(gs(ye)&&Ky(ye.error)&&ye.error.status===404){C=null,fe(pe,{matches:Te.matches,loaderData:{},errors:{[ve]:ye.error}});return}}at=Te.matches||at,H=Te.pendingActionResult,Ue=$A(pe,we.submission),bt=!1,pt.active=!1,F=Fm(e.history,F.url,F.signal)}let{shortCircuited:q,matches:Z,loaderData:re,errors:xe}=await mt(F,pe,at,Y,pt.active,Ue,we&&we.submission,we&&we.fetcherSubmission,we&&we.replace,we&&we.initialHydration===!0,bt,H);q||(C=null,fe(pe,{matches:Z||at,...G5(H),loaderData:re,errors:xe}))}async function vt(ue,pe,we,Me,Ue,at,bt,pt={}){Le();let F=J0e(pe,we);if(ie({navigation:F},{flushSync:pt.flushSync===!0}),at){let q=await Tt(Me,pe.pathname,ue.signal);if(q.type==="aborted")return{shortCircuited:!0};if(q.type==="error"){let Z=zf(q.partialMatches).route.id;return{matches:q.partialMatches,pendingActionResult:[Z,{type:"error",error:q.error}]}}else if(q.matches)Me=q.matches;else{let{notFoundMatches:Z,error:re,route:xe}=Ws(pe.pathname);return{matches:Z,pendingActionResult:[xe.id,{type:"error",error:re}]}}}let Y,H=c_(Me,pe);if(!H.route.action&&!H.route.lazy)Y={type:"error",error:eo(405,{method:ue.method,pathname:pe.pathname,routeId:H.route.id})};else{let q=Sp(i,a,ue,Me,H,bt?[]:n,Ue),Z=await Pe(ue,q,Ue,null);if(Y=Z[H.route.id],!Y){for(let re of Me)if(Z[re.route.id]){Y=Z[re.route.id];break}}if(ue.signal.aborted)return{shortCircuited:!0}}if(Yf(Y)){let q;return pt&&pt.replace!=null?q=pt.replace:q=z5(Y.response.headers.get("Location"),new URL(ue.url),c)===T.location.pathname+T.location.search,await he(ue,Y,!0,{submission:we,replace:q}),{shortCircuited:!0}}if(gs(Y)){let q=zf(Me,H.route.id);return(pt&&pt.replace)!==!0&&(S="PUSH"),{matches:Me,pendingActionResult:[q.route.id,Y,H.route.id]}}return{matches:Me,pendingActionResult:[H.route.id,Y]}}async function mt(ue,pe,we,Me,Ue,at,bt,pt,F,Y,H,q){let Z=at||$A(pe,bt),re=bt||pt||X5(Z),xe=!k&&!Y;if(Ue){if(xe){let Br=ge(q);ie({navigation:Z,...Br!==void 0?{actionData:Br}:{}},{flushSync:H})}let Nt=await Tt(we,pe.pathname,ue.signal);if(Nt.type==="aborted")return{shortCircuited:!0};if(Nt.type==="error"){let Br=zf(Nt.partialMatches).route.id;return{matches:Nt.partialMatches,loaderData:{},errors:{[Br]:Nt.error}}}else if(Nt.matches)we=Nt.matches;else{let{error:Br,notFoundMatches:qs,route:$a}=Ws(pe.pathname);return{matches:qs,loaderData:{},errors:{[$a.id]:Br}}}}let Te=o||s,{dsMatches:ve,revalidatingFetchers:ye}=F5(ue,Me,i,a,e.history,T,we,re,pe,Y?[]:n,Y===!0,D,B,W,ne,se,Te,c,e.patchRoutesOnNavigation!=null,q);if(V=++z,!e.dataStrategy&&!ve.some(Nt=>Nt.shouldLoad)&&ye.length===0){let Nt=Ki();return fe(pe,{matches:we,loaderData:{},errors:q&&gs(q[1])?{[q[0]]:q[1].error}:null,...G5(q),...Nt?{fetchers:new Map(T.fetchers)}:{}},{flushSync:H}),{shortCircuited:!0}}if(xe){let Nt={};if(!Ue){Nt.navigation=Z;let Br=ge(q);Br!==void 0&&(Nt.actionData=Br)}ye.length>0&&(Nt.fetchers=st(ye)),ie(Nt,{flushSync:H})}ye.forEach(Nt=>{un(Nt.key),Nt.controller&&ee.set(Nt.key,Nt.controller)});let Ee=()=>ye.forEach(Nt=>un(Nt.key));C&&C.signal.addEventListener("abort",Ee);let{loaderResults:Fe,fetcherResults:He}=await ke(ve,ye,ue,Me);if(ue.signal.aborted)return{shortCircuited:!0};C&&C.signal.removeEventListener("abort",Ee),ye.forEach(Nt=>ee.delete(Nt.key));let Je=Qb(Fe);if(Je)return await he(ue,Je.result,!0,{replace:F}),{shortCircuited:!0};if(Je=Qb(He),Je)return se.add(Je.key),await he(ue,Je.result,!0,{replace:F}),{shortCircuited:!0};let{loaderData:ze,errors:Xe}=H5(T,we,Fe,q,ye,He);Y&&T.errors&&(Xe={...T.errors,...Xe});let St=Ki(),hr=si(V),sr=St||hr||ye.length>0;return{matches:we,loaderData:ze,errors:Xe,...sr?{fetchers:new Map(T.fetchers)}:{}}}function ge(ue){if(ue&&!gs(ue[1]))return{[ue[0]]:ue[1].data};if(T.actionData)return Object.keys(T.actionData).length===0?null:T.actionData}function st(ue){return ue.forEach(pe=>{let we=T.fetchers.get(pe.key),Me=rv(void 0,we?we.data:void 0);T.fetchers.set(pe.key,Me)}),new Map(T.fetchers)}async function _e(ue,pe,we,Me){un(ue);let Ue=(Me&&Me.flushSync)===!0,at=o||s,bt=BP(T.location,T.matches,c,we,pe,Me==null?void 0:Me.relative),pt=Ju(at,bt,c),F=Xi(pt,at,bt);if(F.active&&F.matches&&(pt=F.matches),!pt){ct(ue,pe,eo(404,{pathname:bt}),{flushSync:Ue});return}let{path:Y,submission:H,error:q}=L5(!0,bt,Me);if(q){ct(ue,pe,q,{flushSync:Ue});return}let Z=new D5(e.unstable_getContext?await e.unstable_getContext():void 0),re=(Me&&Me.preventScrollReset)===!0;if(H&&qa(H.formMethod)){await Q(ue,pe,Y,pt,Z,F.active,Ue,re,H);return}ne.set(ue,{routeId:pe,path:Y}),await ce(ue,pe,Y,pt,Z,F.active,Ue,re,H)}async function Q(ue,pe,we,Me,Ue,at,bt,pt,F){Le(),ne.delete(ue);let Y=T.fetchers.get(ue);Ve(ue,ege(F,Y),{flushSync:bt});let H=new AbortController,q=Fm(e.history,we,H.signal,F);if(at){let br=await Tt(Me,new URL(q.url).pathname,q.signal,ue);if(br.type==="aborted")return;if(br.type==="error"){ct(ue,pe,br.error,{flushSync:bt});return}else if(br.matches)Me=br.matches;else{ct(ue,pe,eo(404,{pathname:we}),{flushSync:bt});return}}let Z=c_(Me,we);if(!Z.route.action&&!Z.route.lazy){let br=eo(405,{method:F.formMethod,pathname:we,routeId:pe});ct(ue,pe,br,{flushSync:bt});return}ee.set(ue,H);let re=z,xe=Sp(i,a,q,Me,Z,n,Ue),ve=(await Pe(q,xe,Ue,ue))[Z.route.id];if(q.signal.aborted){ee.get(ue)===H&&ee.delete(ue);return}if(W.has(ue)){if(Yf(ve)||gs(ve)){Ve(ue,Wu(void 0));return}}else{if(Yf(ve))if(ee.delete(ue),V>re){Ve(ue,Wu(void 0));return}else return se.add(ue),Ve(ue,rv(F)),he(q,ve,!1,{fetcherSubmission:F,preventScrollReset:pt});if(gs(ve)){ct(ue,pe,ve.error);return}}let ye=T.navigation.location||T.location,Ee=Fm(e.history,ye,H.signal),Fe=o||s,He=T.navigation.state!=="idle"?Ju(Fe,T.navigation.location,c):T.matches;Xt(He,"Didn't find any matches after fetcher action");let Je=++z;U.set(ue,Je);let ze=rv(F,ve.data);T.fetchers.set(ue,ze);let{dsMatches:Xe,revalidatingFetchers:St}=F5(Ee,Ue,i,a,e.history,T,He,F,ye,n,!1,D,B,W,ne,se,Fe,c,e.patchRoutesOnNavigation!=null,[Z.route.id,ve]);St.filter(br=>br.key!==ue).forEach(br=>{let Oo=br.key,Qi=T.fetchers.get(Oo),Lg=rv(void 0,Qi?Qi.data:void 0);T.fetchers.set(Oo,Lg),un(Oo),br.controller&&ee.set(Oo,br.controller)}),ie({fetchers:new Map(T.fetchers)});let hr=()=>St.forEach(br=>un(br.key));H.signal.addEventListener("abort",hr);let{loaderResults:sr,fetcherResults:Nt}=await ke(Xe,St,Ee,Ue);if(H.signal.aborted)return;if(H.signal.removeEventListener("abort",hr),U.delete(ue),ee.delete(ue),St.forEach(br=>ee.delete(br.key)),T.fetchers.has(ue)){let br=Wu(ve.data);T.fetchers.set(ue,br)}let Br=Qb(sr);if(Br)return he(Ee,Br.result,!1,{preventScrollReset:pt});if(Br=Qb(Nt),Br)return se.add(Br.key),he(Ee,Br.result,!1,{preventScrollReset:pt});let{loaderData:qs,errors:$a}=H5(T,He,sr,void 0,St,Nt);si(Je),T.navigation.state==="loading"&&Je>V?(Xt(S,"Expected pending action"),C&&C.abort(),fe(T.navigation.location,{matches:He,loaderData:qs,errors:$a,fetchers:new Map(T.fetchers)})):(ie({errors:$a,loaderData:q5(T.loaderData,qs,He,$a),fetchers:new Map(T.fetchers)}),D=!1)}async function ce(ue,pe,we,Me,Ue,at,bt,pt,F){let Y=T.fetchers.get(ue);Ve(ue,rv(F,Y?Y.data:void 0),{flushSync:bt});let H=new AbortController,q=Fm(e.history,we,H.signal);if(at){let ye=await Tt(Me,new URL(q.url).pathname,q.signal,ue);if(ye.type==="aborted")return;if(ye.type==="error"){ct(ue,pe,ye.error,{flushSync:bt});return}else if(ye.matches)Me=ye.matches;else{ct(ue,pe,eo(404,{pathname:we}),{flushSync:bt});return}}let Z=c_(Me,we);ee.set(ue,H);let re=z,xe=Sp(i,a,q,Me,Z,n,Ue),ve=(await Pe(q,xe,Ue,ue))[Z.route.id];if(ee.get(ue)===H&&ee.delete(ue),!q.signal.aborted){if(W.has(ue)){Ve(ue,Wu(void 0));return}if(Yf(ve))if(V>re){Ve(ue,Wu(void 0));return}else{se.add(ue),await he(q,ve,!1,{preventScrollReset:pt});return}if(gs(ve)){ct(ue,pe,ve.error);return}Ve(ue,Wu(ve.data))}}async function he(ue,pe,we,{submission:Me,fetcherSubmission:Ue,preventScrollReset:at,replace:bt}={}){pe.response.headers.has("X-Remix-Revalidate")&&(D=!0);let pt=pe.response.headers.get("Location");Xt(pt,"Expected a Location header on the redirect Response"),pt=z5(pt,new URL(ue.url),c);let F=qy(T.location,pt,{_isRedirect:!0});if(r){let xe=!1;if(pe.response.headers.has("X-Remix-Reload-Document"))xe=!0;else if(HO(pt)){const Te=QG(pt,!0);xe=Te.origin!==t.location.origin||bo(Te.pathname,c)==null}if(xe){bt?t.location.replace(pt):t.location.assign(pt);return}}C=null;let Y=bt===!0||pe.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:H,formAction:q,formEncType:Z}=T.navigation;!Me&&!Ue&&H&&q&&Z&&(Me=X5(T.navigation));let re=Me||Ue;if(D0e.has(pe.response.status)&&re&&qa(re.formMethod))await Oe(Y,F,{submission:{...re,formAction:pt},preventScrollReset:at||A,enableViewTransition:we?j:void 0});else{let xe=$A(F,Me);await Oe(Y,F,{overrideNavigation:xe,fetcherSubmission:Ue,preventScrollReset:at||A,enableViewTransition:we?j:void 0})}}async function Pe(ue,pe,we,Me){let Ue,at={};try{Ue=await H0e(u,ue,pe,Me,we,!1)}catch(bt){return pe.filter(pt=>pt.shouldLoad).forEach(pt=>{at[pt.route.id]={type:"error",error:bt}}),at}if(ue.signal.aborted)return at;for(let[bt,pt]of Object.entries(Ue))if(Q0e(pt)){let F=pt.result;at[bt]={type:"redirect",response:K0e(F,ue,bt,pe,c)}}else at[bt]=await G0e(pt);return at}async function ke(ue,pe,we,Me){let Ue=Pe(we,ue,Me,null),at=Promise.all(pe.map(async F=>{if(F.matches&&F.match&&F.request&&F.controller){let H=(await Pe(F.request,F.matches,Me,F.key))[F.match.route.id];return{[F.key]:H}}else return Promise.resolve({[F.key]:{type:"error",error:eo(404,{pathname:F.path})}})})),bt=await Ue,pt=(await at).reduce((F,Y)=>Object.assign(F,Y),{});return{loaderResults:bt,fetcherResults:pt}}function Le(){D=!0,ne.forEach((ue,pe)=>{ee.has(pe)&&B.add(pe),un(pe)})}function Ve(ue,pe,we={}){T.fetchers.set(ue,pe),ie({fetchers:new Map(T.fetchers)},{flushSync:(we&&we.flushSync)===!0})}function ct(ue,pe,we,Me={}){let Ue=zf(T.matches,pe);vn(ue),ie({errors:{[Ue.route.id]:we},fetchers:new Map(T.fetchers)},{flushSync:(Me&&Me.flushSync)===!0})}function $t(ue){return M.set(ue,(M.get(ue)||0)+1),W.has(ue)&&W.delete(ue),T.fetchers.get(ue)||M0e}function vn(ue){let pe=T.fetchers.get(ue);ee.has(ue)&&!(pe&&pe.state==="loading"&&U.has(ue))&&un(ue),ne.delete(ue),U.delete(ue),se.delete(ue),W.delete(ue),B.delete(ue),T.fetchers.delete(ue)}function Ni(ue){let pe=(M.get(ue)||0)-1;pe<=0?(M.delete(ue),W.add(ue)):M.set(ue,pe),ie({fetchers:new Map(T.fetchers)})}function un(ue){let pe=ee.get(ue);pe&&(pe.abort(),ee.delete(ue))}function Gi(ue){for(let pe of ue){let we=$t(pe),Me=Wu(we.data);T.fetchers.set(pe,Me)}}function Ki(){let ue=[],pe=!1;for(let we of se){let Me=T.fetchers.get(we);Xt(Me,`Expected fetcher: ${we}`),Me.state==="loading"&&(se.delete(we),ue.push(we),pe=!0)}return Gi(ue),pe}function si(ue){let pe=[];for(let[we,Me]of U)if(Me<ue){let Ue=T.fetchers.get(we);Xt(Ue,`Expected fetcher: ${we}`),Ue.state==="loading"&&(un(we),U.delete(we),pe.push(we))}return Gi(pe),pe.length>0}function ds(ue,pe){let we=T.blockers.get(ue)||tv;return G.get(ue)!==pe&&G.set(ue,pe),we}function Yi(ue){T.blockers.delete(ue),G.delete(ue)}function zs(ue,pe){let we=T.blockers.get(ue)||tv;Xt(we.state==="unblocked"&&pe.state==="blocked"||we.state==="blocked"&&pe.state==="blocked"||we.state==="blocked"&&pe.state==="proceeding"||we.state==="blocked"&&pe.state==="unblocked"||we.state==="proceeding"&&pe.state==="unblocked",`Invalid blocker state transition: ${we.state} -> ${pe.state}`);let Me=new Map(T.blockers);Me.set(ue,pe),ie({blockers:Me})}function Fa({currentLocation:ue,nextLocation:pe,historyAction:we}){if(G.size===0)return;G.size>1&&Un(!1,"A router only supports one blocker at a time");let Me=Array.from(G.entries()),[Ue,at]=Me[Me.length-1],bt=T.blockers.get(Ue);if(!(bt&&bt.state==="proceeding")&&at({currentLocation:ue,nextLocation:pe,historyAction:we}))return Ue}function Ws(ue){let pe=eo(404,{pathname:ue}),we=o||s,{matches:Me,route:Ue}=K5(we);return{notFoundMatches:Me,route:Ue,error:pe}}function Nl(ue,pe,we){if(m=ue,p=pe,g=we||null,!v&&T.navigation===FA){v=!0;let Me=Hn(T.location,T.matches);Me!=null&&ie({restoreScrollPosition:Me})}return()=>{m=null,p=null,g=null}}function Hs(ue,pe){return g&&g(ue,pe.map(Me=>f0e(Me,T.loaderData)))||ue.key}function Io(ue,pe){if(m&&p){let we=Hs(ue,pe);m[we]=p()}}function Hn(ue,pe){if(m){let we=Hs(ue,pe),Me=m[we];if(typeof Me=="number")return Me}return null}function Xi(ue,pe,we){if(e.patchRoutesOnNavigation)if(ue){if(Object.keys(ue[0].params).length>0)return{active:!0,matches:l_(pe,we,c,!0)}}else return{active:!0,matches:l_(pe,we,c,!0)||[]};return{active:!1,matches:null}}async function Tt(ue,pe,we,Me){if(!e.patchRoutesOnNavigation)return{type:"success",matches:ue};let Ue=ue;for(;;){let at=o==null,bt=o||s,pt=a;try{await e.patchRoutesOnNavigation({signal:we,path:pe,matches:Ue,fetcherKey:Me,patch:(H,q)=>{we.aborted||$5(H,q,bt,pt,i,!1)}})}catch(H){return{type:"error",error:H,partialMatches:Ue}}finally{at&&!we.aborted&&(s=[...s])}if(we.aborted)return{type:"aborted"};let F=Ju(bt,pe,c);if(F)return{type:"success",matches:F};let Y=l_(bt,pe,c,!0);if(!Y||Ue.length===Y.length&&Ue.every((H,q)=>H.route.id===Y[q].route.id))return{type:"success",matches:null};Ue=Y}}function Zt(ue){a={},o=Gy(ue,i,void 0,a)}function yr(ue,pe,we=!1){let Me=o==null;$5(ue,pe,o||s,a,i,we),Me&&(s=[...s],ie({}))}return E={get basename(){return c},get future(){return d},get state(){return T},get routes(){return s},get window(){return t},initialize:oe,subscribe:K,enableScrollRestoration:Nl,navigate:le,fetch:_e,revalidate:Be,createHref:ue=>e.history.createHref(ue),encodeLocation:ue=>e.history.encodeLocation(ue),getFetcher:$t,deleteFetcher:Ni,dispose:ae,getBlocker:ds,deleteBlocker:Yi,patchRoutes:yr,_internalFetchControllers:ee,_internalSetRoutes:Zt,_internalSetStateDoNotUseOrYouWillBreakYourApp(ue){ie(ue)}},E}function B0e(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function BP(e,t,r,n,i,a){let s,o;if(i){s=[];for(let u of t)if(s.push(u),u.route.id===i){o=u;break}}else s=t,o=t[t.length-1];let c=H2(n||".",W2(s),bo(e.pathname,r)||e.pathname,a==="path");if(n==null&&(c.search=e.search,c.hash=e.hash),(n==null||n===""||n===".")&&o){let u=qO(c.search);if(o.route.index&&!u)c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index";else if(!o.route.index&&u){let d=new URLSearchParams(c.search),f=d.getAll("index");d.delete("index"),f.filter(m=>m).forEach(m=>d.append("index",m));let h=d.toString();c.search=h?`?${h}`:""}}return r!=="/"&&(c.pathname=T0e({basename:r,pathname:c.pathname})),Bd(c)}function L5(e,t,r){if(!r||!B0e(r))return{path:t};if(r.formMethod&&!Z0e(r.formMethod))return{path:t,error:eo(405,{method:r.formMethod})};let n=()=>({path:t,error:eo(400,{type:"invalid-body"})}),a=(r.formMethod||"get").toUpperCase(),s=cK(t);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!qa(a))return n();let f=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((h,[m,g])=>`${h}${m}=${g}
`,""):String(r.body);return{path:t,submission:{formMethod:a,formAction:s,formEncType:r.formEncType,formData:void 0,json:void 0,text:f}}}else if(r.formEncType==="application/json"){if(!qa(a))return n();try{let f=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:t,submission:{formMethod:a,formAction:s,formEncType:r.formEncType,formData:void 0,json:f,text:void 0}}}catch{return n()}}}Xt(typeof FormData=="function","FormData is not available in this environment");let o,c;if(r.formData)o=zP(r.formData),c=r.formData;else if(r.body instanceof FormData)o=zP(r.body),c=r.body;else if(r.body instanceof URLSearchParams)o=r.body,c=W5(o);else if(r.body==null)o=new URLSearchParams,c=new FormData;else try{o=new URLSearchParams(r.body),c=W5(o)}catch{return n()}let u={formMethod:a,formAction:s,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(qa(u.formMethod))return{path:t,submission:u};let d=df(t);return e&&d.search&&qO(d.search)&&o.append("index",""),d.search=`?${o}`,{path:Bd(d),submission:u}}function F5(e,t,r,n,i,a,s,o,c,u,d,f,h,m,g,p,v,y,x,w){var k;let N=w?gs(w[1])?w[1].error:w[1].data:void 0,E=i.createURL(a.location),T=i.createURL(c),S;if(d&&a.errors){let D=Object.keys(a.errors)[0];S=s.findIndex(B=>B.route.id===D)}else if(w&&gs(w[1])){let D=w[0];S=s.findIndex(B=>B.route.id===D)-1}let A=w?w[1].statusCode:void 0,C=A&&A>=400,j={currentUrl:E,currentParams:((k=a.matches[0])==null?void 0:k.params)||{},nextUrl:T,nextParams:s[0].params,...o,actionResult:N,actionStatus:A},I=s.map((D,B)=>{let{route:ee}=D,z=null;if(S!=null&&B>S?z=!1:ee.lazy?z=!0:ee.loader==null?z=!1:d?z=VP(ee,a.loaderData,a.errors):V0e(a.loaderData,a.matches[B],D)&&(z=!0),z!==null)return UP(r,n,e,D,u,t,z);let V=C?!1:f||E.pathname+E.search===T.pathname+T.search||E.search!==T.search||U0e(a.matches[B],D),U={...j,defaultShouldRevalidate:V},se=gE(D,U);return UP(r,n,e,D,u,t,se,U)}),O=[];return g.forEach((D,B)=>{if(d||!s.some(W=>W.route.id===D.routeId)||m.has(B))return;let ee=a.fetchers.get(B),z=ee&&ee.state!=="idle"&&ee.data===void 0,V=Ju(v,D.path,y);if(!V){if(x&&z)return;O.push({key:B,routeId:D.routeId,path:D.path,matches:null,match:null,request:null,controller:null});return}if(p.has(B))return;let U=c_(V,D.path),se=new AbortController,ne=Fm(i,D.path,se.signal),M=null;if(h.has(B))h.delete(B),M=Sp(r,n,ne,V,U,u,t);else if(z)f&&(M=Sp(r,n,ne,V,U,u,t));else{let W={...j,defaultShouldRevalidate:C?!1:f};gE(U,W)&&(M=Sp(r,n,ne,V,U,u,t,W))}M&&O.push({key:B,routeId:D.routeId,path:D.path,matches:M,match:U,request:ne,controller:se})}),{dsMatches:I,revalidatingFetchers:O}}function VP(e,t,r){if(e.lazy)return!0;if(!e.loader)return!1;let n=t!=null&&e.id in t,i=r!=null&&r[e.id]!==void 0;return!n&&i?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!n&&!i}function V0e(e,t,r){let n=!t||r.route.id!==t.route.id,i=!e.hasOwnProperty(r.route.id);return n||i}function U0e(e,t){let r=e.route.path;return e.pathname!==t.pathname||r!=null&&r.endsWith("*")&&e.params["*"]!==t.params["*"]}function gE(e,t){if(e.route.shouldRevalidate){let r=e.route.shouldRevalidate(t);if(typeof r=="boolean")return r}return t.defaultShouldRevalidate}function $5(e,t,r,n,i,a){let s;if(e){let u=n[e];Xt(u,`No route found to patch children into: routeId = ${e}`),u.children||(u.children=[]),s=u.children}else s=r;let o=[],c=[];if(t.forEach(u=>{let d=s.find(f=>iK(u,f));d?c.push({existingRoute:d,newRoute:u}):o.push(u)}),o.length>0){let u=Gy(o,i,[e||"_","patch",String((s==null?void 0:s.length)||"0")],n);s.push(...u)}if(a&&c.length>0)for(let u=0;u<c.length;u++){let{existingRoute:d,newRoute:f}=c[u],h=d,[m]=Gy([f],i,[],{},!0);Object.assign(h,{element:m.element?m.element:h.element,errorElement:m.errorElement?m.errorElement:h.errorElement,hydrateFallbackElement:m.hydrateFallbackElement?m.hydrateFallbackElement:h.hydrateFallbackElement})}}function iK(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((r,n)=>{var i;return(i=t.children)==null?void 0:i.some(a=>iK(r,a))}):!1}var B5=new WeakMap,aK=({key:e,route:t,manifest:r,mapRouteProperties:n})=>{let i=r[t.id];if(Xt(i,"No route found in manifest"),!i.lazy||typeof i.lazy!="object")return;let a=i.lazy[e];if(!a)return;let s=B5.get(i);s||(s={},B5.set(i,s));let o=s[e];if(o)return o;let c=(async()=>{let u=l0e(e),f=i[e]!==void 0&&e!=="hasErrorBoundary";if(u)Un(!u,"Route property "+e+" is not a supported lazy route property. This property will be ignored."),s[e]=Promise.resolve();else if(f)Un(!1,`Route "${i.id}" has a static property "${e}" defined. The lazy property will be ignored.`);else{let h=await a();h!=null&&(Object.assign(i,{[e]:h}),Object.assign(i,n(i)))}typeof i.lazy=="object"&&(i.lazy[e]=void 0,Object.values(i.lazy).every(h=>h===void 0)&&(i.lazy=void 0))})();return s[e]=c,c},V5=new WeakMap;function z0e(e,t,r,n,i){let a=r[e.id];if(Xt(a,"No route found in manifest"),!e.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof e.lazy=="function"){let d=V5.get(a);if(d)return{lazyRoutePromise:d,lazyHandlerPromise:d};let f=(async()=>{Xt(typeof e.lazy=="function","No lazy route function found");let h=await e.lazy(),m={};for(let g in h){let p=h[g];if(p===void 0)continue;let v=u0e(g),x=a[g]!==void 0&&g!=="hasErrorBoundary";v?Un(!v,"Route property "+g+" is not a supported property to be returned from a lazy route function. This property will be ignored."):x?Un(!x,`Route "${a.id}" has a static property "${g}" defined but its lazy function is also returning a value for this property. The lazy route property "${g}" will be ignored.`):m[g]=p}Object.assign(a,m),Object.assign(a,{...n(a),lazy:void 0})})();return V5.set(a,f),f.catch(()=>{}),{lazyRoutePromise:f,lazyHandlerPromise:f}}let s=Object.keys(e.lazy),o=[],c;for(let d of s){if(i&&i.includes(d))continue;let f=aK({key:d,route:e,manifest:r,mapRouteProperties:n});f&&(o.push(f),d===t&&(c=f))}let u=o.length>0?Promise.all(o).then(()=>{}):void 0;return u==null||u.catch(()=>{}),c==null||c.catch(()=>{}),{lazyRoutePromise:u,lazyHandlerPromise:c}}async function U5(e){let t=e.matches.filter(i=>i.shouldLoad),r={};return(await Promise.all(t.map(i=>i.resolve()))).forEach((i,a)=>{r[t[a].route.id]=i}),r}async function W0e(e){return e.matches.some(t=>t.route.unstable_middleware)?sK(e,!1,()=>U5(e),(t,r)=>({[r]:{type:"error",result:t}})):U5(e)}async function sK(e,t,r,n){let{matches:i,request:a,params:s,context:o}=e,c={handlerResult:void 0};try{let u=i.flatMap(f=>f.route.unstable_middleware?f.route.unstable_middleware.map(h=>[f.route.id,h]):[]),d=await oK({request:a,params:s,context:o},u,t,c,r);return t?d:c.handlerResult}catch(u){if(!c.middlewareError)throw u;let d=await n(c.middlewareError.error,c.middlewareError.routeId);return c.handlerResult?Object.assign(c.handlerResult,d):d}}async function oK(e,t,r,n,i,a=0){let{request:s}=e;if(s.signal.aborted)throw s.signal.reason?s.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${s.method} ${s.url}`);let o=t[a];if(!o)return n.handlerResult=await i(),n.handlerResult;let[c,u]=o,d=!1,f,h=async()=>{if(d)throw new Error("You may only call `next()` once per middleware");d=!0,await oK(e,t,r,n,i,a+1)};try{let m=await u({request:e.request,params:e.params,context:e.context},h);return d?m===void 0?f:m:h()}catch(m){throw n.middlewareError?n.middlewareError.error!==m&&(n.middlewareError={routeId:c,error:m}):n.middlewareError={routeId:c,error:m},m}}function lK(e,t,r,n,i){let a=aK({key:"unstable_middleware",route:n.route,manifest:t,mapRouteProperties:e}),s=z0e(n.route,qa(r.method)?"action":"loader",t,e,i);return{middleware:a,route:s.lazyRoutePromise,handler:s.lazyHandlerPromise}}function UP(e,t,r,n,i,a,s,o=null){let c=!1,u=lK(e,t,r,n,i);return{...n,_lazyPromises:u,shouldLoad:s,unstable_shouldRevalidateArgs:o,unstable_shouldCallHandler(d){return c=!0,o?typeof d=="boolean"?gE(n,{...o,defaultShouldRevalidate:d}):gE(n,o):s},resolve(d){return c||s||d&&!qa(r.method)&&(n.route.lazy||n.route.loader)?q0e({request:r,match:n,lazyHandlerPromise:u==null?void 0:u.handler,lazyRoutePromise:u==null?void 0:u.route,handlerOverride:d,scopedContext:a}):Promise.resolve({type:"data",result:void 0})}}}function Sp(e,t,r,n,i,a,s,o=null){return n.map(c=>c.route.id!==i.route.id?{...c,shouldLoad:!1,unstable_shouldRevalidateArgs:o,unstable_shouldCallHandler:()=>!1,_lazyPromises:lK(e,t,r,c,a),resolve:()=>Promise.resolve({type:"data",result:void 0})}:UP(e,t,r,c,a,s,!0,o))}async function H0e(e,t,r,n,i,a){r.some(u=>{var d;return(d=u._lazyPromises)==null?void 0:d.middleware})&&await Promise.all(r.map(u=>{var d;return(d=u._lazyPromises)==null?void 0:d.middleware}));let s={request:t,params:r[0].params,context:i,matches:r},c=await e({...s,fetcherKey:n,unstable_runClientMiddleware:u=>{let d=s;return sK(d,!1,()=>u({...d,fetcherKey:n,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(f,h)=>({[h]:{type:"error",result:f}}))}});try{await Promise.all(r.flatMap(u=>{var d,f;return[(d=u._lazyPromises)==null?void 0:d.handler,(f=u._lazyPromises)==null?void 0:f.route]}))}catch{}return c}async function q0e({request:e,match:t,lazyHandlerPromise:r,lazyRoutePromise:n,handlerOverride:i,scopedContext:a}){let s,o,c=qa(e.method),u=c?"action":"loader",d=f=>{let h,m=new Promise((v,y)=>h=y);o=()=>h(),e.signal.addEventListener("abort",o);let g=v=>typeof f!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${u}" [routeId: ${t.route.id}]`)):f({request:e,params:t.params,context:a},...v!==void 0?[v]:[]),p=(async()=>{try{return{type:"data",result:await(i?i(y=>g(y)):g())}}catch(v){return{type:"error",result:v}}})();return Promise.race([p,m])};try{let f=c?t.route.action:t.route.loader;if(r||n)if(f){let h,[m]=await Promise.all([d(f).catch(g=>{h=g}),r,n]);if(h!==void 0)throw h;s=m}else{await r;let h=c?t.route.action:t.route.loader;if(h)[s]=await Promise.all([d(h),n]);else if(u==="action"){let m=new URL(e.url),g=m.pathname+m.search;throw eo(405,{method:e.method,pathname:g,routeId:t.route.id})}else return{type:"data",result:void 0}}else if(f)s=await d(f);else{let h=new URL(e.url),m=h.pathname+h.search;throw eo(404,{pathname:m})}}catch(f){return{type:"error",result:f}}finally{o&&e.signal.removeEventListener("abort",o)}return s}async function G0e(e){var n,i,a,s,o,c;let{result:t,type:r}=e;if(uK(t)){let u;try{let d=t.headers.get("Content-Type");d&&/\bapplication\/json\b/.test(d)?t.body==null?u=null:u=await t.json():u=await t.text()}catch(d){return{type:"error",error:d}}return r==="error"?{type:"error",error:new pE(t.status,t.statusText,u),statusCode:t.status,headers:t.headers}:{type:"data",data:u,statusCode:t.status,headers:t.headers}}return r==="error"?Y5(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:(n=t.init)==null?void 0:n.status,headers:(i=t.init)!=null&&i.headers?new Headers(t.init.headers):void 0}:{type:"error",error:new pE(((a=t.init)==null?void 0:a.status)||500,void 0,t.data),statusCode:Ky(t)?t.status:void 0,headers:(s=t.init)!=null&&s.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:Ky(t)?t.status:void 0}:Y5(t)?{type:"data",data:t.data,statusCode:(o=t.init)==null?void 0:o.status,headers:(c=t.init)!=null&&c.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}}function K0e(e,t,r,n,i){let a=e.headers.get("Location");if(Xt(a,"Redirects returned/thrown from loaders/actions must have a Location header"),!HO(a)){let s=n.slice(0,n.findIndex(o=>o.route.id===r)+1);a=BP(new URL(t.url),s,i,a),e.headers.set("Location",a)}return e}function z5(e,t,r){if(HO(e)){let n=e,i=n.startsWith("//")?new URL(t.protocol+n):new URL(n),a=bo(i.pathname,r)!=null;if(i.origin===t.origin&&a)return i.pathname+i.search+i.hash}return e}function Fm(e,t,r,n){let i=e.createURL(cK(t)).toString(),a={signal:r};if(n&&qa(n.formMethod)){let{formMethod:s,formEncType:o}=n;a.method=s.toUpperCase(),o==="application/json"?(a.headers=new Headers({"Content-Type":o}),a.body=JSON.stringify(n.json)):o==="text/plain"?a.body=n.text:o==="application/x-www-form-urlencoded"&&n.formData?a.body=zP(n.formData):a.body=n.formData}return new Request(i,a)}function zP(e){let t=new URLSearchParams;for(let[r,n]of e.entries())t.append(r,typeof n=="string"?n:n.name);return t}function W5(e){let t=new FormData;for(let[r,n]of e.entries())t.append(r,n);return t}function Y0e(e,t,r,n=!1,i=!1){let a={},s=null,o,c=!1,u={},d=r&&gs(r[1])?r[1].error:void 0;return e.forEach(f=>{if(!(f.route.id in t))return;let h=f.route.id,m=t[h];if(Xt(!Yf(m),"Cannot handle redirect results in processLoaderData"),gs(m)){let g=m.error;if(d!==void 0&&(g=d,d=void 0),s=s||{},i)s[h]=g;else{let p=zf(e,h);s[p.route.id]==null&&(s[p.route.id]=g)}n||(a[h]=nK),c||(c=!0,o=Ky(m.error)?m.error.status:500),m.headers&&(u[h]=m.headers)}else a[h]=m.data,m.statusCode&&m.statusCode!==200&&!c&&(o=m.statusCode),m.headers&&(u[h]=m.headers)}),d!==void 0&&r&&(s={[r[0]]:d},r[2]&&(a[r[2]]=void 0)),{loaderData:a,errors:s,statusCode:o||200,loaderHeaders:u}}function H5(e,t,r,n,i,a){let{loaderData:s,errors:o}=Y0e(t,r,n);return i.filter(c=>!c.matches||c.matches.some(u=>u.shouldLoad)).forEach(c=>{let{key:u,match:d,controller:f}=c,h=a[u];if(Xt(h,"Did not find corresponding fetcher result"),!(f&&f.signal.aborted))if(gs(h)){let m=zf(e.matches,d==null?void 0:d.route.id);o&&o[m.route.id]||(o={...o,[m.route.id]:h.error}),e.fetchers.delete(u)}else if(Yf(h))Xt(!1,"Unhandled fetcher revalidation redirect");else{let m=Wu(h.data);e.fetchers.set(u,m)}}),{loaderData:s,errors:o}}function q5(e,t,r,n){let i=Object.entries(t).filter(([,a])=>a!==nK).reduce((a,[s,o])=>(a[s]=o,a),{});for(let a of r){let s=a.route.id;if(!t.hasOwnProperty(s)&&e.hasOwnProperty(s)&&a.route.loader&&(i[s]=e[s]),n&&n.hasOwnProperty(s))break}return i}function G5(e){return e?gs(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function zf(e,t){return(t?e.slice(0,e.findIndex(n=>n.route.id===t)+1):[...e]).reverse().find(n=>n.route.hasErrorBoundary===!0)||e[0]}function K5(e){let t=e.length===1?e[0]:e.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function eo(e,{pathname:t,routeId:r,method:n,type:i,message:a}={}){let s="Unknown Server Error",o="Unknown @remix-run/router error";return e===400?(s="Bad Request",n&&t&&r?o=`You made a ${n} request to "${t}" but did not provide a \`loader\` for route "${r}", so there is no way to handle the request.`:i==="invalid-body"&&(o="Unable to encode submission body")):e===403?(s="Forbidden",o=`Route "${r}" does not match URL "${t}"`):e===404?(s="Not Found",o=`No route matches URL "${t}"`):e===405&&(s="Method Not Allowed",n&&t&&r?o=`You made a ${n.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${r}", so there is no way to handle the request.`:n&&(o=`Invalid request method "${n.toUpperCase()}"`)),new pE(e||500,s,new Error(o),!0)}function Qb(e){let t=Object.entries(e);for(let r=t.length-1;r>=0;r--){let[n,i]=t[r];if(Yf(i))return{key:n,result:i}}}function cK(e){let t=typeof e=="string"?df(e):e;return Bd({...t,hash:""})}function X0e(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function Q0e(e){return uK(e.result)&&O0e.has(e.result.status)}function gs(e){return e.type==="error"}function Yf(e){return(e&&e.type)==="redirect"}function Y5(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function uK(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function Z0e(e){return I0e.has(e.toUpperCase())}function qa(e){return R0e.has(e.toUpperCase())}function qO(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function c_(e,t){let r=typeof t=="string"?df(t).search:t.search;if(e[e.length-1].route.index&&qO(r||""))return e[e.length-1];let n=eK(e);return n[n.length-1]}function X5(e){let{formMethod:t,formAction:r,formEncType:n,text:i,formData:a,json:s}=e;if(!(!t||!r||!n)){if(i!=null)return{formMethod:t,formAction:r,formEncType:n,formData:void 0,json:void 0,text:i};if(a!=null)return{formMethod:t,formAction:r,formEncType:n,formData:a,json:void 0,text:void 0};if(s!==void 0)return{formMethod:t,formAction:r,formEncType:n,formData:void 0,json:s,text:void 0}}}function $A(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function J0e(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function rv(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function ege(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function Wu(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function tge(e,t){try{let r=e.sessionStorage.getItem(rK);if(r){let n=JSON.parse(r);for(let[i,a]of Object.entries(n||{}))a&&Array.isArray(a)&&t.set(i,new Set(a||[]))}}catch{}}function rge(e,t){if(t.size>0){let r={};for(let[n,i]of t)r[n]=[...i];try{e.sessionStorage.setItem(rK,JSON.stringify(r))}catch(n){Un(!1,`Failed to save applied view transitions in sessionStorage (${n}).`)}}}function nge(){let e,t,r=new Promise((n,i)=>{e=async a=>{n(a);try{await r}catch{}},t=async a=>{i(a);try{await r}catch{}}});return{promise:r,resolve:e,reject:t}}var nm=b.createContext(null);nm.displayName="DataRouter";var v1=b.createContext(null);v1.displayName="DataRouterState";b.createContext(!1);var GO=b.createContext({isTransitioning:!1});GO.displayName="ViewTransition";var dK=b.createContext(new Map);dK.displayName="Fetchers";var ige=b.createContext(null);ige.displayName="Await";var yl=b.createContext(null);yl.displayName="Navigation";var q2=b.createContext(null);q2.displayName="Location";var xl=b.createContext({outlet:null,matches:[],isDataRoute:!1});xl.displayName="Route";var KO=b.createContext(null);KO.displayName="RouteError";function age(e,{relative:t}={}){Xt(og(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=b.useContext(yl),{hash:i,pathname:a,search:s}=y1(e,{relative:t}),o=a;return r!=="/"&&(o=a==="/"?r:Kl([r,a])),n.createHref({pathname:o,search:s,hash:i})}function og(){return b.useContext(q2)!=null}function ls(){return Xt(og(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(q2).location}var fK="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function hK(e){b.useContext(yl).static||b.useLayoutEffect(e)}function im(){let{isDataRoute:e}=b.useContext(xl);return e?bge():sge()}function sge(){Xt(og(),"useNavigate() may be used only in the context of a <Router> component.");let e=b.useContext(nm),{basename:t,navigator:r}=b.useContext(yl),{matches:n}=b.useContext(xl),{pathname:i}=ls(),a=JSON.stringify(W2(n)),s=b.useRef(!1);return hK(()=>{s.current=!0}),b.useCallback((c,u={})=>{if(Un(s.current,fK),!s.current)return;if(typeof c=="number"){r.go(c);return}let d=H2(c,JSON.parse(a),i,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Kl([t,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[t,r,a,i,e])}var oge=b.createContext(null);function lge(e){let t=b.useContext(xl).outlet;return t&&b.createElement(oge.Provider,{value:e},t)}function y1(e,{relative:t}={}){let{matches:r}=b.useContext(xl),{pathname:n}=ls(),i=JSON.stringify(W2(r));return b.useMemo(()=>H2(e,JSON.parse(i),n,t==="path"),[e,i,n,t])}function cge(e,t,r,n){Xt(og(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=b.useContext(yl),{matches:a}=b.useContext(xl),s=a[a.length-1],o=s?s.params:{},c=s?s.pathname:"/",u=s?s.pathnameBase:"/",d=s&&s.route;{let y=d&&d.path||"";mK(c,!d||y.endsWith("*")||y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${y}"> to <Route path="${y==="/"?"*":`${y}/*`}">.`)}let f=ls(),h;h=f;let m=h.pathname||"/",g=m;if(u!=="/"){let y=u.replace(/^\//,"").split("/");g="/"+m.replace(/^\//,"").split("/").slice(y.length).join("/")}let p=Ju(e,{pathname:g});return Un(d||p!=null,`No routes matched location "${h.pathname}${h.search}${h.hash}" `),Un(p==null||p[p.length-1].route.element!==void 0||p[p.length-1].route.Component!==void 0||p[p.length-1].route.lazy!==void 0,`Matched leaf route at location "${h.pathname}${h.search}${h.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),mge(p&&p.map(y=>Object.assign({},y,{params:Object.assign({},o,y.params),pathname:Kl([u,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?u:Kl([u,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),a,r,n)}function uge(){let e=xge(),t=Ky(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},a={padding:"2px 4px",backgroundColor:n},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=b.createElement(b.Fragment,null,b.createElement("p",null,"💿 Hey developer 👋"),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:a},"ErrorBoundary")," or"," ",b.createElement("code",{style:a},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),r?b.createElement("pre",{style:i},r):null,s)}var dge=b.createElement(uge,null),fge=class extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?b.createElement(xl.Provider,{value:this.props.routeContext},b.createElement(KO.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function hge({routeContext:e,match:t,children:r}){let n=b.useContext(nm);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),b.createElement(xl.Provider,{value:e},r)}function mge(e,t=[],r=null,n=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,a=r==null?void 0:r.errors;if(a!=null){let c=i.findIndex(u=>u.route.id&&(a==null?void 0:a[u.route.id])!==void 0);Xt(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,c+1))}let s=!1,o=-1;if(r)for(let c=0;c<i.length;c++){let u=i[c];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(o=c),u.route.id){let{loaderData:d,errors:f}=r,h=u.route.loader&&!d.hasOwnProperty(u.route.id)&&(!f||f[u.route.id]===void 0);if(u.route.lazy||h){s=!0,o>=0?i=i.slice(0,o+1):i=[i[0]];break}}}return i.reduceRight((c,u,d)=>{let f,h=!1,m=null,g=null;r&&(f=a&&u.route.id?a[u.route.id]:void 0,m=u.route.errorElement||dge,s&&(o<0&&d===0?(mK("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,g=null):o===d&&(h=!0,g=u.route.hydrateFallbackElement||null)));let p=t.concat(i.slice(0,d+1)),v=()=>{let y;return f?y=m:h?y=g:u.route.Component?y=b.createElement(u.route.Component,null):u.route.element?y=u.route.element:y=c,b.createElement(hge,{match:u,routeContext:{outlet:c,matches:p,isDataRoute:r!=null},children:y})};return r&&(u.route.ErrorBoundary||u.route.errorElement||d===0)?b.createElement(fge,{location:r.location,revalidation:r.revalidation,component:m,error:f,children:v(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):v()},null)}function YO(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function pge(e){let t=b.useContext(nm);return Xt(t,YO(e)),t}function gge(e){let t=b.useContext(v1);return Xt(t,YO(e)),t}function vge(e){let t=b.useContext(xl);return Xt(t,YO(e)),t}function XO(e){let t=vge(e),r=t.matches[t.matches.length-1];return Xt(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function yge(){return XO("useRouteId")}function xge(){var n;let e=b.useContext(KO),t=gge("useRouteError"),r=XO("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function bge(){let{router:e}=pge("useNavigate"),t=XO("useNavigate"),r=b.useRef(!1);return hK(()=>{r.current=!0}),b.useCallback(async(i,a={})=>{Un(r.current,fK),r.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...a}))},[e,t])}var Q5={};function mK(e,t,r){!t&&!Q5[e]&&(Q5[e]=!0,Un(!1,r))}var Z5={};function J5(e,t){!e&&!Z5[t]&&(Z5[t]=!0,console.warn(t))}function wge(e){let t={hasErrorBoundary:e.hasErrorBoundary||e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&(e.element&&Un(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:b.createElement(e.Component),Component:void 0})),e.HydrateFallback&&(e.hydrateFallbackElement&&Un(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:b.createElement(e.HydrateFallback),HydrateFallback:void 0})),e.ErrorBoundary&&(e.errorElement&&Un(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:b.createElement(e.ErrorBoundary),ErrorBoundary:void 0})),t}var _ge=["HydrateFallback","hydrateFallbackElement"],Ege=class{constructor(){this.status="pending",this.promise=new Promise((t,r)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",t(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",r(n))}})}};function Sge({router:e,flushSync:t}){let[r,n]=b.useState(e.state),[i,a]=b.useState(),[s,o]=b.useState({isTransitioning:!1}),[c,u]=b.useState(),[d,f]=b.useState(),[h,m]=b.useState(),g=b.useRef(new Map),p=b.useCallback((w,{deletedFetchers:N,flushSync:E,viewTransitionOpts:T})=>{w.fetchers.forEach((A,C)=>{A.data!==void 0&&g.current.set(C,A.data)}),N.forEach(A=>g.current.delete(A)),J5(E===!1||t!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let S=e.window!=null&&e.window.document!=null&&typeof e.window.document.startViewTransition=="function";if(J5(T==null||S,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!T||!S){t&&E?t(()=>n(w)):b.startTransition(()=>n(w));return}if(t&&E){t(()=>{d&&(c&&c.resolve(),d.skipTransition()),o({isTransitioning:!0,flushSync:!0,currentLocation:T.currentLocation,nextLocation:T.nextLocation})});let A=e.window.document.startViewTransition(()=>{t(()=>n(w))});A.finished.finally(()=>{t(()=>{u(void 0),f(void 0),a(void 0),o({isTransitioning:!1})})}),t(()=>f(A));return}d?(c&&c.resolve(),d.skipTransition(),m({state:w,currentLocation:T.currentLocation,nextLocation:T.nextLocation})):(a(w),o({isTransitioning:!0,flushSync:!1,currentLocation:T.currentLocation,nextLocation:T.nextLocation}))},[e.window,t,d,c]);b.useLayoutEffect(()=>e.subscribe(p),[e,p]),b.useEffect(()=>{s.isTransitioning&&!s.flushSync&&u(new Ege)},[s]),b.useEffect(()=>{if(c&&i&&e.window){let w=i,N=c.promise,E=e.window.document.startViewTransition(async()=>{b.startTransition(()=>n(w)),await N});E.finished.finally(()=>{u(void 0),f(void 0),a(void 0),o({isTransitioning:!1})}),f(E)}},[i,c,e.window]),b.useEffect(()=>{c&&i&&r.location.key===i.location.key&&c.resolve()},[c,d,r.location,i]),b.useEffect(()=>{!s.isTransitioning&&h&&(a(h.state),o({isTransitioning:!0,flushSync:!1,currentLocation:h.currentLocation,nextLocation:h.nextLocation}),m(void 0))},[s.isTransitioning,h]);let v=b.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:w=>e.navigate(w),push:(w,N,E)=>e.navigate(w,{state:N,preventScrollReset:E==null?void 0:E.preventScrollReset}),replace:(w,N,E)=>e.navigate(w,{replace:!0,state:N,preventScrollReset:E==null?void 0:E.preventScrollReset})}),[e]),y=e.basename||"/",x=b.useMemo(()=>({router:e,navigator:v,static:!1,basename:y}),[e,v,y]);return b.createElement(b.Fragment,null,b.createElement(nm.Provider,{value:x},b.createElement(v1.Provider,{value:r},b.createElement(dK.Provider,{value:g.current},b.createElement(GO.Provider,{value:s},b.createElement(Cge,{basename:y,location:r.location,navigationType:r.historyAction,navigator:v},b.createElement(Tge,{routes:e.routes,future:e.future,state:r})))))),null)}var Tge=b.memo(Nge);function Nge({routes:e,future:t,state:r}){return cge(e,void 0,r,t)}function Xv({to:e,replace:t,state:r,relative:n}){Xt(og(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=b.useContext(yl);Un(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=b.useContext(xl),{pathname:s}=ls(),o=im(),c=H2(e,W2(a),s,n==="path"),u=JSON.stringify(c);return b.useEffect(()=>{o(JSON.parse(u),{replace:t,state:r,relative:n})},[o,u,n,t,r]),null}function Age(e){return lge(e.context)}function Cge({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:i,static:a=!1}){Xt(!og(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=e.replace(/^\/*/,"/"),o=b.useMemo(()=>({basename:s,navigator:i,static:a,future:{}}),[s,i,a]);typeof r=="string"&&(r=df(r));let{pathname:c="/",search:u="",hash:d="",state:f=null,key:h="default"}=r,m=b.useMemo(()=>{let g=bo(c,s);return g==null?null:{location:{pathname:g,search:u,hash:d,state:f,key:h},navigationType:n}},[s,c,u,d,f,h,n]);return Un(m!=null,`<Router basename="${s}"> is not able to match the URL "${c}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:b.createElement(yl.Provider,{value:o},b.createElement(q2.Provider,{children:t,value:m}))}var u_="get",d_="application/x-www-form-urlencoded";function G2(e){return e!=null&&typeof e.tagName=="string"}function jge(e){return G2(e)&&e.tagName.toLowerCase()==="button"}function Pge(e){return G2(e)&&e.tagName.toLowerCase()==="form"}function Rge(e){return G2(e)&&e.tagName.toLowerCase()==="input"}function kge(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Ige(e,t){return e.button===0&&(!t||t==="_self")&&!kge(e)}var Zb=null;function Oge(){if(Zb===null)try{new FormData(document.createElement("form"),0),Zb=!1}catch{Zb=!0}return Zb}var Dge=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function BA(e){return e!=null&&!Dge.has(e)?(Un(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${d_}"`),null):e}function Mge(e,t){let r,n,i,a,s;if(Pge(e)){let o=e.getAttribute("action");n=o?bo(o,t):null,r=e.getAttribute("method")||u_,i=BA(e.getAttribute("enctype"))||d_,a=new FormData(e)}else if(jge(e)||Rge(e)&&(e.type==="submit"||e.type==="image")){let o=e.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||o.getAttribute("action");if(n=c?bo(c,t):null,r=e.getAttribute("formmethod")||o.getAttribute("method")||u_,i=BA(e.getAttribute("formenctype"))||BA(o.getAttribute("enctype"))||d_,a=new FormData(o,e),!Oge()){let{name:u,type:d,value:f}=e;if(d==="image"){let h=u?`${u}.`:"";a.append(`${h}x`,"0"),a.append(`${h}y`,"0")}else u&&a.append(u,f)}}else{if(G2(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=u_,n=null,i=d_,s=e}return a&&i==="text/plain"&&(s=a,a=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:a,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function QO(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Lge(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&bo(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function Fge(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function $ge(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Bge(e,t,r){let n=await Promise.all(e.map(async i=>{let a=t.routes[i.route.id];if(a){let s=await Fge(a,r);return s.links?s.links():[]}return[]}));return Wge(n.flat(1).filter($ge).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function e6(e,t,r,n,i,a){let s=(c,u)=>r[u]?c.route.id!==r[u].route.id:!0,o=(c,u)=>{var d;return r[u].pathname!==c.pathname||((d=r[u].route.path)==null?void 0:d.endsWith("*"))&&r[u].params["*"]!==c.params["*"]};return a==="assets"?t.filter((c,u)=>s(c,u)||o(c,u)):a==="data"?t.filter((c,u)=>{var f;let d=n.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(s(c,u)||o(c,u))return!0;if(c.route.shouldRevalidate){let h=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((f=r[0])==null?void 0:f.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function Vge(e,t,{includeHydrateFallback:r}={}){return Uge(e.map(n=>{let i=t.routes[n.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function Uge(e){return[...new Set(e)]}function zge(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function Wge(e,t){let r=new Set;return new Set(t),e.reduce((n,i)=>{let a=JSON.stringify(zge(i));return r.has(a)||(r.add(a),n.push({key:a,link:i})),n},[])}function pK(){let e=b.useContext(nm);return QO(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Hge(){let e=b.useContext(v1);return QO(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var ZO=b.createContext(void 0);ZO.displayName="FrameworkContext";function gK(){let e=b.useContext(ZO);return QO(e,"You must render this element inside a <HydratedRouter> element"),e}function qge(e,t){let r=b.useContext(ZO),[n,i]=b.useState(!1),[a,s]=b.useState(!1),{onFocus:o,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:f}=t,h=b.useRef(null);b.useEffect(()=>{if(e==="render"&&s(!0),e==="viewport"){let p=y=>{y.forEach(x=>{s(x.isIntersecting)})},v=new IntersectionObserver(p,{threshold:.5});return h.current&&v.observe(h.current),()=>{v.disconnect()}}},[e]),b.useEffect(()=>{if(n){let p=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(p)}}},[n]);let m=()=>{i(!0)},g=()=>{i(!1),s(!1)};return r?e!=="intent"?[a,h,{}]:[a,h,{onFocus:nv(o,m),onBlur:nv(c,g),onMouseEnter:nv(u,m),onMouseLeave:nv(d,g),onTouchStart:nv(f,m)}]:[!1,h,{}]}function nv(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function Gge({page:e,...t}){let{router:r}=pK(),n=b.useMemo(()=>Ju(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?b.createElement(Yge,{page:e,matches:n,...t}):null}function Kge(e){let{manifest:t,routeModules:r}=gK(),[n,i]=b.useState([]);return b.useEffect(()=>{let a=!1;return Bge(e,t,r).then(s=>{a||i(s)}),()=>{a=!0}},[e,t,r]),n}function Yge({page:e,matches:t,...r}){let n=ls(),{manifest:i,routeModules:a}=gK(),{basename:s}=pK(),{loaderData:o,matches:c}=Hge(),u=b.useMemo(()=>e6(e,t,c,i,n,"data"),[e,t,c,i,n]),d=b.useMemo(()=>e6(e,t,c,i,n,"assets"),[e,t,c,i,n]),f=b.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let g=new Set,p=!1;if(t.forEach(y=>{var w;let x=i.routes[y.route.id];!x||!x.hasLoader||(!u.some(N=>N.route.id===y.route.id)&&y.route.id in o&&((w=a[y.route.id])!=null&&w.shouldRevalidate)||x.hasClientLoader?p=!0:g.add(y.route.id))}),g.size===0)return[];let v=Lge(e,s,"data");return p&&g.size>0&&v.searchParams.set("_routes",t.filter(y=>g.has(y.route.id)).map(y=>y.route.id).join(",")),[v.pathname+v.search]},[s,o,n,i,u,t,e,a]),h=b.useMemo(()=>Vge(d,i),[d,i]),m=Kge(d);return b.createElement(b.Fragment,null,f.map(g=>b.createElement("link",{key:g,rel:"prefetch",as:"fetch",href:g,...r})),h.map(g=>b.createElement("link",{key:g,rel:"modulepreload",href:g,...r})),m.map(({key:g,link:p})=>b.createElement("link",{key:g,...p})))}function Xge(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var vK=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{vK&&(window.__reactRouterVersion="7.7.1")}catch{}function Qge(e,t){return $0e({basename:t==null?void 0:t.basename,unstable_getContext:t==null?void 0:t.unstable_getContext,future:t==null?void 0:t.future,history:i0e({window:t==null?void 0:t.window}),hydrationData:(t==null?void 0:t.hydrationData)||Zge(),routes:e,mapRouteProperties:wge,hydrationRouteProperties:_ge,dataStrategy:t==null?void 0:t.dataStrategy,patchRoutesOnNavigation:t==null?void 0:t.patchRoutesOnNavigation,window:t==null?void 0:t.window}).initialize()}function Zge(){let e=window==null?void 0:window.__staticRouterHydrationData;return e&&e.errors&&(e={...e,errors:Jge(e.errors)}),e}function Jge(e){if(!e)return null;let t=Object.entries(e),r={};for(let[n,i]of t)if(i&&i.__type==="RouteErrorResponse")r[n]=new pE(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let a=window[i.__subType];if(typeof a=="function")try{let s=new a(i.message);s.stack="",r[n]=s}catch{}}if(r[n]==null){let a=new Error(i.message);a.stack="",r[n]=a}}else r[n]=i;return r}var yK=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ih=b.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:i,reloadDocument:a,replace:s,state:o,target:c,to:u,preventScrollReset:d,viewTransition:f,...h},m){let{basename:g}=b.useContext(yl),p=typeof u=="string"&&yK.test(u),v,y=!1;if(typeof u=="string"&&p&&(v=u,vK))try{let C=new URL(window.location.href),j=u.startsWith("//")?new URL(C.protocol+u):new URL(u),I=bo(j.pathname,g);j.origin===C.origin&&I!=null?u=I+j.search+j.hash:y=!0}catch{Un(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let x=age(u,{relative:i}),[w,N,E]=qge(n,h),T=nve(u,{replace:s,state:o,target:c,preventScrollReset:d,relative:i,viewTransition:f});function S(C){t&&t(C),C.defaultPrevented||T(C)}let A=b.createElement("a",{...h,...E,href:v||x,onClick:y||a?t:S,ref:Xge(m,N),target:c,"data-discover":!p&&r==="render"?"true":void 0});return w&&!p?b.createElement(b.Fragment,null,A,b.createElement(Gge,{page:x})):A});Ih.displayName="Link";var eve=b.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:i=!1,style:a,to:s,viewTransition:o,children:c,...u},d){let f=y1(s,{relative:u.relative}),h=ls(),m=b.useContext(v1),{navigator:g,basename:p}=b.useContext(yl),v=m!=null&&lve(f)&&o===!0,y=g.encodeLocation?g.encodeLocation(f).pathname:f.pathname,x=h.pathname,w=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;r||(x=x.toLowerCase(),w=w?w.toLowerCase():null,y=y.toLowerCase()),w&&p&&(w=bo(w,p)||w);const N=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let E=x===y||!i&&x.startsWith(y)&&x.charAt(N)==="/",T=w!=null&&(w===y||!i&&w.startsWith(y)&&w.charAt(y.length)==="/"),S={isActive:E,isPending:T,isTransitioning:v},A=E?t:void 0,C;typeof n=="function"?C=n(S):C=[n,E?"active":null,T?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let j=typeof a=="function"?a(S):a;return b.createElement(Ih,{...u,"aria-current":A,className:C,ref:d,style:j,to:s,viewTransition:o},typeof c=="function"?c(S):c)});eve.displayName="NavLink";var tve=b.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:i,state:a,method:s=u_,action:o,onSubmit:c,relative:u,preventScrollReset:d,viewTransition:f,...h},m)=>{let g=sve(),p=ove(o,{relative:u}),v=s.toLowerCase()==="get"?"get":"post",y=typeof o=="string"&&yK.test(o),x=w=>{if(c&&c(w),w.defaultPrevented)return;w.preventDefault();let N=w.nativeEvent.submitter,E=(N==null?void 0:N.getAttribute("formmethod"))||s;g(N||w.currentTarget,{fetcherKey:t,method:E,navigate:r,replace:i,state:a,relative:u,preventScrollReset:d,viewTransition:f})};return b.createElement("form",{ref:m,method:v,action:p,onSubmit:n?c:x,...h,"data-discover":!y&&e==="render"?"true":void 0})});tve.displayName="Form";function rve(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xK(e){let t=b.useContext(nm);return Xt(t,rve(e)),t}function nve(e,{target:t,replace:r,state:n,preventScrollReset:i,relative:a,viewTransition:s}={}){let o=im(),c=ls(),u=y1(e,{relative:a});return b.useCallback(d=>{if(Ige(d,t)){d.preventDefault();let f=r!==void 0?r:Bd(c)===Bd(u);o(e,{replace:f,state:n,preventScrollReset:i,relative:a,viewTransition:s})}},[c,o,u,r,n,t,e,i,a,s])}var ive=0,ave=()=>`__${String(++ive)}__`;function sve(){let{router:e}=xK("useSubmit"),{basename:t}=b.useContext(yl),r=yge();return b.useCallback(async(n,i={})=>{let{action:a,method:s,encType:o,formData:c,body:u}=Mge(n,t);if(i.navigate===!1){let d=i.fetcherKey||ave();await e.fetch(d,r,i.action||a,{preventScrollReset:i.preventScrollReset,formData:c,body:u,formMethod:i.method||s,formEncType:i.encType||o,flushSync:i.flushSync})}else await e.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:c,body:u,formMethod:i.method||s,formEncType:i.encType||o,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,r])}function ove(e,{relative:t}={}){let{basename:r}=b.useContext(yl),n=b.useContext(xl);Xt(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),a={...y1(e||".",{relative:t})},s=ls();if(e==null){a.search=s.search;let o=new URLSearchParams(a.search),c=o.getAll("index");if(c.some(d=>d==="")){o.delete("index"),c.filter(f=>f).forEach(f=>o.append("index",f));let d=o.toString();a.search=d?`?${d}`:""}}return(!e||e===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(a.pathname=a.pathname==="/"?r:Kl([r,a.pathname])),Bd(a)}function lve(e,{relative:t}={}){let r=b.useContext(GO);Xt(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=xK("useViewTransitionState"),i=y1(e,{relative:t});if(!r.isTransitioning)return!1;let a=bo(r.currentLocation.pathname,n)||r.currentLocation.pathname,s=bo(r.nextLocation.pathname,n)||r.nextLocation.pathname;return mE(i.pathname,s)!=null||mE(i.pathname,a)!=null}function cve(e){return b.createElement(Sge,{flushSync:lf.flushSync,...e})}const uve=()=>{};var t6={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bK=function(e){const t=[];let r=0;for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);i<128?t[r++]=i:i<2048?(t[r++]=i>>6|192,t[r++]=i&63|128):(i&64512)===55296&&n+1<e.length&&(e.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++n)&1023),t[r++]=i>>18|240,t[r++]=i>>12&63|128,t[r++]=i>>6&63|128,t[r++]=i&63|128):(t[r++]=i>>12|224,t[r++]=i>>6&63|128,t[r++]=i&63|128)}return t},dve=function(e){const t=[];let r=0,n=0;for(;r<e.length;){const i=e[r++];if(i<128)t[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=e[r++];t[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=e[r++],s=e[r++],o=e[r++],c=((i&7)<<18|(a&63)<<12|(s&63)<<6|o&63)-65536;t[n++]=String.fromCharCode(55296+(c>>10)),t[n++]=String.fromCharCode(56320+(c&1023))}else{const a=e[r++],s=e[r++];t[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|s&63)}}return t.join("")},wK={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<e.length;i+=3){const a=e[i],s=i+1<e.length,o=s?e[i+1]:0,c=i+2<e.length,u=c?e[i+2]:0,d=a>>2,f=(a&3)<<4|o>>4;let h=(o&15)<<2|u>>6,m=u&63;c||(m=64,s||(h=64)),n.push(r[d],r[f],r[h],r[m])}return n.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(bK(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):dve(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<e.length;){const a=r[e.charAt(i++)],o=i<e.length?r[e.charAt(i)]:0;++i;const u=i<e.length?r[e.charAt(i)]:64;++i;const f=i<e.length?r[e.charAt(i)]:64;if(++i,a==null||o==null||u==null||f==null)throw new fve;const h=a<<2|o>>4;if(n.push(h),u!==64){const m=o<<4&240|u>>2;if(n.push(m),f!==64){const g=u<<6&192|f;n.push(g)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class fve extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const hve=function(e){const t=bK(e);return wK.encodeByteArray(t,!0)},vE=function(e){return hve(e).replace(/\./g,"")},_K=function(e){try{return wK.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mve(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pve=()=>mve().__FIREBASE_DEFAULTS__,gve=()=>{if(typeof process>"u"||typeof t6>"u")return;const e=t6.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},vve=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&_K(e[1]);return t&&JSON.parse(t)},K2=()=>{try{return uve()||pve()||gve()||vve()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},EK=e=>{var t,r;return(r=(t=K2())==null?void 0:t.emulatorHosts)==null?void 0:r[e]},SK=e=>{const t=EK(e);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const n=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),n]:[t.substring(0,r),n]},TK=()=>{var e;return(e=K2())==null?void 0:e.config},NK=e=>{var t;return(t=K2())==null?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yve{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ff(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function JO(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AK(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=t||"demo-project",i=e.iat||0,a=e.sub||e.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...e};return[vE(JSON.stringify(r)),vE(JSON.stringify(s)),""].join(".")}const Qv={};function xve(){const e={prod:[],emulator:[]};for(const t of Object.keys(Qv))Qv[t]?e.emulator.push(t):e.prod.push(t);return e}function bve(e){let t=document.getElementById(e),r=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),r=!0),{created:r,element:t}}let r6=!1;function eD(e,t){if(typeof window>"u"||typeof document>"u"||!ff(window.location.host)||Qv[e]===t||Qv[e]||r6)return;Qv[e]=t;function r(h){return`__firebase__banner__${h}`}const n="__firebase__banner",a=xve().prod.length>0;function s(){const h=document.getElementById(n);h&&h.remove()}function o(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function c(h,m){h.setAttribute("width","24"),h.setAttribute("id",m),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function u(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{r6=!0,s()},h}function d(h,m){h.setAttribute("id",m),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function f(){const h=bve(n),m=r("text"),g=document.getElementById(m)||document.createElement("span"),p=r("learnmore"),v=document.getElementById(p)||document.createElement("a"),y=r("preprendIcon"),x=document.getElementById(y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const w=h.element;o(w),d(v,p);const N=u();c(x,y),w.append(x,g,v,N),document.body.appendChild(w)}a?(g.innerText="Preview backend disconnected.",x.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(x.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,g.innerText="Preview backend running in this workspace."),g.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ma(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function wve(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ma())}function _ve(){var t;const e=(t=K2())==null?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Eve(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Sve(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function Tve(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Nve(){const e=ma();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Ave(){return!_ve()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Cve(){try{return typeof indexedDB=="object"}catch{return!1}}function jve(){return new Promise((e,t)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),e(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var a;t(((a=i.error)==null?void 0:a.message)||"")}}catch(r){t(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pve="FirebaseError";class yc extends Error{constructor(t,r,n){super(r),this.code=t,this.customData=n,this.name=Pve,Object.setPrototypeOf(this,yc.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,x1.prototype.create)}}class x1{constructor(t,r,n){this.service=t,this.serviceName=r,this.errors=n}create(t,...r){const n=r[0]||{},i=`${this.service}/${t}`,a=this.errors[t],s=a?Rve(a,n):"Error",o=`${this.serviceName}: ${s} (${i}).`;return new yc(i,o,n)}}function Rve(e,t){return e.replace(kve,(r,n)=>{const i=t[n];return i!=null?String(i):`<${n}?>`})}const kve=/\{\$([^}]+)}/g;function Ive(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Vd(e,t){if(e===t)return!0;const r=Object.keys(e),n=Object.keys(t);for(const i of r){if(!n.includes(i))return!1;const a=e[i],s=t[i];if(n6(a)&&n6(s)){if(!Vd(a,s))return!1}else if(a!==s)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function n6(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b1(e){const t=[];for(const[r,n]of Object.entries(e))Array.isArray(n)?n.forEach(i=>{t.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return t.length?"&"+t.join("&"):""}function Ove(e,t){const r=new Dve(e,t);return r.subscribe.bind(r)}class Dve{constructor(t,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{t(this)}).catch(n=>{this.error(n)})}next(t){this.forEachObserver(r=>{r.next(t)})}error(t){this.forEachObserver(r=>{r.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,r,n){let i;if(t===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");Mve(t,["next","error","complete"])?i=t:i={next:t,error:r,complete:n},i.next===void 0&&(i.next=VA),i.error===void 0&&(i.error=VA),i.complete===void 0&&(i.complete=VA);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,t)}sendOne(t,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{r(this.observers[t])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Mve(e,t){if(typeof e!="object"||e===null)return!1;for(const r of t)if(r in e&&typeof e[r]=="function")return!0;return!1}function VA(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $r(e){return e&&e._delegate?e._delegate:e}class Ud{constructor(t,r,n){this.name=t,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mf="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lve{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const n=new yve;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),n=(t==null?void 0:t.optional)??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(n)return null;throw i}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if($ve(t))try{this.getOrInitializeService({instanceIdentifier:Mf})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(t=Mf){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Mf){return this.instances.has(t)}getOptions(t=Mf){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(a);n===o&&s.resolve(i)}return i}onInit(t,r){const n=this.normalizeInstanceIdentifier(r),i=this.onInitCallbacks.get(n)??new Set;i.add(t),this.onInitCallbacks.set(n,i);const a=this.instances.get(n);return a&&t(a,n),()=>{i.delete(t)}}invokeOnInitCallbacks(t,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:Fve(t),options:r}),this.instances.set(t,n),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch{}return n||null}normalizeInstanceIdentifier(t=Mf){return this.component?this.component.multipleInstances?t:Mf:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Fve(e){return e===Mf?void 0:e}function $ve(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bve{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new Lve(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tr;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(tr||(tr={}));const Vve={debug:tr.DEBUG,verbose:tr.VERBOSE,info:tr.INFO,warn:tr.WARN,error:tr.ERROR,silent:tr.SILENT},Uve=tr.INFO,zve={[tr.DEBUG]:"log",[tr.VERBOSE]:"log",[tr.INFO]:"info",[tr.WARN]:"warn",[tr.ERROR]:"error"},Wve=(e,t,...r)=>{if(t<e.logLevel)return;const n=new Date().toISOString(),i=zve[t];if(i)console[i](`[${n}]  ${e.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class tD{constructor(t){this.name=t,this._logLevel=Uve,this._logHandler=Wve,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in tr))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Vve[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,tr.DEBUG,...t),this._logHandler(this,tr.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,tr.VERBOSE,...t),this._logHandler(this,tr.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,tr.INFO,...t),this._logHandler(this,tr.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,tr.WARN,...t),this._logHandler(this,tr.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,tr.ERROR,...t),this._logHandler(this,tr.ERROR,...t)}}const Hve=(e,t)=>t.some(r=>e instanceof r);let i6,a6;function qve(){return i6||(i6=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Gve(){return a6||(a6=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const CK=new WeakMap,WP=new WeakMap,jK=new WeakMap,UA=new WeakMap,rD=new WeakMap;function Kve(e){const t=new Promise((r,n)=>{const i=()=>{e.removeEventListener("success",a),e.removeEventListener("error",s)},a=()=>{r(Cd(e.result)),i()},s=()=>{n(e.error),i()};e.addEventListener("success",a),e.addEventListener("error",s)});return t.then(r=>{r instanceof IDBCursor&&CK.set(r,e)}).catch(()=>{}),rD.set(t,e),t}function Yve(e){if(WP.has(e))return;const t=new Promise((r,n)=>{const i=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",s),e.removeEventListener("abort",s)},a=()=>{r(),i()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",a),e.addEventListener("error",s),e.addEventListener("abort",s)});WP.set(e,t)}let HP={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return WP.get(e);if(t==="objectStoreNames")return e.objectStoreNames||jK.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Cd(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Xve(e){HP=e(HP)}function Qve(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const n=e.call(zA(this),t,...r);return jK.set(n,t.sort?t.sort():[t]),Cd(n)}:Gve().includes(e)?function(...t){return e.apply(zA(this),t),Cd(CK.get(this))}:function(...t){return Cd(e.apply(zA(this),t))}}function Zve(e){return typeof e=="function"?Qve(e):(e instanceof IDBTransaction&&Yve(e),Hve(e,qve())?new Proxy(e,HP):e)}function Cd(e){if(e instanceof IDBRequest)return Kve(e);if(UA.has(e))return UA.get(e);const t=Zve(e);return t!==e&&(UA.set(e,t),rD.set(t,e)),t}const zA=e=>rD.get(e);function Jve(e,t,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){const s=indexedDB.open(e,t),o=Cd(s);return n&&s.addEventListener("upgradeneeded",c=>{n(Cd(s.result),c.oldVersion,c.newVersion,Cd(s.transaction),c)}),r&&s.addEventListener("blocked",c=>r(c.oldVersion,c.newVersion,c)),o.then(c=>{a&&c.addEventListener("close",()=>a()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),o}const eye=["get","getKey","getAll","getAllKeys","count"],tye=["put","add","delete","clear"],WA=new Map;function s6(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(WA.get(t))return WA.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,i=tye.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||eye.includes(r)))return;const a=async function(s,...o){const c=this.transaction(s,i?"readwrite":"readonly");let u=c.store;return n&&(u=u.index(o.shift())),(await Promise.all([u[r](...o),i&&c.done]))[0]};return WA.set(t,a),a}Xve(e=>({...e,get:(t,r,n)=>s6(t,r)||e.get(t,r,n),has:(t,r)=>!!s6(t,r)||e.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rye{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(nye(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function nye(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const qP="@firebase/app",o6="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pu=new tD("@firebase/app"),iye="@firebase/app-compat",aye="@firebase/analytics-compat",sye="@firebase/analytics",oye="@firebase/app-check-compat",lye="@firebase/app-check",cye="@firebase/auth",uye="@firebase/auth-compat",dye="@firebase/database",fye="@firebase/data-connect",hye="@firebase/database-compat",mye="@firebase/functions",pye="@firebase/functions-compat",gye="@firebase/installations",vye="@firebase/installations-compat",yye="@firebase/messaging",xye="@firebase/messaging-compat",bye="@firebase/performance",wye="@firebase/performance-compat",_ye="@firebase/remote-config",Eye="@firebase/remote-config-compat",Sye="@firebase/storage",Tye="@firebase/storage-compat",Nye="@firebase/firestore",Aye="@firebase/ai",Cye="@firebase/firestore-compat",jye="firebase",Pye="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GP="[DEFAULT]",Rye={[qP]:"fire-core",[iye]:"fire-core-compat",[sye]:"fire-analytics",[aye]:"fire-analytics-compat",[lye]:"fire-app-check",[oye]:"fire-app-check-compat",[cye]:"fire-auth",[uye]:"fire-auth-compat",[dye]:"fire-rtdb",[fye]:"fire-data-connect",[hye]:"fire-rtdb-compat",[mye]:"fire-fn",[pye]:"fire-fn-compat",[gye]:"fire-iid",[vye]:"fire-iid-compat",[yye]:"fire-fcm",[xye]:"fire-fcm-compat",[bye]:"fire-perf",[wye]:"fire-perf-compat",[_ye]:"fire-rc",[Eye]:"fire-rc-compat",[Sye]:"fire-gcs",[Tye]:"fire-gcs-compat",[Nye]:"fire-fst",[Cye]:"fire-fst-compat",[Aye]:"fire-vertex","fire-js":"fire-js",[jye]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE=new Map,kye=new Map,KP=new Map;function l6(e,t){try{e.container.addComponent(t)}catch(r){pu.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,r)}}function Oh(e){const t=e.name;if(KP.has(t))return pu.debug(`There were multiple attempts to register component ${t}.`),!1;KP.set(t,e);for(const r of yE.values())l6(r,e);for(const r of kye.values())l6(r,e);return!0}function Y2(e,t){const r=e.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),e.container.getProvider(t)}function so(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iye={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},jd=new x1("app","Firebase",Iye);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oye{constructor(t,r,n){this._isDeleted=!1,this._options={...t},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Ud("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw jd.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const am=Pye;function PK(e,t={}){let r=e;typeof t!="object"&&(t={name:t});const n={name:GP,automaticDataCollectionEnabled:!0,...t},i=n.name;if(typeof i!="string"||!i)throw jd.create("bad-app-name",{appName:String(i)});if(r||(r=TK()),!r)throw jd.create("no-options");const a=yE.get(i);if(a){if(Vd(r,a.options)&&Vd(n,a.config))return a;throw jd.create("duplicate-app",{appName:i})}const s=new Bve(i);for(const c of KP.values())s.addComponent(c);const o=new Oye(r,n,s);return yE.set(i,o),o}function nD(e=GP){const t=yE.get(e);if(!t&&e===GP&&TK())return PK();if(!t)throw jd.create("no-app",{appName:e});return t}function Yl(e,t,r){let n=Rye[e]??e;r&&(n+=`-${r}`);const i=n.match(/\s|\//),a=t.match(/\s|\//);if(i||a){const s=[`Unable to register library "${n}" with version "${t}":`];i&&s.push(`library name "${n}" contains illegal characters (whitespace or "/")`),i&&a&&s.push("and"),a&&s.push(`version name "${t}" contains illegal characters (whitespace or "/")`),pu.warn(s.join(" "));return}Oh(new Ud(`${n}-version`,()=>({library:n,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dye="firebase-heartbeat-database",Mye=1,Yy="firebase-heartbeat-store";let HA=null;function RK(){return HA||(HA=Jve(Dye,Mye,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Yy)}catch(r){console.warn(r)}}}}).catch(e=>{throw jd.create("idb-open",{originalErrorMessage:e.message})})),HA}async function Lye(e){try{const r=(await RK()).transaction(Yy),n=await r.objectStore(Yy).get(kK(e));return await r.done,n}catch(t){if(t instanceof yc)pu.warn(t.message);else{const r=jd.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});pu.warn(r.message)}}}async function c6(e,t){try{const n=(await RK()).transaction(Yy,"readwrite");await n.objectStore(Yy).put(t,kK(e)),await n.done}catch(r){if(r instanceof yc)pu.warn(r.message);else{const n=jd.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});pu.warn(n.message)}}}function kK(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fye=1024,$ye=30;class Bye{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new Uye(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var t,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=u6();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)==null?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(s=>s.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>$ye){const s=zye(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){pu.warn(n)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=u6(),{heartbeatsToSend:n,unsentEntries:i}=Vye(this._heartbeatsCache.heartbeats),a=vE(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(r){return pu.warn(r),""}}}function u6(){return new Date().toISOString().substring(0,10)}function Vye(e,t=Fye){const r=[];let n=e.slice();for(const i of e){const a=r.find(s=>s.agent===i.agent);if(a){if(a.dates.push(i.date),d6(r)>t){a.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),d6(r)>t){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class Uye{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Cve()?jve().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await Lye(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const n=await this.read();return c6(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const n=await this.read();return c6(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...t.heartbeats]})}else return}}function d6(e){return vE(JSON.stringify({version:2,heartbeats:e})).length}function zye(e){if(e.length===0)return-1;let t=0,r=e[0].date;for(let n=1;n<e.length;n++)e[n].date<r&&(r=e[n].date,t=n);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wye(e){Oh(new Ud("platform-logger",t=>new rye(t),"PRIVATE")),Oh(new Ud("heartbeat",t=>new Bye(t),"PRIVATE")),Yl(qP,o6,e),Yl(qP,o6,"esm2020"),Yl("fire-js","")}Wye("");function IK(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Hye=IK,OK=new x1("auth","Firebase",IK());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE=new tD("@firebase/auth");function qye(e,...t){xE.logLevel<=tr.WARN&&xE.warn(`Auth (${am}): ${e}`,...t)}function f_(e,...t){xE.logLevel<=tr.ERROR&&xE.error(`Auth (${am}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dc(e,...t){throw aD(e,...t)}function ol(e,...t){return aD(e,...t)}function iD(e,t,r){const n={...Hye(),[t]:r};return new x1("auth","Firebase",n).create(t,{appName:e.name})}function gh(e){return iD(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Gye(e,t,r){const n=r;if(!(t instanceof n))throw n.name!==t.constructor.name&&dc(e,"argument-error"),iD(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function aD(e,...t){if(typeof e!="string"){const r=t[0],n=[...t.slice(1)];return n[0]&&(n[0].appName=e.name),e._errorFactory.create(r,...n)}return OK.create(e,...t)}function Mt(e,t,...r){if(!e)throw aD(t,...r)}function Uc(e){const t="INTERNAL ASSERTION FAILED: "+e;throw f_(t),new Error(t)}function gu(e,t){e||Uc(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YP(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.href)||""}function Kye(){return f6()==="http:"||f6()==="https:"}function f6(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yye(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Kye()||Sve()||"connection"in navigator)?navigator.onLine:!0}function Xye(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(t,r){this.shortDelay=t,this.longDelay=r,gu(r>t,"Short delay should be less than long delay!"),this.isMobile=wve()||Tve()}get(){return Yye()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sD(e,t){gu(e.emulator,"Emulator should always be set here");const{url:r}=e.emulator;return t?`${r}${t.startsWith("/")?t.slice(1):t}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DK{static initialize(t,r,n){this.fetchImpl=t,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Uc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Uc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Uc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qye={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zye=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Jye=new w1(3e4,6e4);function oD(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function lg(e,t,r,n,i={}){return MK(e,i,async()=>{let a={},s={};n&&(t==="GET"?s=n:a={body:JSON.stringify(n)});const o=b1({key:e.config.apiKey,...s}).slice(1),c=await e._getAdditionalHeaders();c["Content-Type"]="application/json",e.languageCode&&(c["X-Firebase-Locale"]=e.languageCode);const u={method:t,headers:c,...a};return Eve()||(u.referrerPolicy="no-referrer"),e.emulatorConfig&&ff(e.emulatorConfig.host)&&(u.credentials="include"),DK.fetch()(await LK(e,e.config.apiHost,r,o),u)})}async function MK(e,t,r){e._canInitEmulator=!1;const n={...Qye,...t};try{const i=new txe(e),a=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const s=await a.json();if("needConfirmation"in s)throw Jb(e,"account-exists-with-different-credential",s);if(a.ok&&!("errorMessage"in s))return s;{const o=a.ok?s.errorMessage:s.error.message,[c,u]=o.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Jb(e,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw Jb(e,"email-already-in-use",s);if(c==="USER_DISABLED")throw Jb(e,"user-disabled",s);const d=n[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw iD(e,d,u);dc(e,d)}}catch(i){if(i instanceof yc)throw i;dc(e,"network-request-failed",{message:String(i)})}}async function exe(e,t,r,n,i={}){const a=await lg(e,t,r,n,i);return"mfaPendingCredential"in a&&dc(e,"multi-factor-auth-required",{_serverResponse:a}),a}async function LK(e,t,r,n){const i=`${t}${r}?${n}`,a=e,s=a.config.emulator?sD(e.config,i):`${e.config.apiScheme}://${i}`;return Zye.includes(r)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(s).toString():s}class txe{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(ol(this.auth,"network-request-failed")),Jye.get())})}}function Jb(e,t,r){const n={appName:e.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=ol(e,t,n);return i.customData._tokenResponse=r,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rxe(e,t){return lg(e,"POST","/v1/accounts:delete",t)}async function bE(e,t){return lg(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zv(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function nxe(e,t=!1){const r=$r(e),n=await r.getIdToken(t),i=lD(n);Mt(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,s=a==null?void 0:a.sign_in_provider;return{claims:i,token:n,authTime:Zv(qA(i.auth_time)),issuedAtTime:Zv(qA(i.iat)),expirationTime:Zv(qA(i.exp)),signInProvider:s||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function qA(e){return Number(e)*1e3}function lD(e){const[t,r,n]=e.split(".");if(t===void 0||r===void 0||n===void 0)return f_("JWT malformed, contained fewer than 3 sections"),null;try{const i=_K(r);return i?JSON.parse(i):(f_("Failed to decode base64 JWT payload"),null)}catch(i){return f_("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function h6(e){const t=lD(e);return Mt(t,"internal-error"),Mt(typeof t.exp<"u","internal-error"),Mt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xy(e,t,r=!1){if(r)return t;try{return await t}catch(n){throw n instanceof yc&&ixe(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}function ixe({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class axe{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(t=!1){if(!this.isRunning)return;const r=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XP{constructor(t,r){this.createdAt=t,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zv(this.lastLoginAt),this.creationTime=Zv(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wE(e){var f;const t=e.auth,r=await e.getIdToken(),n=await Xy(e,bE(t,{idToken:r}));Mt(n==null?void 0:n.users.length,t,"internal-error");const i=n.users[0];e._notifyReloadListener(i);const a=(f=i.providerUserInfo)!=null&&f.length?FK(i.providerUserInfo):[],s=oxe(e.providerData,a),o=e.isAnonymous,c=!(e.email&&i.passwordHash)&&!(s!=null&&s.length),u=o?c:!1,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new XP(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(e,d)}async function sxe(e){const t=$r(e);await wE(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function oxe(e,t){return[...e.filter(n=>!t.some(i=>i.providerId===n.providerId)),...t]}function FK(e){return e.map(({providerId:t,...r})=>({providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lxe(e,t){const r=await MK(e,{},async()=>{const n=b1({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:a}=e.config,s=await LK(e,i,"/v1/token",`key=${a}`),o=await e._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:o,body:n};return e.emulatorConfig&&ff(e.emulatorConfig.host)&&(c.credentials="include"),DK.fetch()(s,c)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function cxe(e,t){return lg(e,"POST","/v2/accounts:revokeToken",oD(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Mt(t.idToken,"internal-error"),Mt(typeof t.idToken<"u","internal-error"),Mt(typeof t.refreshToken<"u","internal-error");const r="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):h6(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,r)}updateFromIdToken(t){Mt(t.length!==0,"internal-error");const r=h6(t);this.updateTokensAndExpiration(t,null,r)}async getToken(t,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(Mt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,r){const{accessToken:n,refreshToken:i,expiresIn:a}=await lxe(t,r);this.updateTokensAndExpiration(n,i,Number(a))}updateTokensAndExpiration(t,r,n){this.refreshToken=r||null,this.accessToken=t||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(t,r){const{refreshToken:n,accessToken:i,expirationTime:a}=r,s=new Tp;return n&&(Mt(typeof n=="string","internal-error",{appName:t}),s.refreshToken=n),i&&(Mt(typeof i=="string","internal-error",{appName:t}),s.accessToken=i),a&&(Mt(typeof a=="number","internal-error",{appName:t}),s.expirationTime=a),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Tp,this.toJSON())}_performRefresh(){return Uc("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bu(e,t){Mt(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class nl{constructor({uid:t,auth:r,stsTokenManager:n,...i}){this.providerId="firebase",this.proactiveRefresh=new axe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new XP(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(t){const r=await Xy(this,this.stsTokenManager.getToken(this.auth,t));return Mt(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(t){return nxe(this,t)}reload(){return sxe(this)}_assign(t){this!==t&&(Mt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(r=>({...r})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const r=new nl({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return r.metadata._copy(this.metadata),r}_onReload(t){Mt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,r=!1){let n=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),n=!0),r&&await wE(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(so(this.auth.app))return Promise.reject(gh(this.auth));const t=await this.getIdToken();return await Xy(this,rxe(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,r){const n=r.displayName??void 0,i=r.email??void 0,a=r.phoneNumber??void 0,s=r.photoURL??void 0,o=r.tenantId??void 0,c=r._redirectEventId??void 0,u=r.createdAt??void 0,d=r.lastLoginAt??void 0,{uid:f,emailVerified:h,isAnonymous:m,providerData:g,stsTokenManager:p}=r;Mt(f&&p,t,"internal-error");const v=Tp.fromJSON(this.name,p);Mt(typeof f=="string",t,"internal-error"),Bu(n,t.name),Bu(i,t.name),Mt(typeof h=="boolean",t,"internal-error"),Mt(typeof m=="boolean",t,"internal-error"),Bu(a,t.name),Bu(s,t.name),Bu(o,t.name),Bu(c,t.name),Bu(u,t.name),Bu(d,t.name);const y=new nl({uid:f,auth:t,email:i,emailVerified:h,displayName:n,isAnonymous:m,photoURL:s,phoneNumber:a,tenantId:o,stsTokenManager:v,createdAt:u,lastLoginAt:d});return g&&Array.isArray(g)&&(y.providerData=g.map(x=>({...x}))),c&&(y._redirectEventId=c),y}static async _fromIdTokenResponse(t,r,n=!1){const i=new Tp;i.updateFromServerResponse(r);const a=new nl({uid:r.localId,auth:t,stsTokenManager:i,isAnonymous:n});return await wE(a),a}static async _fromGetAccountInfoResponse(t,r,n){const i=r.users[0];Mt(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?FK(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),o=new Tp;o.updateFromIdToken(n);const c=new nl({uid:i.localId,auth:t,stsTokenManager:o,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new XP(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m6=new Map;function zc(e){gu(e instanceof Function,"Expected a class definition");let t=m6.get(e);return t?(gu(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,m6.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $K{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,r){this.storage[t]=r}async _get(t){const r=this.storage[t];return r===void 0?null:r}async _remove(t){delete this.storage[t]}_addListener(t,r){}_removeListener(t,r){}}$K.type="NONE";const p6=$K;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h_(e,t,r){return`firebase:${e}:${t}:${r}`}class Np{constructor(t,r,n){this.persistence=t,this.auth=r,this.userKey=n;const{config:i,name:a}=this.auth;this.fullUserKey=h_(this.userKey,i.apiKey,a),this.fullPersistenceKey=h_("persistence",i.apiKey,a),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const r=await bE(this.auth,{idToken:t}).catch(()=>{});return r?nl._fromGetAccountInfoResponse(this.auth,r,t):null}return nl._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,r,n="authUser"){if(!r.length)return new Np(zc(p6),t,n);const i=(await Promise.all(r.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let a=i[0]||zc(p6);const s=h_(n,t.config.apiKey,t.name);let o=null;for(const u of r)try{const d=await u._get(s);if(d){let f;if(typeof d=="string"){const h=await bE(t,{idToken:d}).catch(()=>{});if(!h)break;f=await nl._fromGetAccountInfoResponse(t,h,d)}else f=nl._fromJSON(t,d);u!==a&&(o=f),a=u;break}}catch{}const c=i.filter(u=>u._shouldAllowMigration);return!a._shouldAllowMigration||!c.length?new Np(a,t,n):(a=c[0],o&&await a._set(s,o.toJSON()),await Promise.all(r.map(async u=>{if(u!==a)try{await u._remove(s)}catch{}})),new Np(a,t,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g6(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(zK(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(BK(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(HK(t))return"Blackberry";if(qK(t))return"Webos";if(VK(t))return"Safari";if((t.includes("chrome/")||UK(t))&&!t.includes("edge/"))return"Chrome";if(WK(t))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function BK(e=ma()){return/firefox\//i.test(e)}function VK(e=ma()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function UK(e=ma()){return/crios\//i.test(e)}function zK(e=ma()){return/iemobile/i.test(e)}function WK(e=ma()){return/android/i.test(e)}function HK(e=ma()){return/blackberry/i.test(e)}function qK(e=ma()){return/webos/i.test(e)}function cD(e=ma()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function uxe(e=ma()){var t;return cD(e)&&!!((t=window.navigator)!=null&&t.standalone)}function dxe(){return Nve()&&document.documentMode===10}function GK(e=ma()){return cD(e)||WK(e)||qK(e)||HK(e)||/windows phone/i.test(e)||zK(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KK(e,t=[]){let r;switch(e){case"Browser":r=g6(ma());break;case"Worker":r=`${g6(ma())}-${e}`;break;default:r=e}const n=t.length?t.join(","):"FirebaseCore-web";return`${r}/JsCore/${am}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fxe{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,r){const n=a=>new Promise((s,o)=>{try{const c=t(a);s(c)}catch(c){o(c)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const r=[];try{for(const n of this.queue)await n(t),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hxe(e,t={}){return lg(e,"GET","/v2/passwordPolicy",oD(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mxe=6;class pxe{constructor(t){var n;const r=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=r.minPasswordLength??mxe,r.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=r.maxPasswordLength),r.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=r.containsLowercaseCharacter),r.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=r.containsUppercaseCharacter),r.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=r.containsNumericCharacter),r.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=r.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((n=t.allowedNonAlphanumericCharacters)==null?void 0:n.join(""))??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const r={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,r),this.validatePasswordCharacterOptions(t,r),r.isValid&&(r.isValid=r.meetsMinPasswordLength??!0),r.isValid&&(r.isValid=r.meetsMaxPasswordLength??!0),r.isValid&&(r.isValid=r.containsLowercaseLetter??!0),r.isValid&&(r.isValid=r.containsUppercaseLetter??!0),r.isValid&&(r.isValid=r.containsNumericCharacter??!0),r.isValid&&(r.isValid=r.containsNonAlphanumericCharacter??!0),r}validatePasswordLengthOptions(t,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=t.length>=n),i&&(r.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<t.length;i++)n=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(t,r,n,i,a){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gxe{constructor(t,r,n,i){this.app=t,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new v6(this),this.idTokenSubscription=new v6(this),this.beforeStateQueue=new fxe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=OK,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(t,r){return r&&(this._popupRedirectResolver=zc(r)),this._initializationPromise=this.queue(async()=>{var n,i,a;if(!this._deleted&&(this.persistenceManager=await Np.create(this,t),(n=this._resolvePersistenceManagerAvailable)==null||n.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const r=await bE(this,{idToken:t}),n=await nl._fromGetAccountInfoResponse(this,r,t);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var a;if(so(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(o,o))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let n=r,i=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(a=this.redirectUser)==null?void 0:a._redirectEventId,o=n==null?void 0:n._redirectEventId,c=await this.tryRedirectSignIn(t);(!s||s===o)&&(c!=null&&c.user)&&(n=c.user,i=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(n)}catch(s){n=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return Mt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(t){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(t){try{await wE(t)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Xye()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(so(this.app))return Promise.reject(gh(this));const r=t?$r(t):null;return r&&Mt(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(t,r=!1){if(!this._deleted)return t&&Mt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return so(this.app)?Promise.reject(gh(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return so(this.app)?Promise.reject(gh(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(zc(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await hxe(this),r=new pxe(t);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new x1("auth","Firebase",t())}onAuthStateChanged(t,r,n){return this.registerStateListener(this.authStateSubscription,t,r,n)}beforeAuthStateChanged(t,r){return this.beforeStateQueue.pushCallback(t,r)}onIdTokenChanged(t,r,n){return this.registerStateListener(this.idTokenSubscription,t,r,n)}authStateReady(){return new Promise((t,r)=>{if(this.currentUser)t();else{const n=this.onAuthStateChanged(()=>{n(),t()},r)}})}async revokeAccessToken(t){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await cxe(this,n)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)==null?void 0:t.toJSON()}}async _setRedirectUser(t,r){const n=await this.getOrInitRedirectPersistenceManager(r);return t===null?n.removeCurrentUser():n.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const r=t&&zc(t)||this._popupRedirectResolver;Mt(r,this,"argument-error"),this.redirectPersistenceManager=await Np.create(this,[zc(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)==null?void 0:r._redirectEventId)===t?this._currentUser:((n=this.redirectUser)==null?void 0:n._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=((r=this.currentUser)==null?void 0:r.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,r,n,i){if(this._deleted)return()=>{};const a=typeof r=="function"?r:r.next.bind(r);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Mt(o,this,"internal-error"),o.then(()=>{s||a(this.currentUser)}),typeof r=="function"){const c=t.addObserver(r,n,i);return()=>{s=!0,c()}}else{const c=t.addObserver(r);return()=>{s=!0,c()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Mt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=KK(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const n=await this._getAppCheckToken();return n&&(t["X-Firebase-AppCheck"]=n),t}async _getAppCheckToken(){var r;if(so(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((r=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getToken());return t!=null&&t.error&&qye(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function X2(e){return $r(e)}class v6{constructor(t){this.auth=t,this.observer=null,this.addObserver=Ove(r=>this.observer=r)}get next(){return Mt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uD={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function vxe(e){uD=e}function yxe(e){return uD.loadJS(e)}function xxe(){return uD.gapiScript}function bxe(e){return`__${e}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wxe(e,t){const r=Y2(e,"auth");if(r.isInitialized()){const i=r.getImmediate(),a=r.getOptions();if(Vd(a,t??{}))return i;dc(i,"already-initialized")}return r.initialize({options:t})}function _xe(e,t){const r=(t==null?void 0:t.persistence)||[],n=(Array.isArray(r)?r:[r]).map(zc);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(n,t==null?void 0:t.popupRedirectResolver)}function Exe(e,t,r){const n=X2(e);Mt(/^https?:\/\//.test(t),n,"invalid-emulator-scheme");const i=!1,a=YK(t),{host:s,port:o}=Sxe(t),c=o===null?"":`:${o}`,u={url:`${a}//${s}${c}/`},d=Object.freeze({host:s,port:o,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!n._canInitEmulator){Mt(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),Mt(Vd(u,n.config.emulator)&&Vd(d,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=u,n.emulatorConfig=d,n.settings.appVerificationDisabledForTesting=!0,ff(s)?(JO(`${a}//${s}${c}`),eD("Auth",!0)):Txe()}function YK(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Sxe(e){const t=YK(e),r=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const a=i[1];return{host:a,port:y6(n.substr(a.length+1))}}else{const[a,s]=n.split(":");return{host:a,port:y6(s)}}}function y6(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function Txe(){function e(){const t=document.createElement("p"),r=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XK{constructor(t,r){this.providerId=t,this.signInMethod=r}toJSON(){return Uc("not implemented")}_getIdTokenResponse(t){return Uc("not implemented")}_linkToIdToken(t,r){return Uc("not implemented")}_getReauthenticationResolver(t){return Uc("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ap(e,t){return exe(e,"POST","/v1/accounts:signInWithIdp",oD(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nxe="http://localhost";class Dh extends XK{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const r=new Dh(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(r.idToken=t.idToken),t.accessToken&&(r.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(r.nonce=t.nonce),t.pendingToken&&(r.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(r.accessToken=t.oauthToken,r.secret=t.oauthTokenSecret):dc("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const r=typeof t=="string"?JSON.parse(t):t,{providerId:n,signInMethod:i,...a}=r;if(!n||!i)return null;const s=new Dh(n,i);return s.idToken=a.idToken||void 0,s.accessToken=a.accessToken||void 0,s.secret=a.secret,s.nonce=a.nonce,s.pendingToken=a.pendingToken||null,s}_getIdTokenResponse(t){const r=this.buildRequest();return Ap(t,r)}_linkToIdToken(t,r){const n=this.buildRequest();return n.idToken=r,Ap(t,n)}_getReauthenticationResolver(t){const r=this.buildRequest();return r.autoCreate=!1,Ap(t,r)}buildRequest(){const t={requestUri:Nxe,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),t.postBody=b1(r)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1 extends dD{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed extends _1{constructor(){super("facebook.com")}static credential(t){return Dh._fromParams({providerId:ed.PROVIDER_ID,signInMethod:ed.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ed.credentialFromTaggedObject(t)}static credentialFromError(t){return ed.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ed.credential(t.oauthAccessToken)}catch{return null}}}ed.FACEBOOK_SIGN_IN_METHOD="facebook.com";ed.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc extends _1{constructor(){super("google.com"),this.addScope("profile")}static credential(t,r){return Dh._fromParams({providerId:Dc.PROVIDER_ID,signInMethod:Dc.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:r})}static credentialFromResult(t){return Dc.credentialFromTaggedObject(t)}static credentialFromError(t){return Dc.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:r,oauthAccessToken:n}=t;if(!r&&!n)return null;try{return Dc.credential(r,n)}catch{return null}}}Dc.GOOGLE_SIGN_IN_METHOD="google.com";Dc.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td extends _1{constructor(){super("github.com")}static credential(t){return Dh._fromParams({providerId:td.PROVIDER_ID,signInMethod:td.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return td.credentialFromTaggedObject(t)}static credentialFromError(t){return td.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return td.credential(t.oauthAccessToken)}catch{return null}}}td.GITHUB_SIGN_IN_METHOD="github.com";td.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd extends _1{constructor(){super("twitter.com")}static credential(t,r){return Dh._fromParams({providerId:rd.PROVIDER_ID,signInMethod:rd.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:r})}static credentialFromResult(t){return rd.credentialFromTaggedObject(t)}static credentialFromError(t){return rd.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=t;if(!r||!n)return null;try{return rd.credential(r,n)}catch{return null}}}rd.TWITTER_SIGN_IN_METHOD="twitter.com";rd.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,r,n,i=!1){const a=await nl._fromIdTokenResponse(t,n,i),s=x6(n);return new c0({user:a,providerId:s,_tokenResponse:n,operationType:r})}static async _forOperation(t,r,n){await t._updateTokensIfNecessary(n,!0);const i=x6(n);return new c0({user:t,providerId:i,_tokenResponse:n,operationType:r})}}function x6(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E extends yc{constructor(t,r,n,i){super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,_E.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(t,r,n,i){return new _E(t,r,n,i)}}function QK(e,t,r,n){return(t==="reauthenticate"?r._getReauthenticationResolver(e):r._getIdTokenResponse(e)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?_E._fromErrorAndOperation(e,a,t,n):a})}async function Axe(e,t,r=!1){const n=await Xy(e,t._linkToIdToken(e.auth,await e.getIdToken()),r);return c0._forOperation(e,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cxe(e,t,r=!1){const{auth:n}=e;if(so(n.app))return Promise.reject(gh(n));const i="reauthenticate";try{const a=await Xy(e,QK(n,i,t,e),r);Mt(a.idToken,n,"internal-error");const s=lD(a.idToken);Mt(s,n,"internal-error");const{sub:o}=s;return Mt(e.uid===o,n,"user-mismatch"),c0._forOperation(e,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&dc(n,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jxe(e,t,r=!1){if(so(e.app))return Promise.reject(gh(e));const n="signIn",i=await QK(e,n,t),a=await c0._fromIdTokenResponse(e,n,i);return r||await e._updateCurrentUser(a.user),a}function Pxe(e,t,r,n){return $r(e).onIdTokenChanged(t,r,n)}function Rxe(e,t,r){return $r(e).beforeAuthStateChanged(t,r)}function kxe(e,t,r,n){return $r(e).onAuthStateChanged(t,r,n)}function ew(e){return $r(e).signOut()}const EE="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZK{constructor(t,r){this.storageRetriever=t,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(EE,"1"),this.storage.removeItem(EE),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,r){return this.storage.setItem(t,JSON.stringify(r)),Promise.resolve()}_get(t){const r=this.storage.getItem(t);return Promise.resolve(r?JSON.parse(r):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ixe=1e3,Oxe=10;class JK extends ZK{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=GK(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&t(r,i,n)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((s,o,c)=>{this.notifyListeners(s,c)});return}const n=t.key;r?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(n);!r&&this.localCache[n]===s||this.notifyListeners(n,s)},a=this.storage.getItem(n);dxe()&&a!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,Oxe):i()}notifyListeners(t,r){this.localCache[t]=r;const n=this.listeners[t];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:n}),!0)})},Ixe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,r){await super._set(t,r),this.localCache[t]=JSON.stringify(r)}async _get(t){const r=await super._get(t);return this.localCache[t]=JSON.stringify(r),r}async _remove(t){await super._remove(t),delete this.localCache[t]}}JK.type="LOCAL";const Dxe=JK;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eY extends ZK{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}eY.type="SESSION";const tY=eY;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mxe(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(i=>i.isListeningto(t));if(r)return r;const n=new Q2(t);return this.receivers.push(n),n}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const r=t,{eventId:n,eventType:i,data:a}=r.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const o=Array.from(s).map(async u=>u(r.origin,a)),c=await Mxe(o);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:c})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Q2.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fD(e="",t=10){let r="";for(let n=0;n<t;n++)r+=Math.floor(Math.random()*10);return e+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lxe{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,s;return new Promise((o,c)=>{const u=fD("",20);i.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},n);s={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(d),a=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),o(h.data.response);break;default:clearTimeout(d),clearTimeout(a),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:t,eventId:u,data:r},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xl(){return window}function Fxe(e){Xl().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rY(){return typeof Xl().WorkerGlobalScope<"u"&&typeof Xl().importScripts=="function"}async function $xe(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Bxe(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)==null?void 0:e.controller)||null}function Vxe(){return rY()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nY="firebaseLocalStorageDb",Uxe=1,SE="firebaseLocalStorage",iY="fbase_key";class E1{constructor(t){this.request=t}toPromise(){return new Promise((t,r)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function Z2(e,t){return e.transaction([SE],t?"readwrite":"readonly").objectStore(SE)}function zxe(){const e=indexedDB.deleteDatabase(nY);return new E1(e).toPromise()}function QP(){const e=indexedDB.open(nY,Uxe);return new Promise((t,r)=>{e.addEventListener("error",()=>{r(e.error)}),e.addEventListener("upgradeneeded",()=>{const n=e.result;try{n.createObjectStore(SE,{keyPath:iY})}catch(i){r(i)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(SE)?t(n):(n.close(),await zxe(),t(await QP()))})})}async function b6(e,t,r){const n=Z2(e,!0).put({[iY]:t,value:r});return new E1(n).toPromise()}async function Wxe(e,t){const r=Z2(e,!1).get(t),n=await new E1(r).toPromise();return n===void 0?null:n.value}function w6(e,t){const r=Z2(e,!0).delete(t);return new E1(r).toPromise()}const Hxe=800,qxe=3;class aY{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await QP(),this.db)}async _withRetries(t){let r=0;for(;;)try{const n=await this._openDb();return await t(n)}catch(n){if(r++>qxe)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return rY()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Q2._getInstance(Vxe()),this.receiver._subscribe("keyChanged",async(t,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(t,r)=>["keyChanged"])}async initializeSender(){var r,n;if(this.activeServiceWorker=await $xe(),!this.activeServiceWorker)return;this.sender=new Lxe(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&(r=t[0])!=null&&r.fulfilled&&(n=t[0])!=null&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Bxe()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await QP();return await b6(t,EE,"1"),await w6(t,EE),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>b6(n,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)))}async _get(t){const r=await this._withRetries(n=>Wxe(n,t));return this.localCache[t]=r,r}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(r=>w6(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const a=Z2(i,!1).getAll();return new E1(a).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(t.length!==0)for(const{fbase_key:i,value:a}of t)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(t,r){this.localCache[t]=r;const n=this.listeners[t];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Hxe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}aY.type="LOCAL";const Gxe=aY;new w1(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sY(e,t){return t?zc(t):(Mt(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD extends XK{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ap(t,this._buildIdpRequest())}_linkToIdToken(t,r){return Ap(t,this._buildIdpRequest(r))}_getReauthenticationResolver(t){return Ap(t,this._buildIdpRequest())}_buildIdpRequest(t){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(r.idToken=t),r}}function Kxe(e){return jxe(e.auth,new hD(e),e.bypassAuthState)}function Yxe(e){const{auth:t,user:r}=e;return Mt(r,t,"internal-error"),Cxe(r,new hD(e),e.bypassAuthState)}async function Xxe(e){const{auth:t,user:r}=e;return Mt(r,t,"internal-error"),Axe(r,new hD(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oY{constructor(t,r,n,i,a=!1){this.auth=t,this.resolver=n,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(t,r)=>{this.pendingPromise={resolve:t,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(t){const{urlResponse:r,sessionId:n,postBody:i,tenantId:a,error:s,type:o}=t;if(s){this.reject(s);return}const c={auth:this.auth,requestUri:r,sessionId:n,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(c))}catch(u){this.reject(u)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Kxe;case"linkViaPopup":case"linkViaRedirect":return Xxe;case"reauthViaPopup":case"reauthViaRedirect":return Yxe;default:dc(this.auth,"internal-error")}}resolve(t){gu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){gu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qxe=new w1(2e3,1e4);async function Zxe(e,t,r){if(so(e.app))return Promise.reject(ol(e,"operation-not-supported-in-this-environment"));const n=X2(e);Gye(e,t,dD);const i=sY(n,r);return new Xf(n,"signInViaPopup",t,i).executeNotNull()}class Xf extends oY{constructor(t,r,n,i,a){super(t,r,i,a),this.provider=n,this.authWindow=null,this.pollId=null,Xf.currentPopupAction&&Xf.currentPopupAction.cancel(),Xf.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Mt(t,this.auth,"internal-error"),t}async onExecution(){gu(this.filter.length===1,"Popup operations only handle one event");const t=fD();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(ol(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)==null?void 0:t.associatedEvent)||null}cancel(){this.reject(ol(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xf.currentPopupAction=null}pollUserCancellation(){const t=()=>{var r,n;if((n=(r=this.authWindow)==null?void 0:r.window)!=null&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ol(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Qxe.get())};t()}}Xf.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jxe="pendingRedirect",m_=new Map;class e1e extends oY{constructor(t,r,n=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let t=m_.get(this.auth._key());if(!t){try{const n=await t1e(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(n)}catch(r){t=()=>Promise.reject(r)}m_.set(this.auth._key(),t)}return this.bypassAuthState||m_.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const r=await this.auth._redirectUserForId(t.eventId);if(r)return this.user=r,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function t1e(e,t){const r=i1e(t),n=n1e(e);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function r1e(e,t){m_.set(e._key(),t)}function n1e(e){return zc(e._redirectPersistence)}function i1e(e){return h_(Jxe,e.config.apiKey,e.name)}async function a1e(e,t,r=!1){if(so(e.app))return Promise.reject(gh(e));const n=X2(e),i=sY(n,t),s=await new e1e(n,i,r).execute();return s&&!r&&(delete s.user._redirectEventId,await n._persistUserIfCurrent(s.user),await n._setRedirectUser(null,t)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1e=10*60*1e3;class o1e{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(t,n)&&(r=!0,this.sendToConsumer(t,n),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!l1e(t)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=t,r=!0)),r}sendToConsumer(t,r){var n;if(t.error&&!lY(t)){const i=((n=t.error.code)==null?void 0:n.split("auth/")[1])||"internal-error";r.onError(ol(this.auth,i))}else r.onAuthEvent(t)}isEventForConsumer(t,r){const n=r.eventId===null||!!t.eventId&&t.eventId===r.eventId;return r.filter.includes(t.type)&&n}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=s1e&&this.cachedEventUids.clear(),this.cachedEventUids.has(_6(t))}saveEventToCache(t){this.cachedEventUids.add(_6(t)),this.lastProcessedEventTime=Date.now()}}function _6(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function lY({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function l1e(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return lY(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c1e(e,t={}){return lg(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1e=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,d1e=/^https?/;async function f1e(e){if(e.config.emulator)return;const{authorizedDomains:t}=await c1e(e);for(const r of t)try{if(h1e(r))return}catch{}dc(e,"unauthorized-domain")}function h1e(e){const t=YP(),{protocol:r,hostname:n}=new URL(t);if(e.startsWith("chrome-extension://")){const s=new URL(e);return s.hostname===""&&n===""?r==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):r==="chrome-extension:"&&s.hostname===n}if(!d1e.test(r))return!1;if(u1e.test(e))return n===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1e=new w1(3e4,6e4);function E6(){const e=Xl().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let r=0;r<e.CP.length;r++)e.CP[r]=null}}function p1e(e){return new Promise((t,r)=>{var i,a,s;function n(){E6(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{E6(),r(ol(e,"network-request-failed"))},timeout:m1e.get()})}if((a=(i=Xl().gapi)==null?void 0:i.iframes)!=null&&a.Iframe)t(gapi.iframes.getContext());else if((s=Xl().gapi)!=null&&s.load)n();else{const o=bxe("iframefcb");return Xl()[o]=()=>{gapi.load?n():r(ol(e,"network-request-failed"))},yxe(`${xxe()}?onload=${o}`).catch(c=>r(c))}}).catch(t=>{throw p_=null,t})}let p_=null;function g1e(e){return p_=p_||p1e(e),p_}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1e=new w1(5e3,15e3),y1e="__/auth/iframe",x1e="emulator/auth/iframe",b1e={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},w1e=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _1e(e){const t=e.config;Mt(t.authDomain,e,"auth-domain-config-required");const r=t.emulator?sD(t,x1e):`https://${e.config.authDomain}/${y1e}`,n={apiKey:t.apiKey,appName:e.name,v:am},i=w1e.get(e.config.apiHost);i&&(n.eid=i);const a=e._getFrameworks();return a.length&&(n.fw=a.join(",")),`${r}?${b1(n).slice(1)}`}async function E1e(e){const t=await g1e(e),r=Xl().gapi;return Mt(r,e,"internal-error"),t.open({where:document.body,url:_1e(e),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:b1e,dontclear:!0},n=>new Promise(async(i,a)=>{await n.restyle({setHideOnLeave:!1});const s=ol(e,"network-request-failed"),o=Xl().setTimeout(()=>{a(s)},v1e.get());function c(){Xl().clearTimeout(o),i(n)}n.ping(c).then(c,()=>{a(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1e={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},T1e=500,N1e=600,A1e="_blank",C1e="http://localhost";class S6{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function j1e(e,t,r,n=T1e,i=N1e){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-n)/2,0).toString();let o="";const c={...S1e,width:n.toString(),height:i.toString(),top:a,left:s},u=ma().toLowerCase();r&&(o=UK(u)?A1e:r),BK(u)&&(t=t||C1e,c.scrollbars="yes");const d=Object.entries(c).reduce((h,[m,g])=>`${h}${m}=${g},`,"");if(uxe(u)&&o!=="_self")return P1e(t||"",o),new S6(null);const f=window.open(t||"",o,d);Mt(f,e,"popup-blocked");try{f.focus()}catch{}return new S6(f)}function P1e(e,t){const r=document.createElement("a");r.href=e,r.target=t;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1e="__/auth/handler",k1e="emulator/auth/handler",I1e=encodeURIComponent("fac");async function T6(e,t,r,n,i,a){Mt(e.config.authDomain,e,"auth-domain-config-required"),Mt(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:r,redirectUrl:n,v:am,eventId:i};if(t instanceof dD){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",Ive(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[d,f]of Object.entries({}))s[d]=f}if(t instanceof _1){const d=t.getScopes().filter(f=>f!=="");d.length>0&&(s.scopes=d.join(","))}e.tenantId&&(s.tid=e.tenantId);const o=s;for(const d of Object.keys(o))o[d]===void 0&&delete o[d];const c=await e._getAppCheckToken(),u=c?`#${I1e}=${encodeURIComponent(c)}`:"";return`${O1e(e)}?${b1(o).slice(1)}${u}`}function O1e({config:e}){return e.emulator?sD(e,k1e):`https://${e.authDomain}/${R1e}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA="webStorageSupport";class D1e{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tY,this._completeRedirectFn=a1e,this._overrideRedirectResult=r1e}async _openPopup(t,r,n,i){var s;gu((s=this.eventManagers[t._key()])==null?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await T6(t,r,n,YP(),i);return j1e(t,a,fD())}async _openRedirect(t,r,n,i){await this._originValidation(t);const a=await T6(t,r,n,YP(),i);return Fxe(a),new Promise(()=>{})}_initialize(t){const r=t._key();if(this.eventManagers[r]){const{manager:i,promise:a}=this.eventManagers[r];return i?Promise.resolve(i):(gu(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(t);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(t){const r=await E1e(t),n=new o1e(t);return r.register("authEvent",i=>(Mt(i==null?void 0:i.authEvent,t,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:n},this.iframes[t._key()]=r,n}_isIframeWebStorageSupported(t,r){this.iframes[t._key()].send(GA,{type:GA},i=>{var s;const a=(s=i==null?void 0:i[0])==null?void 0:s[GA];a!==void 0&&r(!!a),dc(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const r=t._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=f1e(t)),this.originValidationPromises[r]}get _shouldInitProactively(){return GK()||VK()||cD()}}const M1e=D1e;var N6="@firebase/auth",A6="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1e{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)==null?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const r=this.auth.onIdTokenChanged(n=>{t((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,r),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const r=this.internalListeners.get(t);r&&(this.internalListeners.delete(t),r(),this.updateProactiveRefresh())}assertAuthConfigured(){Mt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F1e(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function $1e(e){Oh(new Ud("auth",(t,{options:r})=>{const n=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),a=t.getProvider("app-check-internal"),{apiKey:s,authDomain:o}=n.options;Mt(s&&!s.includes(":"),"invalid-api-key",{appName:n.name});const c={apiKey:s,authDomain:o,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:KK(e)},u=new gxe(n,i,a,c);return _xe(u,r),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,r,n)=>{t.getProvider("auth-internal").initialize()})),Oh(new Ud("auth-internal",t=>{const r=X2(t.getProvider("auth").getImmediate());return(n=>new L1e(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Yl(N6,A6,F1e(e)),Yl(N6,A6,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1e=5*60,V1e=NK("authIdTokenMaxAge")||B1e;let C6=null;const U1e=e=>async t=>{const r=t&&await t.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>V1e)return;const i=r==null?void 0:r.token;C6!==i&&(C6=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function z1e(e=nD()){const t=Y2(e,"auth");if(t.isInitialized())return t.getImmediate();const r=wxe(e,{popupRedirectResolver:M1e,persistence:[Gxe,Dxe,tY]}),n=NK("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(n,location.origin);if(location.origin===a.origin){const s=U1e(a.toString());Rxe(r,s,()=>s(r.currentUser)),Pxe(r,o=>s(o))}}const i=EK("auth");return i&&Exe(r,`http://${i}`),r}function W1e(){var e;return((e=document.getElementsByTagName("head"))==null?void 0:e[0])??document}vxe({loadJS(e){return new Promise((t,r)=>{const n=document.createElement("script");n.setAttribute("src",e),n.onload=t,n.onerror=i=>{const a=ol("internal-error");a.customData=i,r(a)},n.type="text/javascript",n.charset="UTF-8",W1e().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});$1e("Browser");var H1e="firebase",q1e="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Yl(H1e,q1e,"app");var j6=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Pd,cY;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(S,A){function C(){}C.prototype=A.prototype,S.D=A.prototype,S.prototype=new C,S.prototype.constructor=S,S.C=function(j,I,O){for(var k=Array(arguments.length-2),D=2;D<arguments.length;D++)k[D-2]=arguments[D];return A.prototype[I].apply(j,k)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,A,C){C||(C=0);var j=Array(16);if(typeof A=="string")for(var I=0;16>I;++I)j[I]=A.charCodeAt(C++)|A.charCodeAt(C++)<<8|A.charCodeAt(C++)<<16|A.charCodeAt(C++)<<24;else for(I=0;16>I;++I)j[I]=A[C++]|A[C++]<<8|A[C++]<<16|A[C++]<<24;A=S.g[0],C=S.g[1],I=S.g[2];var O=S.g[3],k=A+(O^C&(I^O))+j[0]+3614090360&4294967295;A=C+(k<<7&4294967295|k>>>25),k=O+(I^A&(C^I))+j[1]+3905402710&4294967295,O=A+(k<<12&4294967295|k>>>20),k=I+(C^O&(A^C))+j[2]+606105819&4294967295,I=O+(k<<17&4294967295|k>>>15),k=C+(A^I&(O^A))+j[3]+3250441966&4294967295,C=I+(k<<22&4294967295|k>>>10),k=A+(O^C&(I^O))+j[4]+4118548399&4294967295,A=C+(k<<7&4294967295|k>>>25),k=O+(I^A&(C^I))+j[5]+1200080426&4294967295,O=A+(k<<12&4294967295|k>>>20),k=I+(C^O&(A^C))+j[6]+2821735955&4294967295,I=O+(k<<17&4294967295|k>>>15),k=C+(A^I&(O^A))+j[7]+4249261313&4294967295,C=I+(k<<22&4294967295|k>>>10),k=A+(O^C&(I^O))+j[8]+1770035416&4294967295,A=C+(k<<7&4294967295|k>>>25),k=O+(I^A&(C^I))+j[9]+2336552879&4294967295,O=A+(k<<12&4294967295|k>>>20),k=I+(C^O&(A^C))+j[10]+4294925233&4294967295,I=O+(k<<17&4294967295|k>>>15),k=C+(A^I&(O^A))+j[11]+2304563134&4294967295,C=I+(k<<22&4294967295|k>>>10),k=A+(O^C&(I^O))+j[12]+1804603682&4294967295,A=C+(k<<7&4294967295|k>>>25),k=O+(I^A&(C^I))+j[13]+4254626195&4294967295,O=A+(k<<12&4294967295|k>>>20),k=I+(C^O&(A^C))+j[14]+2792965006&4294967295,I=O+(k<<17&4294967295|k>>>15),k=C+(A^I&(O^A))+j[15]+1236535329&4294967295,C=I+(k<<22&4294967295|k>>>10),k=A+(I^O&(C^I))+j[1]+4129170786&4294967295,A=C+(k<<5&4294967295|k>>>27),k=O+(C^I&(A^C))+j[6]+3225465664&4294967295,O=A+(k<<9&4294967295|k>>>23),k=I+(A^C&(O^A))+j[11]+643717713&4294967295,I=O+(k<<14&4294967295|k>>>18),k=C+(O^A&(I^O))+j[0]+3921069994&4294967295,C=I+(k<<20&4294967295|k>>>12),k=A+(I^O&(C^I))+j[5]+3593408605&4294967295,A=C+(k<<5&4294967295|k>>>27),k=O+(C^I&(A^C))+j[10]+38016083&4294967295,O=A+(k<<9&4294967295|k>>>23),k=I+(A^C&(O^A))+j[15]+3634488961&4294967295,I=O+(k<<14&4294967295|k>>>18),k=C+(O^A&(I^O))+j[4]+3889429448&4294967295,C=I+(k<<20&4294967295|k>>>12),k=A+(I^O&(C^I))+j[9]+568446438&4294967295,A=C+(k<<5&4294967295|k>>>27),k=O+(C^I&(A^C))+j[14]+3275163606&4294967295,O=A+(k<<9&4294967295|k>>>23),k=I+(A^C&(O^A))+j[3]+4107603335&4294967295,I=O+(k<<14&4294967295|k>>>18),k=C+(O^A&(I^O))+j[8]+1163531501&4294967295,C=I+(k<<20&4294967295|k>>>12),k=A+(I^O&(C^I))+j[13]+2850285829&4294967295,A=C+(k<<5&4294967295|k>>>27),k=O+(C^I&(A^C))+j[2]+4243563512&4294967295,O=A+(k<<9&4294967295|k>>>23),k=I+(A^C&(O^A))+j[7]+1735328473&4294967295,I=O+(k<<14&4294967295|k>>>18),k=C+(O^A&(I^O))+j[12]+2368359562&4294967295,C=I+(k<<20&4294967295|k>>>12),k=A+(C^I^O)+j[5]+4294588738&4294967295,A=C+(k<<4&4294967295|k>>>28),k=O+(A^C^I)+j[8]+2272392833&4294967295,O=A+(k<<11&4294967295|k>>>21),k=I+(O^A^C)+j[11]+1839030562&4294967295,I=O+(k<<16&4294967295|k>>>16),k=C+(I^O^A)+j[14]+4259657740&4294967295,C=I+(k<<23&4294967295|k>>>9),k=A+(C^I^O)+j[1]+2763975236&4294967295,A=C+(k<<4&4294967295|k>>>28),k=O+(A^C^I)+j[4]+1272893353&4294967295,O=A+(k<<11&4294967295|k>>>21),k=I+(O^A^C)+j[7]+4139469664&4294967295,I=O+(k<<16&4294967295|k>>>16),k=C+(I^O^A)+j[10]+3200236656&4294967295,C=I+(k<<23&4294967295|k>>>9),k=A+(C^I^O)+j[13]+681279174&4294967295,A=C+(k<<4&4294967295|k>>>28),k=O+(A^C^I)+j[0]+3936430074&4294967295,O=A+(k<<11&4294967295|k>>>21),k=I+(O^A^C)+j[3]+3572445317&4294967295,I=O+(k<<16&4294967295|k>>>16),k=C+(I^O^A)+j[6]+76029189&4294967295,C=I+(k<<23&4294967295|k>>>9),k=A+(C^I^O)+j[9]+3654602809&4294967295,A=C+(k<<4&4294967295|k>>>28),k=O+(A^C^I)+j[12]+3873151461&4294967295,O=A+(k<<11&4294967295|k>>>21),k=I+(O^A^C)+j[15]+530742520&4294967295,I=O+(k<<16&4294967295|k>>>16),k=C+(I^O^A)+j[2]+3299628645&4294967295,C=I+(k<<23&4294967295|k>>>9),k=A+(I^(C|~O))+j[0]+4096336452&4294967295,A=C+(k<<6&4294967295|k>>>26),k=O+(C^(A|~I))+j[7]+1126891415&4294967295,O=A+(k<<10&4294967295|k>>>22),k=I+(A^(O|~C))+j[14]+2878612391&4294967295,I=O+(k<<15&4294967295|k>>>17),k=C+(O^(I|~A))+j[5]+4237533241&4294967295,C=I+(k<<21&4294967295|k>>>11),k=A+(I^(C|~O))+j[12]+1700485571&4294967295,A=C+(k<<6&4294967295|k>>>26),k=O+(C^(A|~I))+j[3]+2399980690&4294967295,O=A+(k<<10&4294967295|k>>>22),k=I+(A^(O|~C))+j[10]+4293915773&4294967295,I=O+(k<<15&4294967295|k>>>17),k=C+(O^(I|~A))+j[1]+2240044497&4294967295,C=I+(k<<21&4294967295|k>>>11),k=A+(I^(C|~O))+j[8]+1873313359&4294967295,A=C+(k<<6&4294967295|k>>>26),k=O+(C^(A|~I))+j[15]+4264355552&4294967295,O=A+(k<<10&4294967295|k>>>22),k=I+(A^(O|~C))+j[6]+2734768916&4294967295,I=O+(k<<15&4294967295|k>>>17),k=C+(O^(I|~A))+j[13]+1309151649&4294967295,C=I+(k<<21&4294967295|k>>>11),k=A+(I^(C|~O))+j[4]+4149444226&4294967295,A=C+(k<<6&4294967295|k>>>26),k=O+(C^(A|~I))+j[11]+3174756917&4294967295,O=A+(k<<10&4294967295|k>>>22),k=I+(A^(O|~C))+j[2]+718787259&4294967295,I=O+(k<<15&4294967295|k>>>17),k=C+(O^(I|~A))+j[9]+3951481745&4294967295,S.g[0]=S.g[0]+A&4294967295,S.g[1]=S.g[1]+(I+(k<<21&4294967295|k>>>11))&4294967295,S.g[2]=S.g[2]+I&4294967295,S.g[3]=S.g[3]+O&4294967295}n.prototype.u=function(S,A){A===void 0&&(A=S.length);for(var C=A-this.blockSize,j=this.B,I=this.h,O=0;O<A;){if(I==0)for(;O<=C;)i(this,S,O),O+=this.blockSize;if(typeof S=="string"){for(;O<A;)if(j[I++]=S.charCodeAt(O++),I==this.blockSize){i(this,j),I=0;break}}else for(;O<A;)if(j[I++]=S[O++],I==this.blockSize){i(this,j),I=0;break}}this.h=I,this.o+=A},n.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var A=1;A<S.length-8;++A)S[A]=0;var C=8*this.o;for(A=S.length-8;A<S.length;++A)S[A]=C&255,C/=256;for(this.u(S),S=Array(16),A=C=0;4>A;++A)for(var j=0;32>j;j+=8)S[C++]=this.g[A]>>>j&255;return S};function a(S,A){var C=o;return Object.prototype.hasOwnProperty.call(C,S)?C[S]:C[S]=A(S)}function s(S,A){this.h=A;for(var C=[],j=!0,I=S.length-1;0<=I;I--){var O=S[I]|0;j&&O==A||(C[I]=O,j=!1)}this.g=C}var o={};function c(S){return-128<=S&&128>S?a(S,function(A){return new s([A|0],0>A?-1:0)}):new s([S|0],0>S?-1:0)}function u(S){if(isNaN(S)||!isFinite(S))return f;if(0>S)return v(u(-S));for(var A=[],C=1,j=0;S>=C;j++)A[j]=S/C|0,C*=4294967296;return new s(A,0)}function d(S,A){if(S.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(S.charAt(0)=="-")return v(d(S.substring(1),A));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=u(Math.pow(A,8)),j=f,I=0;I<S.length;I+=8){var O=Math.min(8,S.length-I),k=parseInt(S.substring(I,I+O),A);8>O?(O=u(Math.pow(A,O)),j=j.j(O).add(u(k))):(j=j.j(C),j=j.add(u(k)))}return j}var f=c(0),h=c(1),m=c(16777216);e=s.prototype,e.m=function(){if(p(this))return-v(this).m();for(var S=0,A=1,C=0;C<this.g.length;C++){var j=this.i(C);S+=(0<=j?j:4294967296+j)*A,A*=4294967296}return S},e.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(g(this))return"0";if(p(this))return"-"+v(this).toString(S);for(var A=u(Math.pow(S,6)),C=this,j="";;){var I=N(C,A).g;C=y(C,I.j(A));var O=((0<C.g.length?C.g[0]:C.h)>>>0).toString(S);if(C=I,g(C))return O+j;for(;6>O.length;)O="0"+O;j=O+j}},e.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function g(S){if(S.h!=0)return!1;for(var A=0;A<S.g.length;A++)if(S.g[A]!=0)return!1;return!0}function p(S){return S.h==-1}e.l=function(S){return S=y(this,S),p(S)?-1:g(S)?0:1};function v(S){for(var A=S.g.length,C=[],j=0;j<A;j++)C[j]=~S.g[j];return new s(C,~S.h).add(h)}e.abs=function(){return p(this)?v(this):this},e.add=function(S){for(var A=Math.max(this.g.length,S.g.length),C=[],j=0,I=0;I<=A;I++){var O=j+(this.i(I)&65535)+(S.i(I)&65535),k=(O>>>16)+(this.i(I)>>>16)+(S.i(I)>>>16);j=k>>>16,O&=65535,k&=65535,C[I]=k<<16|O}return new s(C,C[C.length-1]&-2147483648?-1:0)};function y(S,A){return S.add(v(A))}e.j=function(S){if(g(this)||g(S))return f;if(p(this))return p(S)?v(this).j(v(S)):v(v(this).j(S));if(p(S))return v(this.j(v(S)));if(0>this.l(m)&&0>S.l(m))return u(this.m()*S.m());for(var A=this.g.length+S.g.length,C=[],j=0;j<2*A;j++)C[j]=0;for(j=0;j<this.g.length;j++)for(var I=0;I<S.g.length;I++){var O=this.i(j)>>>16,k=this.i(j)&65535,D=S.i(I)>>>16,B=S.i(I)&65535;C[2*j+2*I]+=k*B,x(C,2*j+2*I),C[2*j+2*I+1]+=O*B,x(C,2*j+2*I+1),C[2*j+2*I+1]+=k*D,x(C,2*j+2*I+1),C[2*j+2*I+2]+=O*D,x(C,2*j+2*I+2)}for(j=0;j<A;j++)C[j]=C[2*j+1]<<16|C[2*j];for(j=A;j<2*A;j++)C[j]=0;return new s(C,0)};function x(S,A){for(;(S[A]&65535)!=S[A];)S[A+1]+=S[A]>>>16,S[A]&=65535,A++}function w(S,A){this.g=S,this.h=A}function N(S,A){if(g(A))throw Error("division by zero");if(g(S))return new w(f,f);if(p(S))return A=N(v(S),A),new w(v(A.g),v(A.h));if(p(A))return A=N(S,v(A)),new w(v(A.g),A.h);if(30<S.g.length){if(p(S)||p(A))throw Error("slowDivide_ only works with positive integers.");for(var C=h,j=A;0>=j.l(S);)C=E(C),j=E(j);var I=T(C,1),O=T(j,1);for(j=T(j,2),C=T(C,2);!g(j);){var k=O.add(j);0>=k.l(S)&&(I=I.add(C),O=k),j=T(j,1),C=T(C,1)}return A=y(S,I.j(A)),new w(I,A)}for(I=f;0<=S.l(A);){for(C=Math.max(1,Math.floor(S.m()/A.m())),j=Math.ceil(Math.log(C)/Math.LN2),j=48>=j?1:Math.pow(2,j-48),O=u(C),k=O.j(A);p(k)||0<k.l(S);)C-=j,O=u(C),k=O.j(A);g(O)&&(O=h),I=I.add(O),S=y(S,k)}return new w(I,S)}e.A=function(S){return N(this,S).h},e.and=function(S){for(var A=Math.max(this.g.length,S.g.length),C=[],j=0;j<A;j++)C[j]=this.i(j)&S.i(j);return new s(C,this.h&S.h)},e.or=function(S){for(var A=Math.max(this.g.length,S.g.length),C=[],j=0;j<A;j++)C[j]=this.i(j)|S.i(j);return new s(C,this.h|S.h)},e.xor=function(S){for(var A=Math.max(this.g.length,S.g.length),C=[],j=0;j<A;j++)C[j]=this.i(j)^S.i(j);return new s(C,this.h^S.h)};function E(S){for(var A=S.g.length+1,C=[],j=0;j<A;j++)C[j]=S.i(j)<<1|S.i(j-1)>>>31;return new s(C,S.h)}function T(S,A){var C=A>>5;A%=32;for(var j=S.g.length-C,I=[],O=0;O<j;O++)I[O]=0<A?S.i(O+C)>>>A|S.i(O+C+1)<<32-A:S.i(O+C);return new s(I,S.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,cY=n,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=d,Pd=s}).apply(typeof j6<"u"?j6:typeof self<"u"?self:typeof window<"u"?window:{});var tw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var uY,Av,dY,g_,ZP,fY,hY,mY;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(_,R,L){return _==Array.prototype||_==Object.prototype||(_[R]=L.value),_};function r(_){_=[typeof globalThis=="object"&&globalThis,_,typeof window=="object"&&window,typeof self=="object"&&self,typeof tw=="object"&&tw];for(var R=0;R<_.length;++R){var L=_[R];if(L&&L.Math==Math)return L}throw Error("Cannot find global object")}var n=r(this);function i(_,R){if(R)e:{var L=n;_=_.split(".");for(var X=0;X<_.length-1;X++){var be=_[X];if(!(be in L))break e;L=L[be]}_=_[_.length-1],X=L[_],R=R(X),R!=X&&R!=null&&t(L,_,{configurable:!0,writable:!0,value:R})}}function a(_,R){_ instanceof String&&(_+="");var L=0,X=!1,be={next:function(){if(!X&&L<_.length){var Ne=L++;return{value:R(Ne,_[Ne]),done:!1}}return X=!0,{done:!0,value:void 0}}};return be[Symbol.iterator]=function(){return be},be}i("Array.prototype.values",function(_){return _||function(){return a(this,function(R,L){return L})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},o=this||self;function c(_){var R=typeof _;return R=R!="object"?R:_?Array.isArray(_)?"array":R:"null",R=="array"||R=="object"&&typeof _.length=="number"}function u(_){var R=typeof _;return R=="object"&&_!=null||R=="function"}function d(_,R,L){return _.call.apply(_.bind,arguments)}function f(_,R,L){if(!_)throw Error();if(2<arguments.length){var X=Array.prototype.slice.call(arguments,2);return function(){var be=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(be,X),_.apply(R,be)}}return function(){return _.apply(R,arguments)}}function h(_,R,L){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,h.apply(null,arguments)}function m(_,R){var L=Array.prototype.slice.call(arguments,1);return function(){var X=L.slice();return X.push.apply(X,arguments),_.apply(this,X)}}function g(_,R){function L(){}L.prototype=R.prototype,_.aa=R.prototype,_.prototype=new L,_.prototype.constructor=_,_.Qb=function(X,be,Ne){for(var et=Array(arguments.length-2),Lr=2;Lr<arguments.length;Lr++)et[Lr-2]=arguments[Lr];return R.prototype[be].apply(X,et)}}function p(_){const R=_.length;if(0<R){const L=Array(R);for(let X=0;X<R;X++)L[X]=_[X];return L}return[]}function v(_,R){for(let L=1;L<arguments.length;L++){const X=arguments[L];if(c(X)){const be=_.length||0,Ne=X.length||0;_.length=be+Ne;for(let et=0;et<Ne;et++)_[be+et]=X[et]}else _.push(X)}}class y{constructor(R,L){this.i=R,this.j=L,this.h=0,this.g=null}get(){let R;return 0<this.h?(this.h--,R=this.g,this.g=R.next,R.next=null):R=this.i(),R}}function x(_){return/^[\s\xa0]*$/.test(_)}function w(){var _=o.navigator;return _&&(_=_.userAgent)?_:""}function N(_){return N[" "](_),_}N[" "]=function(){};var E=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function T(_,R,L){for(const X in _)R.call(L,_[X],X,_)}function S(_,R){for(const L in _)R.call(void 0,_[L],L,_)}function A(_){const R={};for(const L in _)R[L]=_[L];return R}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function j(_,R){let L,X;for(let be=1;be<arguments.length;be++){X=arguments[be];for(L in X)_[L]=X[L];for(let Ne=0;Ne<C.length;Ne++)L=C[Ne],Object.prototype.hasOwnProperty.call(X,L)&&(_[L]=X[L])}}function I(_){var R=1;_=_.split(":");const L=[];for(;0<R&&_.length;)L.push(_.shift()),R--;return _.length&&L.push(_.join(":")),L}function O(_){o.setTimeout(()=>{throw _},0)}function k(){var _=U;let R=null;return _.g&&(R=_.g,_.g=_.g.next,_.g||(_.h=null),R.next=null),R}class D{constructor(){this.h=this.g=null}add(R,L){const X=B.get();X.set(R,L),this.h?this.h.next=X:this.g=X,this.h=X}}var B=new y(()=>new ee,_=>_.reset());class ee{constructor(){this.next=this.g=this.h=null}set(R,L){this.h=R,this.g=L,this.next=null}reset(){this.next=this.g=this.h=null}}let z,V=!1,U=new D,se=()=>{const _=o.Promise.resolve(void 0);z=()=>{_.then(ne)}};var ne=()=>{for(var _;_=k();){try{_.h.call(_.g)}catch(L){O(L)}var R=B;R.j(_),100>R.h&&(R.h++,_.next=R.g,R.g=_)}V=!1};function M(){this.s=this.s,this.C=this.C}M.prototype.s=!1,M.prototype.ma=function(){this.s||(this.s=!0,this.N())},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(_,R){this.type=_,this.g=this.target=R,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var G=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var _=!1,R=Object.defineProperty({},"passive",{get:function(){_=!0}});try{const L=()=>{};o.addEventListener("test",L,R),o.removeEventListener("test",L,R)}catch{}return _}();function P(_,R){if(W.call(this,_?_.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,_){var L=this.type=_.type,X=_.changedTouches&&_.changedTouches.length?_.changedTouches[0]:null;if(this.target=_.target||_.srcElement,this.g=R,R=_.relatedTarget){if(E){e:{try{N(R.nodeName);var be=!0;break e}catch{}be=!1}be||(R=null)}}else L=="mouseover"?R=_.fromElement:L=="mouseout"&&(R=_.toElement);this.relatedTarget=R,X?(this.clientX=X.clientX!==void 0?X.clientX:X.pageX,this.clientY=X.clientY!==void 0?X.clientY:X.pageY,this.screenX=X.screenX||0,this.screenY=X.screenY||0):(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0),this.button=_.button,this.key=_.key||"",this.ctrlKey=_.ctrlKey,this.altKey=_.altKey,this.shiftKey=_.shiftKey,this.metaKey=_.metaKey,this.pointerId=_.pointerId||0,this.pointerType=typeof _.pointerType=="string"?_.pointerType:J[_.pointerType]||"",this.state=_.state,this.i=_,_.defaultPrevented&&P.aa.h.call(this)}}g(P,W);var J={2:"touch",3:"pen",4:"mouse"};P.prototype.h=function(){P.aa.h.call(this);var _=this.i;_.preventDefault?_.preventDefault():_.returnValue=!1};var oe="closure_listenable_"+(1e6*Math.random()|0),ae=0;function K(_,R,L,X,be){this.listener=_,this.proxy=null,this.src=R,this.type=L,this.capture=!!X,this.ha=be,this.key=++ae,this.da=this.fa=!1}function ie(_){_.da=!0,_.listener=null,_.proxy=null,_.src=null,_.ha=null}function fe(_){this.src=_,this.g={},this.h=0}fe.prototype.add=function(_,R,L,X,be){var Ne=_.toString();_=this.g[Ne],_||(_=this.g[Ne]=[],this.h++);var et=Be(_,R,X,be);return-1<et?(R=_[et],L||(R.fa=!1)):(R=new K(R,this.src,Ne,!!X,be),R.fa=L,_.push(R)),R};function le(_,R){var L=R.type;if(L in _.g){var X=_.g[L],be=Array.prototype.indexOf.call(X,R,void 0),Ne;(Ne=0<=be)&&Array.prototype.splice.call(X,be,1),Ne&&(ie(R),_.g[L].length==0&&(delete _.g[L],_.h--))}}function Be(_,R,L,X){for(var be=0;be<_.length;++be){var Ne=_[be];if(!Ne.da&&Ne.listener==R&&Ne.capture==!!L&&Ne.ha==X)return be}return-1}var Oe="closure_lm_"+(1e6*Math.random()|0),vt={};function mt(_,R,L,X,be){if(Array.isArray(R)){for(var Ne=0;Ne<R.length;Ne++)mt(_,R[Ne],L,X,be);return null}return L=Le(L),_&&_[oe]?_.K(R,L,u(X)?!!X.capture:!1,be):ge(_,R,L,!1,X,be)}function ge(_,R,L,X,be,Ne){if(!R)throw Error("Invalid event type");var et=u(be)?!!be.capture:!!be,Lr=Pe(_);if(Lr||(_[Oe]=Lr=new fe(_)),L=Lr.add(R,L,X,et,Ne),L.proxy)return L;if(X=st(),L.proxy=X,X.src=_,X.listener=L,_.addEventListener)G||(be=et),be===void 0&&(be=!1),_.addEventListener(R.toString(),X,be);else if(_.attachEvent)_.attachEvent(ce(R.toString()),X);else if(_.addListener&&_.removeListener)_.addListener(X);else throw Error("addEventListener and attachEvent are unavailable.");return L}function st(){function _(L){return R.call(_.src,_.listener,L)}const R=he;return _}function _e(_,R,L,X,be){if(Array.isArray(R))for(var Ne=0;Ne<R.length;Ne++)_e(_,R[Ne],L,X,be);else X=u(X)?!!X.capture:!!X,L=Le(L),_&&_[oe]?(_=_.i,R=String(R).toString(),R in _.g&&(Ne=_.g[R],L=Be(Ne,L,X,be),-1<L&&(ie(Ne[L]),Array.prototype.splice.call(Ne,L,1),Ne.length==0&&(delete _.g[R],_.h--)))):_&&(_=Pe(_))&&(R=_.g[R.toString()],_=-1,R&&(_=Be(R,L,X,be)),(L=-1<_?R[_]:null)&&Q(L))}function Q(_){if(typeof _!="number"&&_&&!_.da){var R=_.src;if(R&&R[oe])le(R.i,_);else{var L=_.type,X=_.proxy;R.removeEventListener?R.removeEventListener(L,X,_.capture):R.detachEvent?R.detachEvent(ce(L),X):R.addListener&&R.removeListener&&R.removeListener(X),(L=Pe(R))?(le(L,_),L.h==0&&(L.src=null,R[Oe]=null)):ie(_)}}}function ce(_){return _ in vt?vt[_]:vt[_]="on"+_}function he(_,R){if(_.da)_=!0;else{R=new P(R,this);var L=_.listener,X=_.ha||_.src;_.fa&&Q(_),_=L.call(X,R)}return _}function Pe(_){return _=_[Oe],_ instanceof fe?_:null}var ke="__closure_events_fn_"+(1e9*Math.random()>>>0);function Le(_){return typeof _=="function"?_:(_[ke]||(_[ke]=function(R){return _.handleEvent(R)}),_[ke])}function Ve(){M.call(this),this.i=new fe(this),this.M=this,this.F=null}g(Ve,M),Ve.prototype[oe]=!0,Ve.prototype.removeEventListener=function(_,R,L,X){_e(this,_,R,L,X)};function ct(_,R){var L,X=_.F;if(X)for(L=[];X;X=X.F)L.push(X);if(_=_.M,X=R.type||R,typeof R=="string")R=new W(R,_);else if(R instanceof W)R.target=R.target||_;else{var be=R;R=new W(X,_),j(R,be)}if(be=!0,L)for(var Ne=L.length-1;0<=Ne;Ne--){var et=R.g=L[Ne];be=$t(et,X,!0,R)&&be}if(et=R.g=_,be=$t(et,X,!0,R)&&be,be=$t(et,X,!1,R)&&be,L)for(Ne=0;Ne<L.length;Ne++)et=R.g=L[Ne],be=$t(et,X,!1,R)&&be}Ve.prototype.N=function(){if(Ve.aa.N.call(this),this.i){var _=this.i,R;for(R in _.g){for(var L=_.g[R],X=0;X<L.length;X++)ie(L[X]);delete _.g[R],_.h--}}this.F=null},Ve.prototype.K=function(_,R,L,X){return this.i.add(String(_),R,!1,L,X)},Ve.prototype.L=function(_,R,L,X){return this.i.add(String(_),R,!0,L,X)};function $t(_,R,L,X){if(R=_.i.g[String(R)],!R)return!0;R=R.concat();for(var be=!0,Ne=0;Ne<R.length;++Ne){var et=R[Ne];if(et&&!et.da&&et.capture==L){var Lr=et.listener,Ai=et.ha||et.src;et.fa&&le(_.i,et),be=Lr.call(Ai,X)!==!1&&be}}return be&&!X.defaultPrevented}function vn(_,R,L){if(typeof _=="function")L&&(_=h(_,L));else if(_&&typeof _.handleEvent=="function")_=h(_.handleEvent,_);else throw Error("Invalid listener argument");return 2147483647<Number(R)?-1:o.setTimeout(_,R||0)}function Ni(_){_.g=vn(()=>{_.g=null,_.i&&(_.i=!1,Ni(_))},_.l);const R=_.h;_.h=null,_.m.apply(null,R)}class un extends M{constructor(R,L){super(),this.m=R,this.l=L,this.h=null,this.i=!1,this.g=null}j(R){this.h=arguments,this.g?this.i=!0:Ni(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gi(_){M.call(this),this.h=_,this.g={}}g(Gi,M);var Ki=[];function si(_){T(_.g,function(R,L){this.g.hasOwnProperty(L)&&Q(R)},_),_.g={}}Gi.prototype.N=function(){Gi.aa.N.call(this),si(this)},Gi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ds=o.JSON.stringify,Yi=o.JSON.parse,zs=class{stringify(_){return o.JSON.stringify(_,void 0)}parse(_){return o.JSON.parse(_,void 0)}};function Fa(){}Fa.prototype.h=null;function Ws(_){return _.h||(_.h=_.i())}function Nl(){}var Hs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Io(){W.call(this,"d")}g(Io,W);function Hn(){W.call(this,"c")}g(Hn,W);var Xi={},Tt=null;function Zt(){return Tt=Tt||new Ve}Xi.La="serverreachability";function yr(_){W.call(this,Xi.La,_)}g(yr,W);function ue(_){const R=Zt();ct(R,new yr(R))}Xi.STAT_EVENT="statevent";function pe(_,R){W.call(this,Xi.STAT_EVENT,_),this.stat=R}g(pe,W);function we(_){const R=Zt();ct(R,new pe(R,_))}Xi.Ma="timingevent";function Me(_,R){W.call(this,Xi.Ma,_),this.size=R}g(Me,W);function Ue(_,R){if(typeof _!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){_()},R)}function at(){this.g=!0}at.prototype.xa=function(){this.g=!1};function bt(_,R,L,X,be,Ne){_.info(function(){if(_.g)if(Ne)for(var et="",Lr=Ne.split("&"),Ai=0;Ai<Lr.length;Ai++){var mr=Lr[Ai].split("=");if(1<mr.length){var Zi=mr[0];mr=mr[1];var Ji=Zi.split("_");et=2<=Ji.length&&Ji[1]=="type"?et+(Zi+"="+mr+"&"):et+(Zi+"=redacted&")}}else et=null;else et=Ne;return"XMLHTTP REQ ("+X+") [attempt "+be+"]: "+R+`
`+L+`
`+et})}function pt(_,R,L,X,be,Ne,et){_.info(function(){return"XMLHTTP RESP ("+X+") [ attempt "+be+"]: "+R+`
`+L+`
`+Ne+" "+et})}function F(_,R,L,X){_.info(function(){return"XMLHTTP TEXT ("+R+"): "+H(_,L)+(X?" "+X:"")})}function Y(_,R){_.info(function(){return"TIMEOUT: "+R})}at.prototype.info=function(){};function H(_,R){if(!_.g)return R;if(!R)return null;try{var L=JSON.parse(R);if(L){for(_=0;_<L.length;_++)if(Array.isArray(L[_])){var X=L[_];if(!(2>X.length)){var be=X[1];if(Array.isArray(be)&&!(1>be.length)){var Ne=be[0];if(Ne!="noop"&&Ne!="stop"&&Ne!="close")for(var et=1;et<be.length;et++)be[et]=""}}}}return ds(L)}catch{return R}}var q={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Z={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},re;function xe(){}g(xe,Fa),xe.prototype.g=function(){return new XMLHttpRequest},xe.prototype.i=function(){return{}},re=new xe;function Te(_,R,L,X){this.j=_,this.i=R,this.l=L,this.R=X||1,this.U=new Gi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ve}function ve(){this.i=null,this.g="",this.h=!1}var ye={},Ee={};function Fe(_,R,L){_.L=1,_.v=yb(wc(R)),_.m=L,_.P=!0,He(_,null)}function He(_,R){_.F=Date.now(),Xe(_),_.A=wc(_.v);var L=_.A,X=_.R;Array.isArray(X)||(X=[String(X)]),mL(L.i,"t",X),_.C=0,L=_.j.J,_.h=new ve,_.g=kL(_.j,L?R:null,!_.m),0<_.O&&(_.M=new un(h(_.Y,_,_.g),_.O)),R=_.U,L=_.g,X=_.ca;var be="readystatechange";Array.isArray(be)||(be&&(Ki[0]=be.toString()),be=Ki);for(var Ne=0;Ne<be.length;Ne++){var et=mt(L,be[Ne],X||R.handleEvent,!1,R.h||R);if(!et)break;R.g[et.key]=et}R=_.H?A(_.H):{},_.m?(_.u||(_.u="POST"),R["Content-Type"]="application/x-www-form-urlencoded",_.g.ea(_.A,_.u,_.m,R)):(_.u="GET",_.g.ea(_.A,_.u,null,R)),ue(),bt(_.i,_.u,_.A,_.l,_.R,_.m)}Te.prototype.ca=function(_){_=_.target;const R=this.M;R&&_c(_)==3?R.j():this.Y(_)},Te.prototype.Y=function(_){try{if(_==this.g)e:{const Ji=_c(this.g);var R=this.g.Ba();const Tm=this.g.Z();if(!(3>Ji)&&(Ji!=3||this.g&&(this.h.h||this.g.oa()||wL(this.g)))){this.J||Ji!=4||R==7||(R==8||0>=Tm?ue(3):ue(2)),hr(this);var L=this.g.Z();this.X=L;t:if(Je(this)){var X=wL(this.g);_="";var be=X.length,Ne=_c(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Nt(this),sr(this);var et="";break t}this.h.i=new o.TextDecoder}for(R=0;R<be;R++)this.h.h=!0,_+=this.h.i.decode(X[R],{stream:!(Ne&&R==be-1)});X.length=0,this.h.g+=_,this.C=0,et=this.h.g}else et=this.g.oa();if(this.o=L==200,pt(this.i,this.u,this.A,this.l,this.R,Ji,L),this.o){if(this.T&&!this.K){t:{if(this.g){var Lr,Ai=this.g;if((Lr=Ai.g?Ai.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(Lr)){var mr=Lr;break t}}mr=null}if(L=mr)F(this.i,this.l,L,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Br(this,L);else{this.o=!1,this.s=3,we(12),Nt(this),sr(this);break e}}if(this.P){L=!0;let Do;for(;!this.J&&this.C<et.length;)if(Do=ze(this,et),Do==Ee){Ji==4&&(this.s=4,we(14),L=!1),F(this.i,this.l,null,"[Incomplete Response]");break}else if(Do==ye){this.s=4,we(15),F(this.i,this.l,et,"[Invalid Chunk]"),L=!1;break}else F(this.i,this.l,Do,null),Br(this,Do);if(Je(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ji!=4||et.length!=0||this.h.h||(this.s=1,we(16),L=!1),this.o=this.o&&L,!L)F(this.i,this.l,et,"[Invalid Chunked Response]"),Nt(this),sr(this);else if(0<et.length&&!this.W){this.W=!0;var Zi=this.j;Zi.g==this&&Zi.ba&&!Zi.M&&(Zi.j.info("Great, no buffering proxy detected. Bytes received: "+et.length),eA(Zi),Zi.M=!0,we(11))}}else F(this.i,this.l,et,null),Br(this,et);Ji==4&&Nt(this),this.o&&!this.J&&(Ji==4?CL(this.j,this):(this.o=!1,Xe(this)))}else Lle(this.g),L==400&&0<et.indexOf("Unknown SID")?(this.s=3,we(12)):(this.s=0,we(13)),Nt(this),sr(this)}}}catch{}finally{}};function Je(_){return _.g?_.u=="GET"&&_.L!=2&&_.j.Ca:!1}function ze(_,R){var L=_.C,X=R.indexOf(`
`,L);return X==-1?Ee:(L=Number(R.substring(L,X)),isNaN(L)?ye:(X+=1,X+L>R.length?Ee:(R=R.slice(X,X+L),_.C=X+L,R)))}Te.prototype.cancel=function(){this.J=!0,Nt(this)};function Xe(_){_.S=Date.now()+_.I,St(_,_.I)}function St(_,R){if(_.B!=null)throw Error("WatchDog timer not null");_.B=Ue(h(_.ba,_),R)}function hr(_){_.B&&(o.clearTimeout(_.B),_.B=null)}Te.prototype.ba=function(){this.B=null;const _=Date.now();0<=_-this.S?(Y(this.i,this.A),this.L!=2&&(ue(),we(17)),Nt(this),this.s=2,sr(this)):St(this,this.S-_)};function sr(_){_.j.G==0||_.J||CL(_.j,_)}function Nt(_){hr(_);var R=_.M;R&&typeof R.ma=="function"&&R.ma(),_.M=null,si(_.U),_.g&&(R=_.g,_.g=null,R.abort(),R.ma())}function Br(_,R){try{var L=_.j;if(L.G!=0&&(L.g==_||Qi(L.h,_))){if(!_.K&&Qi(L.h,_)&&L.G==3){try{var X=L.Da.g.parse(R)}catch{X=null}if(Array.isArray(X)&&X.length==3){var be=X;if(be[0]==0){e:if(!L.u){if(L.g)if(L.g.F+3e3<_.F)Sb(L),_b(L);else break e;JN(L),we(18)}}else L.za=be[1],0<L.za-L.T&&37500>be[2]&&L.F&&L.v==0&&!L.C&&(L.C=Ue(h(L.Za,L),6e3));if(1>=Oo(L.h)&&L.ca){try{L.ca()}catch{}L.ca=void 0}}else jf(L,11)}else if((_.K||L.g==_)&&Sb(L),!x(R))for(be=L.Da.g.parse(R),R=0;R<be.length;R++){let mr=be[R];if(L.T=mr[0],mr=mr[1],L.G==2)if(mr[0]=="c"){L.K=mr[1],L.ia=mr[2];const Zi=mr[3];Zi!=null&&(L.la=Zi,L.j.info("VER="+L.la));const Ji=mr[4];Ji!=null&&(L.Aa=Ji,L.j.info("SVER="+L.Aa));const Tm=mr[5];Tm!=null&&typeof Tm=="number"&&0<Tm&&(X=1.5*Tm,L.L=X,L.j.info("backChannelRequestTimeoutMs_="+X)),X=L;const Do=_.g;if(Do){const Nb=Do.g?Do.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Nb){var Ne=X.h;Ne.g||Nb.indexOf("spdy")==-1&&Nb.indexOf("quic")==-1&&Nb.indexOf("h2")==-1||(Ne.j=Ne.l,Ne.g=new Set,Ne.h&&(Lg(Ne,Ne.h),Ne.h=null))}if(X.D){const tA=Do.g?Do.g.getResponseHeader("X-HTTP-Session-Id"):null;tA&&(X.ya=tA,Yr(X.I,X.D,tA))}}L.G=3,L.l&&L.l.ua(),L.ba&&(L.R=Date.now()-_.F,L.j.info("Handshake RTT: "+L.R+"ms")),X=L;var et=_;if(X.qa=RL(X,X.J?X.ia:null,X.W),et.K){sL(X.h,et);var Lr=et,Ai=X.L;Ai&&(Lr.I=Ai),Lr.B&&(hr(Lr),Xe(Lr)),X.g=et}else NL(X);0<L.i.length&&Eb(L)}else mr[0]!="stop"&&mr[0]!="close"||jf(L,7);else L.G==3&&(mr[0]=="stop"||mr[0]=="close"?mr[0]=="stop"?jf(L,7):ZN(L):mr[0]!="noop"&&L.l&&L.l.ta(mr),L.v=0)}}ue(4)}catch{}}var qs=class{constructor(_,R){this.g=_,this.map=R}};function $a(_){this.l=_||10,o.PerformanceNavigationTiming?(_=o.performance.getEntriesByType("navigation"),_=0<_.length&&(_[0].nextHopProtocol=="hq"||_[0].nextHopProtocol=="h2")):_=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=_?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function br(_){return _.h?!0:_.g?_.g.size>=_.j:!1}function Oo(_){return _.h?1:_.g?_.g.size:0}function Qi(_,R){return _.h?_.h==R:_.g?_.g.has(R):!1}function Lg(_,R){_.g?_.g.add(R):_.h=R}function sL(_,R){_.h&&_.h==R?_.h=null:_.g&&_.g.has(R)&&_.g.delete(R)}$a.prototype.cancel=function(){if(this.i=oL(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const _ of this.g.values())_.cancel();this.g.clear()}};function oL(_){if(_.h!=null)return _.i.concat(_.h.D);if(_.g!=null&&_.g.size!==0){let R=_.i;for(const L of _.g.values())R=R.concat(L.D);return R}return p(_.i)}function _le(_){if(_.V&&typeof _.V=="function")return _.V();if(typeof Map<"u"&&_ instanceof Map||typeof Set<"u"&&_ instanceof Set)return Array.from(_.values());if(typeof _=="string")return _.split("");if(c(_)){for(var R=[],L=_.length,X=0;X<L;X++)R.push(_[X]);return R}R=[],L=0;for(X in _)R[L++]=_[X];return R}function Ele(_){if(_.na&&typeof _.na=="function")return _.na();if(!_.V||typeof _.V!="function"){if(typeof Map<"u"&&_ instanceof Map)return Array.from(_.keys());if(!(typeof Set<"u"&&_ instanceof Set)){if(c(_)||typeof _=="string"){var R=[];_=_.length;for(var L=0;L<_;L++)R.push(L);return R}R=[],L=0;for(const X in _)R[L++]=X;return R}}}function lL(_,R){if(_.forEach&&typeof _.forEach=="function")_.forEach(R,void 0);else if(c(_)||typeof _=="string")Array.prototype.forEach.call(_,R,void 0);else for(var L=Ele(_),X=_le(_),be=X.length,Ne=0;Ne<be;Ne++)R.call(void 0,X[Ne],L&&L[Ne],_)}var cL=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Sle(_,R){if(_){_=_.split("&");for(var L=0;L<_.length;L++){var X=_[L].indexOf("="),be=null;if(0<=X){var Ne=_[L].substring(0,X);be=_[L].substring(X+1)}else Ne=_[L];R(Ne,be?decodeURIComponent(be.replace(/\+/g," ")):"")}}}function Cf(_){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,_ instanceof Cf){this.h=_.h,gb(this,_.j),this.o=_.o,this.g=_.g,vb(this,_.s),this.l=_.l;var R=_.i,L=new Bg;L.i=R.i,R.g&&(L.g=new Map(R.g),L.h=R.h),uL(this,L),this.m=_.m}else _&&(R=String(_).match(cL))?(this.h=!1,gb(this,R[1]||"",!0),this.o=Fg(R[2]||""),this.g=Fg(R[3]||"",!0),vb(this,R[4]),this.l=Fg(R[5]||"",!0),uL(this,R[6]||"",!0),this.m=Fg(R[7]||"")):(this.h=!1,this.i=new Bg(null,this.h))}Cf.prototype.toString=function(){var _=[],R=this.j;R&&_.push($g(R,dL,!0),":");var L=this.g;return(L||R=="file")&&(_.push("//"),(R=this.o)&&_.push($g(R,dL,!0),"@"),_.push(encodeURIComponent(String(L)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),L=this.s,L!=null&&_.push(":",String(L))),(L=this.l)&&(this.g&&L.charAt(0)!="/"&&_.push("/"),_.push($g(L,L.charAt(0)=="/"?Ale:Nle,!0))),(L=this.i.toString())&&_.push("?",L),(L=this.m)&&_.push("#",$g(L,jle)),_.join("")};function wc(_){return new Cf(_)}function gb(_,R,L){_.j=L?Fg(R,!0):R,_.j&&(_.j=_.j.replace(/:$/,""))}function vb(_,R){if(R){if(R=Number(R),isNaN(R)||0>R)throw Error("Bad port number "+R);_.s=R}else _.s=null}function uL(_,R,L){R instanceof Bg?(_.i=R,Ple(_.i,_.h)):(L||(R=$g(R,Cle)),_.i=new Bg(R,_.h))}function Yr(_,R,L){_.i.set(R,L)}function yb(_){return Yr(_,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),_}function Fg(_,R){return _?R?decodeURI(_.replace(/%25/g,"%2525")):decodeURIComponent(_):""}function $g(_,R,L){return typeof _=="string"?(_=encodeURI(_).replace(R,Tle),L&&(_=_.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_):null}function Tle(_){return _=_.charCodeAt(0),"%"+(_>>4&15).toString(16)+(_&15).toString(16)}var dL=/[#\/\?@]/g,Nle=/[#\?:]/g,Ale=/[#\?]/g,Cle=/[#\?@]/g,jle=/#/g;function Bg(_,R){this.h=this.g=null,this.i=_||null,this.j=!!R}function Du(_){_.g||(_.g=new Map,_.h=0,_.i&&Sle(_.i,function(R,L){_.add(decodeURIComponent(R.replace(/\+/g," ")),L)}))}e=Bg.prototype,e.add=function(_,R){Du(this),this.i=null,_=Em(this,_);var L=this.g.get(_);return L||this.g.set(_,L=[]),L.push(R),this.h+=1,this};function fL(_,R){Du(_),R=Em(_,R),_.g.has(R)&&(_.i=null,_.h-=_.g.get(R).length,_.g.delete(R))}function hL(_,R){return Du(_),R=Em(_,R),_.g.has(R)}e.forEach=function(_,R){Du(this),this.g.forEach(function(L,X){L.forEach(function(be){_.call(R,be,X,this)},this)},this)},e.na=function(){Du(this);const _=Array.from(this.g.values()),R=Array.from(this.g.keys()),L=[];for(let X=0;X<R.length;X++){const be=_[X];for(let Ne=0;Ne<be.length;Ne++)L.push(R[X])}return L},e.V=function(_){Du(this);let R=[];if(typeof _=="string")hL(this,_)&&(R=R.concat(this.g.get(Em(this,_))));else{_=Array.from(this.g.values());for(let L=0;L<_.length;L++)R=R.concat(_[L])}return R},e.set=function(_,R){return Du(this),this.i=null,_=Em(this,_),hL(this,_)&&(this.h-=this.g.get(_).length),this.g.set(_,[R]),this.h+=1,this},e.get=function(_,R){return _?(_=this.V(_),0<_.length?String(_[0]):R):R};function mL(_,R,L){fL(_,R),0<L.length&&(_.i=null,_.g.set(Em(_,R),p(L)),_.h+=L.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const _=[],R=Array.from(this.g.keys());for(var L=0;L<R.length;L++){var X=R[L];const Ne=encodeURIComponent(String(X)),et=this.V(X);for(X=0;X<et.length;X++){var be=Ne;et[X]!==""&&(be+="="+encodeURIComponent(String(et[X]))),_.push(be)}}return this.i=_.join("&")};function Em(_,R){return R=String(R),_.j&&(R=R.toLowerCase()),R}function Ple(_,R){R&&!_.j&&(Du(_),_.i=null,_.g.forEach(function(L,X){var be=X.toLowerCase();X!=be&&(fL(this,X),mL(this,be,L))},_)),_.j=R}function Rle(_,R){const L=new at;if(o.Image){const X=new Image;X.onload=m(Mu,L,"TestLoadImage: loaded",!0,R,X),X.onerror=m(Mu,L,"TestLoadImage: error",!1,R,X),X.onabort=m(Mu,L,"TestLoadImage: abort",!1,R,X),X.ontimeout=m(Mu,L,"TestLoadImage: timeout",!1,R,X),o.setTimeout(function(){X.ontimeout&&X.ontimeout()},1e4),X.src=_}else R(!1)}function kle(_,R){const L=new at,X=new AbortController,be=setTimeout(()=>{X.abort(),Mu(L,"TestPingServer: timeout",!1,R)},1e4);fetch(_,{signal:X.signal}).then(Ne=>{clearTimeout(be),Ne.ok?Mu(L,"TestPingServer: ok",!0,R):Mu(L,"TestPingServer: server error",!1,R)}).catch(()=>{clearTimeout(be),Mu(L,"TestPingServer: error",!1,R)})}function Mu(_,R,L,X,be){try{be&&(be.onload=null,be.onerror=null,be.onabort=null,be.ontimeout=null),X(L)}catch{}}function Ile(){this.g=new zs}function Ole(_,R,L){const X=L||"";try{lL(_,function(be,Ne){let et=be;u(be)&&(et=ds(be)),R.push(X+Ne+"="+encodeURIComponent(et))})}catch(be){throw R.push(X+"type="+encodeURIComponent("_badmap")),be}}function xb(_){this.l=_.Ub||null,this.j=_.eb||!1}g(xb,Fa),xb.prototype.g=function(){return new bb(this.l,this.j)},xb.prototype.i=function(_){return function(){return _}}({});function bb(_,R){Ve.call(this),this.D=_,this.o=R,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(bb,Ve),e=bb.prototype,e.open=function(_,R){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=_,this.A=R,this.readyState=1,Ug(this)},e.send=function(_){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const R={headers:this.u,method:this.B,credentials:this.m,cache:void 0};_&&(R.body=_),(this.D||o).fetch(new Request(this.A,R)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Vg(this)),this.readyState=0},e.Sa=function(_){if(this.g&&(this.l=_,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=_.headers,this.readyState=2,Ug(this)),this.g&&(this.readyState=3,Ug(this),this.g)))if(this.responseType==="arraybuffer")_.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in _){if(this.j=_.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;pL(this)}else _.text().then(this.Ra.bind(this),this.ga.bind(this))};function pL(_){_.j.read().then(_.Pa.bind(_)).catch(_.ga.bind(_))}e.Pa=function(_){if(this.g){if(this.o&&_.value)this.response.push(_.value);else if(!this.o){var R=_.value?_.value:new Uint8Array(0);(R=this.v.decode(R,{stream:!_.done}))&&(this.response=this.responseText+=R)}_.done?Vg(this):Ug(this),this.readyState==3&&pL(this)}},e.Ra=function(_){this.g&&(this.response=this.responseText=_,Vg(this))},e.Qa=function(_){this.g&&(this.response=_,Vg(this))},e.ga=function(){this.g&&Vg(this)};function Vg(_){_.readyState=4,_.l=null,_.j=null,_.v=null,Ug(_)}e.setRequestHeader=function(_,R){this.u.append(_,R)},e.getResponseHeader=function(_){return this.h&&this.h.get(_.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const _=[],R=this.h.entries();for(var L=R.next();!L.done;)L=L.value,_.push(L[0]+": "+L[1]),L=R.next();return _.join(`\r
`)};function Ug(_){_.onreadystatechange&&_.onreadystatechange.call(_)}Object.defineProperty(bb.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(_){this.m=_?"include":"same-origin"}});function gL(_){let R="";return T(_,function(L,X){R+=X,R+=":",R+=L,R+=`\r
`}),R}function QN(_,R,L){e:{for(X in L){var X=!1;break e}X=!0}X||(L=gL(L),typeof _=="string"?L!=null&&encodeURIComponent(String(L)):Yr(_,R,L))}function Cn(_){Ve.call(this),this.headers=new Map,this.o=_||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(Cn,Ve);var Dle=/^https?$/i,Mle=["POST","PUT"];e=Cn.prototype,e.Ha=function(_){this.J=_},e.ea=function(_,R,L,X){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+_);R=R?R.toUpperCase():"GET",this.D=_,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():re.g(),this.v=this.o?Ws(this.o):Ws(re),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(R,String(_),!0),this.B=!1}catch(Ne){vL(this,Ne);return}if(_=L||"",L=new Map(this.headers),X)if(Object.getPrototypeOf(X)===Object.prototype)for(var be in X)L.set(be,X[be]);else if(typeof X.keys=="function"&&typeof X.get=="function")for(const Ne of X.keys())L.set(Ne,X.get(Ne));else throw Error("Unknown input type for opt_headers: "+String(X));X=Array.from(L.keys()).find(Ne=>Ne.toLowerCase()=="content-type"),be=o.FormData&&_ instanceof o.FormData,!(0<=Array.prototype.indexOf.call(Mle,R,void 0))||X||be||L.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ne,et]of L)this.g.setRequestHeader(Ne,et);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{bL(this),this.u=!0,this.g.send(_),this.u=!1}catch(Ne){vL(this,Ne)}};function vL(_,R){_.h=!1,_.g&&(_.j=!0,_.g.abort(),_.j=!1),_.l=R,_.m=5,yL(_),wb(_)}function yL(_){_.A||(_.A=!0,ct(_,"complete"),ct(_,"error"))}e.abort=function(_){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=_||7,ct(this,"complete"),ct(this,"abort"),wb(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),wb(this,!0)),Cn.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?xL(this):this.bb())},e.bb=function(){xL(this)};function xL(_){if(_.h&&typeof s<"u"&&(!_.v[1]||_c(_)!=4||_.Z()!=2)){if(_.u&&_c(_)==4)vn(_.Ea,0,_);else if(ct(_,"readystatechange"),_c(_)==4){_.h=!1;try{const et=_.Z();e:switch(et){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var R=!0;break e;default:R=!1}var L;if(!(L=R)){var X;if(X=et===0){var be=String(_.D).match(cL)[1]||null;!be&&o.self&&o.self.location&&(be=o.self.location.protocol.slice(0,-1)),X=!Dle.test(be?be.toLowerCase():"")}L=X}if(L)ct(_,"complete"),ct(_,"success");else{_.m=6;try{var Ne=2<_c(_)?_.g.statusText:""}catch{Ne=""}_.l=Ne+" ["+_.Z()+"]",yL(_)}}finally{wb(_)}}}}function wb(_,R){if(_.g){bL(_);const L=_.g,X=_.v[0]?()=>{}:null;_.g=null,_.v=null,R||ct(_,"ready");try{L.onreadystatechange=X}catch{}}}function bL(_){_.I&&(o.clearTimeout(_.I),_.I=null)}e.isActive=function(){return!!this.g};function _c(_){return _.g?_.g.readyState:0}e.Z=function(){try{return 2<_c(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(_){if(this.g){var R=this.g.responseText;return _&&R.indexOf(_)==0&&(R=R.substring(_.length)),Yi(R)}};function wL(_){try{if(!_.g)return null;if("response"in _.g)return _.g.response;switch(_.H){case"":case"text":return _.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in _.g)return _.g.mozResponseArrayBuffer}return null}catch{return null}}function Lle(_){const R={};_=(_.g&&2<=_c(_)&&_.g.getAllResponseHeaders()||"").split(`\r
`);for(let X=0;X<_.length;X++){if(x(_[X]))continue;var L=I(_[X]);const be=L[0];if(L=L[1],typeof L!="string")continue;L=L.trim();const Ne=R[be]||[];R[be]=Ne,Ne.push(L)}S(R,function(X){return X.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function zg(_,R,L){return L&&L.internalChannelParams&&L.internalChannelParams[_]||R}function _L(_){this.Aa=0,this.i=[],this.j=new at,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=zg("failFast",!1,_),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=zg("baseRetryDelayMs",5e3,_),this.cb=zg("retryDelaySeedMs",1e4,_),this.Wa=zg("forwardChannelMaxRetries",2,_),this.wa=zg("forwardChannelRequestTimeoutMs",2e4,_),this.pa=_&&_.xmlHttpFactory||void 0,this.Xa=_&&_.Tb||void 0,this.Ca=_&&_.useFetchStreams||!1,this.L=void 0,this.J=_&&_.supportsCrossDomainXhr||!1,this.K="",this.h=new $a(_&&_.concurrentRequestLimit),this.Da=new Ile,this.P=_&&_.fastHandshake||!1,this.O=_&&_.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=_&&_.Rb||!1,_&&_.xa&&this.j.xa(),_&&_.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&_&&_.detectBufferingProxy||!1,this.ja=void 0,_&&_.longPollingTimeout&&0<_.longPollingTimeout&&(this.ja=_.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=_L.prototype,e.la=8,e.G=1,e.connect=function(_,R,L,X){we(0),this.W=_,this.H=R||{},L&&X!==void 0&&(this.H.OSID=L,this.H.OAID=X),this.F=this.X,this.I=RL(this,null,this.W),Eb(this)};function ZN(_){if(EL(_),_.G==3){var R=_.U++,L=wc(_.I);if(Yr(L,"SID",_.K),Yr(L,"RID",R),Yr(L,"TYPE","terminate"),Wg(_,L),R=new Te(_,_.j,R),R.L=2,R.v=yb(wc(L)),L=!1,o.navigator&&o.navigator.sendBeacon)try{L=o.navigator.sendBeacon(R.v.toString(),"")}catch{}!L&&o.Image&&(new Image().src=R.v,L=!0),L||(R.g=kL(R.j,null),R.g.ea(R.v)),R.F=Date.now(),Xe(R)}PL(_)}function _b(_){_.g&&(eA(_),_.g.cancel(),_.g=null)}function EL(_){_b(_),_.u&&(o.clearTimeout(_.u),_.u=null),Sb(_),_.h.cancel(),_.s&&(typeof _.s=="number"&&o.clearTimeout(_.s),_.s=null)}function Eb(_){if(!br(_.h)&&!_.s){_.s=!0;var R=_.Ga;z||se(),V||(z(),V=!0),U.add(R,_),_.B=0}}function Fle(_,R){return Oo(_.h)>=_.h.j-(_.s?1:0)?!1:_.s?(_.i=R.D.concat(_.i),!0):_.G==1||_.G==2||_.B>=(_.Va?0:_.Wa)?!1:(_.s=Ue(h(_.Ga,_,R),jL(_,_.B)),_.B++,!0)}e.Ga=function(_){if(this.s)if(this.s=null,this.G==1){if(!_){this.U=Math.floor(1e5*Math.random()),_=this.U++;const be=new Te(this,this.j,_);let Ne=this.o;if(this.S&&(Ne?(Ne=A(Ne),j(Ne,this.S)):Ne=this.S),this.m!==null||this.O||(be.H=Ne,Ne=null),this.P)e:{for(var R=0,L=0;L<this.i.length;L++){t:{var X=this.i[L];if("__data__"in X.map&&(X=X.map.__data__,typeof X=="string")){X=X.length;break t}X=void 0}if(X===void 0)break;if(R+=X,4096<R){R=L;break e}if(R===4096||L===this.i.length-1){R=L+1;break e}}R=1e3}else R=1e3;R=TL(this,be,R),L=wc(this.I),Yr(L,"RID",_),Yr(L,"CVER",22),this.D&&Yr(L,"X-HTTP-Session-Id",this.D),Wg(this,L),Ne&&(this.O?R="headers="+encodeURIComponent(String(gL(Ne)))+"&"+R:this.m&&QN(L,this.m,Ne)),Lg(this.h,be),this.Ua&&Yr(L,"TYPE","init"),this.P?(Yr(L,"$req",R),Yr(L,"SID","null"),be.T=!0,Fe(be,L,null)):Fe(be,L,R),this.G=2}}else this.G==3&&(_?SL(this,_):this.i.length==0||br(this.h)||SL(this))};function SL(_,R){var L;R?L=R.l:L=_.U++;const X=wc(_.I);Yr(X,"SID",_.K),Yr(X,"RID",L),Yr(X,"AID",_.T),Wg(_,X),_.m&&_.o&&QN(X,_.m,_.o),L=new Te(_,_.j,L,_.B+1),_.m===null&&(L.H=_.o),R&&(_.i=R.D.concat(_.i)),R=TL(_,L,1e3),L.I=Math.round(.5*_.wa)+Math.round(.5*_.wa*Math.random()),Lg(_.h,L),Fe(L,X,R)}function Wg(_,R){_.H&&T(_.H,function(L,X){Yr(R,X,L)}),_.l&&lL({},function(L,X){Yr(R,X,L)})}function TL(_,R,L){L=Math.min(_.i.length,L);var X=_.l?h(_.l.Na,_.l,_):null;e:{var be=_.i;let Ne=-1;for(;;){const et=["count="+L];Ne==-1?0<L?(Ne=be[0].g,et.push("ofs="+Ne)):Ne=0:et.push("ofs="+Ne);let Lr=!0;for(let Ai=0;Ai<L;Ai++){let mr=be[Ai].g;const Zi=be[Ai].map;if(mr-=Ne,0>mr)Ne=Math.max(0,be[Ai].g-100),Lr=!1;else try{Ole(Zi,et,"req"+mr+"_")}catch{X&&X(Zi)}}if(Lr){X=et.join("&");break e}}}return _=_.i.splice(0,L),R.D=_,X}function NL(_){if(!_.g&&!_.u){_.Y=1;var R=_.Fa;z||se(),V||(z(),V=!0),U.add(R,_),_.v=0}}function JN(_){return _.g||_.u||3<=_.v?!1:(_.Y++,_.u=Ue(h(_.Fa,_),jL(_,_.v)),_.v++,!0)}e.Fa=function(){if(this.u=null,AL(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var _=2*this.R;this.j.info("BP detection timer enabled: "+_),this.A=Ue(h(this.ab,this),_)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,we(10),_b(this),AL(this))};function eA(_){_.A!=null&&(o.clearTimeout(_.A),_.A=null)}function AL(_){_.g=new Te(_,_.j,"rpc",_.Y),_.m===null&&(_.g.H=_.o),_.g.O=0;var R=wc(_.qa);Yr(R,"RID","rpc"),Yr(R,"SID",_.K),Yr(R,"AID",_.T),Yr(R,"CI",_.F?"0":"1"),!_.F&&_.ja&&Yr(R,"TO",_.ja),Yr(R,"TYPE","xmlhttp"),Wg(_,R),_.m&&_.o&&QN(R,_.m,_.o),_.L&&(_.g.I=_.L);var L=_.g;_=_.ia,L.L=1,L.v=yb(wc(R)),L.m=null,L.P=!0,He(L,_)}e.Za=function(){this.C!=null&&(this.C=null,_b(this),JN(this),we(19))};function Sb(_){_.C!=null&&(o.clearTimeout(_.C),_.C=null)}function CL(_,R){var L=null;if(_.g==R){Sb(_),eA(_),_.g=null;var X=2}else if(Qi(_.h,R))L=R.D,sL(_.h,R),X=1;else return;if(_.G!=0){if(R.o)if(X==1){L=R.m?R.m.length:0,R=Date.now()-R.F;var be=_.B;X=Zt(),ct(X,new Me(X,L)),Eb(_)}else NL(_);else if(be=R.s,be==3||be==0&&0<R.X||!(X==1&&Fle(_,R)||X==2&&JN(_)))switch(L&&0<L.length&&(R=_.h,R.i=R.i.concat(L)),be){case 1:jf(_,5);break;case 4:jf(_,10);break;case 3:jf(_,6);break;default:jf(_,2)}}}function jL(_,R){let L=_.Ta+Math.floor(Math.random()*_.cb);return _.isActive()||(L*=2),L*R}function jf(_,R){if(_.j.info("Error code "+R),R==2){var L=h(_.fb,_),X=_.Xa;const be=!X;X=new Cf(X||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||gb(X,"https"),yb(X),be?Rle(X.toString(),L):kle(X.toString(),L)}else we(2);_.G=0,_.l&&_.l.sa(R),PL(_),EL(_)}e.fb=function(_){_?(this.j.info("Successfully pinged google.com"),we(2)):(this.j.info("Failed to ping google.com"),we(1))};function PL(_){if(_.G=0,_.ka=[],_.l){const R=oL(_.h);(R.length!=0||_.i.length!=0)&&(v(_.ka,R),v(_.ka,_.i),_.h.i.length=0,p(_.i),_.i.length=0),_.l.ra()}}function RL(_,R,L){var X=L instanceof Cf?wc(L):new Cf(L);if(X.g!="")R&&(X.g=R+"."+X.g),vb(X,X.s);else{var be=o.location;X=be.protocol,R=R?R+"."+be.hostname:be.hostname,be=+be.port;var Ne=new Cf(null);X&&gb(Ne,X),R&&(Ne.g=R),be&&vb(Ne,be),L&&(Ne.l=L),X=Ne}return L=_.D,R=_.ya,L&&R&&Yr(X,L,R),Yr(X,"VER",_.la),Wg(_,X),X}function kL(_,R,L){if(R&&!_.J)throw Error("Can't create secondary domain capable XhrIo object.");return R=_.Ca&&!_.pa?new Cn(new xb({eb:L})):new Cn(_.pa),R.Ha(_.J),R}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function IL(){}e=IL.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function Tb(){}Tb.prototype.g=function(_,R){return new fs(_,R)};function fs(_,R){Ve.call(this),this.g=new _L(R),this.l=_,this.h=R&&R.messageUrlParams||null,_=R&&R.messageHeaders||null,R&&R.clientProtocolHeaderRequired&&(_?_["X-Client-Protocol"]="webchannel":_={"X-Client-Protocol":"webchannel"}),this.g.o=_,_=R&&R.initMessageHeaders||null,R&&R.messageContentType&&(_?_["X-WebChannel-Content-Type"]=R.messageContentType:_={"X-WebChannel-Content-Type":R.messageContentType}),R&&R.va&&(_?_["X-WebChannel-Client-Profile"]=R.va:_={"X-WebChannel-Client-Profile":R.va}),this.g.S=_,(_=R&&R.Sb)&&!x(_)&&(this.g.m=_),this.v=R&&R.supportsCrossDomainXhr||!1,this.u=R&&R.sendRawJson||!1,(R=R&&R.httpSessionIdParam)&&!x(R)&&(this.g.D=R,_=this.h,_!==null&&R in _&&(_=this.h,R in _&&delete _[R])),this.j=new Sm(this)}g(fs,Ve),fs.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},fs.prototype.close=function(){ZN(this.g)},fs.prototype.o=function(_){var R=this.g;if(typeof _=="string"){var L={};L.__data__=_,_=L}else this.u&&(L={},L.__data__=ds(_),_=L);R.i.push(new qs(R.Ya++,_)),R.G==3&&Eb(R)},fs.prototype.N=function(){this.g.l=null,delete this.j,ZN(this.g),delete this.g,fs.aa.N.call(this)};function OL(_){Io.call(this),_.__headers__&&(this.headers=_.__headers__,this.statusCode=_.__status__,delete _.__headers__,delete _.__status__);var R=_.__sm__;if(R){e:{for(const L in R){_=L;break e}_=void 0}(this.i=_)&&(_=this.i,R=R!==null&&_ in R?R[_]:void 0),this.data=R}else this.data=_}g(OL,Io);function DL(){Hn.call(this),this.status=1}g(DL,Hn);function Sm(_){this.g=_}g(Sm,IL),Sm.prototype.ua=function(){ct(this.g,"a")},Sm.prototype.ta=function(_){ct(this.g,new OL(_))},Sm.prototype.sa=function(_){ct(this.g,new DL)},Sm.prototype.ra=function(){ct(this.g,"b")},Tb.prototype.createWebChannel=Tb.prototype.g,fs.prototype.send=fs.prototype.o,fs.prototype.open=fs.prototype.m,fs.prototype.close=fs.prototype.close,mY=function(){return new Tb},hY=function(){return Zt()},fY=Xi,ZP={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},q.NO_ERROR=0,q.TIMEOUT=8,q.HTTP_ERROR=6,g_=q,Z.COMPLETE="complete",dY=Z,Nl.EventType=Hs,Hs.OPEN="a",Hs.CLOSE="b",Hs.ERROR="c",Hs.MESSAGE="d",Ve.prototype.listen=Ve.prototype.K,Av=Nl,Cn.prototype.listenOnce=Cn.prototype.L,Cn.prototype.getLastError=Cn.prototype.Ka,Cn.prototype.getLastErrorCode=Cn.prototype.Ba,Cn.prototype.getStatus=Cn.prototype.Z,Cn.prototype.getResponseJson=Cn.prototype.Oa,Cn.prototype.getResponseText=Cn.prototype.oa,Cn.prototype.send=Cn.prototype.ea,Cn.prototype.setWithCredentials=Cn.prototype.Ha,uY=Cn}).apply(typeof tw<"u"?tw:typeof self<"u"?self:typeof window<"u"?window:{});const P6="@firebase/firestore",R6="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}aa.UNAUTHENTICATED=new aa(null),aa.GOOGLE_CREDENTIALS=new aa("google-credentials-uid"),aa.FIRST_PARTY=new aa("first-party-uid"),aa.MOCK_USER=new aa("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cg="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mh=new tD("@firebase/firestore");function $m(){return Mh.logLevel}function dt(e,...t){if(Mh.logLevel<=tr.DEBUG){const r=t.map(mD);Mh.debug(`Firestore (${cg}): ${e}`,...r)}}function vu(e,...t){if(Mh.logLevel<=tr.ERROR){const r=t.map(mD);Mh.error(`Firestore (${cg}): ${e}`,...r)}}function u0(e,...t){if(Mh.logLevel<=tr.WARN){const r=t.map(mD);Mh.warn(`Firestore (${cg}): ${e}`,...r)}}function mD(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(e,t,r){let n="Unexpected state";typeof t=="string"?n=t:r=t,pY(e,n,r)}function pY(e,t,r){let n=`FIRESTORE (${cg}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw vu(n),new Error(n)}function Sr(e,t,r,n){let i="Unexpected state";typeof r=="string"?i=r:n=r,e||pY(t,i,n)}function zt(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const je={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class it extends yc{constructor(t,r){super(t,r),this.code=t,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(){this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gY{constructor(t,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class G1e{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,r){t.enqueueRetryable(()=>r(aa.UNAUTHENTICATED))}shutdown(){}}class K1e{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,r){this.changeListener=r,t.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class Y1e{constructor(t){this.t=t,this.currentUser=aa.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,r){Sr(this.o===void 0,42304);let n=this.i;const i=c=>this.i!==n?(n=this.i,r(c)):Promise.resolve();let a=new Yc;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Yc,t.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const c=a;t.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},o=c=>{dt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>o(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?o(c):(dt("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Yc)}},0),s()}getToken(){const t=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==t?(dt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Sr(typeof n.accessToken=="string",31837,{l:n}),new gY(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Sr(t===null||typeof t=="string",2055,{h:t}),new aa(t)}}class X1e{constructor(t,r,n){this.P=t,this.T=r,this.I=n,this.type="FirstParty",this.user=aa.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Q1e{constructor(t,r,n){this.P=t,this.T=r,this.I=n}getToken(){return Promise.resolve(new X1e(this.P,this.T,this.I))}start(t,r){t.enqueueRetryable(()=>r(aa.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class k6{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Z1e{constructor(t,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,so(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,r){Sr(this.o===void 0,3512);const n=a=>{a.error!=null&&dt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.m;return this.m=a.token,dt("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?r(a.token):Promise.resolve()};this.o=a=>{t.enqueueRetryable(()=>n(a))};const i=a=>{dt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):dt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new k6(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(r=>r?(Sr(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new k6(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J1e(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(r);else for(let n=0;n<e;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=J1e(40);for(let a=0;a<i.length;++a)n.length<20&&i[a]<r&&(n+=t.charAt(i[a]%62))}return n}}function rr(e,t){return e<t?-1:e>t?1:0}function JP(e,t){const r=Math.min(e.length,t.length);for(let n=0;n<r;n++){const i=e.charAt(n),a=t.charAt(n);if(i!==a)return KA(i)===KA(a)?rr(i,a):KA(i)?1:-1}return rr(e.length,t.length)}const ebe=55296,tbe=57343;function KA(e){const t=e.charCodeAt(0);return t>=ebe&&t<=tbe}function d0(e,t,r){return e.length===t.length&&e.every((n,i)=>r(n,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I6="__name__";class Rl{constructor(t,r,n){r===void 0?r=0:r>t.length&&Pt(637,{offset:r,range:t.length}),n===void 0?n=t.length-r:n>t.length-r&&Pt(1746,{length:n,range:t.length-r}),this.segments=t,this.offset=r,this.len=n}get length(){return this.len}isEqual(t){return Rl.comparator(this,t)===0}child(t){const r=this.segments.slice(this.offset,this.limit());return t instanceof Rl?t.forEach(n=>{r.push(n)}):r.push(t),this.construct(r)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}forEach(t){for(let r=this.offset,n=this.limit();r<n;r++)t(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,r){const n=Math.min(t.length,r.length);for(let i=0;i<n;i++){const a=Rl.compareSegments(t.get(i),r.get(i));if(a!==0)return a}return rr(t.length,r.length)}static compareSegments(t,r){const n=Rl.isNumericId(t),i=Rl.isNumericId(r);return n&&!i?-1:!n&&i?1:n&&i?Rl.extractNumericId(t).compare(Rl.extractNumericId(r)):JP(t,r)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Pd.fromString(t.substring(4,t.length-2))}}class zr extends Rl{construct(t,r,n){return new zr(t,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const r=[];for(const n of t){if(n.indexOf("//")>=0)throw new it(je.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new zr(r)}static emptyPath(){return new zr([])}}const rbe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Li extends Rl{construct(t,r,n){return new Li(t,r,n)}static isValidIdentifier(t){return rbe.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Li.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===I6}static keyField(){return new Li([I6])}static fromServerFormat(t){const r=[];let n="",i=0;const a=()=>{if(n.length===0)throw new it(je.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let s=!1;for(;i<t.length;){const o=t[i];if(o==="\\"){if(i+1===t.length)throw new it(je.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const c=t[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new it(je.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=c,i+=2}else o==="`"?(s=!s,i++):o!=="."||s?(n+=o,i++):(a(),i++)}if(a(),s)throw new it(je.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Li(r)}static emptyPath(){return new Li([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(t){this.path=t}static fromPath(t){return new Et(zr.fromString(t))}static fromName(t){return new Et(zr.fromString(t).popFirst(5))}static empty(){return new Et(zr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&zr.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,r){return zr.comparator(t.path,r.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Et(new zr(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vY(e,t,r){if(!r)throw new it(je.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function nbe(e,t,r,n){if(t===!0&&n===!0)throw new it(je.INVALID_ARGUMENT,`${e} and ${r} cannot be used together.`)}function O6(e){if(!Et.isDocumentKey(e))throw new it(je.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function D6(e){if(Et.isDocumentKey(e))throw new it(je.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function yY(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function J2(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(n){return n.constructor?n.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Pt(12329,{type:typeof e})}function ja(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new it(je.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=J2(e);throw new it(je.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${r}`)}}return e}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jn(e,t){const r={typeString:e};return t&&(r.value=t),r}function S1(e,t){if(!yY(e))throw new it(je.INVALID_ARGUMENT,"JSON must be an object");let r;for(const n in t)if(t[n]){const i=t[n].typeString,a="value"in t[n]?{value:t[n].value}:void 0;if(!(n in e)){r=`JSON missing required field: '${n}'`;break}const s=e[n];if(i&&typeof s!==i){r=`JSON field '${n}' must be a ${i}.`;break}if(a!==void 0&&s!==a.value){r=`Expected '${n}' field to equal '${a.value}'`;break}}if(r)throw new it(je.INVALID_ARGUMENT,r);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M6=-62135596800,L6=1e6;class Ot{static now(){return Ot.fromMillis(Date.now())}static fromDate(t){return Ot.fromMillis(t.getTime())}static fromMillis(t){const r=Math.floor(t/1e3),n=Math.floor((t-1e3*r)*L6);return new Ot(r,n)}constructor(t,r){if(this.seconds=t,this.nanoseconds=r,r<0)throw new it(je.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new it(je.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(t<M6)throw new it(je.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new it(je.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/L6}_compareTo(t){return this.seconds===t.seconds?rr(this.nanoseconds,t.nanoseconds):rr(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ot._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(S1(t,Ot._jsonSchema))return new Ot(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-M6;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ot._jsonSchemaVersion="firestore/timestamp/1.0",Ot._jsonSchema={type:Jn("string",Ot._jsonSchemaVersion),seconds:Jn("number"),nanoseconds:Jn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{static fromTimestamp(t){return new Ft(t)}static min(){return new Ft(new Ot(0,0))}static max(){return new Ft(new Ot(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qy=-1;function ibe(e,t){const r=e.toTimestamp().seconds,n=e.toTimestamp().nanoseconds+1,i=Ft.fromTimestamp(n===1e9?new Ot(r+1,0):new Ot(r,n));return new zd(i,Et.empty(),t)}function abe(e){return new zd(e.readTime,e.key,Qy)}class zd{constructor(t,r,n){this.readTime=t,this.documentKey=r,this.largestBatchId=n}static min(){return new zd(Ft.min(),Et.empty(),Qy)}static max(){return new zd(Ft.max(),Et.empty(),Qy)}}function sbe(e,t){let r=e.readTime.compareTo(t.readTime);return r!==0?r:(r=Et.comparator(e.documentKey,t.documentKey),r!==0?r:rr(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const obe="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class lbe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ug(e){if(e.code!==je.FAILED_PRECONDITION||e.message!==obe)throw e;dt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(t){return this.next(void 0,t)}next(t,r){return this.callbackAttached&&Pt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(t,this.result):new Ie((n,i)=>{this.nextCallback=a=>{this.wrapSuccess(t,a).next(n,i)},this.catchCallback=a=>{this.wrapFailure(r,a).next(n,i)}})}toPromise(){return new Promise((t,r)=>{this.next(t,r)})}wrapUserFunction(t){try{const r=t();return r instanceof Ie?r:Ie.resolve(r)}catch(r){return Ie.reject(r)}}wrapSuccess(t,r){return t?this.wrapUserFunction(()=>t(r)):Ie.resolve(r)}wrapFailure(t,r){return t?this.wrapUserFunction(()=>t(r)):Ie.reject(r)}static resolve(t){return new Ie((r,n)=>{r(t)})}static reject(t){return new Ie((r,n)=>{n(t)})}static waitFor(t){return new Ie((r,n)=>{let i=0,a=0,s=!1;t.forEach(o=>{++i,o.next(()=>{++a,s&&a===i&&r()},c=>n(c))}),s=!0,a===i&&r()})}static or(t){let r=Ie.resolve(!1);for(const n of t)r=r.next(i=>i?Ie.resolve(i):n());return r}static forEach(t,r){const n=[];return t.forEach((i,a)=>{n.push(r.call(this,i,a))}),this.waitFor(n)}static mapArray(t,r){return new Ie((n,i)=>{const a=t.length,s=new Array(a);let o=0;for(let c=0;c<a;c++){const u=c;r(t[u]).next(d=>{s[u]=d,++o,o===a&&n(s)},d=>i(d))}})}static doWhile(t,r){return new Ie((n,i)=>{const a=()=>{t()===!0?r().next(()=>{a()},i):n()};a()})}}function cbe(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function dg(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>r.writeSequenceNumber(n))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}eT.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gD=-1;function tT(e){return e==null}function TE(e){return e===0&&1/e==-1/0}function ube(e){return typeof e=="number"&&Number.isInteger(e)&&!TE(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xY="";function dbe(e){let t="";for(let r=0;r<e.length;r++)t.length>0&&(t=F6(t)),t=fbe(e.get(r),t);return F6(t)}function fbe(e,t){let r=t;const n=e.length;for(let i=0;i<n;i++){const a=e.charAt(i);switch(a){case"\0":r+="";break;case xY:r+="";break;default:r+=a}}return r}function F6(e){return e+xY+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $6(e){let t=0;for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t++;return t}function hf(e,t){for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t(r,e[r])}function bY(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(t,r){this.comparator=t,this.root=r||Ii.EMPTY}insert(t,r){return new Nn(this.comparator,this.root.insert(t,r,this.comparator).copy(null,null,Ii.BLACK,null,null))}remove(t){return new Nn(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ii.BLACK,null,null))}get(t){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(t,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(t){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((r,n)=>(t(r,n),!1))}toString(){const t=[];return this.inorderTraversal((r,n)=>(t.push(`${r}:${n}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new rw(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new rw(this.root,t,this.comparator,!1)}getReverseIterator(){return new rw(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new rw(this.root,t,this.comparator,!0)}}class rw{constructor(t,r,n,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!t.isEmpty();)if(a=r?n(t.key,r):1,r&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(a===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const r={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ii{constructor(t,r,n,i,a){this.key=t,this.value=r,this.color=n??Ii.RED,this.left=i??Ii.EMPTY,this.right=a??Ii.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,r,n,i,a){return new Ii(t??this.key,r??this.value,n??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,n){let i=this;const a=n(t,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(t,r,n),null):a===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(t,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ii.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,r){let n,i=this;if(r(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(t,i.key)===0){if(i.right.isEmpty())return Ii.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ii.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ii.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Pt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Pt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Pt(27949);return t+(this.isRed()?0:1)}}Ii.EMPTY=null,Ii.RED=!0,Ii.BLACK=!1;Ii.EMPTY=new class{constructor(){this.size=0}get key(){throw Pt(57766)}get value(){throw Pt(16141)}get color(){throw Pt(16727)}get left(){throw Pt(29726)}get right(){throw Pt(36894)}copy(t,r,n,i,a){return this}insert(t,r,n){return new Ii(t,r)}remove(t,r){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(t){this.comparator=t,this.data=new Nn(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((r,n)=>(t(r),!1))}forEachInRange(t,r){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,t[1])>=0)return;r(i.key)}}forEachWhile(t,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const r=this.data.getIteratorFrom(t);return r.hasNext()?r.getNext().key:null}getIterator(){return new B6(this.data.getIterator())}getIteratorFrom(t){return new B6(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let r=this;return r.size<t.size&&(r=t,t=this),t.forEach(n=>{r=r.add(n)}),r}isEqual(t){if(!(t instanceof pi)||this.size!==t.size)return!1;const r=this.data.getIterator(),n=t.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(r=>{t.push(r)}),t}toString(){const t=[];return this.forEach(r=>t.push(r)),"SortedSet("+t.toString()+")"}copy(t){const r=new pi(this.comparator);return r.data=t,r}}class B6{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(t){this.fields=t,t.sort(Li.comparator)}static empty(){return new Ts([])}unionWith(t){let r=new pi(Li.comparator);for(const n of this.fields)r=r.add(n);for(const n of t)r=r.add(n);return new Ts(r.toArray())}covers(t){for(const r of this.fields)if(r.isPrefixOf(t))return!0;return!1}isEqual(t){return d0(this.fields,t.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wY extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(t){this.binaryString=t}static fromBase64String(t){const r=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new wY("Invalid base64 string: "+a):a}}(t);return new Hi(r)}static fromUint8Array(t){const r=function(i){let a="";for(let s=0;s<i.length;++s)a+=String.fromCharCode(i[s]);return a}(t);return new Hi(r)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return rr(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Hi.EMPTY_BYTE_STRING=new Hi("");const hbe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wd(e){if(Sr(!!e,39018),typeof e=="string"){let t=0;const r=hbe.exec(e);if(Sr(!!r,46558,{timestamp:e}),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),t=Number(i)}const n=new Date(e);return{seconds:Math.floor(n.getTime()/1e3),nanos:t}}return{seconds:$n(e.seconds),nanos:$n(e.nanos)}}function $n(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Hd(e){return typeof e=="string"?Hi.fromBase64String(e):Hi.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _Y="server_timestamp",EY="__type__",SY="__previous_value__",TY="__local_write_time__";function vD(e){var r,n;return((n=(((r=e==null?void 0:e.mapValue)==null?void 0:r.fields)||{})[EY])==null?void 0:n.stringValue)===_Y}function rT(e){const t=e.mapValue.fields[SY];return vD(t)?rT(t):t}function Zy(e){const t=Wd(e.mapValue.fields[TY].timestampValue);return new Ot(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mbe{constructor(t,r,n,i,a,s,o,c,u,d){this.databaseId=t,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=d}}const NE="(default)";class Jy{constructor(t,r){this.projectId=t,this.database=r||NE}static empty(){return new Jy("","")}get isDefaultDatabase(){return this.database===NE}isEqual(t){return t instanceof Jy&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NY="__type__",pbe="__max__",nw={mapValue:{}},AY="__vector__",AE="value";function qd(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?vD(e)?4:vbe(e)?9007199254740991:gbe(e)?10:11:Pt(28295,{value:e})}function fc(e,t){if(e===t)return!0;const r=qd(e);if(r!==qd(t))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Zy(e).isEqual(Zy(t));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const s=Wd(i.timestampValue),o=Wd(a.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,a){return Hd(i.bytesValue).isEqual(Hd(a.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,a){return $n(i.geoPointValue.latitude)===$n(a.geoPointValue.latitude)&&$n(i.geoPointValue.longitude)===$n(a.geoPointValue.longitude)}(e,t);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return $n(i.integerValue)===$n(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const s=$n(i.doubleValue),o=$n(a.doubleValue);return s===o?TE(s)===TE(o):isNaN(s)&&isNaN(o)}return!1}(e,t);case 9:return d0(e.arrayValue.values||[],t.arrayValue.values||[],fc);case 10:case 11:return function(i,a){const s=i.mapValue.fields||{},o=a.mapValue.fields||{};if($6(s)!==$6(o))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(o[c]===void 0||!fc(s[c],o[c])))return!1;return!0}(e,t);default:return Pt(52216,{left:e})}}function ex(e,t){return(e.values||[]).find(r=>fc(r,t))!==void 0}function f0(e,t){if(e===t)return 0;const r=qd(e),n=qd(t);if(r!==n)return rr(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return rr(e.booleanValue,t.booleanValue);case 2:return function(a,s){const o=$n(a.integerValue||a.doubleValue),c=$n(s.integerValue||s.doubleValue);return o<c?-1:o>c?1:o===c?0:isNaN(o)?isNaN(c)?0:-1:1}(e,t);case 3:return V6(e.timestampValue,t.timestampValue);case 4:return V6(Zy(e),Zy(t));case 5:return JP(e.stringValue,t.stringValue);case 6:return function(a,s){const o=Hd(a),c=Hd(s);return o.compareTo(c)}(e.bytesValue,t.bytesValue);case 7:return function(a,s){const o=a.split("/"),c=s.split("/");for(let u=0;u<o.length&&u<c.length;u++){const d=rr(o[u],c[u]);if(d!==0)return d}return rr(o.length,c.length)}(e.referenceValue,t.referenceValue);case 8:return function(a,s){const o=rr($n(a.latitude),$n(s.latitude));return o!==0?o:rr($n(a.longitude),$n(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return U6(e.arrayValue,t.arrayValue);case 10:return function(a,s){var h,m,g,p;const o=a.fields||{},c=s.fields||{},u=(h=o[AE])==null?void 0:h.arrayValue,d=(m=c[AE])==null?void 0:m.arrayValue,f=rr(((g=u==null?void 0:u.values)==null?void 0:g.length)||0,((p=d==null?void 0:d.values)==null?void 0:p.length)||0);return f!==0?f:U6(u,d)}(e.mapValue,t.mapValue);case 11:return function(a,s){if(a===nw.mapValue&&s===nw.mapValue)return 0;if(a===nw.mapValue)return 1;if(s===nw.mapValue)return-1;const o=a.fields||{},c=Object.keys(o),u=s.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let f=0;f<c.length&&f<d.length;++f){const h=JP(c[f],d[f]);if(h!==0)return h;const m=f0(o[c[f]],u[d[f]]);if(m!==0)return m}return rr(c.length,d.length)}(e.mapValue,t.mapValue);default:throw Pt(23264,{he:r})}}function V6(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return rr(e,t);const r=Wd(e),n=Wd(t),i=rr(r.seconds,n.seconds);return i!==0?i:rr(r.nanos,n.nanos)}function U6(e,t){const r=e.values||[],n=t.values||[];for(let i=0;i<r.length&&i<n.length;++i){const a=f0(r[i],n[i]);if(a)return a}return rr(r.length,n.length)}function h0(e){return eR(e)}function eR(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){const n=Wd(r);return`time(${n.seconds},${n.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(r){return Hd(r).toBase64()}(e.bytesValue):"referenceValue"in e?function(r){return Et.fromName(r).toString()}(e.referenceValue):"geoPointValue"in e?function(r){return`geo(${r.latitude},${r.longitude})`}(e.geoPointValue):"arrayValue"in e?function(r){let n="[",i=!0;for(const a of r.values||[])i?i=!1:n+=",",n+=eR(a);return n+"]"}(e.arrayValue):"mapValue"in e?function(r){const n=Object.keys(r.fields||{}).sort();let i="{",a=!0;for(const s of n)a?a=!1:i+=",",i+=`${s}:${eR(r.fields[s])}`;return i+"}"}(e.mapValue):Pt(61005,{value:e})}function v_(e){switch(qd(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=rT(e);return t?16+v_(t):16;case 5:return 2*e.stringValue.length;case 6:return Hd(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((i,a)=>i+v_(a),0)}(e.arrayValue);case 10:case 11:return function(n){let i=0;return hf(n.fields,(a,s)=>{i+=a.length+v_(s)}),i}(e.mapValue);default:throw Pt(13486,{value:e})}}function z6(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function tR(e){return!!e&&"integerValue"in e}function yD(e){return!!e&&"arrayValue"in e}function W6(e){return!!e&&"nullValue"in e}function H6(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function y_(e){return!!e&&"mapValue"in e}function gbe(e){var r,n;return((n=(((r=e==null?void 0:e.mapValue)==null?void 0:r.fields)||{})[NY])==null?void 0:n.stringValue)===AY}function Jv(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return hf(e.mapValue.fields,(r,n)=>t.mapValue.fields[r]=Jv(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let r=0;r<(e.arrayValue.values||[]).length;++r)t.arrayValue.values[r]=Jv(e.arrayValue.values[r]);return t}return{...e}}function vbe(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===pbe}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(t){this.value=t}static empty(){return new Ka({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let r=this.value;for(let n=0;n<t.length-1;++n)if(r=(r.mapValue.fields||{})[t.get(n)],!y_(r))return null;return r=(r.mapValue.fields||{})[t.lastSegment()],r||null}}set(t,r){this.getFieldsMap(t.popLast())[t.lastSegment()]=Jv(r)}setAll(t){let r=Li.emptyPath(),n={},i=[];t.forEach((s,o)=>{if(!r.isImmediateParentOf(o)){const c=this.getFieldsMap(r);this.applyChanges(c,n,i),n={},i=[],r=o.popLast()}s?n[o.lastSegment()]=Jv(s):i.push(o.lastSegment())});const a=this.getFieldsMap(r);this.applyChanges(a,n,i)}delete(t){const r=this.field(t.popLast());y_(r)&&r.mapValue.fields&&delete r.mapValue.fields[t.lastSegment()]}isEqual(t){return fc(this.value,t.value)}getFieldsMap(t){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<t.length;++n){let i=r.mapValue.fields[t.get(n)];y_(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[t.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(t,r,n){hf(r,(i,a)=>t[i]=a);for(const i of n)delete t[i]}clone(){return new Ka(Jv(this.value))}}function CY(e){const t=[];return hf(e.fields,(r,n)=>{const i=new Li([r]);if(y_(n)){const a=CY(n.mapValue).fields;if(a.length===0)t.push(i);else for(const s of a)t.push(i.child(s))}else t.push(i)}),new Ts(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(t,r,n,i,a,s,o){this.key=t,this.documentType=r,this.version=n,this.readTime=i,this.createTime=a,this.data=s,this.documentState=o}static newInvalidDocument(t){return new oa(t,0,Ft.min(),Ft.min(),Ft.min(),Ka.empty(),0)}static newFoundDocument(t,r,n,i){return new oa(t,1,r,Ft.min(),n,i,0)}static newNoDocument(t,r){return new oa(t,2,r,Ft.min(),Ft.min(),Ka.empty(),0)}static newUnknownDocument(t,r){return new oa(t,3,r,Ft.min(),Ft.min(),Ka.empty(),2)}convertToFoundDocument(t,r){return!this.createTime.isEqual(Ft.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Ka.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Ka.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ft.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof oa&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new oa(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(t,r){this.position=t,this.inclusive=r}}function q6(e,t,r){let n=0;for(let i=0;i<e.position.length;i++){const a=t[i],s=e.position[i];if(a.field.isKeyField()?n=Et.comparator(Et.fromName(s.referenceValue),r.key):n=f0(s,r.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function G6(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let r=0;r<e.position.length;r++)if(!fc(e.position[r],t.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(t,r="asc"){this.field=t,this.dir=r}}function ybe(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jY{}class Qn extends jY{constructor(t,r,n){super(),this.field=t,this.op=r,this.value=n}static create(t,r,n){return t.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(t,r,n):new bbe(t,r,n):r==="array-contains"?new Ebe(t,n):r==="in"?new Sbe(t,n):r==="not-in"?new Tbe(t,n):r==="array-contains-any"?new Nbe(t,n):new Qn(t,r,n)}static createKeyFieldInFilter(t,r,n){return r==="in"?new wbe(t,n):new _be(t,n)}matches(t){const r=t.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(f0(r,this.value)):r!==null&&qd(this.value)===qd(r)&&this.matchesComparison(f0(r,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Pt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class hl extends jY{constructor(t,r){super(),this.filters=t,this.op=r,this.Pe=null}static create(t,r){return new hl(t,r)}matches(t){return PY(this)?this.filters.find(r=>!r.matches(t))===void 0:this.filters.find(r=>r.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,r)=>t.concat(r.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function PY(e){return e.op==="and"}function RY(e){return xbe(e)&&PY(e)}function xbe(e){for(const t of e.filters)if(t instanceof hl)return!1;return!0}function rR(e){if(e instanceof Qn)return e.field.canonicalString()+e.op.toString()+h0(e.value);if(RY(e))return e.filters.map(t=>rR(t)).join(",");{const t=e.filters.map(r=>rR(r)).join(",");return`${e.op}(${t})`}}function kY(e,t){return e instanceof Qn?function(n,i){return i instanceof Qn&&n.op===i.op&&n.field.isEqual(i.field)&&fc(n.value,i.value)}(e,t):e instanceof hl?function(n,i){return i instanceof hl&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((a,s,o)=>a&&kY(s,i.filters[o]),!0):!1}(e,t):void Pt(19439)}function IY(e){return e instanceof Qn?function(r){return`${r.field.canonicalString()} ${r.op} ${h0(r.value)}`}(e):e instanceof hl?function(r){return r.op.toString()+" {"+r.getFilters().map(IY).join(" ,")+"}"}(e):"Filter"}class bbe extends Qn{constructor(t,r,n){super(t,r,n),this.key=Et.fromName(n.referenceValue)}matches(t){const r=Et.comparator(t.key,this.key);return this.matchesComparison(r)}}class wbe extends Qn{constructor(t,r){super(t,"in",r),this.keys=OY("in",r)}matches(t){return this.keys.some(r=>r.isEqual(t.key))}}class _be extends Qn{constructor(t,r){super(t,"not-in",r),this.keys=OY("not-in",r)}matches(t){return!this.keys.some(r=>r.isEqual(t.key))}}function OY(e,t){var r;return(((r=t.arrayValue)==null?void 0:r.values)||[]).map(n=>Et.fromName(n.referenceValue))}class Ebe extends Qn{constructor(t,r){super(t,"array-contains",r)}matches(t){const r=t.data.field(this.field);return yD(r)&&ex(r.arrayValue,this.value)}}class Sbe extends Qn{constructor(t,r){super(t,"in",r)}matches(t){const r=t.data.field(this.field);return r!==null&&ex(this.value.arrayValue,r)}}class Tbe extends Qn{constructor(t,r){super(t,"not-in",r)}matches(t){if(ex(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=t.data.field(this.field);return r!==null&&r.nullValue===void 0&&!ex(this.value.arrayValue,r)}}class Nbe extends Qn{constructor(t,r){super(t,"array-contains-any",r)}matches(t){const r=t.data.field(this.field);return!(!yD(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>ex(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Abe{constructor(t,r=null,n=[],i=[],a=null,s=null,o=null){this.path=t,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=a,this.startAt=s,this.endAt=o,this.Te=null}}function K6(e,t=null,r=[],n=[],i=null,a=null,s=null){return new Abe(e,t,r,n,i,a,s)}function xD(e){const t=zt(e);if(t.Te===null){let r=t.path.canonicalString();t.collectionGroup!==null&&(r+="|cg:"+t.collectionGroup),r+="|f:",r+=t.filters.map(n=>rR(n)).join(","),r+="|ob:",r+=t.orderBy.map(n=>function(a){return a.field.canonicalString()+a.dir}(n)).join(","),tT(t.limit)||(r+="|l:",r+=t.limit),t.startAt&&(r+="|lb:",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(n=>h0(n)).join(",")),t.endAt&&(r+="|ub:",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(n=>h0(n)).join(",")),t.Te=r}return t.Te}function bD(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<e.orderBy.length;r++)if(!ybe(e.orderBy[r],t.orderBy[r]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let r=0;r<e.filters.length;r++)if(!kY(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!G6(e.startAt,t.startAt)&&G6(e.endAt,t.endAt)}function nR(e){return Et.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(t,r=null,n=[],i=[],a=null,s="F",o=null,c=null){this.path=t,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=a,this.limitType=s,this.startAt=o,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Cbe(e,t,r,n,i,a,s,o){return new fg(e,t,r,n,i,a,s,o)}function nT(e){return new fg(e)}function Y6(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function DY(e){return e.collectionGroup!==null}function ey(e){const t=zt(e);if(t.Ie===null){t.Ie=[];const r=new Set;for(const a of t.explicitOrderBy)t.Ie.push(a),r.add(a.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(s){let o=new pi(Li.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(o=o.add(u.field))})}),o})(t).forEach(a=>{r.has(a.canonicalString())||a.isKeyField()||t.Ie.push(new tx(a,n))}),r.has(Li.keyField().canonicalString())||t.Ie.push(new tx(Li.keyField(),n))}return t.Ie}function Ql(e){const t=zt(e);return t.Ee||(t.Ee=jbe(t,ey(e))),t.Ee}function jbe(e,t){if(e.limitType==="F")return K6(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new tx(i.field,a)});const r=e.endAt?new CE(e.endAt.position,e.endAt.inclusive):null,n=e.startAt?new CE(e.startAt.position,e.startAt.inclusive):null;return K6(e.path,e.collectionGroup,t,e.filters,e.limit,r,n)}}function iR(e,t){const r=e.filters.concat([t]);return new fg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),r,e.limit,e.limitType,e.startAt,e.endAt)}function aR(e,t,r){return new fg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,r,e.startAt,e.endAt)}function iT(e,t){return bD(Ql(e),Ql(t))&&e.limitType===t.limitType}function MY(e){return`${xD(Ql(e))}|lt:${e.limitType}`}function Bm(e){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(i=>IY(i)).join(", ")}]`),tT(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(i=>h0(i)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(i=>h0(i)).join(",")),`Target(${n})`}(Ql(e))}; limitType=${e.limitType})`}function aT(e,t){return t.isFoundDocument()&&function(n,i){const a=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):Et.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)}(e,t)&&function(n,i){for(const a of ey(n))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(e,t)&&function(n,i){for(const a of n.filters)if(!a.matches(i))return!1;return!0}(e,t)&&function(n,i){return!(n.startAt&&!function(s,o,c){const u=q6(s,o,c);return s.inclusive?u<=0:u<0}(n.startAt,ey(n),i)||n.endAt&&!function(s,o,c){const u=q6(s,o,c);return s.inclusive?u>=0:u>0}(n.endAt,ey(n),i))}(e,t)}function Pbe(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function LY(e){return(t,r)=>{let n=!1;for(const i of ey(e)){const a=Rbe(i,t,r);if(a!==0)return a;n=n||i.field.isKeyField()}return 0}}function Rbe(e,t,r){const n=e.field.isKeyField()?Et.comparator(t.key,r.key):function(a,s,o){const c=s.data.field(a),u=o.data.field(a);return c!==null&&u!==null?f0(c,u):Pt(42886)}(e.field,t,r);switch(e.dir){case"asc":return n;case"desc":return-1*n;default:return Pt(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(t,r){this.mapKeyFn=t,this.equalsFn=r,this.inner={},this.innerSize=0}get(t){const r=this.mapKeyFn(t),n=this.inner[r];if(n!==void 0){for(const[i,a]of n)if(this.equalsFn(i,t))return a}}has(t){return this.get(t)!==void 0}set(t,r){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return this.inner[n]=[[t,r]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],t))return void(i[a]=[t,r]);i.push([t,r]),this.innerSize++}delete(t){const r=this.mapKeyFn(t),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],t))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(t){hf(this.inner,(r,n)=>{for(const[i,a]of n)t(i,a)})}isEmpty(){return bY(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kbe=new Nn(Et.comparator);function yu(){return kbe}const FY=new Nn(Et.comparator);function Cv(...e){let t=FY;for(const r of e)t=t.insert(r.key,r);return t}function $Y(e){let t=FY;return e.forEach((r,n)=>t=t.insert(r,n.overlayedDocument)),t}function Qf(){return ty()}function BY(){return ty()}function ty(){return new sm(e=>e.toString(),(e,t)=>e.isEqual(t))}const Ibe=new Nn(Et.comparator),Obe=new pi(Et.comparator);function nr(...e){let t=Obe;for(const r of e)t=t.add(r);return t}const Dbe=new pi(rr);function Mbe(){return Dbe}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wD(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:TE(t)?"-0":t}}function VY(e){return{integerValue:""+e}}function Lbe(e,t){return ube(t)?VY(t):wD(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(){this._=void 0}}function Fbe(e,t,r){return e instanceof rx?function(i,a){const s={fields:{[EY]:{stringValue:_Y},[TY]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&vD(a)&&(a=rT(a)),a&&(s.fields[SY]=a),{mapValue:s}}(r,t):e instanceof m0?zY(e,t):e instanceof nx?WY(e,t):function(i,a){const s=UY(i,a),o=X6(s)+X6(i.Ae);return tR(s)&&tR(i.Ae)?VY(o):wD(i.serializer,o)}(e,t)}function $be(e,t,r){return e instanceof m0?zY(e,t):e instanceof nx?WY(e,t):r}function UY(e,t){return e instanceof jE?function(n){return tR(n)||function(a){return!!a&&"doubleValue"in a}(n)}(t)?t:{integerValue:0}:null}class rx extends sT{}class m0 extends sT{constructor(t){super(),this.elements=t}}function zY(e,t){const r=HY(t);for(const n of e.elements)r.some(i=>fc(i,n))||r.push(n);return{arrayValue:{values:r}}}class nx extends sT{constructor(t){super(),this.elements=t}}function WY(e,t){let r=HY(t);for(const n of e.elements)r=r.filter(i=>!fc(i,n));return{arrayValue:{values:r}}}class jE extends sT{constructor(t,r){super(),this.serializer=t,this.Ae=r}}function X6(e){return $n(e.integerValue||e.doubleValue)}function HY(e){return yD(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qY{constructor(t,r){this.field=t,this.transform=r}}function Bbe(e,t){return e.field.isEqual(t.field)&&function(n,i){return n instanceof m0&&i instanceof m0||n instanceof nx&&i instanceof nx?d0(n.elements,i.elements,fc):n instanceof jE&&i instanceof jE?fc(n.Ae,i.Ae):n instanceof rx&&i instanceof rx}(e.transform,t.transform)}class Vbe{constructor(t,r){this.version=t,this.transformResults=r}}class Pa{constructor(t,r){this.updateTime=t,this.exists=r}static none(){return new Pa}static exists(t){return new Pa(void 0,t)}static updateTime(t){return new Pa(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function x_(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class oT{}function GY(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new lT(e.key,Pa.none()):new T1(e.key,e.data,Pa.none());{const r=e.data,n=Ka.empty();let i=new pi(Li.comparator);for(let a of t.fields)if(!i.has(a)){let s=r.field(a);s===null&&a.length>1&&(a=a.popLast(),s=r.field(a)),s===null?n.delete(a):n.set(a,s),i=i.add(a)}return new mf(e.key,n,new Ts(i.toArray()),Pa.none())}}function Ube(e,t,r){e instanceof T1?function(i,a,s){const o=i.value.clone(),c=Z6(i.fieldTransforms,a,s.transformResults);o.setAll(c),a.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(e,t,r):e instanceof mf?function(i,a,s){if(!x_(i.precondition,a))return void a.convertToUnknownDocument(s.version);const o=Z6(i.fieldTransforms,a,s.transformResults),c=a.data;c.setAll(KY(i)),c.setAll(o),a.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(e,t,r):function(i,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,r)}function ry(e,t,r,n){return e instanceof T1?function(a,s,o,c){if(!x_(a.precondition,s))return o;const u=a.value.clone(),d=J6(a.fieldTransforms,c,s);return u.setAll(d),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(e,t,r,n):e instanceof mf?function(a,s,o,c){if(!x_(a.precondition,s))return o;const u=J6(a.fieldTransforms,c,s),d=s.data;return d.setAll(KY(a)),d.setAll(u),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),o===null?null:o.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(f=>f.field))}(e,t,r,n):function(a,s,o){return x_(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(e,t,r)}function zbe(e,t){let r=null;for(const n of e.fieldTransforms){const i=t.data.field(n.field),a=UY(n.transform,i||null);a!=null&&(r===null&&(r=Ka.empty()),r.set(n.field,a))}return r||null}function Q6(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&d0(n,i,(a,s)=>Bbe(a,s))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class T1 extends oT{constructor(t,r,n,i=[]){super(),this.key=t,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class mf extends oT{constructor(t,r,n,i,a=[]){super(),this.key=t,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function KY(e){const t=new Map;return e.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=e.data.field(r);t.set(r,n)}}),t}function Z6(e,t,r){const n=new Map;Sr(e.length===r.length,32656,{Re:r.length,Ve:e.length});for(let i=0;i<r.length;i++){const a=e[i],s=a.transform,o=t.data.field(a.field);n.set(a.field,$be(s,o,r[i]))}return n}function J6(e,t,r){const n=new Map;for(const i of e){const a=i.transform,s=r.data.field(i.field);n.set(i.field,Fbe(a,s,t))}return n}class lT extends oT{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Wbe extends oT{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hbe{constructor(t,r,n,i){this.batchId=t,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(t,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(t.key)&&Ube(a,t,n[i])}}applyToLocalView(t,r){for(const n of this.baseMutations)n.key.isEqual(t.key)&&(r=ry(n,t,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(t.key)&&(r=ry(n,t,r,this.localWriteTime));return r}applyToLocalDocumentSet(t,r){const n=BY();return this.mutations.forEach(i=>{const a=t.get(i.key),s=a.overlayedDocument;let o=this.applyToLocalView(s,a.mutatedFields);o=r.has(i.key)?null:o;const c=GY(s,o);c!==null&&n.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(Ft.min())}),n}keys(){return this.mutations.reduce((t,r)=>t.add(r.key),nr())}isEqual(t){return this.batchId===t.batchId&&d0(this.mutations,t.mutations,(r,n)=>Q6(r,n))&&d0(this.baseMutations,t.baseMutations,(r,n)=>Q6(r,n))}}class _D{constructor(t,r,n,i){this.batch=t,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(t,r,n){Sr(t.mutations.length===n.length,58842,{me:t.mutations.length,fe:n.length});let i=function(){return Ibe}();const a=t.mutations;for(let s=0;s<a.length;s++)i=i.insert(a[s].key,n[s].version);return new _D(t,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qbe=class{constructor(t,r){this.largestBatchId=t,this.mutation=r}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gbe{constructor(t,r){this.count=t,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kn,or;function Kbe(e){switch(e){case je.OK:return Pt(64938);case je.CANCELLED:case je.UNKNOWN:case je.DEADLINE_EXCEEDED:case je.RESOURCE_EXHAUSTED:case je.INTERNAL:case je.UNAVAILABLE:case je.UNAUTHENTICATED:return!1;case je.INVALID_ARGUMENT:case je.NOT_FOUND:case je.ALREADY_EXISTS:case je.PERMISSION_DENIED:case je.FAILED_PRECONDITION:case je.ABORTED:case je.OUT_OF_RANGE:case je.UNIMPLEMENTED:case je.DATA_LOSS:return!0;default:return Pt(15467,{code:e})}}function YY(e){if(e===void 0)return vu("GRPC error has no .code"),je.UNKNOWN;switch(e){case Kn.OK:return je.OK;case Kn.CANCELLED:return je.CANCELLED;case Kn.UNKNOWN:return je.UNKNOWN;case Kn.DEADLINE_EXCEEDED:return je.DEADLINE_EXCEEDED;case Kn.RESOURCE_EXHAUSTED:return je.RESOURCE_EXHAUSTED;case Kn.INTERNAL:return je.INTERNAL;case Kn.UNAVAILABLE:return je.UNAVAILABLE;case Kn.UNAUTHENTICATED:return je.UNAUTHENTICATED;case Kn.INVALID_ARGUMENT:return je.INVALID_ARGUMENT;case Kn.NOT_FOUND:return je.NOT_FOUND;case Kn.ALREADY_EXISTS:return je.ALREADY_EXISTS;case Kn.PERMISSION_DENIED:return je.PERMISSION_DENIED;case Kn.FAILED_PRECONDITION:return je.FAILED_PRECONDITION;case Kn.ABORTED:return je.ABORTED;case Kn.OUT_OF_RANGE:return je.OUT_OF_RANGE;case Kn.UNIMPLEMENTED:return je.UNIMPLEMENTED;case Kn.DATA_LOSS:return je.DATA_LOSS;default:return Pt(39323,{code:e})}}(or=Kn||(Kn={}))[or.OK=0]="OK",or[or.CANCELLED=1]="CANCELLED",or[or.UNKNOWN=2]="UNKNOWN",or[or.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",or[or.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",or[or.NOT_FOUND=5]="NOT_FOUND",or[or.ALREADY_EXISTS=6]="ALREADY_EXISTS",or[or.PERMISSION_DENIED=7]="PERMISSION_DENIED",or[or.UNAUTHENTICATED=16]="UNAUTHENTICATED",or[or.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",or[or.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",or[or.ABORTED=10]="ABORTED",or[or.OUT_OF_RANGE=11]="OUT_OF_RANGE",or[or.UNIMPLEMENTED=12]="UNIMPLEMENTED",or[or.INTERNAL=13]="INTERNAL",or[or.UNAVAILABLE=14]="UNAVAILABLE",or[or.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ybe(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xbe=new Pd([4294967295,4294967295],0);function e$(e){const t=Ybe().encode(e),r=new cY;return r.update(t),new Uint8Array(r.digest())}function t$(e){const t=new DataView(e.buffer),r=t.getUint32(0,!0),n=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new Pd([r,n],0),new Pd([i,a],0)]}class ED{constructor(t,r,n){if(this.bitmap=t,this.padding=r,this.hashCount=n,r<0||r>=8)throw new jv(`Invalid padding: ${r}`);if(n<0)throw new jv(`Invalid hash count: ${n}`);if(t.length>0&&this.hashCount===0)throw new jv(`Invalid hash count: ${n}`);if(t.length===0&&r!==0)throw new jv(`Invalid padding when bitmap length is 0: ${r}`);this.ge=8*t.length-r,this.pe=Pd.fromNumber(this.ge)}ye(t,r,n){let i=t.add(r.multiply(Pd.fromNumber(n)));return i.compare(Xbe)===1&&(i=new Pd([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const r=e$(t),[n,i]=t$(r);for(let a=0;a<this.hashCount;a++){const s=this.ye(n,i,a);if(!this.we(s))return!1}return!0}static create(t,r,n){const i=t%8==0?0:8-t%8,a=new Uint8Array(Math.ceil(t/8)),s=new ED(a,i,r);return n.forEach(o=>s.insert(o)),s}insert(t){if(this.ge===0)return;const r=e$(t),[n,i]=t$(r);for(let a=0;a<this.hashCount;a++){const s=this.ye(n,i,a);this.Se(s)}}Se(t){const r=Math.floor(t/8),n=t%8;this.bitmap[r]|=1<<n}}class jv extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(t,r,n,i,a){this.snapshotVersion=t,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(t,r,n){const i=new Map;return i.set(t,N1.createSynthesizedTargetChangeForCurrentChange(t,r,n)),new cT(Ft.min(),i,new Nn(rr),yu(),nr())}}class N1{constructor(t,r,n,i,a){this.resumeToken=t,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(t,r,n){return new N1(n,r,nr(),nr(),nr())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_{constructor(t,r,n,i){this.be=t,this.removedTargetIds=r,this.key=n,this.De=i}}class XY{constructor(t,r){this.targetId=t,this.Ce=r}}class QY{constructor(t,r,n=Hi.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=r,this.resumeToken=n,this.cause=i}}class r${constructor(){this.ve=0,this.Fe=n$(),this.Me=Hi.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=nr(),r=nr(),n=nr();return this.Fe.forEach((i,a)=>{switch(a){case 0:t=t.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:Pt(38017,{changeType:a})}}),new N1(this.Me,this.xe,t,r,n)}qe(){this.Oe=!1,this.Fe=n$()}Qe(t,r){this.Oe=!0,this.Fe=this.Fe.insert(t,r)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Sr(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Qbe{constructor(t){this.Ge=t,this.ze=new Map,this.je=yu(),this.Je=iw(),this.He=iw(),this.Ye=new Nn(rr)}Ze(t){for(const r of t.be)t.De&&t.De.isFoundDocument()?this.Xe(r,t.De):this.et(r,t.key,t.De);for(const r of t.removedTargetIds)this.et(r,t.key,t.De)}tt(t){this.forEachTarget(t,r=>{const n=this.nt(r);switch(t.state){case 0:this.rt(r)&&n.Le(t.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(t.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(r);break;case 3:this.rt(r)&&(n.We(),n.Le(t.resumeToken));break;case 4:this.rt(r)&&(this.it(r),n.Le(t.resumeToken));break;default:Pt(56790,{state:t.state})}})}forEachTarget(t,r){t.targetIds.length>0?t.targetIds.forEach(r):this.ze.forEach((n,i)=>{this.rt(i)&&r(i)})}st(t){const r=t.targetId,n=t.Ce.count,i=this.ot(r);if(i){const a=i.target;if(nR(a))if(n===0){const s=new Et(a.path);this.et(r,s,oa.newNoDocument(s,Ft.min()))}else Sr(n===1,20013,{expectedCount:n});else{const s=this._t(r);if(s!==n){const o=this.ut(t),c=o?this.ct(o,t,s):1;if(c!==0){this.it(r);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(r,u)}}}}}ut(t){const r=t.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:a=0}=r;let s,o;try{s=Hd(n).toUint8Array()}catch(c){if(c instanceof wY)return u0("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{o=new ED(s,i,a)}catch(c){return u0(c instanceof jv?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return o.ge===0?null:o}ct(t,r,n){return r.Ce.count===n-this.Pt(t,r.targetId)?0:2}Pt(t,r){const n=this.Ge.getRemoteKeysForTarget(r);let i=0;return n.forEach(a=>{const s=this.Ge.ht(),o=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;t.mightContain(o)||(this.et(r,a,null),i++)}),i}Tt(t){const r=new Map;this.ze.forEach((a,s)=>{const o=this.ot(s);if(o){if(a.current&&nR(o.target)){const c=new Et(o.target.path);this.It(c).has(s)||this.Et(s,c)||this.et(s,c,oa.newNoDocument(c,t))}a.Be&&(r.set(s,a.ke()),a.qe())}});let n=nr();this.He.forEach((a,s)=>{let o=!0;s.forEachWhile(c=>{const u=this.ot(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(n=n.add(a))}),this.je.forEach((a,s)=>s.setReadTime(t));const i=new cT(t,r,this.Ye,this.je,n);return this.je=yu(),this.Je=iw(),this.He=iw(),this.Ye=new Nn(rr),i}Xe(t,r){if(!this.rt(t))return;const n=this.Et(t,r.key)?2:0;this.nt(t).Qe(r.key,n),this.je=this.je.insert(r.key,r),this.Je=this.Je.insert(r.key,this.It(r.key).add(t)),this.He=this.He.insert(r.key,this.dt(r.key).add(t))}et(t,r,n){if(!this.rt(t))return;const i=this.nt(t);this.Et(t,r)?i.Qe(r,1):i.$e(r),this.He=this.He.insert(r,this.dt(r).delete(t)),this.He=this.He.insert(r,this.dt(r).add(t)),n&&(this.je=this.je.insert(r,n))}removeTarget(t){this.ze.delete(t)}_t(t){const r=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+r.addedDocuments.size-r.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let r=this.ze.get(t);return r||(r=new r$,this.ze.set(t,r)),r}dt(t){let r=this.He.get(t);return r||(r=new pi(rr),this.He=this.He.insert(t,r)),r}It(t){let r=this.Je.get(t);return r||(r=new pi(rr),this.Je=this.Je.insert(t,r)),r}rt(t){const r=this.ot(t)!==null;return r||dt("WatchChangeAggregator","Detected inactive target",t),r}ot(t){const r=this.ze.get(t);return r&&r.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new r$),this.Ge.getRemoteKeysForTarget(t).forEach(r=>{this.et(t,r,null)})}Et(t,r){return this.Ge.getRemoteKeysForTarget(t).has(r)}}function iw(){return new Nn(Et.comparator)}function n$(){return new Nn(Et.comparator)}const Zbe={asc:"ASCENDING",desc:"DESCENDING"},Jbe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ewe={and:"AND",or:"OR"};class twe{constructor(t,r){this.databaseId=t,this.useProto3Json=r}}function sR(e,t){return e.useProto3Json||tT(t)?t:{value:t}}function PE(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function ZY(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function rwe(e,t){return PE(e,t.toTimestamp())}function Zl(e){return Sr(!!e,49232),Ft.fromTimestamp(function(r){const n=Wd(r);return new Ot(n.seconds,n.nanos)}(e))}function SD(e,t){return oR(e,t).canonicalString()}function oR(e,t){const r=function(i){return new zr(["projects",i.projectId,"databases",i.database])}(e).child("documents");return t===void 0?r:r.child(t)}function JY(e){const t=zr.fromString(e);return Sr(iX(t),10190,{key:t.toString()}),t}function lR(e,t){return SD(e.databaseId,t.path)}function YA(e,t){const r=JY(t);if(r.get(1)!==e.databaseId.projectId)throw new it(je.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+e.databaseId.projectId);if(r.get(3)!==e.databaseId.database)throw new it(je.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+e.databaseId.database);return new Et(tX(r))}function eX(e,t){return SD(e.databaseId,t)}function nwe(e){const t=JY(e);return t.length===4?zr.emptyPath():tX(t)}function cR(e){return new zr(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function tX(e){return Sr(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function i$(e,t,r){return{name:lR(e,t),fields:r.value.mapValue.fields}}function iwe(e,t){let r;if("targetChange"in t){t.targetChange;const n=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Pt(39313,{state:u})}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(u,d){return u.useProto3Json?(Sr(d===void 0||typeof d=="string",58123),Hi.fromBase64String(d||"")):(Sr(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Hi.fromUint8Array(d||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,o=s&&function(u){const d=u.code===void 0?je.UNKNOWN:YY(u.code);return new it(d,u.message||"")}(s);r=new QY(n,i,a,o||null)}else if("documentChange"in t){t.documentChange;const n=t.documentChange;n.document,n.document.name,n.document.updateTime;const i=YA(e,n.document.name),a=Zl(n.document.updateTime),s=n.document.createTime?Zl(n.document.createTime):Ft.min(),o=new Ka({mapValue:{fields:n.document.fields}}),c=oa.newFoundDocument(i,a,s,o),u=n.targetIds||[],d=n.removedTargetIds||[];r=new b_(u,d,c.key,c)}else if("documentDelete"in t){t.documentDelete;const n=t.documentDelete;n.document;const i=YA(e,n.document),a=n.readTime?Zl(n.readTime):Ft.min(),s=oa.newNoDocument(i,a),o=n.removedTargetIds||[];r=new b_([],o,s.key,s)}else if("documentRemove"in t){t.documentRemove;const n=t.documentRemove;n.document;const i=YA(e,n.document),a=n.removedTargetIds||[];r=new b_([],a,i,null)}else{if(!("filter"in t))return Pt(11601,{Rt:t});{t.filter;const n=t.filter;n.targetId;const{count:i=0,unchangedNames:a}=n,s=new Gbe(i,a),o=n.targetId;r=new XY(o,s)}}return r}function awe(e,t){let r;if(t instanceof T1)r={update:i$(e,t.key,t.value)};else if(t instanceof lT)r={delete:lR(e,t.key)};else if(t instanceof mf)r={update:i$(e,t.key,t.data),updateMask:mwe(t.fieldMask)};else{if(!(t instanceof Wbe))return Pt(16599,{Vt:t.type});r={verify:lR(e,t.key)}}return t.fieldTransforms.length>0&&(r.updateTransforms=t.fieldTransforms.map(n=>function(a,s){const o=s.transform;if(o instanceof rx)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof m0)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof nx)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof jE)return{fieldPath:s.field.canonicalString(),increment:o.Ae};throw Pt(20930,{transform:s.transform})}(0,n))),t.precondition.isNone||(r.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:rwe(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Pt(27497)}(e,t.precondition)),r}function swe(e,t){return e&&e.length>0?(Sr(t!==void 0,14353),e.map(r=>function(i,a){let s=i.updateTime?Zl(i.updateTime):Zl(a);return s.isEqual(Ft.min())&&(s=Zl(a)),new Vbe(s,i.transformResults||[])}(r,t))):[]}function owe(e,t){return{documents:[eX(e,t.path)]}}function lwe(e,t){const r={structuredQuery:{}},n=t.path;let i;t.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=eX(e,i);const a=function(u){if(u.length!==0)return nX(hl.create(u,"and"))}(t.filters);a&&(r.structuredQuery.where=a);const s=function(u){if(u.length!==0)return u.map(d=>function(h){return{field:Vm(h.field),direction:dwe(h.dir)}}(d))}(t.orderBy);s&&(r.structuredQuery.orderBy=s);const o=sR(e,t.limit);return o!==null&&(r.structuredQuery.limit=o),t.startAt&&(r.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(t.startAt)),t.endAt&&(r.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(t.endAt)),{ft:r,parent:i}}function cwe(e){let t=nwe(e.parent);const r=e.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){Sr(n===1,65062);const d=r.from[0];d.allDescendants?i=d.collectionId:t=t.child(d.collectionId)}let a=[];r.where&&(a=function(f){const h=rX(f);return h instanceof hl&&RY(h)?h.getFilters():[h]}(r.where));let s=[];r.orderBy&&(s=function(f){return f.map(h=>function(g){return new tx(Um(g.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(h))}(r.orderBy));let o=null;r.limit&&(o=function(f){let h;return h=typeof f=="object"?f.value:f,tT(h)?null:h}(r.limit));let c=null;r.startAt&&(c=function(f){const h=!!f.before,m=f.values||[];return new CE(m,h)}(r.startAt));let u=null;return r.endAt&&(u=function(f){const h=!f.before,m=f.values||[];return new CE(m,h)}(r.endAt)),Cbe(t,i,s,a,o,"F",c,u)}function uwe(e,t){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Pt(28987,{purpose:i})}}(t.purpose);return r==null?null:{"goog-listen-tags":r}}function rX(e){return e.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=Um(r.unaryFilter.field);return Qn.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=Um(r.unaryFilter.field);return Qn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Um(r.unaryFilter.field);return Qn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Um(r.unaryFilter.field);return Qn.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Pt(61313);default:return Pt(60726)}}(e):e.fieldFilter!==void 0?function(r){return Qn.create(Um(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Pt(58110);default:return Pt(50506)}}(r.fieldFilter.op),r.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(r){return hl.create(r.compositeFilter.filters.map(n=>rX(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Pt(1026)}}(r.compositeFilter.op))}(e):Pt(30097,{filter:e})}function dwe(e){return Zbe[e]}function fwe(e){return Jbe[e]}function hwe(e){return ewe[e]}function Vm(e){return{fieldPath:e.canonicalString()}}function Um(e){return Li.fromServerFormat(e.fieldPath)}function nX(e){return e instanceof Qn?function(r){if(r.op==="=="){if(H6(r.value))return{unaryFilter:{field:Vm(r.field),op:"IS_NAN"}};if(W6(r.value))return{unaryFilter:{field:Vm(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(H6(r.value))return{unaryFilter:{field:Vm(r.field),op:"IS_NOT_NAN"}};if(W6(r.value))return{unaryFilter:{field:Vm(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vm(r.field),op:fwe(r.op),value:r.value}}}(e):e instanceof hl?function(r){const n=r.getFilters().map(i=>nX(i));return n.length===1?n[0]:{compositeFilter:{op:hwe(r.op),filters:n}}}(e):Pt(54877,{filter:e})}function mwe(e){const t=[];return e.fields.forEach(r=>t.push(r.canonicalString())),{fieldPaths:t}}function iX(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(t,r,n,i,a=Ft.min(),s=Ft.min(),o=Hi.EMPTY_BYTE_STRING,c=null){this.target=t,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=c}withSequenceNumber(t){return new gd(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,r){return new gd(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new gd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new gd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pwe{constructor(t){this.yt=t}}function gwe(e){const t=cwe({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?aR(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vwe{constructor(){this.Cn=new ywe}addToCollectionParentIndex(t,r){return this.Cn.add(r),Ie.resolve()}getCollectionParents(t,r){return Ie.resolve(this.Cn.getEntries(r))}addFieldIndex(t,r){return Ie.resolve()}deleteFieldIndex(t,r){return Ie.resolve()}deleteAllFieldIndexes(t){return Ie.resolve()}createTargetIndexes(t,r){return Ie.resolve()}getDocumentsMatchingTarget(t,r){return Ie.resolve(null)}getIndexType(t,r){return Ie.resolve(0)}getFieldIndexes(t,r){return Ie.resolve([])}getNextCollectionGroupToUpdate(t){return Ie.resolve(null)}getMinOffset(t,r){return Ie.resolve(zd.min())}getMinOffsetFromCollectionGroup(t,r){return Ie.resolve(zd.min())}updateCollectionGroup(t,r,n){return Ie.resolve()}updateIndexEntries(t,r){return Ie.resolve()}}class ywe{constructor(){this.index={}}add(t){const r=t.lastSegment(),n=t.popLast(),i=this.index[r]||new pi(zr.comparator),a=!i.has(n);return this.index[r]=i.add(n),a}has(t){const r=t.lastSegment(),n=t.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(t){return(this.index[t]||new pi(zr.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a$={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},aX=41943040;class Wa{static withCacheSize(t){return new Wa(t,Wa.DEFAULT_COLLECTION_PERCENTILE,Wa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,r,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wa.DEFAULT_COLLECTION_PERCENTILE=10,Wa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Wa.DEFAULT=new Wa(aX,Wa.DEFAULT_COLLECTION_PERCENTILE,Wa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Wa.DISABLED=new Wa(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new p0(0)}static cr(){return new p0(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s$="LruGarbageCollector",xwe=1048576;function o$([e,t],[r,n]){const i=rr(e,r);return i===0?rr(t,n):i}class bwe{constructor(t){this.Ir=t,this.buffer=new pi(o$),this.Er=0}dr(){return++this.Er}Ar(t){const r=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();o$(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class wwe{constructor(t,r,n){this.garbageCollector=t,this.asyncQueue=r,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){dt(s$,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){dg(r)?dt(s$,"Ignoring IndexedDB error during garbage collection: ",r):await ug(r)}await this.Vr(3e5)})}}class _we{constructor(t,r){this.mr=t,this.params=r}calculateTargetCount(t,r){return this.mr.gr(t).next(n=>Math.floor(r/100*n))}nthSequenceNumber(t,r){if(r===0)return Ie.resolve(eT.ce);const n=new bwe(r);return this.mr.forEachTarget(t,i=>n.Ar(i.sequenceNumber)).next(()=>this.mr.pr(t,i=>n.Ar(i))).next(()=>n.maxValue)}removeTargets(t,r,n){return this.mr.removeTargets(t,r,n)}removeOrphanedDocuments(t,r){return this.mr.removeOrphanedDocuments(t,r)}collect(t,r){return this.params.cacheSizeCollectionThreshold===-1?(dt("LruGarbageCollector","Garbage collection skipped; disabled"),Ie.resolve(a$)):this.getCacheSize(t).next(n=>n<this.params.cacheSizeCollectionThreshold?(dt("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),a$):this.yr(t,r))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,r){let n,i,a,s,o,c,u;const d=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(dt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,s=Date.now(),this.nthSequenceNumber(t,i))).next(f=>(n=f,o=Date.now(),this.removeTargets(t,n,r))).next(f=>(a=f,c=Date.now(),this.removeOrphanedDocuments(t,n))).next(f=>(u=Date.now(),$m()<=tr.DEBUG&&dt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-d}ms
	Determined least recently used ${i} in `+(o-s)+`ms
	Removed ${a} targets in `+(c-o)+`ms
	Removed ${f} documents in `+(u-c)+`ms
Total Duration: ${u-d}ms`),Ie.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:f})))}}function Ewe(e,t){return new _we(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Swe{constructor(){this.changes=new sm(t=>t.toString(),(t,r)=>t.isEqual(r)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,r){this.assertNotApplied(),this.changes.set(t,oa.newInvalidDocument(t).setReadTime(r))}getEntry(t,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?Ie.resolve(n):this.getFromCache(t,r)}getEntries(t,r){return this.getAllFromCache(t,r)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Twe{constructor(t,r){this.overlayedDocument=t,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nwe{constructor(t,r,n,i){this.remoteDocumentCache=t,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(t,r){let n=null;return this.documentOverlayCache.getOverlay(t,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(t,r))).next(i=>(n!==null&&ry(n.mutation,i,Ts.empty(),Ot.now()),i))}getDocuments(t,r){return this.remoteDocumentCache.getEntries(t,r).next(n=>this.getLocalViewOfDocuments(t,n,nr()).next(()=>n))}getLocalViewOfDocuments(t,r,n=nr()){const i=Qf();return this.populateOverlays(t,i,r).next(()=>this.computeViews(t,r,i,n).next(a=>{let s=Cv();return a.forEach((o,c)=>{s=s.insert(o,c.overlayedDocument)}),s}))}getOverlayedDocuments(t,r){const n=Qf();return this.populateOverlays(t,n,r).next(()=>this.computeViews(t,r,n,nr()))}populateOverlays(t,r,n){const i=[];return n.forEach(a=>{r.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(t,i).next(a=>{a.forEach((s,o)=>{r.set(s,o)})})}computeViews(t,r,n,i){let a=yu();const s=ty(),o=function(){return ty()}();return r.forEach((c,u)=>{const d=n.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof mf)?a=a.insert(u.key,u):d!==void 0?(s.set(u.key,d.mutation.getFieldMask()),ry(d.mutation,u,d.mutation.getFieldMask(),Ot.now())):s.set(u.key,Ts.empty())}),this.recalculateAndSaveOverlays(t,a).next(c=>(c.forEach((u,d)=>s.set(u,d)),r.forEach((u,d)=>o.set(u,new Twe(d,s.get(u)??null))),o))}recalculateAndSaveOverlays(t,r){const n=ty();let i=new Nn((s,o)=>s-o),a=nr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,r).next(s=>{for(const o of s)o.keys().forEach(c=>{const u=r.get(c);if(u===null)return;let d=n.get(c)||Ts.empty();d=o.applyToLocalView(u,d),n.set(c,d);const f=(i.get(o.batchId)||nr()).add(c);i=i.insert(o.batchId,f)})}).next(()=>{const s=[],o=i.getReverseIterator();for(;o.hasNext();){const c=o.getNext(),u=c.key,d=c.value,f=BY();d.forEach(h=>{if(!a.has(h)){const m=GY(r.get(h),n.get(h));m!==null&&f.set(h,m),a=a.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(t,u,f))}return Ie.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(t,r){return this.remoteDocumentCache.getEntries(t,r).next(n=>this.recalculateAndSaveOverlays(t,n))}getDocumentsMatchingQuery(t,r,n,i){return function(s){return Et.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(t,r.path):DY(r)?this.getDocumentsMatchingCollectionGroupQuery(t,r,n,i):this.getDocumentsMatchingCollectionQuery(t,r,n,i)}getNextDocuments(t,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,r,n,i).next(a=>{const s=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,r,n.largestBatchId,i-a.size):Ie.resolve(Qf());let o=Qy,c=a;return s.next(u=>Ie.forEach(u,(d,f)=>(o<f.largestBatchId&&(o=f.largestBatchId),a.get(d)?Ie.resolve():this.remoteDocumentCache.getEntry(t,d).next(h=>{c=c.insert(d,h)}))).next(()=>this.populateOverlays(t,u,a)).next(()=>this.computeViews(t,c,u,nr())).next(d=>({batchId:o,changes:$Y(d)})))})}getDocumentsMatchingDocumentQuery(t,r){return this.getDocument(t,new Et(r)).next(n=>{let i=Cv();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(t,r,n,i){const a=r.collectionGroup;let s=Cv();return this.indexManager.getCollectionParents(t,a).next(o=>Ie.forEach(o,c=>{const u=function(f,h){return new fg(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(r,c.child(a));return this.getDocumentsMatchingCollectionQuery(t,u,n,i).next(d=>{d.forEach((f,h)=>{s=s.insert(f,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,r,n,i){let a;return this.documentOverlayCache.getOverlaysForCollection(t,r.path,n.largestBatchId).next(s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,r,n,a,i))).next(s=>{a.forEach((c,u)=>{const d=u.getKey();s.get(d)===null&&(s=s.insert(d,oa.newInvalidDocument(d)))});let o=Cv();return s.forEach((c,u)=>{const d=a.get(c);d!==void 0&&ry(d.mutation,u,Ts.empty(),Ot.now()),aT(r,u)&&(o=o.insert(c,u))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Awe{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,r){return Ie.resolve(this.Lr.get(r))}saveBundleMetadata(t,r){return this.Lr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:Zl(i.createTime)}}(r)),Ie.resolve()}getNamedQuery(t,r){return Ie.resolve(this.kr.get(r))}saveNamedQuery(t,r){return this.kr.set(r.name,function(i){return{name:i.name,query:gwe(i.bundledQuery),readTime:Zl(i.readTime)}}(r)),Ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cwe{constructor(){this.overlays=new Nn(Et.comparator),this.qr=new Map}getOverlay(t,r){return Ie.resolve(this.overlays.get(r))}getOverlays(t,r){const n=Qf();return Ie.forEach(r,i=>this.getOverlay(t,i).next(a=>{a!==null&&n.set(i,a)})).next(()=>n)}saveOverlays(t,r,n){return n.forEach((i,a)=>{this.St(t,r,a)}),Ie.resolve()}removeOverlaysForBatchId(t,r,n){const i=this.qr.get(n);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.qr.delete(n)),Ie.resolve()}getOverlaysForCollection(t,r,n){const i=Qf(),a=r.length+1,s=new Et(r.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const c=o.getNext().value,u=c.getKey();if(!r.isPrefixOf(u.path))break;u.path.length===a&&c.largestBatchId>n&&i.set(c.getKey(),c)}return Ie.resolve(i)}getOverlaysForCollectionGroup(t,r,n,i){let a=new Nn((u,d)=>u-d);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===r&&u.largestBatchId>n){let d=a.get(u.largestBatchId);d===null&&(d=Qf(),a=a.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const o=Qf(),c=a.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>o.set(u,d)),!(o.size()>=i)););return Ie.resolve(o)}St(t,r,n){const i=this.overlays.get(n.key);if(i!==null){const s=this.qr.get(i.largestBatchId).delete(n.key);this.qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(n.key,new qbe(r,n));let a=this.qr.get(r);a===void 0&&(a=nr(),this.qr.set(r,a)),this.qr.set(r,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jwe{constructor(){this.sessionToken=Hi.EMPTY_BYTE_STRING}getSessionToken(t){return Ie.resolve(this.sessionToken)}setSessionToken(t,r){return this.sessionToken=r,Ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(){this.Qr=new pi(vi.$r),this.Ur=new pi(vi.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,r){const n=new vi(t,r);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(t,r){t.forEach(n=>this.addReference(n,r))}removeReference(t,r){this.Gr(new vi(t,r))}zr(t,r){t.forEach(n=>this.removeReference(n,r))}jr(t){const r=new Et(new zr([])),n=new vi(r,t),i=new vi(r,t+1),a=[];return this.Ur.forEachInRange([n,i],s=>{this.Gr(s),a.push(s.key)}),a}Jr(){this.Qr.forEach(t=>this.Gr(t))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const r=new Et(new zr([])),n=new vi(r,t),i=new vi(r,t+1);let a=nr();return this.Ur.forEachInRange([n,i],s=>{a=a.add(s.key)}),a}containsKey(t){const r=new vi(t,0),n=this.Qr.firstAfterOrEqual(r);return n!==null&&t.isEqual(n.key)}}class vi{constructor(t,r){this.key=t,this.Yr=r}static $r(t,r){return Et.comparator(t.key,r.key)||rr(t.Yr,r.Yr)}static Kr(t,r){return rr(t.Yr,r.Yr)||Et.comparator(t.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pwe{constructor(t,r){this.indexManager=t,this.referenceDelegate=r,this.mutationQueue=[],this.tr=1,this.Zr=new pi(vi.$r)}checkEmpty(t){return Ie.resolve(this.mutationQueue.length===0)}addMutationBatch(t,r,n,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Hbe(a,r,n,i);this.mutationQueue.push(s);for(const o of i)this.Zr=this.Zr.add(new vi(o.key,a)),this.indexManager.addToCollectionParentIndex(t,o.key.path.popLast());return Ie.resolve(s)}lookupMutationBatch(t,r){return Ie.resolve(this.Xr(r))}getNextMutationBatchAfterBatchId(t,r){const n=r+1,i=this.ei(n),a=i<0?0:i;return Ie.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Ie.resolve(this.mutationQueue.length===0?gD:this.tr-1)}getAllMutationBatches(t){return Ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,r){const n=new vi(r,0),i=new vi(r,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([n,i],s=>{const o=this.Xr(s.Yr);a.push(o)}),Ie.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(t,r){let n=new pi(rr);return r.forEach(i=>{const a=new vi(i,0),s=new vi(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,s],o=>{n=n.add(o.Yr)})}),Ie.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(t,r){const n=r.path,i=n.length+1;let a=n;Et.isDocumentKey(a)||(a=a.child(""));const s=new vi(new Et(a),0);let o=new pi(rr);return this.Zr.forEachWhile(c=>{const u=c.key.path;return!!n.isPrefixOf(u)&&(u.length===i&&(o=o.add(c.Yr)),!0)},s),Ie.resolve(this.ti(o))}ti(t){const r=[];return t.forEach(n=>{const i=this.Xr(n);i!==null&&r.push(i)}),r}removeMutationBatch(t,r){Sr(this.ni(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return Ie.forEach(r.mutations,i=>{const a=new vi(i.key,r.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.Zr=n})}ir(t){}containsKey(t,r){const n=new vi(r,0),i=this.Zr.firstAfterOrEqual(n);return Ie.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,Ie.resolve()}ni(t,r){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const r=this.ei(t);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rwe{constructor(t){this.ri=t,this.docs=function(){return new Nn(Et.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,r){const n=r.key,i=this.docs.get(n),a=i?i.size:0,s=this.ri(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){const r=this.docs.get(t);r&&(this.docs=this.docs.remove(t),this.size-=r.size)}getEntry(t,r){const n=this.docs.get(r);return Ie.resolve(n?n.document.mutableCopy():oa.newInvalidDocument(r))}getEntries(t,r){let n=yu();return r.forEach(i=>{const a=this.docs.get(i);n=n.insert(i,a?a.document.mutableCopy():oa.newInvalidDocument(i))}),Ie.resolve(n)}getDocumentsMatchingQuery(t,r,n,i){let a=yu();const s=r.path,o=new Et(s.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(o);for(;c.hasNext();){const{key:u,value:{document:d}}=c.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||sbe(abe(d),n)<=0||(i.has(d.key)||aT(r,d))&&(a=a.insert(d.key,d.mutableCopy()))}return Ie.resolve(a)}getAllFromCollectionGroup(t,r,n,i){Pt(9500)}ii(t,r){return Ie.forEach(this.docs,n=>r(n))}newChangeBuffer(t){return new kwe(this)}getSize(t){return Ie.resolve(this.size)}}class kwe extends Swe{constructor(t){super(),this.Nr=t}applyChanges(t){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.Nr.addEntry(t,i)):this.Nr.removeEntry(n)}),Ie.waitFor(r)}getFromCache(t,r){return this.Nr.getEntry(t,r)}getAllFromCache(t,r){return this.Nr.getEntries(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iwe{constructor(t){this.persistence=t,this.si=new sm(r=>xD(r),bD),this.lastRemoteSnapshotVersion=Ft.min(),this.highestTargetId=0,this.oi=0,this._i=new TD,this.targetCount=0,this.ai=p0.ur()}forEachTarget(t,r){return this.si.forEach((n,i)=>r(i)),Ie.resolve()}getLastRemoteSnapshotVersion(t){return Ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Ie.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),Ie.resolve(this.highestTargetId)}setTargetsMetadata(t,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.oi&&(this.oi=r),Ie.resolve()}Pr(t){this.si.set(t.target,t);const r=t.targetId;r>this.highestTargetId&&(this.ai=new p0(r),this.highestTargetId=r),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,r){return this.Pr(r),this.targetCount+=1,Ie.resolve()}updateTargetData(t,r){return this.Pr(r),Ie.resolve()}removeTargetData(t,r){return this.si.delete(r.target),this._i.jr(r.targetId),this.targetCount-=1,Ie.resolve()}removeTargets(t,r,n){let i=0;const a=[];return this.si.forEach((s,o)=>{o.sequenceNumber<=r&&n.get(o.targetId)===null&&(this.si.delete(s),a.push(this.removeMatchingKeysForTargetId(t,o.targetId)),i++)}),Ie.waitFor(a).next(()=>i)}getTargetCount(t){return Ie.resolve(this.targetCount)}getTargetData(t,r){const n=this.si.get(r)||null;return Ie.resolve(n)}addMatchingKeys(t,r,n){return this._i.Wr(r,n),Ie.resolve()}removeMatchingKeys(t,r,n){this._i.zr(r,n);const i=this.persistence.referenceDelegate,a=[];return i&&r.forEach(s=>{a.push(i.markPotentiallyOrphaned(t,s))}),Ie.waitFor(a)}removeMatchingKeysForTargetId(t,r){return this._i.jr(r),Ie.resolve()}getMatchingKeysForTargetId(t,r){const n=this._i.Hr(r);return Ie.resolve(n)}containsKey(t,r){return Ie.resolve(this._i.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sX{constructor(t,r){this.ui={},this.overlays={},this.ci=new eT(0),this.li=!1,this.li=!0,this.hi=new jwe,this.referenceDelegate=t(this),this.Pi=new Iwe(this),this.indexManager=new vwe,this.remoteDocumentCache=function(i){return new Rwe(i)}(n=>this.referenceDelegate.Ti(n)),this.serializer=new pwe(r),this.Ii=new Awe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let r=this.overlays[t.toKey()];return r||(r=new Cwe,this.overlays[t.toKey()]=r),r}getMutationQueue(t,r){let n=this.ui[t.toKey()];return n||(n=new Pwe(r,this.referenceDelegate),this.ui[t.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,r,n){dt("MemoryPersistence","Starting transaction:",t);const i=new Owe(this.ci.next());return this.referenceDelegate.Ei(),n(i).next(a=>this.referenceDelegate.di(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ai(t,r){return Ie.or(Object.values(this.ui).map(n=>()=>n.containsKey(t,r)))}}class Owe extends lbe{constructor(t){super(),this.currentSequenceNumber=t}}class ND{constructor(t){this.persistence=t,this.Ri=new TD,this.Vi=null}static mi(t){return new ND(t)}get fi(){if(this.Vi)return this.Vi;throw Pt(60996)}addReference(t,r,n){return this.Ri.addReference(n,r),this.fi.delete(n.toString()),Ie.resolve()}removeReference(t,r,n){return this.Ri.removeReference(n,r),this.fi.add(n.toString()),Ie.resolve()}markPotentiallyOrphaned(t,r){return this.fi.add(r.toString()),Ie.resolve()}removeTarget(t,r){this.Ri.jr(r.targetId).forEach(i=>this.fi.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,r.targetId).next(i=>{i.forEach(a=>this.fi.add(a.toString()))}).next(()=>n.removeTargetData(t,r))}Ei(){this.Vi=new Set}di(t){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ie.forEach(this.fi,n=>{const i=Et.fromPath(n);return this.gi(t,i).next(a=>{a||r.removeEntry(i,Ft.min())})}).next(()=>(this.Vi=null,r.apply(t)))}updateLimboDocument(t,r){return this.gi(t,r).next(n=>{n?this.fi.delete(r.toString()):this.fi.add(r.toString())})}Ti(t){return 0}gi(t,r){return Ie.or([()=>Ie.resolve(this.Ri.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(t,r),()=>this.persistence.Ai(t,r)])}}class RE{constructor(t,r){this.persistence=t,this.pi=new sm(n=>dbe(n.path),(n,i)=>n.isEqual(i)),this.garbageCollector=Ewe(this,r)}static mi(t,r){return new RE(t,r)}Ei(){}di(t){return Ie.resolve()}forEachTarget(t,r){return this.persistence.getTargetCache().forEachTarget(t,r)}gr(t){const r=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next(n=>r.next(i=>n+i))}wr(t){let r=0;return this.pr(t,n=>{r++}).next(()=>r)}pr(t,r){return Ie.forEach(this.pi,(n,i)=>this.br(t,n,i).next(a=>a?Ie.resolve():r(i)))}removeTargets(t,r,n){return this.persistence.getTargetCache().removeTargets(t,r,n)}removeOrphanedDocuments(t,r){let n=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(t,s=>this.br(t,s,r).next(o=>{o||(n++,a.removeEntry(s,Ft.min()))})).next(()=>a.apply(t)).next(()=>n)}markPotentiallyOrphaned(t,r){return this.pi.set(r,t.currentSequenceNumber),Ie.resolve()}removeTarget(t,r){const n=r.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,n)}addReference(t,r,n){return this.pi.set(n,t.currentSequenceNumber),Ie.resolve()}removeReference(t,r,n){return this.pi.set(n,t.currentSequenceNumber),Ie.resolve()}updateLimboDocument(t,r){return this.pi.set(r,t.currentSequenceNumber),Ie.resolve()}Ti(t){let r=t.key.toString().length;return t.isFoundDocument()&&(r+=v_(t.data.value)),r}br(t,r,n){return Ie.or([()=>this.persistence.Ai(t,r),()=>this.persistence.getTargetCache().containsKey(t,r),()=>{const i=this.pi.get(r);return Ie.resolve(i!==void 0&&i>n)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(t,r,n,i){this.targetId=t,this.fromCache=r,this.Es=n,this.ds=i}static As(t,r){let n=nr(),i=nr();for(const a of r.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new AD(t,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dwe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mwe{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return Ave()?8:cbe(ma())>0?6:4}()}initialize(t,r){this.ps=t,this.indexManager=r,this.Rs=!0}getDocumentsMatchingQuery(t,r,n,i){const a={result:null};return this.ys(t,r).next(s=>{a.result=s}).next(()=>{if(!a.result)return this.ws(t,r,i,n).next(s=>{a.result=s})}).next(()=>{if(a.result)return;const s=new Dwe;return this.Ss(t,r,s).next(o=>{if(a.result=o,this.Vs)return this.bs(t,r,s,o.size)})}).next(()=>a.result)}bs(t,r,n,i){return n.documentReadCount<this.fs?($m()<=tr.DEBUG&&dt("QueryEngine","SDK will not create cache indexes for query:",Bm(r),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Ie.resolve()):($m()<=tr.DEBUG&&dt("QueryEngine","Query:",Bm(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.gs*i?($m()<=tr.DEBUG&&dt("QueryEngine","The SDK decides to create cache indexes for query:",Bm(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ql(r))):Ie.resolve())}ys(t,r){if(Y6(r))return Ie.resolve(null);let n=Ql(r);return this.indexManager.getIndexType(t,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=aR(r,null,"F"),n=Ql(r)),this.indexManager.getDocumentsMatchingTarget(t,n).next(a=>{const s=nr(...a);return this.ps.getDocuments(t,s).next(o=>this.indexManager.getMinOffset(t,n).next(c=>{const u=this.Ds(r,o);return this.Cs(r,u,s,c.readTime)?this.ys(t,aR(r,null,"F")):this.vs(t,u,r,c)}))})))}ws(t,r,n,i){return Y6(r)||i.isEqual(Ft.min())?Ie.resolve(null):this.ps.getDocuments(t,n).next(a=>{const s=this.Ds(r,a);return this.Cs(r,s,n,i)?Ie.resolve(null):($m()<=tr.DEBUG&&dt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Bm(r)),this.vs(t,s,r,ibe(i,Qy)).next(o=>o))})}Ds(t,r){let n=new pi(LY(t));return r.forEach((i,a)=>{aT(t,a)&&(n=n.add(a))}),n}Cs(t,r,n,i){if(t.limit===null)return!1;if(n.size!==r.size)return!0;const a=t.limitType==="F"?r.last():r.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(t,r,n){return $m()<=tr.DEBUG&&dt("QueryEngine","Using full collection scan to execute query:",Bm(r)),this.ps.getDocumentsMatchingQuery(t,r,zd.min(),n)}vs(t,r,n,i){return this.ps.getDocumentsMatchingQuery(t,n,i).next(a=>(r.forEach(s=>{a=a.insert(s.key,s)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CD="LocalStore",Lwe=3e8;class Fwe{constructor(t,r,n,i){this.persistence=t,this.Fs=r,this.serializer=i,this.Ms=new Nn(rr),this.xs=new sm(a=>xD(a),bD),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(n)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Nwe(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>t.collect(r,this.Ms))}}function $we(e,t,r,n){return new Fwe(e,t,r,n)}async function oX(e,t){const r=zt(e);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(a=>(i=a,r.Bs(t),r.mutationQueue.getAllMutationBatches(n))).next(a=>{const s=[],o=[];let c=nr();for(const u of i){s.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}for(const u of a){o.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}return r.localDocuments.getDocuments(n,c).next(u=>({Ls:u,removedBatchIds:s,addedBatchIds:o}))})})}function Bwe(e,t){const r=zt(e);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=t.batch.keys(),a=r.Ns.newChangeBuffer({trackRemovals:!0});return function(o,c,u,d){const f=u.batch,h=f.keys();let m=Ie.resolve();return h.forEach(g=>{m=m.next(()=>d.getEntry(c,g)).next(p=>{const v=u.docVersions.get(g);Sr(v!==null,48541),p.version.compareTo(v)<0&&(f.applyToRemoteDocument(p,u),p.isValidDocument()&&(p.setReadTime(u.commitVersion),d.addEntry(p)))})}),m.next(()=>o.mutationQueue.removeMutationBatch(c,f))}(r,n,t,a).next(()=>a.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,t.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(o){let c=nr();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(c=c.add(o.batch.mutations[u].key));return c}(t))).next(()=>r.localDocuments.getDocuments(n,i))})}function lX(e){const t=zt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",r=>t.Pi.getLastRemoteSnapshotVersion(r))}function Vwe(e,t){const r=zt(e),n=t.snapshotVersion;let i=r.Ms;return r.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const s=r.Ns.newChangeBuffer({trackRemovals:!0});i=r.Ms;const o=[];t.targetChanges.forEach((d,f)=>{const h=i.get(f);if(!h)return;o.push(r.Pi.removeMatchingKeys(a,d.removedDocuments,f).next(()=>r.Pi.addMatchingKeys(a,d.addedDocuments,f)));let m=h.withSequenceNumber(a.currentSequenceNumber);t.targetMismatches.get(f)!==null?m=m.withResumeToken(Hi.EMPTY_BYTE_STRING,Ft.min()).withLastLimboFreeSnapshotVersion(Ft.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,n)),i=i.insert(f,m),function(p,v,y){return p.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=Lwe?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(h,m,d)&&o.push(r.Pi.updateTargetData(a,m))});let c=yu(),u=nr();if(t.documentUpdates.forEach(d=>{t.resolvedLimboDocuments.has(d)&&o.push(r.persistence.referenceDelegate.updateLimboDocument(a,d))}),o.push(Uwe(a,s,t.documentUpdates).next(d=>{c=d.ks,u=d.qs})),!n.isEqual(Ft.min())){const d=r.Pi.getLastRemoteSnapshotVersion(a).next(f=>r.Pi.setTargetsMetadata(a,a.currentSequenceNumber,n));o.push(d)}return Ie.waitFor(o).next(()=>s.apply(a)).next(()=>r.localDocuments.getLocalViewOfDocuments(a,c,u)).next(()=>c)}).then(a=>(r.Ms=i,a))}function Uwe(e,t,r){let n=nr(),i=nr();return r.forEach(a=>n=n.add(a)),t.getEntries(e,n).next(a=>{let s=yu();return r.forEach((o,c)=>{const u=a.get(o);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(o)),c.isNoDocument()&&c.version.isEqual(Ft.min())?(t.removeEntry(o,c.readTime),s=s.insert(o,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(t.addEntry(c),s=s.insert(o,c)):dt(CD,"Ignoring outdated watch update for ",o,". Current version:",u.version," Watch version:",c.version)}),{ks:s,qs:i}})}function zwe(e,t){const r=zt(e);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(t===void 0&&(t=gD),r.mutationQueue.getNextMutationBatchAfterBatchId(n,t)))}function Wwe(e,t){const r=zt(e);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.Pi.getTargetData(n,t).next(a=>a?(i=a,Ie.resolve(i)):r.Pi.allocateTargetId(n).next(s=>(i=new gd(t,s,"TargetPurposeListen",n.currentSequenceNumber),r.Pi.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.Ms.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.Ms=r.Ms.insert(n.targetId,n),r.xs.set(t,n.targetId)),n})}async function uR(e,t,r){const n=zt(e),i=n.Ms.get(t),a=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",a,s=>n.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!dg(s))throw s;dt(CD,`Failed to update sequence numbers for target ${t}: ${s}`)}n.Ms=n.Ms.remove(t),n.xs.delete(i.target)}function l$(e,t,r){const n=zt(e);let i=Ft.min(),a=nr();return n.persistence.runTransaction("Execute query","readwrite",s=>function(c,u,d){const f=zt(c),h=f.xs.get(d);return h!==void 0?Ie.resolve(f.Ms.get(h)):f.Pi.getTargetData(u,d)}(n,s,Ql(t)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(s,o.targetId).next(c=>{a=c})}).next(()=>n.Fs.getDocumentsMatchingQuery(s,t,r?i:Ft.min(),r?a:nr())).next(o=>(Hwe(n,Pbe(t),o),{documents:o,Qs:a})))}function Hwe(e,t,r){let n=e.Os.get(t)||Ft.min();r.forEach((i,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)}),e.Os.set(t,n)}class c${constructor(){this.activeTargetIds=Mbe()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class qwe{constructor(){this.Mo=new c$,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,r,n){}addLocalQueryTarget(t,r=!0){return r&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,r,n){this.xo[t]=r}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new c$,Promise.resolve()}handleUserChange(t,r,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gwe{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u$="ConnectivityMonitor";class d${constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){dt(u$,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){dt(u$,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let aw=null;function dR(){return aw===null?aw=function(){return 268435456+Math.round(2147483648*Math.random())}():aw++,"0x"+aw.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA="RestConnection",Kwe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ywe{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=r+"://"+t.host,this.Ko=`projects/${n}/databases/${i}`,this.Wo=this.databaseId.database===NE?`project_id=${n}`:`project_id=${n}&database_id=${i}`}Go(t,r,n,i,a){const s=dR(),o=this.zo(t,r.toUriEncodedString());dt(XA,`Sending RPC '${t}' ${s}:`,o,n);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,i,a);const{host:u}=new URL(o),d=ff(u);return this.Jo(t,o,c,n,d).then(f=>(dt(XA,`Received RPC '${t}' ${s}: `,f),f),f=>{throw u0(XA,`RPC '${t}' ${s} failed with error: `,f,"url: ",o,"request:",n),f})}Ho(t,r,n,i,a,s){return this.Go(t,r,n,i,a)}jo(t,r,n){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+cg}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,a)=>t[a]=i),n&&n.headers.forEach((i,a)=>t[a]=i)}zo(t,r){const n=Kwe[t];return`${this.Uo}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xwe{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra="WebChannelConnection";class Qwe extends Ywe{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,r,n,i,a){const s=dR();return new Promise((o,c)=>{const u=new uY;u.setWithCredentials(!0),u.listenOnce(dY.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case g_.NO_ERROR:const f=u.getResponseJson();dt(ra,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(f)),o(f);break;case g_.TIMEOUT:dt(ra,`RPC '${t}' ${s} timed out`),c(new it(je.DEADLINE_EXCEEDED,"Request time out"));break;case g_.HTTP_ERROR:const h=u.getStatus();if(dt(ra,`RPC '${t}' ${s} failed with status:`,h,"response text:",u.getResponseText()),h>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const g=m==null?void 0:m.error;if(g&&g.status&&g.message){const p=function(y){const x=y.toLowerCase().replace(/_/g,"-");return Object.values(je).indexOf(x)>=0?x:je.UNKNOWN}(g.status);c(new it(p,g.message))}else c(new it(je.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new it(je.UNAVAILABLE,"Connection failed."));break;default:Pt(9055,{l_:t,streamId:s,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{dt(ra,`RPC '${t}' ${s} completed.`)}});const d=JSON.stringify(i);dt(ra,`RPC '${t}' ${s} sending request:`,i),u.send(r,"POST",d,n,15)})}T_(t,r,n){const i=dR(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=mY(),o=hY(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,r,n),c.encodeInitMessageHeaders=!0;const d=a.join("");dt(ra,`Creating RPC '${t}' stream ${i}: ${d}`,c);const f=s.createWebChannel(d,c);this.I_(f);let h=!1,m=!1;const g=new Xwe({Yo:v=>{m?dt(ra,`Not sending because RPC '${t}' stream ${i} is closed:`,v):(h||(dt(ra,`Opening RPC '${t}' stream ${i} transport.`),f.open(),h=!0),dt(ra,`RPC '${t}' stream ${i} sending:`,v),f.send(v))},Zo:()=>f.close()}),p=(v,y,x)=>{v.listen(y,w=>{try{x(w)}catch(N){setTimeout(()=>{throw N},0)}})};return p(f,Av.EventType.OPEN,()=>{m||(dt(ra,`RPC '${t}' stream ${i} transport opened.`),g.o_())}),p(f,Av.EventType.CLOSE,()=>{m||(m=!0,dt(ra,`RPC '${t}' stream ${i} transport closed`),g.a_(),this.E_(f))}),p(f,Av.EventType.ERROR,v=>{m||(m=!0,u0(ra,`RPC '${t}' stream ${i} transport errored. Name:`,v.name,"Message:",v.message),g.a_(new it(je.UNAVAILABLE,"The operation could not be completed")))}),p(f,Av.EventType.MESSAGE,v=>{var y;if(!m){const x=v.data[0];Sr(!!x,16349);const w=x,N=(w==null?void 0:w.error)||((y=w[0])==null?void 0:y.error);if(N){dt(ra,`RPC '${t}' stream ${i} received error:`,N);const E=N.status;let T=function(C){const j=Kn[C];if(j!==void 0)return YY(j)}(E),S=N.message;T===void 0&&(T=je.INTERNAL,S="Unknown error status: "+E+" with message "+N.message),m=!0,g.a_(new it(T,S)),f.close()}else dt(ra,`RPC '${t}' stream ${i} received:`,x),g.u_(x)}}),p(o,fY.STAT_EVENT,v=>{v.stat===ZP.PROXY?dt(ra,`RPC '${t}' stream ${i} detected buffering proxy`):v.stat===ZP.NOPROXY&&dt(ra,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.__()},0),g}terminate(){this.c_.forEach(t=>t.close()),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter(r=>r===t)}}function QA(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uT(e){return new twe(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cX{constructor(t,r,n=1e3,i=1.5,a=6e4){this.Mi=t,this.timerId=r,this.d_=n,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const r=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),i=Math.max(0,r-n);i>0&&dt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),t())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f$="PersistentStream";class uX{constructor(t,r,n,i,a,s,o,c){this.Mi=t,this.S_=n,this.b_=i,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new cX(t,r)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,r){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():r&&r.code===je.RESOURCE_EXHAUSTED?(vu(r.toString()),vu("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):r&&r.code===je.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(r)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),r=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.D_===r&&this.G_(n,i)},n=>{t(()=>{const i=new it(je.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(i)})})}G_(t,r){const n=this.W_(this.D_);this.stream=this.j_(t,r),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{n(()=>this.z_(i))}),this.stream.onMessage(i=>{n(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return dt(f$,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return r=>{this.Mi.enqueueAndForget(()=>this.D_===t?r():(dt(f$,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Zwe extends uX{constructor(t,r,n,i,a,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,s),this.serializer=a}j_(t,r){return this.connection.T_("Listen",t,r)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const r=iwe(this.serializer,t),n=function(a){if(!("targetChange"in a))return Ft.min();const s=a.targetChange;return s.targetIds&&s.targetIds.length?Ft.min():s.readTime?Zl(s.readTime):Ft.min()}(t);return this.listener.H_(r,n)}Y_(t){const r={};r.database=cR(this.serializer),r.addTarget=function(a,s){let o;const c=s.target;if(o=nR(c)?{documents:owe(a,c)}:{query:lwe(a,c).ft},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=ZY(a,s.resumeToken);const u=sR(a,s.expectedCount);u!==null&&(o.expectedCount=u)}else if(s.snapshotVersion.compareTo(Ft.min())>0){o.readTime=PE(a,s.snapshotVersion.toTimestamp());const u=sR(a,s.expectedCount);u!==null&&(o.expectedCount=u)}return o}(this.serializer,t);const n=uwe(this.serializer,t);n&&(r.labels=n),this.q_(r)}Z_(t){const r={};r.database=cR(this.serializer),r.removeTarget=t,this.q_(r)}}class Jwe extends uX{constructor(t,r,n,i,a,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,s),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,r){return this.connection.T_("Write",t,r)}J_(t){return Sr(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Sr(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Sr(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const r=swe(t.writeResults,t.commitTime),n=Zl(t.commitTime);return this.listener.na(n,r)}ra(){const t={};t.database=cR(this.serializer),this.q_(t)}ea(t){const r={streamToken:this.lastStreamToken,writes:t.map(n=>awe(this.serializer,n))};this.q_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_e{}class t_e extends e_e{constructor(t,r,n,i){super(),this.authCredentials=t,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new it(je.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,r,n,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.Go(t,oR(r,n),i,a,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===je.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new it(je.UNKNOWN,a.toString())})}Ho(t,r,n,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Ho(t,oR(r,n),i,s,o,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===je.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new it(je.UNKNOWN,s.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class r_e{constructor(t,r){this.asyncQueue=t,this.onlineStateHandler=r,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const r=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(vu(r),this.aa=!1):dt("OnlineStateTracker",r)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lh="RemoteStore";class n_e{constructor(t,r,n,i,a){this.localStore=t,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo(s=>{n.enqueueAndForget(async()=>{om(this)&&(dt(Lh,"Restarting streams for network reachability change."),await async function(c){const u=zt(c);u.Ea.add(4),await A1(u),u.Ra.set("Unknown"),u.Ea.delete(4),await dT(u)}(this))})}),this.Ra=new r_e(n,i)}}async function dT(e){if(om(e))for(const t of e.da)await t(!0)}async function A1(e){for(const t of e.da)await t(!1)}function dX(e,t){const r=zt(e);r.Ia.has(t.targetId)||(r.Ia.set(t.targetId,t),kD(r)?RD(r):hg(r).O_()&&PD(r,t))}function jD(e,t){const r=zt(e),n=hg(r);r.Ia.delete(t),n.O_()&&fX(r,t),r.Ia.size===0&&(n.O_()?n.L_():om(r)&&r.Ra.set("Unknown"))}function PD(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ft.min())>0){const r=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(r)}hg(e).Y_(t)}function fX(e,t){e.Va.Ue(t),hg(e).Z_(t)}function RD(e){e.Va=new Qbe({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),hg(e).start(),e.Ra.ua()}function kD(e){return om(e)&&!hg(e).x_()&&e.Ia.size>0}function om(e){return zt(e).Ea.size===0}function hX(e){e.Va=void 0}async function i_e(e){e.Ra.set("Online")}async function a_e(e){e.Ia.forEach((t,r)=>{PD(e,t)})}async function s_e(e,t){hX(e),kD(e)?(e.Ra.ha(t),RD(e)):e.Ra.set("Unknown")}async function o_e(e,t,r){if(e.Ra.set("Online"),t instanceof QY&&t.state===2&&t.cause)try{await async function(i,a){const s=a.cause;for(const o of a.targetIds)i.Ia.has(o)&&(await i.remoteSyncer.rejectListen(o,s),i.Ia.delete(o),i.Va.removeTarget(o))}(e,t)}catch(n){dt(Lh,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await kE(e,n)}else if(t instanceof b_?e.Va.Ze(t):t instanceof XY?e.Va.st(t):e.Va.tt(t),!r.isEqual(Ft.min()))try{const n=await lX(e.localStore);r.compareTo(n)>=0&&await function(a,s){const o=a.Va.Tt(s);return o.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const d=a.Ia.get(u);d&&a.Ia.set(u,d.withResumeToken(c.resumeToken,s))}}),o.targetMismatches.forEach((c,u)=>{const d=a.Ia.get(c);if(!d)return;a.Ia.set(c,d.withResumeToken(Hi.EMPTY_BYTE_STRING,d.snapshotVersion)),fX(a,c);const f=new gd(d.target,c,u,d.sequenceNumber);PD(a,f)}),a.remoteSyncer.applyRemoteEvent(o)}(e,r)}catch(n){dt(Lh,"Failed to raise snapshot:",n),await kE(e,n)}}async function kE(e,t,r){if(!dg(t))throw t;e.Ea.add(1),await A1(e),e.Ra.set("Offline"),r||(r=()=>lX(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{dt(Lh,"Retrying IndexedDB access"),await r(),e.Ea.delete(1),await dT(e)})}function mX(e,t){return t().catch(r=>kE(e,r,t))}async function fT(e){const t=zt(e),r=Gd(t);let n=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:gD;for(;l_e(t);)try{const i=await zwe(t.localStore,n);if(i===null){t.Ta.length===0&&r.L_();break}n=i.batchId,c_e(t,i)}catch(i){await kE(t,i)}pX(t)&&gX(t)}function l_e(e){return om(e)&&e.Ta.length<10}function c_e(e,t){e.Ta.push(t);const r=Gd(e);r.O_()&&r.X_&&r.ea(t.mutations)}function pX(e){return om(e)&&!Gd(e).x_()&&e.Ta.length>0}function gX(e){Gd(e).start()}async function u_e(e){Gd(e).ra()}async function d_e(e){const t=Gd(e);for(const r of e.Ta)t.ea(r.mutations)}async function f_e(e,t,r){const n=e.Ta.shift(),i=_D.from(n,t,r);await mX(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await fT(e)}async function h_e(e,t){t&&Gd(e).X_&&await async function(n,i){if(function(s){return Kbe(s)&&s!==je.ABORTED}(i.code)){const a=n.Ta.shift();Gd(n).B_(),await mX(n,()=>n.remoteSyncer.rejectFailedWrite(a.batchId,i)),await fT(n)}}(e,t),pX(e)&&gX(e)}async function h$(e,t){const r=zt(e);r.asyncQueue.verifyOperationInProgress(),dt(Lh,"RemoteStore received new credentials");const n=om(r);r.Ea.add(3),await A1(r),n&&r.Ra.set("Unknown"),await r.remoteSyncer.handleCredentialChange(t),r.Ea.delete(3),await dT(r)}async function m_e(e,t){const r=zt(e);t?(r.Ea.delete(2),await dT(r)):t||(r.Ea.add(2),await A1(r),r.Ra.set("Unknown"))}function hg(e){return e.ma||(e.ma=function(r,n,i){const a=zt(r);return a.sa(),new Zwe(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(e.datastore,e.asyncQueue,{Xo:i_e.bind(null,e),t_:a_e.bind(null,e),r_:s_e.bind(null,e),H_:o_e.bind(null,e)}),e.da.push(async t=>{t?(e.ma.B_(),kD(e)?RD(e):e.Ra.set("Unknown")):(await e.ma.stop(),hX(e))})),e.ma}function Gd(e){return e.fa||(e.fa=function(r,n,i){const a=zt(r);return a.sa(),new Jwe(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:u_e.bind(null,e),r_:h_e.bind(null,e),ta:d_e.bind(null,e),na:f_e.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await fT(e)):(await e.fa.stop(),e.Ta.length>0&&(dt(Lh,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))})),e.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(t,r,n,i,a){this.asyncQueue=t,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=a,this.deferred=new Yc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,r,n,i,a){const s=Date.now()+n,o=new ID(t,r,s,i,a);return o.start(n),o}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new it(je.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function OD(e,t){if(vu("AsyncQueue",`${t}: ${e}`),dg(e))return new it(je.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{static emptySet(t){return new Cp(t.comparator)}constructor(t){this.comparator=t?(r,n)=>t(r,n)||Et.comparator(r.key,n.key):(r,n)=>Et.comparator(r.key,n.key),this.keyedMap=Cv(),this.sortedSet=new Nn(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const r=this.keyedMap.get(t);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((r,n)=>(t(r),!1))}add(t){const r=this.delete(t.key);return r.copy(r.keyedMap.insert(t.key,t),r.sortedSet.insert(t,null))}delete(t){const r=this.get(t);return r?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(r)):this}isEqual(t){if(!(t instanceof Cp)||this.size!==t.size)return!1;const r=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const t=[];return this.forEach(r=>{t.push(r.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,r){const n=new Cp;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m${constructor(){this.ga=new Nn(Et.comparator)}track(t){const r=t.doc.key,n=this.ga.get(r);n?t.type!==0&&n.type===3?this.ga=this.ga.insert(r,t):t.type===3&&n.type!==1?this.ga=this.ga.insert(r,{type:n.type,doc:t.doc}):t.type===2&&n.type===2?this.ga=this.ga.insert(r,{type:2,doc:t.doc}):t.type===2&&n.type===0?this.ga=this.ga.insert(r,{type:0,doc:t.doc}):t.type===1&&n.type===0?this.ga=this.ga.remove(r):t.type===1&&n.type===2?this.ga=this.ga.insert(r,{type:1,doc:n.doc}):t.type===0&&n.type===1?this.ga=this.ga.insert(r,{type:2,doc:t.doc}):Pt(63341,{Rt:t,pa:n}):this.ga=this.ga.insert(r,t)}ya(){const t=[];return this.ga.inorderTraversal((r,n)=>{t.push(n)}),t}}class g0{constructor(t,r,n,i,a,s,o,c,u){this.query=t,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(t,r,n,i,a){const s=[];return r.forEach(o=>{s.push({type:0,doc:o})}),new g0(t,r,Cp.emptySet(r),s,n,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&iT(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const r=this.docChanges,n=t.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_e{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(t=>t.Da())}}class g_e{constructor(){this.queries=p$(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(r,n){const i=zt(r),a=i.queries;i.queries=p$(),a.forEach((s,o)=>{for(const c of o.Sa)c.onError(n)})})(this,new it(je.ABORTED,"Firestore shutting down"))}}function p$(){return new sm(e=>MY(e),iT)}async function DD(e,t){const r=zt(e);let n=3;const i=t.query;let a=r.queries.get(i);a?!a.ba()&&t.Da()&&(n=2):(a=new p_e,n=t.Da()?0:1);try{switch(n){case 0:a.wa=await r.onListen(i,!0);break;case 1:a.wa=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(s){const o=OD(s,`Initialization of query '${Bm(t.query)}' failed`);return void t.onError(o)}r.queries.set(i,a),a.Sa.push(t),t.va(r.onlineState),a.wa&&t.Fa(a.wa)&&LD(r)}async function MD(e,t){const r=zt(e),n=t.query;let i=3;const a=r.queries.get(n);if(a){const s=a.Sa.indexOf(t);s>=0&&(a.Sa.splice(s,1),a.Sa.length===0?i=t.Da()?0:1:!a.ba()&&t.Da()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function v_e(e,t){const r=zt(e);let n=!1;for(const i of t){const a=i.query,s=r.queries.get(a);if(s){for(const o of s.Sa)o.Fa(i)&&(n=!0);s.wa=i}}n&&LD(r)}function y_e(e,t,r){const n=zt(e),i=n.queries.get(t);if(i)for(const a of i.Sa)a.onError(r);n.queries.delete(t)}function LD(e){e.Ca.forEach(t=>{t.next()})}var fR,g$;(g$=fR||(fR={})).Ma="default",g$.Cache="cache";class FD{constructor(t,r,n){this.query=t,this.xa=r,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(t){if(!this.options.includeMetadataChanges){const n=[];for(const i of t.docChanges)i.type!==3&&n.push(i);t=new g0(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let r=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),r=!0):this.La(t,this.onlineState)&&(this.ka(t),r=!0),this.Na=t,r}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let r=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),r=!0),r}La(t,r){if(!t.fromCache||!this.Da())return!0;const n=r!=="Offline";return(!this.options.qa||!n)&&(!t.docs.isEmpty()||t.hasCachedResults||r==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const r=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}ka(t){t=g0.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==fR.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vX{constructor(t){this.key=t}}class yX{constructor(t){this.key=t}}class x_e{constructor(t,r){this.query=t,this.Ya=r,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=nr(),this.mutatedKeys=nr(),this.eu=LY(t),this.tu=new Cp(this.eu)}get nu(){return this.Ya}ru(t,r){const n=r?r.iu:new m$,i=r?r.tu:this.tu;let a=r?r.mutatedKeys:this.mutatedKeys,s=i,o=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((d,f)=>{const h=i.get(d),m=aT(this.query,f)?f:null,g=!!h&&this.mutatedKeys.has(h.key),p=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let v=!1;h&&m?h.data.isEqual(m.data)?g!==p&&(n.track({type:3,doc:m}),v=!0):this.su(h,m)||(n.track({type:2,doc:m}),v=!0,(c&&this.eu(m,c)>0||u&&this.eu(m,u)<0)&&(o=!0)):!h&&m?(n.track({type:0,doc:m}),v=!0):h&&!m&&(n.track({type:1,doc:h}),v=!0,(c||u)&&(o=!0)),v&&(m?(s=s.add(m),a=p?a.add(d):a.delete(d)):(s=s.delete(d),a=a.delete(d)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),a=a.delete(d.key),n.track({type:1,doc:d})}return{tu:s,iu:n,Cs:o,mutatedKeys:a}}su(t,r){return t.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(t,r,n,i){const a=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const s=t.iu.ya();s.sort((d,f)=>function(m,g){const p=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pt(20277,{Rt:v})}};return p(m)-p(g)}(d.type,f.type)||this.eu(d.doc,f.doc)),this.ou(n),i=i??!1;const o=r&&!i?this._u():[],c=this.Xa.size===0&&this.current&&!i?1:0,u=c!==this.Za;return this.Za=c,s.length!==0||u?{snapshot:new g0(this.query,t.tu,a,s,t.mutatedKeys,c===0,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new m$,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(r=>this.Ya=this.Ya.add(r)),t.modifiedDocuments.forEach(r=>{}),t.removedDocuments.forEach(r=>this.Ya=this.Ya.delete(r)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=nr(),this.tu.forEach(n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))});const r=[];return t.forEach(n=>{this.Xa.has(n)||r.push(new yX(n))}),this.Xa.forEach(n=>{t.has(n)||r.push(new vX(n))}),r}cu(t){this.Ya=t.Qs,this.Xa=nr();const r=this.ru(t.documents);return this.applyChanges(r,!0)}lu(){return g0.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const $D="SyncEngine";class b_e{constructor(t,r,n){this.query=t,this.targetId=r,this.view=n}}class w_e{constructor(t){this.key=t,this.hu=!1}}class __e{constructor(t,r,n,i,a,s){this.localStore=t,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new sm(o=>MY(o),iT),this.Iu=new Map,this.Eu=new Set,this.du=new Nn(Et.comparator),this.Au=new Map,this.Ru=new TD,this.Vu={},this.mu=new Map,this.fu=p0.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function E_e(e,t,r=!0){const n=SX(e);let i;const a=n.Tu.get(t);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await xX(n,t,r,!0),i}async function S_e(e,t){const r=SX(e);await xX(r,t,!0,!1)}async function xX(e,t,r,n){const i=await Wwe(e.localStore,Ql(t)),a=i.targetId,s=e.sharedClientState.addLocalQueryTarget(a,r);let o;return n&&(o=await T_e(e,t,a,s==="current",i.resumeToken)),e.isPrimaryClient&&r&&dX(e.remoteStore,i),o}async function T_e(e,t,r,n,i){e.pu=(f,h,m)=>async function(p,v,y,x){let w=v.view.ru(y);w.Cs&&(w=await l$(p.localStore,v.query,!1).then(({documents:S})=>v.view.ru(S,w)));const N=x&&x.targetChanges.get(v.targetId),E=x&&x.targetMismatches.get(v.targetId)!=null,T=v.view.applyChanges(w,p.isPrimaryClient,N,E);return y$(p,v.targetId,T.au),T.snapshot}(e,f,h,m);const a=await l$(e.localStore,t,!0),s=new x_e(t,a.Qs),o=s.ru(a.documents),c=N1.createSynthesizedTargetChangeForCurrentChange(r,n&&e.onlineState!=="Offline",i),u=s.applyChanges(o,e.isPrimaryClient,c);y$(e,r,u.au);const d=new b_e(t,r,s);return e.Tu.set(t,d),e.Iu.has(r)?e.Iu.get(r).push(t):e.Iu.set(r,[t]),u.snapshot}async function N_e(e,t,r){const n=zt(e),i=n.Tu.get(t),a=n.Iu.get(i.targetId);if(a.length>1)return n.Iu.set(i.targetId,a.filter(s=>!iT(s,t))),void n.Tu.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await uR(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),r&&jD(n.remoteStore,i.targetId),hR(n,i.targetId)}).catch(ug)):(hR(n,i.targetId),await uR(n.localStore,i.targetId,!0))}async function A_e(e,t){const r=zt(e),n=r.Tu.get(t),i=r.Iu.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),jD(r.remoteStore,n.targetId))}async function C_e(e,t,r){const n=D_e(e);try{const i=await function(s,o){const c=zt(s),u=Ot.now(),d=o.reduce((m,g)=>m.add(g.key),nr());let f,h;return c.persistence.runTransaction("Locally write mutations","readwrite",m=>{let g=yu(),p=nr();return c.Ns.getEntries(m,d).next(v=>{g=v,g.forEach((y,x)=>{x.isValidDocument()||(p=p.add(y))})}).next(()=>c.localDocuments.getOverlayedDocuments(m,g)).next(v=>{f=v;const y=[];for(const x of o){const w=zbe(x,f.get(x.key).overlayedDocument);w!=null&&y.push(new mf(x.key,w,CY(w.value.mapValue),Pa.exists(!0)))}return c.mutationQueue.addMutationBatch(m,u,y,o)}).next(v=>{h=v;const y=v.applyToLocalDocumentSet(f,p);return c.documentOverlayCache.saveOverlays(m,v.batchId,y)})}).then(()=>({batchId:h.batchId,changes:$Y(f)}))}(n.localStore,t);n.sharedClientState.addPendingMutation(i.batchId),function(s,o,c){let u=s.Vu[s.currentUser.toKey()];u||(u=new Nn(rr)),u=u.insert(o,c),s.Vu[s.currentUser.toKey()]=u}(n,i.batchId,r),await C1(n,i.changes),await fT(n.remoteStore)}catch(i){const a=OD(i,"Failed to persist write");r.reject(a)}}async function bX(e,t){const r=zt(e);try{const n=await Vwe(r.localStore,t);t.targetChanges.forEach((i,a)=>{const s=r.Au.get(a);s&&(Sr(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?Sr(s.hu,14607):i.removedDocuments.size>0&&(Sr(s.hu,42227),s.hu=!1))}),await C1(r,n,t)}catch(n){await ug(n)}}function v$(e,t,r){const n=zt(e);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Tu.forEach((a,s)=>{const o=s.view.va(t);o.snapshot&&i.push(o.snapshot)}),function(s,o){const c=zt(s);c.onlineState=o;let u=!1;c.queries.forEach((d,f)=>{for(const h of f.Sa)h.va(o)&&(u=!0)}),u&&LD(c)}(n.eventManager,t),i.length&&n.Pu.H_(i),n.onlineState=t,n.isPrimaryClient&&n.sharedClientState.setOnlineState(t)}}async function j_e(e,t,r){const n=zt(e);n.sharedClientState.updateQueryState(t,"rejected",r);const i=n.Au.get(t),a=i&&i.key;if(a){let s=new Nn(Et.comparator);s=s.insert(a,oa.newNoDocument(a,Ft.min()));const o=nr().add(a),c=new cT(Ft.min(),new Map,new Nn(rr),s,o);await bX(n,c),n.du=n.du.remove(a),n.Au.delete(t),BD(n)}else await uR(n.localStore,t,!1).then(()=>hR(n,t,r)).catch(ug)}async function P_e(e,t){const r=zt(e),n=t.batch.batchId;try{const i=await Bwe(r.localStore,t);_X(r,n,null),wX(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await C1(r,i)}catch(i){await ug(i)}}async function R_e(e,t,r){const n=zt(e);try{const i=await function(s,o){const c=zt(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,o).next(f=>(Sr(f!==null,37113),d=f.keys(),c.mutationQueue.removeMutationBatch(u,f))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,o)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(n.localStore,t);_X(n,t,r),wX(n,t),n.sharedClientState.updateMutationState(t,"rejected",r),await C1(n,i)}catch(i){await ug(i)}}function wX(e,t){(e.mu.get(t)||[]).forEach(r=>{r.resolve()}),e.mu.delete(t)}function _X(e,t,r){const n=zt(e);let i=n.Vu[n.currentUser.toKey()];if(i){const a=i.get(t);a&&(r?a.reject(r):a.resolve(),i=i.remove(t)),n.Vu[n.currentUser.toKey()]=i}}function hR(e,t,r=null){e.sharedClientState.removeLocalQueryTarget(t);for(const n of e.Iu.get(t))e.Tu.delete(n),r&&e.Pu.yu(n,r);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(n=>{e.Ru.containsKey(n)||EX(e,n)})}function EX(e,t){e.Eu.delete(t.path.canonicalString());const r=e.du.get(t);r!==null&&(jD(e.remoteStore,r),e.du=e.du.remove(t),e.Au.delete(r),BD(e))}function y$(e,t,r){for(const n of r)n instanceof vX?(e.Ru.addReference(n.key,t),k_e(e,n)):n instanceof yX?(dt($D,"Document no longer in limbo: "+n.key),e.Ru.removeReference(n.key,t),e.Ru.containsKey(n.key)||EX(e,n.key)):Pt(19791,{wu:n})}function k_e(e,t){const r=t.key,n=r.path.canonicalString();e.du.get(r)||e.Eu.has(n)||(dt($D,"New document in limbo: "+r),e.Eu.add(n),BD(e))}function BD(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const r=new Et(zr.fromString(t)),n=e.fu.next();e.Au.set(n,new w_e(r)),e.du=e.du.insert(r,n),dX(e.remoteStore,new gd(Ql(nT(r.path)),n,"TargetPurposeLimboResolution",eT.ce))}}async function C1(e,t,r){const n=zt(e),i=[],a=[],s=[];n.Tu.isEmpty()||(n.Tu.forEach((o,c)=>{s.push(n.pu(c,t,r).then(u=>{var d;if((u||r)&&n.isPrimaryClient){const f=u?!u.fromCache:(d=r==null?void 0:r.targetChanges.get(c.targetId))==null?void 0:d.current;n.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(u){i.push(u);const f=AD.As(c.targetId,u);a.push(f)}}))}),await Promise.all(s),n.Pu.H_(i),await async function(c,u){const d=zt(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>Ie.forEach(u,h=>Ie.forEach(h.Es,m=>d.persistence.referenceDelegate.addReference(f,h.targetId,m)).next(()=>Ie.forEach(h.ds,m=>d.persistence.referenceDelegate.removeReference(f,h.targetId,m)))))}catch(f){if(!dg(f))throw f;dt(CD,"Failed to update sequence numbers: "+f)}for(const f of u){const h=f.targetId;if(!f.fromCache){const m=d.Ms.get(h),g=m.snapshotVersion,p=m.withLastLimboFreeSnapshotVersion(g);d.Ms=d.Ms.insert(h,p)}}}(n.localStore,a))}async function I_e(e,t){const r=zt(e);if(!r.currentUser.isEqual(t)){dt($D,"User change. New user:",t.toKey());const n=await oX(r.localStore,t);r.currentUser=t,function(a,s){a.mu.forEach(o=>{o.forEach(c=>{c.reject(new it(je.CANCELLED,s))})}),a.mu.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),await C1(r,n.Ls)}}function O_e(e,t){const r=zt(e),n=r.Au.get(t);if(n&&n.hu)return nr().add(n.key);{let i=nr();const a=r.Iu.get(t);if(!a)return i;for(const s of a){const o=r.Tu.get(s);i=i.unionWith(o.view.nu)}return i}}function SX(e){const t=zt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=bX.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=O_e.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=j_e.bind(null,t),t.Pu.H_=v_e.bind(null,t.eventManager),t.Pu.yu=y_e.bind(null,t.eventManager),t}function D_e(e){const t=zt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=P_e.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=R_e.bind(null,t),t}class IE{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=uT(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,r){return null}Mu(t,r){return null}vu(t){return $we(this.persistence,new Mwe,t.initialUser,this.serializer)}Cu(t){return new sX(ND.mi,this.serializer)}Du(t){return new qwe}async terminate(){var t,r;(t=this.gcScheduler)==null||t.stop(),(r=this.indexBackfillerScheduler)==null||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}IE.provider={build:()=>new IE};class M_e extends IE{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,r){Sr(this.persistence.referenceDelegate instanceof RE,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new wwe(n,t.asyncQueue,r)}Cu(t){const r=this.cacheSizeBytes!==void 0?Wa.withCacheSize(this.cacheSizeBytes):Wa.DEFAULT;return new sX(n=>RE.mi(n,r),this.serializer)}}class mR{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>v$(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=I_e.bind(null,this.syncEngine),await m_e(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new g_e}()}createDatastore(t){const r=uT(t.databaseInfo.databaseId),n=function(a){return new Qwe(a)}(t.databaseInfo);return function(a,s,o,c){return new t_e(a,s,o,c)}(t.authCredentials,t.appCheckCredentials,n,r)}createRemoteStore(t){return function(n,i,a,s,o){return new n_e(n,i,a,s,o)}(this.localStore,this.datastore,t.asyncQueue,r=>v$(this.syncEngine,r,0),function(){return d$.v()?new d$:new Gwe}())}createSyncEngine(t,r){return function(i,a,s,o,c,u,d){const f=new __e(i,a,s,o,c,u);return d&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}async terminate(){var t,r;await async function(i){const a=zt(i);dt(Lh,"RemoteStore shutting down."),a.Ea.add(5),await A1(a),a.Aa.shutdown(),a.Ra.set("Unknown")}(this.remoteStore),(t=this.datastore)==null||t.terminate(),(r=this.eventManager)==null||r.terminate()}}mR.provider={build:()=>new mR};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):vu("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,r){setTimeout(()=>{this.muted||t(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kd="FirestoreClient";class L_e{constructor(t,r,n,i,a){this.authCredentials=t,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=aa.UNAUTHENTICATED,this.clientId=pD.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,async s=>{dt(Kd,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(n,s=>(dt(Kd,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Yc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(r){const n=OD(r,"Failed to shutdown persistence");t.reject(n)}}),t.promise}}async function ZA(e,t){e.asyncQueue.verifyOperationInProgress(),dt(Kd,"Initializing OfflineComponentProvider");const r=e.configuration;await t.initialize(r);let n=r.initialUser;e.setCredentialChangeListener(async i=>{n.isEqual(i)||(await oX(t.localStore,i),n=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function x$(e,t){e.asyncQueue.verifyOperationInProgress();const r=await F_e(e);dt(Kd,"Initializing OnlineComponentProvider"),await t.initialize(r,e.configuration),e.setCredentialChangeListener(n=>h$(t.remoteStore,n)),e.setAppCheckTokenChangeListener((n,i)=>h$(t.remoteStore,i)),e._onlineComponents=t}async function F_e(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){dt(Kd,"Using user provided OfflineComponentProvider");try{await ZA(e,e._uninitializedComponentsProvider._offline)}catch(t){const r=t;if(!function(i){return i.name==="FirebaseError"?i.code===je.FAILED_PRECONDITION||i.code===je.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(r))throw r;u0("Error using user provided cache. Falling back to memory cache: "+r),await ZA(e,new IE)}}else dt(Kd,"Using default OfflineComponentProvider"),await ZA(e,new M_e(void 0));return e._offlineComponents}async function TX(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(dt(Kd,"Using user provided OnlineComponentProvider"),await x$(e,e._uninitializedComponentsProvider._online)):(dt(Kd,"Using default OnlineComponentProvider"),await x$(e,new mR))),e._onlineComponents}function $_e(e){return TX(e).then(t=>t.syncEngine)}async function OE(e){const t=await TX(e),r=t.eventManager;return r.onListen=E_e.bind(null,t.syncEngine),r.onUnlisten=N_e.bind(null,t.syncEngine),r.onFirstRemoteStoreListen=S_e.bind(null,t.syncEngine),r.onLastRemoteStoreUnlisten=A_e.bind(null,t.syncEngine),r}function B_e(e,t,r={}){const n=new Yc;return e.asyncQueue.enqueueAndForget(async()=>function(a,s,o,c,u){const d=new VD({next:h=>{d.Nu(),s.enqueueAndForget(()=>MD(a,f));const m=h.docs.has(o);!m&&h.fromCache?u.reject(new it(je.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&h.fromCache&&c&&c.source==="server"?u.reject(new it(je.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new FD(nT(o.path),d,{includeMetadataChanges:!0,qa:!0});return DD(a,f)}(await OE(e),e.asyncQueue,t,r,n)),n.promise}function V_e(e,t,r={}){const n=new Yc;return e.asyncQueue.enqueueAndForget(async()=>function(a,s,o,c,u){const d=new VD({next:h=>{d.Nu(),s.enqueueAndForget(()=>MD(a,f)),h.fromCache&&c.source==="server"?u.reject(new it(je.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new FD(o,d,{includeMetadataChanges:!0,qa:!0});return DD(a,f)}(await OE(e),e.asyncQueue,t,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NX(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b$=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AX="firestore.googleapis.com",w$=!0;class _${constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new it(je.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=AX,this.ssl=w$}else this.host=t.host,this.ssl=t.ssl??w$;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=aX;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<xwe)throw new it(je.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}nbe("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=NX(t.experimentalLongPollingOptions??{}),function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new it(je.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new it(je.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new it(je.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class hT{constructor(t,r,n,i){this._authCredentials=t,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _$({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new it(je.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new it(je.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _$(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new G1e;switch(n.type){case"firstParty":return new Q1e(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new it(je.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=b$.get(r);n&&(dt("ComponentProvider","Removing Datastore"),b$.delete(r),n.terminate())}(this),Promise.resolve()}}function U_e(e,t,r,n={}){var u;e=ja(e,hT);const i=ff(t),a=e._getSettings(),s={...a,emulatorOptions:e._getEmulatorOptions()},o=`${t}:${r}`;i&&(JO(`https://${o}`),eD("Firestore",!0)),a.host!==AX&&a.host!==o&&u0("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...a,host:o,ssl:i,emulatorOptions:n};if(!Vd(c,s)&&(e._setSettings(c),n.mockUserToken)){let d,f;if(typeof n.mockUserToken=="string")d=n.mockUserToken,f=aa.MOCK_USER;else{d=AK(n.mockUserToken,(u=e._app)==null?void 0:u.options.projectId);const h=n.mockUserToken.sub||n.mockUserToken.user_id;if(!h)throw new it(je.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new aa(h)}e._authCredentials=new K1e(new gY(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(t,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new pf(this.firestore,t,this._query)}}class Dn{constructor(t,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Rd(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Dn(this.firestore,t,this._key)}toJSON(){return{type:Dn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,r,n){if(S1(r,Dn._jsonSchema))return new Dn(t,n||null,new Et(zr.fromString(r.referencePath)))}}Dn._jsonSchemaVersion="firestore/documentReference/1.0",Dn._jsonSchema={type:Jn("string",Dn._jsonSchemaVersion),referencePath:Jn("string")};class Rd extends pf{constructor(t,r,n){super(t,r,nT(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Dn(this.firestore,null,new Et(t))}withConverter(t){return new Rd(this.firestore,t,this._path)}}function qr(e,t,...r){if(e=$r(e),vY("collection","path",t),e instanceof hT){const n=zr.fromString(t,...r);return D6(n),new Rd(e,null,n)}{if(!(e instanceof Dn||e instanceof Rd))throw new it(je.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(zr.fromString(t,...r));return D6(n),new Rd(e.firestore,null,n)}}function xt(e,t,...r){if(e=$r(e),arguments.length===1&&(t=pD.newId()),vY("doc","path",t),e instanceof hT){const n=zr.fromString(t,...r);return O6(n),new Dn(e,null,new Et(n))}{if(!(e instanceof Dn||e instanceof Rd))throw new it(je.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(zr.fromString(t,...r));return O6(n),new Dn(e.firestore,e instanceof Rd?e.converter:null,new Et(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E$="AsyncQueue";class S${constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new cX(this,"async_queue_retry"),this._c=()=>{const n=QA();n&&dt(E$,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=t;const r=QA();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const r=QA();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const r=new Yc;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xu.push(t),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!dg(t))throw t;dt(E$,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const r=this.ac.then(()=>(this.rc=!0,t().catch(n=>{throw this.nc=n,this.rc=!1,vu("INTERNAL UNHANDLED ERROR: ",T$(n)),n}).then(n=>(this.rc=!1,n))));return this.ac=r,r}enqueueAfterDelay(t,r,n){this.uc(),this.oc.indexOf(t)>-1&&(r=0);const i=ID.createAndSchedule(this,t,r,n,a=>this.hc(a));return this.tc.push(i),i}uc(){this.nc&&Pt(47125,{Pc:T$(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const r of this.tc)if(r.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.tc)if(r.skipDelay(),t!=="all"&&r.timerId===t)break;return this.Tc()})}dc(t){this.oc.push(t)}hc(t){const r=this.tc.indexOf(t);this.tc.splice(r,1)}}function T$(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N$(e){return function(r,n){if(typeof r!="object"||r===null)return!1;const i=r;for(const a of n)if(a in i&&typeof i[a]=="function")return!0;return!1}(e,["next","error","complete"])}class hc extends hT{constructor(t,r,n,i){super(t,r,n,i),this.type="firestore",this._queue=new S$,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new S$(t),this._firestoreClient=void 0,await t}}}function CX(e,t){const r=typeof e=="object"?e:nD(),n=typeof e=="string"?e:NE,i=Y2(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const a=SK("firestore");a&&U_e(i,...a)}return i}function j1(e){if(e._terminated)throw new it(je.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||z_e(e),e._firestoreClient}function z_e(e){var n,i,a;const t=e._freezeSettings(),r=function(o,c,u,d){return new mbe(o,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,NX(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(e._databaseId,((n=e._app)==null?void 0:n.options.appId)||"",e._persistenceKey,t);e._componentsProvider||(i=t.localCache)!=null&&i._offlineComponentProvider&&((a=t.localCache)!=null&&a._onlineComponentProvider)&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new L_e(e._authCredentials,e._appCheckCredentials,e._queue,r,e._componentsProvider&&function(o){const c=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(c),_online:c}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(t){this._byteString=t}static fromBase64String(t){try{return new oo(Hi.fromBase64String(t))}catch(r){throw new it(je.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(t){return new oo(Hi.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:oo._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(S1(t,oo._jsonSchema))return oo.fromBase64String(t.bytes)}}oo._jsonSchemaVersion="firestore/bytes/1.0",oo._jsonSchema={type:Jn("string",oo._jsonSchemaVersion),bytes:Jn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(...t){for(let r=0;r<t.length;++r)if(t[r].length===0)throw new it(je.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Li(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(t,r){if(!isFinite(t)||t<-90||t>90)throw new it(je.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(r)||r<-180||r>180)throw new it(je.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=t,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return rr(this._lat,t._lat)||rr(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Jl._jsonSchemaVersion}}static fromJSON(t){if(S1(t,Jl._jsonSchema))return new Jl(t.latitude,t.longitude)}}Jl._jsonSchemaVersion="firestore/geoPoint/1.0",Jl._jsonSchema={type:Jn("string",Jl._jsonSchemaVersion),latitude:Jn("number"),longitude:Jn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(t){this._values=(t||[]).map(r=>r)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(n,i){if(n.length!==i.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==i[a])return!1;return!0}(this._values,t._values)}toJSON(){return{type:ec._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(S1(t,ec._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(r=>typeof r=="number"))return new ec(t.vectorValues);throw new it(je.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ec._jsonSchemaVersion="firestore/vectorValue/1.0",ec._jsonSchema={type:Jn("string",ec._jsonSchemaVersion),vectorValues:Jn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_e=/^__.*__$/;class H_e{constructor(t,r,n){this.data=t,this.fieldMask=r,this.fieldTransforms=n}toMutation(t,r){return this.fieldMask!==null?new mf(t,this.data,this.fieldMask,r,this.fieldTransforms):new T1(t,this.data,r,this.fieldTransforms)}}class jX{constructor(t,r,n){this.data=t,this.fieldMask=r,this.fieldTransforms=n}toMutation(t,r){return new mf(t,this.data,this.fieldMask,r,this.fieldTransforms)}}function PX(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pt(40011,{Ac:e})}}class mT{constructor(t,r,n,i,a,s){this.settings=t,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new mT({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){var i;const r=(i=this.path)==null?void 0:i.child(t),n=this.Vc({path:r,fc:!1});return n.gc(t),n}yc(t){var i;const r=(i=this.path)==null?void 0:i.child(t),n=this.Vc({path:r,fc:!1});return n.Rc(),n}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return DE(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find(r=>t.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>t.isPrefixOf(r.field))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(PX(this.Ac)&&W_e.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class q_e{constructor(t,r,n){this.databaseId=t,this.ignoreUndefinedProperties=r,this.serializer=n||uT(t)}Cc(t,r,n,i=!1){return new mT({Ac:t,methodName:r,Dc:n,path:Li.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function k1(e){const t=e._freezeSettings(),r=uT(e._databaseId);return new q_e(e._databaseId,!!t.ignoreUndefinedProperties,r)}function UD(e,t,r,n,i,a={}){const s=e.Cc(a.merge||a.mergeFields?2:0,t,r,i);HD("Data must be an object, but it was:",s,n);const o=IX(n,s);let c,u;if(a.merge)c=new Ts(s.fieldMask),u=s.fieldTransforms;else if(a.mergeFields){const d=[];for(const f of a.mergeFields){const h=pR(t,f,r);if(!s.contains(h))throw new it(je.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);DX(d,h)||d.push(h)}c=new Ts(d),u=s.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,u=s.fieldTransforms;return new H_e(new Ka(o),c,u)}class pT extends R1{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof pT}}function G_e(e,t,r){return new mT({Ac:3,Dc:t.settings.Dc,methodName:e._methodName,fc:r},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class zD extends R1{_toFieldTransform(t){return new qY(t.path,new rx)}isEqual(t){return t instanceof zD}}class WD extends R1{constructor(t,r){super(t),this.vc=r}_toFieldTransform(t){const r=G_e(this,t,!0),n=this.vc.map(a=>mg(a,r)),i=new m0(n);return new qY(t.path,i)}isEqual(t){return t instanceof WD&&Vd(this.vc,t.vc)}}function RX(e,t,r,n){const i=e.Cc(1,t,r);HD("Data must be an object, but it was:",i,n);const a=[],s=Ka.empty();hf(n,(c,u)=>{const d=qD(t,c,r);u=$r(u);const f=i.yc(d);if(u instanceof pT)a.push(d);else{const h=mg(u,f);h!=null&&(a.push(d),s.set(d,h))}});const o=new Ts(a);return new jX(s,o,i.fieldTransforms)}function kX(e,t,r,n,i,a){const s=e.Cc(1,t,r),o=[pR(t,n,r)],c=[i];if(a.length%2!=0)throw new it(je.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<a.length;h+=2)o.push(pR(t,a[h])),c.push(a[h+1]);const u=[],d=Ka.empty();for(let h=o.length-1;h>=0;--h)if(!DX(u,o[h])){const m=o[h];let g=c[h];g=$r(g);const p=s.yc(m);if(g instanceof pT)u.push(m);else{const v=mg(g,p);v!=null&&(u.push(m),d.set(m,v))}}const f=new Ts(u);return new jX(d,f,s.fieldTransforms)}function K_e(e,t,r,n=!1){return mg(r,e.Cc(n?4:3,t))}function mg(e,t){if(OX(e=$r(e)))return HD("Unsupported field value:",t,e),IX(e,t);if(e instanceof R1)return function(n,i){if(!PX(i.Ac))throw i.Sc(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return function(n,i){const a=[];let s=0;for(const o of n){let c=mg(o,i.wc(s));c==null&&(c={nullValue:"NULL_VALUE"}),a.push(c),s++}return{arrayValue:{values:a}}}(e,t)}return function(n,i){if((n=$r(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return Lbe(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=Ot.fromDate(n);return{timestampValue:PE(i.serializer,a)}}if(n instanceof Ot){const a=new Ot(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:PE(i.serializer,a)}}if(n instanceof Jl)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof oo)return{bytesValue:ZY(i.serializer,n._byteString)};if(n instanceof Dn){const a=i.databaseId,s=n.firestore._databaseId;if(!s.isEqual(a))throw i.Sc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:SD(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof ec)return function(s,o){return{mapValue:{fields:{[NY]:{stringValue:AY},[AE]:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw o.Sc("VectorValues must only contain numeric values.");return wD(o.serializer,u)})}}}}}}(n,i);throw i.Sc(`Unsupported field value: ${J2(n)}`)}(e,t)}function IX(e,t){const r={};return bY(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):hf(e,(n,i)=>{const a=mg(i,t.mc(n));a!=null&&(r[n]=a)}),{mapValue:{fields:r}}}function OX(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Ot||e instanceof Jl||e instanceof oo||e instanceof Dn||e instanceof R1||e instanceof ec)}function HD(e,t,r){if(!OX(r)||!yY(r)){const n=J2(r);throw n==="an object"?t.Sc(e+" a custom object"):t.Sc(e+" "+n)}}function pR(e,t,r){if((t=$r(t))instanceof P1)return t._internalPath;if(typeof t=="string")return qD(e,t);throw DE("Field path arguments must be of type string or ",e,!1,void 0,r)}const Y_e=new RegExp("[~\\*/\\[\\]]");function qD(e,t,r){if(t.search(Y_e)>=0)throw DE(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,r);try{return new P1(...t.split("."))._internalPath}catch{throw DE(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,r)}}function DE(e,t,r,n,i){const a=n&&!n.isEmpty(),s=i!==void 0;let o=`Function ${t}() called with invalid data`;r&&(o+=" (via `toFirestore()`)"),o+=". ";let c="";return(a||s)&&(c+=" (found",a&&(c+=` in field ${n}`),s&&(c+=` in document ${i}`),c+=")"),new it(je.INVALID_ARGUMENT,o+e+c)}function DX(e,t){return e.some(r=>r.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MX{constructor(t,r,n,i,a){this._firestore=t,this._userDataWriter=r,this._key=n,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Dn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new X_e(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const r=this._document.data.field(gT("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r)}}}class X_e extends MX{data(){return super.data()}}function gT(e,t){return typeof t=="string"?qD(e,t):t instanceof P1?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LX(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new it(je.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class GD{}class FX extends GD{}function ks(e,t,...r){let n=[];t instanceof GD&&n.push(t),n=n.concat(r),function(a){const s=a.filter(c=>c instanceof O1).length,o=a.filter(c=>c instanceof I1).length;if(s>1||s>0&&o>0)throw new it(je.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)e=i._apply(e);return e}class I1 extends FX{constructor(t,r,n){super(),this._field=t,this._op=r,this._value=n,this.type="where"}static _create(t,r,n){return new I1(t,r,n)}_apply(t){const r=this._parse(t);return BX(t._query,r),new pf(t.firestore,t.converter,iR(t._query,r))}_parse(t){const r=k1(t.firestore);return function(a,s,o,c,u,d,f){let h;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new it(je.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){C$(f,d);const g=[];for(const p of f)g.push(A$(c,a,p));h={arrayValue:{values:g}}}else h=A$(c,a,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||C$(f,d),h=K_e(o,s,f,d==="in"||d==="not-in");return Qn.create(u,d,h)}(t._query,"where",r,t.firestore._databaseId,this._field,this._op,this._value)}}function la(e,t,r){const n=t,i=gT("where",e);return I1._create(i,n,r)}class O1 extends GD{constructor(t,r){super(),this.type=t,this._queryConstraints=r}static _create(t,r){return new O1(t,r)}_parse(t){const r=this._queryConstraints.map(n=>n._parse(t)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:hl.create(r,this._getOperator())}_apply(t){const r=this._parse(t);return r.getFilters().length===0?t:(function(i,a){let s=i;const o=a.getFlattenedFilters();for(const c of o)BX(s,c),s=iR(s,c)}(t._query,r),new pf(t.firestore,t.converter,iR(t._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function $X(...e){return e.forEach(t=>Q_e("or",t)),O1._create("or",e)}class KD extends FX{constructor(t,r){super(),this._field=t,this._direction=r,this.type="orderBy"}static _create(t,r){return new KD(t,r)}_apply(t){const r=function(i,a,s){if(i.startAt!==null)throw new it(je.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new it(je.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new tx(a,s)}(t._query,this._field,this._direction);return new pf(t.firestore,t.converter,function(i,a){const s=i.explicitOrderBy.concat([a]);return new fg(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,r))}}function ix(e,t="asc"){const r=t,n=gT("orderBy",e);return KD._create(n,r)}function A$(e,t,r){if(typeof(r=$r(r))=="string"){if(r==="")throw new it(je.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!DY(t)&&r.indexOf("/")!==-1)throw new it(je.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=t.path.child(zr.fromString(r));if(!Et.isDocumentKey(n))throw new it(je.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return z6(e,new Et(n))}if(r instanceof Dn)return z6(e,r._key);throw new it(je.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${J2(r)}.`)}function C$(e,t){if(!Array.isArray(e)||e.length===0)throw new it(je.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function BX(e,t){const r=function(i,a){for(const s of i)for(const o of s.getFlattenedFilters())if(a.indexOf(o.op)>=0)return o.op;return null}(e.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(r!==null)throw r===t.op?new it(je.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new it(je.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${r.toString()}' filters.`)}function Q_e(e,t){if(!(t instanceof I1||t instanceof O1))throw new it(je.INVALID_ARGUMENT,`Function ${e}() requires AppliableConstraints created with a call to 'where(...)', 'or(...)', or 'and(...)'.`)}class Z_e{convertValue(t,r="none"){switch(qd(t)){case 0:return null;case 1:return t.booleanValue;case 2:return $n(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,r);case 5:return t.stringValue;case 6:return this.convertBytes(Hd(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,r);case 11:return this.convertObject(t.mapValue,r);case 10:return this.convertVectorValue(t.mapValue);default:throw Pt(62114,{value:t})}}convertObject(t,r){return this.convertObjectMap(t.fields,r)}convertObjectMap(t,r="none"){const n={};return hf(t,(i,a)=>{n[i]=this.convertValue(a,r)}),n}convertVectorValue(t){var n,i,a;const r=(a=(i=(n=t.fields)==null?void 0:n[AE].arrayValue)==null?void 0:i.values)==null?void 0:a.map(s=>$n(s.doubleValue));return new ec(r)}convertGeoPoint(t){return new Jl($n(t.latitude),$n(t.longitude))}convertArray(t,r){return(t.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(t,r){switch(r){case"previous":const n=rT(t);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(Zy(t));default:return null}}convertTimestamp(t){const r=Wd(t);return new Ot(r.seconds,r.nanos)}convertDocumentKey(t,r){const n=zr.fromString(t);Sr(iX(n),9688,{name:t});const i=new Jy(n.get(1),n.get(3)),a=new Et(n.popFirst(5));return i.isEqual(r)||vu(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YD(e,t,r){let n;return n=e?r&&(r.merge||r.mergeFields)?e.toFirestore(t,r):e.toFirestore(t):t,n}class Pv{constructor(t,r){this.hasPendingWrites=t,this.fromCache=r}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class vh extends MX{constructor(t,r,n,i,a,s){super(t,r,n,i,s),this._firestore=t,this._firestoreImpl=t,this.metadata=a}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const r=new w_(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,r={}){if(this._document){const n=this._document.data.field(gT("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new it(je.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,r={};return r.type=vh._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}vh._jsonSchemaVersion="firestore/documentSnapshot/1.0",vh._jsonSchema={type:Jn("string",vh._jsonSchemaVersion),bundleSource:Jn("string","DocumentSnapshot"),bundleName:Jn("string"),bundle:Jn("string")};class w_ extends vh{data(t={}){return super.data(t)}}class yh{constructor(t,r,n,i){this._firestore=t,this._userDataWriter=r,this._snapshot=i,this.metadata=new Pv(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const t=[];return this.forEach(r=>t.push(r)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,r){this._snapshot.docs.forEach(n=>{t.call(r,new w_(this._firestore,this._userDataWriter,n.key,n,new Pv(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const r=!!t.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new it(je.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(o=>{const c=new w_(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Pv(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>a||o.type!==3).map(o=>{const c=new w_(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Pv(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return o.type!==0&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),d=s.indexOf(o.doc.key)),{type:J_e(o.type),doc:c,oldIndex:u,newIndex:d}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new it(je.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=yh._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=pD.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],n=[],i=[];return this.docs.forEach(a=>{a._document!==null&&(r.push(a._document),n.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function J_e(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Pt(61501,{type:e})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ts(e){e=ja(e,Dn);const t=ja(e.firestore,hc);return B_e(j1(t),e._key).then(r=>VX(t,e,r))}yh._jsonSchemaVersion="firestore/querySnapshot/1.0",yh._jsonSchema={type:Jn("string",yh._jsonSchemaVersion),bundleSource:Jn("string","QuerySnapshot"),bundleName:Jn("string"),bundle:Jn("string")};class XD extends Z_e{constructor(t){super(),this.firestore=t}convertBytes(t){return new oo(t)}convertReference(t){const r=this.convertDocumentKey(t,this.firestore._databaseId);return new Dn(this.firestore,null,r)}}function Ia(e){e=ja(e,pf);const t=ja(e.firestore,hc),r=j1(t),n=new XD(t);return LX(e._query),V_e(r,e._query).then(i=>new yh(t,n,e,i))}function ME(e,t,r){e=ja(e,Dn);const n=ja(e.firestore,hc),i=YD(e.converter,t,r);return D1(n,[UD(k1(n),"setDoc",e._key,i,e.converter!==null,r).toMutation(e._key,Pa.none())])}function ur(e,t,r,...n){e=ja(e,Dn);const i=ja(e.firestore,hc),a=k1(i);let s;return s=typeof(t=$r(t))=="string"||t instanceof P1?kX(a,"updateDoc",e._key,t,r,n):RX(a,"updateDoc",e._key,t),D1(i,[s.toMutation(e._key,Pa.exists(!0))])}function gf(e){return D1(ja(e.firestore,hc),[new lT(e._key,Pa.none())])}function xu(e,t){const r=ja(e.firestore,hc),n=xt(e),i=YD(e.converter,t);return D1(r,[UD(k1(e.firestore),"addDoc",n._key,i,e.converter!==null,{}).toMutation(n._key,Pa.exists(!1))]).then(()=>n)}function vT(e,...t){var c,u,d;e=$r(e);let r={includeMetadataChanges:!1,source:"default"},n=0;typeof t[n]!="object"||N$(t[n])||(r=t[n++]);const i={includeMetadataChanges:r.includeMetadataChanges,source:r.source};if(N$(t[n])){const f=t[n];t[n]=(c=f.next)==null?void 0:c.bind(f),t[n+1]=(u=f.error)==null?void 0:u.bind(f),t[n+2]=(d=f.complete)==null?void 0:d.bind(f)}let a,s,o;if(e instanceof Dn)s=ja(e.firestore,hc),o=nT(e._key.path),a={next:f=>{t[n]&&t[n](VX(s,e,f))},error:t[n+1],complete:t[n+2]};else{const f=ja(e,pf);s=ja(f.firestore,hc),o=f._query;const h=new XD(s);a={next:m=>{t[n]&&t[n](new yh(s,h,f,m))},error:t[n+1],complete:t[n+2]},LX(e._query)}return function(h,m,g,p){const v=new VD(p),y=new FD(m,v,g);return h.asyncQueue.enqueueAndForget(async()=>DD(await OE(h),y)),()=>{v.Nu(),h.asyncQueue.enqueueAndForget(async()=>MD(await OE(h),y))}}(j1(s),o,i,a)}function D1(e,t){return function(n,i){const a=new Yc;return n.asyncQueue.enqueueAndForget(async()=>C_e(await $_e(n),i,a)),a.promise}(j1(e),t)}function VX(e,t,r){const n=r.docs.get(t._key),i=new XD(e);return new vh(e,i,t._key,n,new Pv(r.hasPendingWrites,r.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eEe{constructor(t,r){this._firestore=t,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=k1(t)}set(t,r,n){this._verifyNotCommitted();const i=JA(t,this._firestore),a=YD(i.converter,r,n),s=UD(this._dataReader,"WriteBatch.set",i._key,a,i.converter!==null,n);return this._mutations.push(s.toMutation(i._key,Pa.none())),this}update(t,r,n,...i){this._verifyNotCommitted();const a=JA(t,this._firestore);let s;return s=typeof(r=$r(r))=="string"||r instanceof P1?kX(this._dataReader,"WriteBatch.update",a._key,r,n,i):RX(this._dataReader,"WriteBatch.update",a._key,r),this._mutations.push(s.toMutation(a._key,Pa.exists(!0))),this}delete(t){this._verifyNotCommitted();const r=JA(t,this._firestore);return this._mutations=this._mutations.concat(new lT(r._key,Pa.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new it(je.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function JA(e,t){if((e=$r(e)).firestore!==t)throw new it(je.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}function tEe(){return new zD("serverTimestamp")}function v0(...e){return new WD("arrayUnion",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yT(e){return j1(e=ja(e,hc)),new eEe(e,t=>D1(e,t))}(function(t,r=!0){(function(i){cg=i})(am),Oh(new Ud("firestore",(n,{instanceIdentifier:i,options:a})=>{const s=n.getProvider("app").getImmediate(),o=new hc(new Y1e(n.getProvider("auth-internal")),new Z1e(s,n.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new it(je.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Jy(u.options.projectId,d)}(s,i),s);return a={useFetchStreams:r,...a},o._setSettings(a),o},"PUBLIC").setMultipleInstances(!0)),Yl(P6,R6,t),Yl(P6,R6,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UX="firebasestorage.googleapis.com",zX="storageBucket",rEe=2*60*1e3,nEe=10*60*1e3,iEe=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An extends yc{constructor(t,r,n=0){super(eC(t),`Firebase Storage: ${r} (${eC(t)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,An.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return eC(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var an;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(an||(an={}));function eC(e){return"storage/"+e}function QD(){const e="An unknown error occurred, please check the error payload for server response.";return new An(an.UNKNOWN,e)}function aEe(e){return new An(an.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function sEe(e){return new An(an.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function oEe(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new An(an.UNAUTHENTICATED,e)}function lEe(){return new An(an.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function cEe(e){return new An(an.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function WX(){return new An(an.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function HX(){return new An(an.CANCELED,"User canceled the upload/download.")}function uEe(e){return new An(an.INVALID_URL,"Invalid URL '"+e+"'.")}function dEe(e){return new An(an.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function fEe(){return new An(an.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+zX+"' property when initializing the app?")}function qX(){return new An(an.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function hEe(){return new An(an.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function mEe(){return new An(an.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function pEe(e){return new An(an.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function gR(e){return new An(an.INVALID_ARGUMENT,e)}function GX(){return new An(an.APP_DELETED,"The Firebase app was deleted.")}function gEe(e){return new An(an.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ny(e,t){return new An(an.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function iv(e){throw new An(an.INTERNAL_ERROR,"Internal error: "+e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(t,r){this.bucket=t,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,r){let n;try{n=Na.makeFromUrl(t,r)}catch{return new Na(t,"")}if(n.path==="")return n;throw dEe(t)}static makeFromUrl(t,r){let n=null;const i="([A-Za-z0-9.\\-_]+)";function a(N){N.path.charAt(N.path.length-1)==="/"&&(N.path_=N.path_.slice(0,-1))}const s="(/(.*))?$",o=new RegExp("^gs://"+i+s,"i"),c={bucket:1,path:3};function u(N){N.path_=decodeURIComponent(N.path)}const d="v[A-Za-z0-9_]+",f=r.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",m=new RegExp(`^https?://${f}/${d}/b/${i}/o${h}`,"i"),g={bucket:1,path:3},p=r===UX?"(?:storage.googleapis.com|storage.cloud.google.com)":r,v="([^?#]*)",y=new RegExp(`^https?://${p}/${i}/${v}`,"i"),w=[{regex:o,indices:c,postModify:a},{regex:m,indices:g,postModify:u},{regex:y,indices:{bucket:1,path:2},postModify:u}];for(let N=0;N<w.length;N++){const E=w[N],T=E.regex.exec(t);if(T){const S=T[E.indices.bucket];let A=T[E.indices.path];A||(A=""),n=new Na(S,A),E.postModify(n);break}}if(n==null)throw uEe(t);return n}}class vEe{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yEe(e,t,r){let n=1,i=null,a=null,s=!1,o=0;function c(){return o===2}let u=!1;function d(...v){u||(u=!0,t.apply(null,v))}function f(v){i=setTimeout(()=>{i=null,e(m,c())},v)}function h(){a&&clearTimeout(a)}function m(v,...y){if(u){h();return}if(v){h(),d.call(null,v,...y);return}if(c()||s){h(),d.call(null,v,...y);return}n<64&&(n*=2);let w;o===1?(o=2,w=0):w=(n+Math.random())*1e3,f(w)}let g=!1;function p(v){g||(g=!0,h(),!u&&(i!==null?(v||(o=2),clearTimeout(i),f(0)):v||(o=1)))}return f(0),a=setTimeout(()=>{s=!0,p(!0)},r),p}function xEe(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bEe(e){return e!==void 0}function wEe(e){return typeof e=="function"}function _Ee(e){return typeof e=="object"&&!Array.isArray(e)}function xT(e){return typeof e=="string"||e instanceof String}function j$(e){return ZD()&&e instanceof Blob}function ZD(){return typeof Blob<"u"}function vR(e,t,r,n){if(n<t)throw gR(`Invalid value for '${e}'. Expected ${t} or greater.`);if(n>r)throw gR(`Invalid value for '${e}'. Expected ${r} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lm(e,t,r){let n=t;return r==null&&(n=`https://${t}`),`${r}://${n}/v0${e}`}function KX(e){const t=encodeURIComponent;let r="?";for(const n in e)if(e.hasOwnProperty(n)){const i=t(n)+"="+t(e[n]);r=r+i+"&"}return r=r.slice(0,-1),r}var xh;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(xh||(xh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YX(e,t){const r=e>=500&&e<600,i=[408,429].indexOf(e)!==-1,a=t.indexOf(e)!==-1;return r||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EEe{constructor(t,r,n,i,a,s,o,c,u,d,f,h=!0,m=!1){this.url_=t,this.method_=r,this.headers_=n,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=s,this.callback_=o,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=f,this.retry=h,this.isUsingEmulator=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,p)=>{this.resolve_=g,this.reject_=p,this.start_()})}start_(){const t=(n,i)=>{if(i){n(!1,new sw(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const s=o=>{const c=o.loaded,u=o.lengthComputable?o.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&a.addUploadProgressListener(s),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(s),this.pendingConnection_=null;const o=a.getErrorCode()===xh.NO_ERROR,c=a.getStatus();if(!o||YX(c,this.additionalRetryCodes_)&&this.retry){const d=a.getErrorCode()===xh.ABORT;n(!1,new sw(!1,null,d));return}const u=this.successCodes_.indexOf(c)!==-1;n(!0,new sw(u,a))})},r=(n,i)=>{const a=this.resolve_,s=this.reject_,o=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(o,o.getResponse());bEe(c)?a(c):a()}catch(c){s(c)}else if(o!==null){const c=QD();c.serverResponse=o.getErrorText(),this.errorCallback_?s(this.errorCallback_(o,c)):s(c)}else if(i.canceled){const c=this.appDelete_?GX():HX();s(c)}else{const c=WX();s(c)}};this.canceled_?r(!1,new sw(!1,null,!0)):this.backoffId_=yEe(t,r,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&xEe(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class sw{constructor(t,r,n){this.wasSuccessCode=t,this.connection=r,this.canceled=!!n}}function SEe(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function TEe(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function NEe(e,t){t&&(e["X-Firebase-GMPID"]=t)}function AEe(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function CEe(e,t,r,n,i,a,s=!0,o=!1){const c=KX(e.urlParams),u=e.url+c,d=Object.assign({},e.headers);return NEe(d,t),SEe(d,r),TEe(d,a),AEe(d,n),new EEe(u,e.method,d,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jEe(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function PEe(...e){const t=jEe();if(t!==void 0){const r=new t;for(let n=0;n<e.length;n++)r.append(e[n]);return r.getBlob()}else{if(ZD())return new Blob(e);throw new An(an.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function REe(e,t,r){return e.webkitSlice?e.webkitSlice(t,r):e.mozSlice?e.mozSlice(t,r):e.slice?e.slice(t,r):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kEe(e){if(typeof atob>"u")throw pEe("base-64");return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bl={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class tC{constructor(t,r){this.data=t,this.contentType=r||null}}function IEe(e,t){switch(e){case Bl.RAW:return new tC(XX(t));case Bl.BASE64:case Bl.BASE64URL:return new tC(QX(e,t));case Bl.DATA_URL:return new tC(DEe(t),MEe(t))}throw QD()}function XX(e){const t=[];for(let r=0;r<e.length;r++){let n=e.charCodeAt(r);if(n<=127)t.push(n);else if(n<=2047)t.push(192|n>>6,128|n&63);else if((n&64512)===55296)if(!(r<e.length-1&&(e.charCodeAt(r+1)&64512)===56320))t.push(239,191,189);else{const a=n,s=e.charCodeAt(++r);n=65536|(a&1023)<<10|s&1023,t.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|n&63)}else(n&64512)===56320?t.push(239,191,189):t.push(224|n>>12,128|n>>6&63,128|n&63)}return new Uint8Array(t)}function OEe(e){let t;try{t=decodeURIComponent(e)}catch{throw ny(Bl.DATA_URL,"Malformed data URL.")}return XX(t)}function QX(e,t){switch(e){case Bl.BASE64:{const i=t.indexOf("-")!==-1,a=t.indexOf("_")!==-1;if(i||a)throw ny(e,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Bl.BASE64URL:{const i=t.indexOf("+")!==-1,a=t.indexOf("/")!==-1;if(i||a)throw ny(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let r;try{r=kEe(t)}catch(i){throw i.message.includes("polyfill")?i:ny(e,"Invalid character found")}const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}class ZX{constructor(t){this.base64=!1,this.contentType=null;const r=t.match(/^data:([^,]+)?,/);if(r===null)throw ny(Bl.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=r[1]||null;n!=null&&(this.base64=LEe(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=t.substring(t.indexOf(",")+1)}}function DEe(e){const t=new ZX(e);return t.base64?QX(Bl.BASE64,t.rest):OEe(t.rest)}function MEe(e){return new ZX(e).contentType}function LEe(e,t){return e.length>=t.length?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(t,r){let n=0,i="";j$(t)?(this.data_=t,n=t.size,i=t.type):t instanceof ArrayBuffer?(r?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(r?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=i}size(){return this.size_}type(){return this.type_}slice(t,r){if(j$(this.data_)){const n=this.data_,i=REe(n,t,r);return i===null?null:new Mc(i)}else{const n=new Uint8Array(this.data_.buffer,t,r-t);return new Mc(n,!0)}}static getBlob(...t){if(ZD()){const r=t.map(n=>n instanceof Mc?n.data_:n);return new Mc(PEe.apply(null,r))}else{const r=t.map(s=>xT(s)?IEe(Bl.RAW,s).data:s.data_);let n=0;r.forEach(s=>{n+=s.byteLength});const i=new Uint8Array(n);let a=0;return r.forEach(s=>{for(let o=0;o<s.length;o++)i[a++]=s[o]}),new Mc(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JD(e){let t;try{t=JSON.parse(e)}catch{return null}return _Ee(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FEe(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function $Ee(e,t){const r=t.split("/").filter(n=>n.length>0).join("/");return e.length===0?r:e+"/"+r}function JX(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BEe(e,t){return t}class pa{constructor(t,r,n,i){this.server=t,this.local=r||t,this.writable=!!n,this.xform=i||BEe}}let ow=null;function VEe(e){return!xT(e)||e.length<2?e:JX(e)}function e4(){if(ow)return ow;const e=[];e.push(new pa("bucket")),e.push(new pa("generation")),e.push(new pa("metageneration")),e.push(new pa("name","fullPath",!0));function t(a,s){return VEe(s)}const r=new pa("name");r.xform=t,e.push(r);function n(a,s){return s!==void 0?Number(s):s}const i=new pa("size");return i.xform=n,e.push(i),e.push(new pa("timeCreated")),e.push(new pa("updated")),e.push(new pa("md5Hash",null,!0)),e.push(new pa("cacheControl",null,!0)),e.push(new pa("contentDisposition",null,!0)),e.push(new pa("contentEncoding",null,!0)),e.push(new pa("contentLanguage",null,!0)),e.push(new pa("contentType",null,!0)),e.push(new pa("metadata","customMetadata",!0)),ow=e,ow}function UEe(e,t){function r(){const n=e.bucket,i=e.fullPath,a=new Na(n,i);return t._makeStorageReference(a)}Object.defineProperty(e,"ref",{get:r})}function zEe(e,t,r){const n={};n.type="file";const i=r.length;for(let a=0;a<i;a++){const s=r[a];n[s.local]=s.xform(n,t[s.server])}return UEe(n,e),n}function eQ(e,t,r){const n=JD(t);return n===null?null:zEe(e,n,r)}function WEe(e,t,r,n){const i=JD(t);if(i===null||!xT(i.downloadTokens))return null;const a=i.downloadTokens;if(a.length===0)return null;const s=encodeURIComponent;return a.split(",").map(u=>{const d=e.bucket,f=e.fullPath,h="/b/"+s(d)+"/o/"+s(f),m=lm(h,r,n),g=KX({alt:"media",token:u});return m+g})[0]}function tQ(e,t){const r={},n=t.length;for(let i=0;i<n;i++){const a=t[i];a.writable&&(r[a.server]=e[a.local])}return JSON.stringify(r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P$="prefixes",R$="items";function HEe(e,t,r){const n={prefixes:[],items:[],nextPageToken:r.nextPageToken};if(r[P$])for(const i of r[P$]){const a=i.replace(/\/$/,""),s=e._makeStorageReference(new Na(t,a));n.prefixes.push(s)}if(r[R$])for(const i of r[R$]){const a=e._makeStorageReference(new Na(t,i.name));n.items.push(a)}return n}function qEe(e,t,r){const n=JD(r);return n===null?null:HEe(e,t,n)}class vf{constructor(t,r,n,i){this.url=t,this.method=r,this.handler=n,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tc(e){if(!e)throw QD()}function t4(e,t){function r(n,i){const a=eQ(e,i,t);return tc(a!==null),a}return r}function GEe(e,t){function r(n,i){const a=qEe(e,t,i);return tc(a!==null),a}return r}function KEe(e,t){function r(n,i){const a=eQ(e,i,t);return tc(a!==null),WEe(a,i,e.host,e._protocol)}return r}function pg(e){function t(r,n){let i;return r.getStatus()===401?r.getErrorText().includes("Firebase App Check token is invalid")?i=lEe():i=oEe():r.getStatus()===402?i=sEe(e.bucket):r.getStatus()===403?i=cEe(e.path):i=n,i.status=r.getStatus(),i.serverResponse=n.serverResponse,i}return t}function r4(e){const t=pg(e);function r(n,i){let a=t(n,i);return n.getStatus()===404&&(a=aEe(e.path)),a.serverResponse=i.serverResponse,a}return r}function YEe(e,t,r){const n=t.fullServerUrl(),i=lm(n,e.host,e._protocol),a="GET",s=e.maxOperationRetryTime,o=new vf(i,a,t4(e,r),s);return o.errorHandler=r4(t),o}function XEe(e,t,r,n,i){const a={};t.isRoot?a.prefix="":a.prefix=t.path+"/",r.length>0&&(a.delimiter=r),n&&(a.pageToken=n),i&&(a.maxResults=i);const s=t.bucketOnlyServerUrl(),o=lm(s,e.host,e._protocol),c="GET",u=e.maxOperationRetryTime,d=new vf(o,c,GEe(e,t.bucket),u);return d.urlParams=a,d.errorHandler=pg(t),d}function QEe(e,t,r){const n=t.fullServerUrl(),i=lm(n,e.host,e._protocol),a="GET",s=e.maxOperationRetryTime,o=new vf(i,a,KEe(e,r),s);return o.errorHandler=r4(t),o}function ZEe(e,t){const r=t.fullServerUrl(),n=lm(r,e.host,e._protocol),i="DELETE",a=e.maxOperationRetryTime;function s(c,u){}const o=new vf(n,i,s,a);return o.successCodes=[200,204],o.errorHandler=r4(t),o}function JEe(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function rQ(e,t,r){const n=Object.assign({},r);return n.fullPath=e.path,n.size=t.size(),n.contentType||(n.contentType=JEe(null,t)),n}function nQ(e,t,r,n,i){const a=t.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function o(){let w="";for(let N=0;N<2;N++)w=w+Math.random().toString().slice(2);return w}const c=o();s["Content-Type"]="multipart/related; boundary="+c;const u=rQ(t,n,i),d=tQ(u,r),f="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+c+`\r
Content-Type: `+u.contentType+`\r
\r
`,h=`\r
--`+c+"--",m=Mc.getBlob(f,n,h);if(m===null)throw qX();const g={name:u.fullPath},p=lm(a,e.host,e._protocol),v="POST",y=e.maxUploadRetryTime,x=new vf(p,v,t4(e,r),y);return x.urlParams=g,x.headers=s,x.body=m.uploadData(),x.errorHandler=pg(t),x}class LE{constructor(t,r,n,i){this.current=t,this.total=r,this.finalized=!!n,this.metadata=i||null}}function n4(e,t){let r=null;try{r=e.getResponseHeader("X-Goog-Upload-Status")}catch{tc(!1)}return tc(!!r&&(t||["active"]).indexOf(r)!==-1),r}function eSe(e,t,r,n,i){const a=t.bucketOnlyServerUrl(),s=rQ(t,n,i),o={name:s.fullPath},c=lm(a,e.host,e._protocol),u="POST",d={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n.size()}`,"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},f=tQ(s,r),h=e.maxUploadRetryTime;function m(p){n4(p);let v;try{v=p.getResponseHeader("X-Goog-Upload-URL")}catch{tc(!1)}return tc(xT(v)),v}const g=new vf(c,u,m,h);return g.urlParams=o,g.headers=d,g.body=f,g.errorHandler=pg(t),g}function tSe(e,t,r,n){const i={"X-Goog-Upload-Command":"query"};function a(u){const d=n4(u,["active","final"]);let f=null;try{f=u.getResponseHeader("X-Goog-Upload-Size-Received")}catch{tc(!1)}f||tc(!1);const h=Number(f);return tc(!isNaN(h)),new LE(h,n.size(),d==="final")}const s="POST",o=e.maxUploadRetryTime,c=new vf(r,s,a,o);return c.headers=i,c.errorHandler=pg(t),c}const k$=256*1024;function rSe(e,t,r,n,i,a,s,o){const c=new LE(0,0);if(s?(c.current=s.current,c.total=s.total):(c.current=0,c.total=n.size()),n.size()!==c.total)throw hEe();const u=c.total-c.current;let d=u;i>0&&(d=Math.min(d,i));const f=c.current,h=f+d;let m="";d===0?m="finalize":u===d?m="upload, finalize":m="upload";const g={"X-Goog-Upload-Command":m,"X-Goog-Upload-Offset":`${c.current}`},p=n.slice(f,h);if(p===null)throw qX();function v(N,E){const T=n4(N,["active","final"]),S=c.current+d,A=n.size();let C;return T==="final"?C=t4(t,a)(N,E):C=null,new LE(S,A,T==="final",C)}const y="POST",x=t.maxUploadRetryTime,w=new vf(r,y,v,x);return w.headers=g,w.body=p.uploadData(),w.progressCallback=o||null,w.errorHandler=pg(e),w}const Ha={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function rC(e){switch(e){case"running":case"pausing":case"canceling":return Ha.RUNNING;case"paused":return Ha.PAUSED;case"success":return Ha.SUCCESS;case"canceled":return Ha.CANCELED;case"error":return Ha.ERROR;default:return Ha.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nSe{constructor(t,r,n){if(wEe(t)||r!=null||n!=null)this.next=t,this.error=r??void 0,this.complete=n??void 0;else{const a=t;this.next=a.next,this.error=a.error,this.complete=a.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Am(e){return(...t)=>{Promise.resolve().then(()=>e(...t))}}class iSe{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=xh.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=xh.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=xh.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,r,n,i,a){if(this.sent_)throw iv("cannot .send() more than once");if(ff(t)&&n&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(r,t,!0),a!==void 0)for(const s in a)a.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,a[s].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw iv("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw iv("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw iv("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw iv("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class aSe extends iSe{initXhr(){this.xhr_.responseType="text"}}function Lc(){return new aSe}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sSe{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(t,r,n=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=r,this._metadata=n,this._mappings=e4(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(an.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const a=this.isExponentialBackoffExpired();if(YX(i.status,[]))if(a)i=WX();else{this.sleepTime=Math.max(this.sleepTime*2,iEe),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(an.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,a)=>{this._resolve=i,this._reject=a,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const t=this._transferred;return r=>this._updateProgress(t+r)}_shouldDoResumable(t){return t.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([r,n])=>{switch(this._state){case"running":t(r,n);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((t,r)=>{const n=eSe(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(n,Lc,t,r);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._uploadUrl=a,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const t=this._uploadUrl;this._resolveToken((r,n)=>{const i=tSe(this._ref.storage,this._ref._location,t,this._blob),a=this._ref.storage._makeRequest(i,Lc,r,n);this._request=a,a.getPromise().then(s=>{s=s,this._request=void 0,this._updateProgress(s.current),this._needToFetchStatus=!1,s.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const t=k$*this._chunkMultiplier,r=new LE(this._transferred,this._blob.size()),n=this._uploadUrl;this._resolveToken((i,a)=>{let s;try{s=rSe(this._ref._location,this._ref.storage,n,this._blob,t,this._mappings,r,this._makeProgressCallback())}catch(c){this._error=c,this._transition("error");return}const o=this._ref.storage._makeRequest(s,Lc,i,a,!1);this._request=o,o.getPromise().then(c=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(c.current),c.finalized?(this._metadata=c.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){k$*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((t,r)=>{const n=YEe(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(n,Lc,t,r);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((t,r)=>{const n=nQ(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(n,Lc,t,r);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(t){const r=this._transferred;this._transferred=t,this._transferred!==r&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const r=this._state==="paused";this._state=t,r&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=HX(),this._state=t,this._notifyObservers();break;case"error":this._state=t,this._notifyObservers();break;case"success":this._state=t,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const t=rC(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,r,n,i){const a=new nSe(r||void 0,n||void 0,i||void 0);return this._addObserver(a),()=>{this._removeObserver(a)}}then(t,r){return this._promise.then(t,r)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const r=this._observers.indexOf(t);r!==-1&&this._observers.splice(r,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(r=>{this._notifyObserver(r)})}_finishPromise(){if(this._resolve!==void 0){let t=!0;switch(rC(this._state)){case Ha.SUCCESS:Am(this._resolve.bind(null,this.snapshot))();break;case Ha.CANCELED:case Ha.ERROR:const r=this._reject;Am(r.bind(null,this._error))();break;default:t=!1;break}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(rC(this._state)){case Ha.RUNNING:case Ha.PAUSED:t.next&&Am(t.next.bind(t,this.snapshot))();break;case Ha.SUCCESS:t.complete&&Am(t.complete.bind(t))();break;case Ha.CANCELED:case Ha.ERROR:t.error&&Am(t.error.bind(t,this._error))();break;default:t.error&&Am(t.error.bind(t,this._error))()}}resume(){const t=this._state==="paused"||this._state==="pausing";return t&&this._transition("running"),t}pause(){const t=this._state==="running";return t&&this._transition("pausing"),t}cancel(){const t=this._state==="running"||this._state==="pausing";return t&&this._transition("canceling"),t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(t,r){this._service=t,r instanceof Na?this._location=r:this._location=Na.makeFromUrl(r,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,r){return new Fh(t,r)}get root(){const t=new Na(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return JX(this._location.path)}get storage(){return this._service}get parent(){const t=FEe(this._location.path);if(t===null)return null;const r=new Na(this._location.bucket,t);return new Fh(this._service,r)}_throwIfRoot(t){if(this._location.path==="")throw gEe(t)}}function oSe(e,t,r){e._throwIfRoot("uploadBytes");const n=nQ(e.storage,e._location,e4(),new Mc(t,!0),r);return e.storage.makeRequestWithTokens(n,Lc).then(i=>({metadata:i,ref:e}))}function lSe(e,t,r){return e._throwIfRoot("uploadBytesResumable"),new sSe(e,new Mc(t),r)}function cSe(e){const t={prefixes:[],items:[]};return iQ(e,t).then(()=>t)}async function iQ(e,t,r){const i=await uSe(e,{pageToken:r});t.prefixes.push(...i.prefixes),t.items.push(...i.items),i.nextPageToken!=null&&await iQ(e,t,i.nextPageToken)}function uSe(e,t){t!=null&&typeof t.maxResults=="number"&&vR("options.maxResults",1,1e3,t.maxResults);const r=t||{},n=XEe(e.storage,e._location,"/",r.pageToken,r.maxResults);return e.storage.makeRequestWithTokens(n,Lc)}function dSe(e){e._throwIfRoot("getDownloadURL");const t=QEe(e.storage,e._location,e4());return e.storage.makeRequestWithTokens(t,Lc).then(r=>{if(r===null)throw mEe();return r})}function fSe(e){e._throwIfRoot("deleteObject");const t=ZEe(e.storage,e._location);return e.storage.makeRequestWithTokens(t,Lc)}function hSe(e,t){const r=$Ee(e._location.path,t),n=new Na(e._location.bucket,r);return new Fh(e.storage,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mSe(e){return/^[A-Za-z]+:\/\//.test(e)}function pSe(e,t){return new Fh(e,t)}function aQ(e,t){if(e instanceof i4){const r=e;if(r._bucket==null)throw fEe();const n=new Fh(r,r._bucket);return t!=null?aQ(n,t):n}else return t!==void 0?hSe(e,t):e}function gSe(e,t){if(t&&mSe(t)){if(e instanceof i4)return pSe(e,t);throw gR("To use ref(service, url), the first argument must be a Storage instance.")}else return aQ(e,t)}function I$(e,t){const r=t==null?void 0:t[zX];return r==null?null:Na.makeFromBucketSpec(r,e)}function vSe(e,t,r,n={}){e.host=`${t}:${r}`;const i=ff(t);i&&(JO(`https://${e.host}/b`),eD("Storage",!0)),e._isUsingEmulator=!0,e._protocol=i?"https":"http";const{mockUserToken:a}=n;a&&(e._overrideAuthToken=typeof a=="string"?a:AK(a,e.app.options.projectId))}class i4{constructor(t,r,n,i,a,s=!1){this.app=t,this._authProvider=r,this._appCheckProvider=n,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=s,this._bucket=null,this._host=UX,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=rEe,this._maxUploadRetryTime=nEe,this._requests=new Set,i!=null?this._bucket=Na.makeFromBucketSpec(i,this._host):this._bucket=I$(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Na.makeFromBucketSpec(this._url,t):this._bucket=I$(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){vR("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){vR("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const r=await t.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){if(so(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Fh(this,t)}_makeRequest(t,r,n,i,a=!0){if(this._deleted)return new vEe(GX());{const s=CEe(t,this._appId,n,i,r,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(t,r){const[n,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,r,n,i).getPromise()}}const O$="@firebase/storage",D$="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sQ="storage";function a4(e,t,r){return e=$r(e),oSe(e,t,r)}function ySe(e,t,r){return e=$r(e),lSe(e,t,r)}function oQ(e){return e=$r(e),cSe(e)}function y0(e){return e=$r(e),dSe(e)}function s4(e){return e=$r(e),fSe(e)}function Xc(e,t){return e=$r(e),gSe(e,t)}function lQ(e=nD(),t){e=$r(e);const n=Y2(e,sQ).getImmediate({identifier:t}),i=SK("storage");return i&&xSe(n,...i),n}function xSe(e,t,r,n={}){vSe(e,t,r,n)}function bSe(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),n=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new i4(r,n,i,t,am)}function wSe(){Oh(new Ud(sQ,bSe,"PUBLIC").setMultipleInstances(!0)),Yl(O$,D$,""),Yl(O$,D$,"esm2020")}wSe();const _Se={apiKey:"AIzaSyBa-bbn3UllojrA9z23jsBEDrytq0X978c",authDomain:"plataforma-eccos-232ee.firebaseapp.com",projectId:"plataforma-eccos-232ee",storageBucket:"plataforma-eccos-232ee.firebasestorage.app",messagingSenderId:"347524267259",appId:"1:347524267259:web:9042fa48eb19caec01445e"},M1=PK(_Se),Cc=z1e(M1),cQ=new Dc,Ze=CX(M1),x0=lQ(M1);cQ.setCustomParameters({hd:"colegioeccos.com.br"});const uQ=b.createContext(null);function ESe({children:e}){const[t,r]=b.useState(null),[n,i]=b.useState({}),[a,s]=b.useState(!0),{toast:o}=So(),c=(t==null?void 0:t.email)==="suporte@colegioeccos.com.br",u=c||n.dashboard,d=b.useCallback(x=>{r(w=>w?{...w,...x}:null)},[]),f=b.useCallback(async x=>{try{if(x==="superadmin"){i({all:!0});return}const w=xt(Ze,"roles",x),N=await ts(w);if(N.exists()){const E=N.data();i(E.permissions||{})}else i({})}catch(w){console.error("Error loading permissions:",w),i({})}},[]),h=b.useCallback(async()=>{t!=null&&t.role&&await f(t.role)},[t==null?void 0:t.role,f]),m=b.useCallback(async()=>{var x;if(!((x=Cc.currentUser)!=null&&x.uid)){r(null),i({});return}try{const w=xt(Ze,"users",Cc.currentUser.uid),N=await ts(w);if(N.exists()){const E=N.data();r(E),await f(E.role)}}catch(w){console.error("Error refreshing user:",w),o({title:"Erro",description:"Falha ao atualizar dados do usuário",variant:"destructive"})}},[f,o]),g=b.useCallback(async x=>{try{const w=xt(Ze,"users",x.uid),N=await ts(w);let E;if(N.exists()){if(E=N.data(),x.email==="suporte@colegioeccos.com.br"&&(E.role="superadmin"),E.blocked)return await ew(Cc),o({title:"Acesso bloqueado",description:"Sua conta foi bloqueada.",variant:"destructive"}),null;await ur(w,{lastActive:new Date,role:E.role})}else{const T=x.email==="suporte@colegioeccos.com.br"?"superadmin":"user";E={uid:x.uid,email:x.email||"",displayName:x.displayName||"Usuário sem nome",photoURL:x.photoURL,role:T,blocked:!1,lastActive:new Date,createdAt:new Date},await ME(w,E)}return{...E,uid:x.uid,email:x.email||""}}catch(w){return console.error("Error handling user document:",w),o({title:"Erro de acesso",description:"Falha ao carregar seus dados.",variant:"destructive"}),null}},[o]);b.useEffect(()=>{let x=!0;const w=kxe(Cc,async N=>{var E;if(x){s(!0);try{if(N){if(!((E=N.email)!=null&&E.endsWith("@colegioeccos.com.br"))){await ew(Cc),o({title:"Acesso negado",description:"Domínio inválido.",variant:"destructive"});return}const T=await g(N);T&&x&&(r(T),await f(T.role))}else r(null),i({})}catch(T){console.error("Auth state error:",T)}finally{x&&s(!1)}}});return()=>{x=!1,w()}},[g,f,o]),b.useEffect(()=>{const x=async()=>{await m(),await h()};return window.addEventListener("userRoleChanged",x),()=>{window.removeEventListener("userRoleChanged",x)}},[m,h]);const p=b.useCallback(async()=>{var x;try{(x=(await Zxe(Cc,cQ)).user.email)!=null&&x.endsWith("@colegioeccos.com.br")||(await ew(Cc),o({title:"Domínio inválido",description:"Email não permitido.",variant:"destructive"}))}catch(w){o({title:"Erro no login",description:w.message||"Falha no login",variant:"destructive"})}},[o]),v=b.useCallback(async()=>{await ew(Cc),r(null),i({}),o({title:"Logout realizado"})},[o]),y={currentUser:t,userPermissions:n,loading:a,signInWithGoogle:p,signOut:v,isSuperAdmin:c,updateUserData:d,hasDashboardPermission:u,refreshUser:m,reloadPermissions:h};return l.jsx(uQ.Provider,{value:y,children:!a&&e})}function Mr(){const e=b.useContext(uQ);if(!e)throw new Error("useAuth must be used within AuthProvider");return e}const Ln=({children:e,requiredPermission:t})=>{const{currentUser:r,userPermissions:n,isSuperAdmin:i,loading:a}=Mr(),s=ls();if(b.useEffect(()=>{!a&&!r&&sessionStorage.removeItem("redirectPath")},[a,r]),a)return l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsx("div",{className:"animate-spin h-12 w-12 border-t-2 border-b-2 border-eccos-blue rounded-full"})});if(!r){const o=s.pathname.replace(/^\/+/g,"");return sessionStorage.setItem("redirectPath",o),l.jsx(Xv,{to:"/login",replace:!0})}return i&&s.pathname==="/"?l.jsx(Xv,{to:"/dashboard",replace:!0}):i?l.jsx(l.Fragment,{children:e}):t&&!n[t]?l.jsx(Xv,{to:"/unauthorized",replace:!0}):l.jsx(l.Fragment,{children:e})};var SSe=b.createContext(void 0);function bT(e){const t=b.useContext(SSe);return e||t||"ltr"}var nC=0;function wT(){b.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??M$()),document.body.insertAdjacentElement("beforeend",e[1]??M$()),nC++,()=>{nC===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),nC--}},[])}function M$(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var iC="focusScope.autoFocusOnMount",aC="focusScope.autoFocusOnUnmount",L$={bubbles:!1,cancelable:!0},TSe="FocusScope",L1=b.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...s}=e,[o,c]=b.useState(null),u=is(i),d=is(a),f=b.useRef(null),h=Jt(t,p=>c(p)),m=b.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;b.useEffect(()=>{if(n){let p=function(w){if(m.paused||!o)return;const N=w.target;o.contains(N)?f.current=N:Hu(f.current,{select:!0})},v=function(w){if(m.paused||!o)return;const N=w.relatedTarget;N!==null&&(o.contains(N)||Hu(f.current,{select:!0}))},y=function(w){if(document.activeElement===document.body)for(const E of w)E.removedNodes.length>0&&Hu(o)};document.addEventListener("focusin",p),document.addEventListener("focusout",v);const x=new MutationObserver(y);return o&&x.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",v),x.disconnect()}}},[n,o,m.paused]),b.useEffect(()=>{if(o){$$.add(m);const p=document.activeElement;if(!o.contains(p)){const y=new CustomEvent(iC,L$);o.addEventListener(iC,u),o.dispatchEvent(y),y.defaultPrevented||(NSe(RSe(dQ(o)),{select:!0}),document.activeElement===p&&Hu(o))}return()=>{o.removeEventListener(iC,u),setTimeout(()=>{const y=new CustomEvent(aC,L$);o.addEventListener(aC,d),o.dispatchEvent(y),y.defaultPrevented||Hu(p??document.body,{select:!0}),o.removeEventListener(aC,d),$$.remove(m)},0)}}},[o,u,d,m]);const g=b.useCallback(p=>{if(!r&&!n||m.paused)return;const v=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,y=document.activeElement;if(v&&y){const x=p.currentTarget,[w,N]=ASe(x);w&&N?!p.shiftKey&&y===N?(p.preventDefault(),r&&Hu(w,{select:!0})):p.shiftKey&&y===w&&(p.preventDefault(),r&&Hu(N,{select:!0})):y===x&&p.preventDefault()}},[r,n,m.paused]);return l.jsx(wt.div,{tabIndex:-1,...s,ref:h,onKeyDown:g})});L1.displayName=TSe;function NSe(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Hu(n,{select:t}),document.activeElement!==r)return}function ASe(e){const t=dQ(e),r=F$(t,e),n=F$(t.reverse(),e);return[r,n]}function dQ(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function F$(e,t){for(const r of e)if(!CSe(r,{upTo:t}))return r}function CSe(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function jSe(e){return e instanceof HTMLInputElement&&"select"in e}function Hu(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&jSe(e)&&t&&e.select()}}var $$=PSe();function PSe(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=B$(e,t),e.unshift(t)},remove(t){var r;e=B$(e,t),(r=e[0])==null||r.resume()}}}function B$(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function RSe(e){return e.filter(t=>t.tagName!=="A")}var sC="rovingFocusGroup.onEntryFocus",kSe={bubbles:!1,cancelable:!0},F1="RovingFocusGroup",[yR,fQ,ISe]=j2(F1),[OSe,_T]=$s(F1,[ISe]),[DSe,MSe]=OSe(F1),hQ=b.forwardRef((e,t)=>l.jsx(yR.Provider,{scope:e.__scopeRovingFocusGroup,children:l.jsx(yR.Slot,{scope:e.__scopeRovingFocusGroup,children:l.jsx(LSe,{...e,ref:t})})}));hQ.displayName=F1;var LSe=b.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:a,currentTabStopId:s,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=b.useRef(null),m=Jt(t,h),g=bT(a),[p,v]=du({prop:s,defaultProp:o??null,onChange:c,caller:F1}),[y,x]=b.useState(!1),w=is(u),N=fQ(r),E=b.useRef(!1),[T,S]=b.useState(0);return b.useEffect(()=>{const A=h.current;if(A)return A.addEventListener(sC,w),()=>A.removeEventListener(sC,w)},[w]),l.jsx(DSe,{scope:r,orientation:n,dir:g,loop:i,currentTabStopId:p,onItemFocus:b.useCallback(A=>v(A),[v]),onItemShiftTab:b.useCallback(()=>x(!0),[]),onFocusableItemAdd:b.useCallback(()=>S(A=>A+1),[]),onFocusableItemRemove:b.useCallback(()=>S(A=>A-1),[]),children:l.jsx(wt.div,{tabIndex:y||T===0?-1:0,"data-orientation":n,...f,ref:m,style:{outline:"none",...e.style},onMouseDown:Ye(e.onMouseDown,()=>{E.current=!0}),onFocus:Ye(e.onFocus,A=>{const C=!E.current;if(A.target===A.currentTarget&&C&&!y){const j=new CustomEvent(sC,kSe);if(A.currentTarget.dispatchEvent(j),!j.defaultPrevented){const I=N().filter(ee=>ee.focusable),O=I.find(ee=>ee.active),k=I.find(ee=>ee.id===p),B=[O,k,...I].filter(Boolean).map(ee=>ee.ref.current);gQ(B,d)}}E.current=!1}),onBlur:Ye(e.onBlur,()=>x(!1))})})}),mQ="RovingFocusGroupItem",pQ=b.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:a,children:s,...o}=e,c=Vi(),u=a||c,d=MSe(mQ,r),f=d.currentTabStopId===u,h=fQ(r),{onFocusableItemAdd:m,onFocusableItemRemove:g,currentTabStopId:p}=d;return b.useEffect(()=>{if(n)return m(),()=>g()},[n,m,g]),l.jsx(yR.ItemSlot,{scope:r,id:u,focusable:n,active:i,children:l.jsx(wt.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...o,ref:t,onMouseDown:Ye(e.onMouseDown,v=>{n?d.onItemFocus(u):v.preventDefault()}),onFocus:Ye(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:Ye(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){d.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const y=BSe(v,d.orientation,d.dir);if(y!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let w=h().filter(N=>N.focusable).map(N=>N.ref.current);if(y==="last")w.reverse();else if(y==="prev"||y==="next"){y==="prev"&&w.reverse();const N=w.indexOf(v.currentTarget);w=d.loop?VSe(w,N+1):w.slice(N+1)}setTimeout(()=>gQ(w))}}),children:typeof s=="function"?s({isCurrentTabStop:f,hasTabStop:p!=null}):s})})});pQ.displayName=mQ;var FSe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function $Se(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function BSe(e,t,r){const n=$Se(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return FSe[n]}function gQ(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function VSe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var vQ=hQ,yQ=pQ,USe=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Cm=new WeakMap,lw=new WeakMap,cw={},oC=0,xQ=function(e){return e&&(e.host||xQ(e.parentNode))},zSe=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=xQ(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},WSe=function(e,t,r,n){var i=zSe(t,Array.isArray(e)?e:[e]);cw[r]||(cw[r]=new WeakMap);var a=cw[r],s=[],o=new Set,c=new Set(i),u=function(f){!f||o.has(f)||(o.add(f),u(f.parentNode))};i.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(o.has(h))d(h);else try{var m=h.getAttribute(n),g=m!==null&&m!=="false",p=(Cm.get(h)||0)+1,v=(a.get(h)||0)+1;Cm.set(h,p),a.set(h,v),s.push(h),p===1&&g&&lw.set(h,!0),v===1&&h.setAttribute(r,"true"),g||h.setAttribute(n,"true")}catch(y){console.error("aria-hidden: cannot operate on ",h,y)}})};return d(t),o.clear(),oC++,function(){s.forEach(function(f){var h=Cm.get(f)-1,m=a.get(f)-1;Cm.set(f,h),a.set(f,m),h||(lw.has(f)||f.removeAttribute(n),lw.delete(f)),m||f.removeAttribute(r)}),oC--,oC||(Cm=new WeakMap,Cm=new WeakMap,lw=new WeakMap,cw={})}},ET=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),i=USe(e);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live], script"))),WSe(n,i,r,"aria-hidden")):function(){return null}},Ml=function(){return Ml=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Ml.apply(this,arguments)};function bQ(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function HSe(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}var __="right-scroll-bar-position",E_="width-before-scroll-bar",qSe="with-scroll-bars-hidden",GSe="--removed-body-scroll-bar-size";function lC(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function KSe(e,t){var r=b.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=t,r.facade}var YSe=typeof window<"u"?b.useLayoutEffect:b.useEffect,V$=new WeakMap;function XSe(e,t){var r=KSe(null,function(n){return e.forEach(function(i){return lC(i,n)})});return YSe(function(){var n=V$.get(r);if(n){var i=new Set(n),a=new Set(e),s=r.current;i.forEach(function(o){a.has(o)||lC(o,null)}),a.forEach(function(o){i.has(o)||lC(o,s)})}V$.set(r,e)},[e]),r}function QSe(e){return e}function ZSe(e,t){t===void 0&&(t=QSe);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(a){var s=t(a,n);return r.push(s),function(){r=r.filter(function(o){return o!==s})}},assignSyncMedium:function(a){for(n=!0;r.length;){var s=r;r=[],s.forEach(a)}r={push:function(o){return a(o)},filter:function(){return r}}},assignMedium:function(a){n=!0;var s=[];if(r.length){var o=r;r=[],o.forEach(a),s=r}var c=function(){var d=s;s=[],d.forEach(a)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){s.push(d),u()},filter:function(d){return s=s.filter(d),r}}}};return i}function JSe(e){e===void 0&&(e={});var t=ZSe(null);return t.options=Ml({async:!0,ssr:!1},e),t}var wQ=function(e){var t=e.sideCar,r=bQ(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return b.createElement(n,Ml({},r))};wQ.isSideCarExport=!0;function e2e(e,t){return e.useMedium(t),wQ}var _Q=JSe(),cC=function(){},ST=b.forwardRef(function(e,t){var r=b.useRef(null),n=b.useState({onScrollCapture:cC,onWheelCapture:cC,onTouchMoveCapture:cC}),i=n[0],a=n[1],s=e.forwardProps,o=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,m=e.noRelative,g=e.noIsolation,p=e.inert,v=e.allowPinchZoom,y=e.as,x=y===void 0?"div":y,w=e.gapMode,N=bQ(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=h,T=XSe([r,t]),S=Ml(Ml({},N),i);return b.createElement(b.Fragment,null,d&&b.createElement(E,{sideCar:_Q,removeScrollBar:u,shards:f,noRelative:m,noIsolation:g,inert:p,setCallbacks:a,allowPinchZoom:!!v,lockRef:r,gapMode:w}),s?b.cloneElement(b.Children.only(o),Ml(Ml({},S),{ref:T})):b.createElement(x,Ml({},S,{className:c,ref:T}),o))});ST.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ST.classNames={fullWidth:E_,zeroRight:__};var t2e=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function r2e(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=t2e();return t&&e.setAttribute("nonce",t),e}function n2e(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function i2e(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var a2e=function(){var e=0,t=null;return{add:function(r){e==0&&(t=r2e())&&(n2e(t,r),i2e(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},s2e=function(){var e=a2e();return function(t,r){b.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},EQ=function(){var e=s2e(),t=function(r){var n=r.styles,i=r.dynamic;return e(n,i),null};return t},o2e={left:0,top:0,right:0,gap:0},uC=function(e){return parseInt(e||"",10)||0},l2e=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[uC(r),uC(n),uC(i)]},c2e=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return o2e;var t=l2e(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},u2e=EQ(),jp="data-scroll-locked",d2e=function(e,t,r,n){var i=e.left,a=e.top,s=e.right,o=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(qSe,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(o,"px ").concat(n,`;
  }
  body[`).concat(jp,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(o,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(__,` {
    right: `).concat(o,"px ").concat(n,`;
  }
  
  .`).concat(E_,` {
    margin-right: `).concat(o,"px ").concat(n,`;
  }
  
  .`).concat(__," .").concat(__,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(E_," .").concat(E_,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(jp,`] {
    `).concat(GSe,": ").concat(o,`px;
  }
`)},U$=function(){var e=parseInt(document.body.getAttribute(jp)||"0",10);return isFinite(e)?e:0},f2e=function(){b.useEffect(function(){return document.body.setAttribute(jp,(U$()+1).toString()),function(){var e=U$()-1;e<=0?document.body.removeAttribute(jp):document.body.setAttribute(jp,e.toString())}},[])},h2e=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,i=n===void 0?"margin":n;f2e();var a=b.useMemo(function(){return c2e(i)},[i]);return b.createElement(u2e,{styles:d2e(a,!t,i,r?"":"!important")})},xR=!1;if(typeof window<"u")try{var uw=Object.defineProperty({},"passive",{get:function(){return xR=!0,!0}});window.addEventListener("test",uw,uw),window.removeEventListener("test",uw,uw)}catch{xR=!1}var jm=xR?{passive:!1}:!1,m2e=function(e){return e.tagName==="TEXTAREA"},SQ=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!m2e(e)&&r[t]==="visible")},p2e=function(e){return SQ(e,"overflowY")},g2e=function(e){return SQ(e,"overflowX")},z$=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=TQ(e,n);if(i){var a=NQ(e,n),s=a[1],o=a[2];if(s>o)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},v2e=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},y2e=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},TQ=function(e,t){return e==="v"?p2e(t):g2e(t)},NQ=function(e,t){return e==="v"?v2e(t):y2e(t)},x2e=function(e,t){return e==="h"&&t==="rtl"?-1:1},b2e=function(e,t,r,n,i){var a=x2e(e,window.getComputedStyle(t).direction),s=a*n,o=r.target,c=t.contains(o),u=!1,d=s>0,f=0,h=0;do{if(!o)break;var m=NQ(e,o),g=m[0],p=m[1],v=m[2],y=p-v-a*g;(g||y)&&TQ(e,o)&&(f+=y,h+=g);var x=o.parentNode;o=x&&x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?x.host:x}while(!c&&o!==document.body||c&&(t.contains(o)||t===o));return(d&&Math.abs(f)<1||!d&&Math.abs(h)<1)&&(u=!0),u},dw=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},W$=function(e){return[e.deltaX,e.deltaY]},H$=function(e){return e&&"current"in e?e.current:e},w2e=function(e,t){return e[0]===t[0]&&e[1]===t[1]},_2e=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},E2e=0,Pm=[];function S2e(e){var t=b.useRef([]),r=b.useRef([0,0]),n=b.useRef(),i=b.useState(E2e++)[0],a=b.useState(EQ)[0],s=b.useRef(e);b.useEffect(function(){s.current=e},[e]),b.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var p=HSe([e.lockRef.current],(e.shards||[]).map(H$),!0).filter(Boolean);return p.forEach(function(v){return v.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),p.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var o=b.useCallback(function(p,v){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!s.current.allowPinchZoom;var y=dw(p),x=r.current,w="deltaX"in p?p.deltaX:x[0]-y[0],N="deltaY"in p?p.deltaY:x[1]-y[1],E,T=p.target,S=Math.abs(w)>Math.abs(N)?"h":"v";if("touches"in p&&S==="h"&&T.type==="range")return!1;var A=z$(S,T);if(!A)return!0;if(A?E=S:(E=S==="v"?"h":"v",A=z$(S,T)),!A)return!1;if(!n.current&&"changedTouches"in p&&(w||N)&&(n.current=E),!E)return!0;var C=n.current||E;return b2e(C,v,p,C==="h"?w:N)},[]),c=b.useCallback(function(p){var v=p;if(!(!Pm.length||Pm[Pm.length-1]!==a)){var y="deltaY"in v?W$(v):dw(v),x=t.current.filter(function(E){return E.name===v.type&&(E.target===v.target||v.target===E.shadowParent)&&w2e(E.delta,y)})[0];if(x&&x.should){v.cancelable&&v.preventDefault();return}if(!x){var w=(s.current.shards||[]).map(H$).filter(Boolean).filter(function(E){return E.contains(v.target)}),N=w.length>0?o(v,w[0]):!s.current.noIsolation;N&&v.cancelable&&v.preventDefault()}}},[]),u=b.useCallback(function(p,v,y,x){var w={name:p,delta:v,target:y,should:x,shadowParent:T2e(y)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(N){return N!==w})},1)},[]),d=b.useCallback(function(p){r.current=dw(p),n.current=void 0},[]),f=b.useCallback(function(p){u(p.type,W$(p),p.target,o(p,e.lockRef.current))},[]),h=b.useCallback(function(p){u(p.type,dw(p),p.target,o(p,e.lockRef.current))},[]);b.useEffect(function(){return Pm.push(a),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,jm),document.addEventListener("touchmove",c,jm),document.addEventListener("touchstart",d,jm),function(){Pm=Pm.filter(function(p){return p!==a}),document.removeEventListener("wheel",c,jm),document.removeEventListener("touchmove",c,jm),document.removeEventListener("touchstart",d,jm)}},[]);var m=e.removeScrollBar,g=e.inert;return b.createElement(b.Fragment,null,g?b.createElement(a,{styles:_2e(i)}):null,m?b.createElement(h2e,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function T2e(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const N2e=e2e(_Q,S2e);var $1=b.forwardRef(function(e,t){return b.createElement(ST,Ml({},e,{ref:t,sideCar:N2e}))});$1.classNames=ST.classNames;var bR=["Enter"," "],A2e=["ArrowDown","PageUp","Home"],AQ=["ArrowUp","PageDown","End"],C2e=[...A2e,...AQ],j2e={ltr:[...bR,"ArrowRight"],rtl:[...bR,"ArrowLeft"]},P2e={ltr:["ArrowLeft"],rtl:["ArrowRight"]},B1="Menu",[ax,R2e,k2e]=j2(B1),[cm,CQ]=$s(B1,[k2e,uf,_T]),TT=uf(),jQ=_T(),[I2e,um]=cm(B1),[O2e,V1]=cm(B1),PQ=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:i,onOpenChange:a,modal:s=!0}=e,o=TT(t),[c,u]=b.useState(null),d=b.useRef(!1),f=is(a),h=bT(i);return b.useEffect(()=>{const m=()=>{d.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>d.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),l.jsx($O,{...o,children:l.jsx(I2e,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:u,children:l.jsx(O2e,{scope:t,onClose:b.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:s,children:n})})})};PQ.displayName=B1;var D2e="MenuAnchor",o4=b.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,i=TT(r);return l.jsx(g1,{...i,...n,ref:t})});o4.displayName=D2e;var l4="MenuPortal",[M2e,RQ]=cm(l4,{forceMount:void 0}),kQ=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:i}=e,a=um(l4,t);return l.jsx(M2e,{scope:t,forceMount:r,children:l.jsx(os,{present:r||a.open,children:l.jsx(rg,{asChild:!0,container:i,children:n})})})};kQ.displayName=l4;var vo="MenuContent",[L2e,c4]=cm(vo),IQ=b.forwardRef((e,t)=>{const r=RQ(vo,e.__scopeMenu),{forceMount:n=r.forceMount,...i}=e,a=um(vo,e.__scopeMenu),s=V1(vo,e.__scopeMenu);return l.jsx(ax.Provider,{scope:e.__scopeMenu,children:l.jsx(os,{present:n||a.open,children:l.jsx(ax.Slot,{scope:e.__scopeMenu,children:s.modal?l.jsx(F2e,{...i,ref:t}):l.jsx($2e,{...i,ref:t})})})})}),F2e=b.forwardRef((e,t)=>{const r=um(vo,e.__scopeMenu),n=b.useRef(null),i=Jt(t,n);return b.useEffect(()=>{const a=n.current;if(a)return ET(a)},[]),l.jsx(u4,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Ye(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),$2e=b.forwardRef((e,t)=>{const r=um(vo,e.__scopeMenu);return l.jsx(u4,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),B2e=Ld("MenuContent.ScrollLock"),u4=b.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:s,disableOutsidePointerEvents:o,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,disableOutsideScroll:g,...p}=e,v=um(vo,r),y=V1(vo,r),x=TT(r),w=jQ(r),N=R2e(r),[E,T]=b.useState(null),S=b.useRef(null),A=Jt(t,S,v.onContentChange),C=b.useRef(0),j=b.useRef(""),I=b.useRef(0),O=b.useRef(null),k=b.useRef("right"),D=b.useRef(0),B=g?$1:b.Fragment,ee=g?{as:B2e,allowPinchZoom:!0}:void 0,z=U=>{var oe,ae;const se=j.current+U,ne=N().filter(K=>!K.disabled),M=document.activeElement,W=(oe=ne.find(K=>K.ref.current===M))==null?void 0:oe.textValue,G=ne.map(K=>K.textValue),P=Z2e(G,se,W),J=(ae=ne.find(K=>K.textValue===P))==null?void 0:ae.ref.current;(function K(ie){j.current=ie,window.clearTimeout(C.current),ie!==""&&(C.current=window.setTimeout(()=>K(""),1e3))})(se),J&&setTimeout(()=>J.focus())};b.useEffect(()=>()=>window.clearTimeout(C.current),[]),wT();const V=b.useCallback(U=>{var ne,M;return k.current===((ne=O.current)==null?void 0:ne.side)&&eTe(U,(M=O.current)==null?void 0:M.area)},[]);return l.jsx(L2e,{scope:r,searchRef:j,onItemEnter:b.useCallback(U=>{V(U)&&U.preventDefault()},[V]),onItemLeave:b.useCallback(U=>{var se;V(U)||((se=S.current)==null||se.focus(),T(null))},[V]),onTriggerLeave:b.useCallback(U=>{V(U)&&U.preventDefault()},[V]),pointerGraceTimerRef:I,onPointerGraceIntentChange:b.useCallback(U=>{O.current=U},[]),children:l.jsx(B,{...ee,children:l.jsx(L1,{asChild:!0,trapped:i,onMountAutoFocus:Ye(a,U=>{var se;U.preventDefault(),(se=S.current)==null||se.focus({preventScroll:!0})}),onUnmountAutoFocus:s,children:l.jsx(em,{asChild:!0,disableOutsidePointerEvents:o,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,children:l.jsx(vQ,{asChild:!0,...w,dir:y.dir,orientation:"vertical",loop:n,currentTabStopId:E,onCurrentTabStopIdChange:T,onEntryFocus:Ye(c,U=>{y.isUsingKeyboardRef.current||U.preventDefault()}),preventScrollOnEntryFocus:!0,children:l.jsx(B2,{role:"menu","aria-orientation":"vertical","data-state":YQ(v.open),"data-radix-menu-content":"",dir:y.dir,...x,...p,ref:A,style:{outline:"none",...p.style},onKeyDown:Ye(p.onKeyDown,U=>{const ne=U.target.closest("[data-radix-menu-content]")===U.currentTarget,M=U.ctrlKey||U.altKey||U.metaKey,W=U.key.length===1;ne&&(U.key==="Tab"&&U.preventDefault(),!M&&W&&z(U.key));const G=S.current;if(U.target!==G||!C2e.includes(U.key))return;U.preventDefault();const J=N().filter(oe=>!oe.disabled).map(oe=>oe.ref.current);AQ.includes(U.key)&&J.reverse(),X2e(J)}),onBlur:Ye(e.onBlur,U=>{U.currentTarget.contains(U.target)||(window.clearTimeout(C.current),j.current="")}),onPointerMove:Ye(e.onPointerMove,sx(U=>{const se=U.target,ne=D.current!==U.clientX;if(U.currentTarget.contains(se)&&ne){const M=U.clientX>D.current?"right":"left";k.current=M,D.current=U.clientX}}))})})})})})})});IQ.displayName=vo;var V2e="MenuGroup",d4=b.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return l.jsx(wt.div,{role:"group",...n,ref:t})});d4.displayName=V2e;var U2e="MenuLabel",OQ=b.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return l.jsx(wt.div,{...n,ref:t})});OQ.displayName=U2e;var FE="MenuItem",q$="menu.itemSelect",NT=b.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...i}=e,a=b.useRef(null),s=V1(FE,e.__scopeMenu),o=c4(FE,e.__scopeMenu),c=Jt(t,a),u=b.useRef(!1),d=()=>{const f=a.current;if(!r&&f){const h=new CustomEvent(q$,{bubbles:!0,cancelable:!0});f.addEventListener(q$,m=>n==null?void 0:n(m),{once:!0}),wO(f,h),h.defaultPrevented?u.current=!1:s.onClose()}};return l.jsx(DQ,{...i,ref:c,disabled:r,onClick:Ye(e.onClick,d),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),u.current=!0},onPointerUp:Ye(e.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:Ye(e.onKeyDown,f=>{const h=o.searchRef.current!=="";r||h&&f.key===" "||bR.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});NT.displayName=FE;var DQ=b.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:i,...a}=e,s=c4(FE,r),o=jQ(r),c=b.useRef(null),u=Jt(t,c),[d,f]=b.useState(!1),[h,m]=b.useState("");return b.useEffect(()=>{const g=c.current;g&&m((g.textContent??"").trim())},[a.children]),l.jsx(ax.ItemSlot,{scope:r,disabled:n,textValue:i??h,children:l.jsx(yQ,{asChild:!0,...o,focusable:!n,children:l.jsx(wt.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...a,ref:u,onPointerMove:Ye(e.onPointerMove,sx(g=>{n?s.onItemLeave(g):(s.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ye(e.onPointerLeave,sx(g=>s.onItemLeave(g))),onFocus:Ye(e.onFocus,()=>f(!0)),onBlur:Ye(e.onBlur,()=>f(!1))})})})}),z2e="MenuCheckboxItem",MQ=b.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...i}=e;return l.jsx(VQ,{scope:e.__scopeMenu,checked:r,children:l.jsx(NT,{role:"menuitemcheckbox","aria-checked":$E(r)?"mixed":r,...i,ref:t,"data-state":h4(r),onSelect:Ye(i.onSelect,()=>n==null?void 0:n($E(r)?!0:!r),{checkForDefaultPrevented:!1})})})});MQ.displayName=z2e;var LQ="MenuRadioGroup",[W2e,H2e]=cm(LQ,{value:void 0,onValueChange:()=>{}}),FQ=b.forwardRef((e,t)=>{const{value:r,onValueChange:n,...i}=e,a=is(n);return l.jsx(W2e,{scope:e.__scopeMenu,value:r,onValueChange:a,children:l.jsx(d4,{...i,ref:t})})});FQ.displayName=LQ;var $Q="MenuRadioItem",BQ=b.forwardRef((e,t)=>{const{value:r,...n}=e,i=H2e($Q,e.__scopeMenu),a=r===i.value;return l.jsx(VQ,{scope:e.__scopeMenu,checked:a,children:l.jsx(NT,{role:"menuitemradio","aria-checked":a,...n,ref:t,"data-state":h4(a),onSelect:Ye(n.onSelect,()=>{var s;return(s=i.onValueChange)==null?void 0:s.call(i,r)},{checkForDefaultPrevented:!1})})})});BQ.displayName=$Q;var f4="MenuItemIndicator",[VQ,q2e]=cm(f4,{checked:!1}),UQ=b.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...i}=e,a=q2e(f4,r);return l.jsx(os,{present:n||$E(a.checked)||a.checked===!0,children:l.jsx(wt.span,{...i,ref:t,"data-state":h4(a.checked)})})});UQ.displayName=f4;var G2e="MenuSeparator",zQ=b.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return l.jsx(wt.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});zQ.displayName=G2e;var K2e="MenuArrow",WQ=b.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,i=TT(r);return l.jsx(V2,{...i,...n,ref:t})});WQ.displayName=K2e;var Y2e="MenuSub",[yft,HQ]=cm(Y2e),Rv="MenuSubTrigger",qQ=b.forwardRef((e,t)=>{const r=um(Rv,e.__scopeMenu),n=V1(Rv,e.__scopeMenu),i=HQ(Rv,e.__scopeMenu),a=c4(Rv,e.__scopeMenu),s=b.useRef(null),{pointerGraceTimerRef:o,onPointerGraceIntentChange:c}=a,u={__scopeMenu:e.__scopeMenu},d=b.useCallback(()=>{s.current&&window.clearTimeout(s.current),s.current=null},[]);return b.useEffect(()=>d,[d]),b.useEffect(()=>{const f=o.current;return()=>{window.clearTimeout(f),c(null)}},[o,c]),l.jsx(o4,{asChild:!0,...u,children:l.jsx(DQ,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":i.contentId,"data-state":YQ(r.open),...e,ref:uu(t,i.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Ye(e.onPointerMove,sx(f=>{a.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!s.current&&(a.onPointerGraceIntentChange(null),s.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:Ye(e.onPointerLeave,sx(f=>{var m,g;d();const h=(m=r.content)==null?void 0:m.getBoundingClientRect();if(h){const p=(g=r.content)==null?void 0:g.dataset.side,v=p==="right",y=v?-5:5,x=h[v?"left":"right"],w=h[v?"right":"left"];a.onPointerGraceIntentChange({area:[{x:f.clientX+y,y:f.clientY},{x,y:h.top},{x:w,y:h.top},{x:w,y:h.bottom},{x,y:h.bottom}],side:p}),window.clearTimeout(o.current),o.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(f),f.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:Ye(e.onKeyDown,f=>{var m;const h=a.searchRef.current!=="";e.disabled||h&&f.key===" "||j2e[n.dir].includes(f.key)&&(r.onOpenChange(!0),(m=r.content)==null||m.focus(),f.preventDefault())})})})});qQ.displayName=Rv;var GQ="MenuSubContent",KQ=b.forwardRef((e,t)=>{const r=RQ(vo,e.__scopeMenu),{forceMount:n=r.forceMount,...i}=e,a=um(vo,e.__scopeMenu),s=V1(vo,e.__scopeMenu),o=HQ(GQ,e.__scopeMenu),c=b.useRef(null),u=Jt(t,c);return l.jsx(ax.Provider,{scope:e.__scopeMenu,children:l.jsx(os,{present:n||a.open,children:l.jsx(ax.Slot,{scope:e.__scopeMenu,children:l.jsx(u4,{id:o.contentId,"aria-labelledby":o.triggerId,...i,ref:u,align:"start",side:s.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;s.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:Ye(e.onFocusOutside,d=>{d.target!==o.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:Ye(e.onEscapeKeyDown,d=>{s.onClose(),d.preventDefault()}),onKeyDown:Ye(e.onKeyDown,d=>{var m;const f=d.currentTarget.contains(d.target),h=P2e[s.dir].includes(d.key);f&&h&&(a.onOpenChange(!1),(m=o.trigger)==null||m.focus(),d.preventDefault())})})})})})});KQ.displayName=GQ;function YQ(e){return e?"open":"closed"}function $E(e){return e==="indeterminate"}function h4(e){return $E(e)?"indeterminate":e?"checked":"unchecked"}function X2e(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function Q2e(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function Z2e(e,t,r){const i=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let s=Q2e(e,Math.max(a,0));i.length===1&&(s=s.filter(u=>u!==r));const c=s.find(u=>u.toLowerCase().startsWith(i.toLowerCase()));return c!==r?c:void 0}function J2e(e,t){const{x:r,y:n}=e;let i=!1;for(let a=0,s=t.length-1;a<t.length;s=a++){const o=t[a],c=t[s],u=o.x,d=o.y,f=c.x,h=c.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(i=!i)}return i}function eTe(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return J2e(r,t)}function sx(e){return t=>t.pointerType==="mouse"?e(t):void 0}var tTe=PQ,rTe=o4,nTe=kQ,iTe=IQ,aTe=d4,sTe=OQ,oTe=NT,lTe=MQ,cTe=FQ,uTe=BQ,dTe=UQ,fTe=zQ,hTe=WQ,mTe=qQ,pTe=KQ,AT="DropdownMenu",[gTe,xft]=$s(AT,[CQ]),La=CQ(),[vTe,XQ]=gTe(AT),QQ=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:i,defaultOpen:a,onOpenChange:s,modal:o=!0}=e,c=La(t),u=b.useRef(null),[d,f]=du({prop:i,defaultProp:a??!1,onChange:s,caller:AT});return l.jsx(vTe,{scope:t,triggerId:Vi(),triggerRef:u,contentId:Vi(),open:d,onOpenChange:f,onOpenToggle:b.useCallback(()=>f(h=>!h),[f]),modal:o,children:l.jsx(tTe,{...c,open:d,onOpenChange:f,dir:n,modal:o,children:r})})};QQ.displayName=AT;var ZQ="DropdownMenuTrigger",JQ=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...i}=e,a=XQ(ZQ,r),s=La(r);return l.jsx(rTe,{asChild:!0,...s,children:l.jsx(wt.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...i,ref:uu(t,a.triggerRef),onPointerDown:Ye(e.onPointerDown,o=>{!n&&o.button===0&&o.ctrlKey===!1&&(a.onOpenToggle(),a.open||o.preventDefault())}),onKeyDown:Ye(e.onKeyDown,o=>{n||(["Enter"," "].includes(o.key)&&a.onOpenToggle(),o.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(o.key)&&o.preventDefault())})})})});JQ.displayName=ZQ;var yTe="DropdownMenuPortal",eZ=e=>{const{__scopeDropdownMenu:t,...r}=e,n=La(t);return l.jsx(nTe,{...n,...r})};eZ.displayName=yTe;var tZ="DropdownMenuContent",rZ=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=XQ(tZ,r),a=La(r),s=b.useRef(!1);return l.jsx(iTe,{id:i.contentId,"aria-labelledby":i.triggerId,...a,...n,ref:t,onCloseAutoFocus:Ye(e.onCloseAutoFocus,o=>{var c;s.current||(c=i.triggerRef.current)==null||c.focus(),s.current=!1,o.preventDefault()}),onInteractOutside:Ye(e.onInteractOutside,o=>{const c=o.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!i.modal||d)&&(s.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});rZ.displayName=tZ;var xTe="DropdownMenuGroup",bTe=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=La(r);return l.jsx(aTe,{...i,...n,ref:t})});bTe.displayName=xTe;var wTe="DropdownMenuLabel",nZ=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=La(r);return l.jsx(sTe,{...i,...n,ref:t})});nZ.displayName=wTe;var _Te="DropdownMenuItem",iZ=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=La(r);return l.jsx(oTe,{...i,...n,ref:t})});iZ.displayName=_Te;var ETe="DropdownMenuCheckboxItem",aZ=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=La(r);return l.jsx(lTe,{...i,...n,ref:t})});aZ.displayName=ETe;var STe="DropdownMenuRadioGroup",TTe=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=La(r);return l.jsx(cTe,{...i,...n,ref:t})});TTe.displayName=STe;var NTe="DropdownMenuRadioItem",sZ=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=La(r);return l.jsx(uTe,{...i,...n,ref:t})});sZ.displayName=NTe;var ATe="DropdownMenuItemIndicator",oZ=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=La(r);return l.jsx(dTe,{...i,...n,ref:t})});oZ.displayName=ATe;var CTe="DropdownMenuSeparator",lZ=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=La(r);return l.jsx(fTe,{...i,...n,ref:t})});lZ.displayName=CTe;var jTe="DropdownMenuArrow",PTe=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=La(r);return l.jsx(hTe,{...i,...n,ref:t})});PTe.displayName=jTe;var RTe="DropdownMenuSubTrigger",cZ=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=La(r);return l.jsx(mTe,{...i,...n,ref:t})});cZ.displayName=RTe;var kTe="DropdownMenuSubContent",uZ=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=La(r);return l.jsx(pTe,{...i,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});uZ.displayName=kTe;var ITe=QQ,OTe=JQ,DTe=eZ,dZ=rZ,fZ=nZ,hZ=iZ,mZ=aZ,pZ=sZ,gZ=oZ,vZ=lZ,yZ=cZ,xZ=uZ;const ei=ITe,ti=OTe,MTe=b.forwardRef(({className:e,inset:t,children:r,...n},i)=>l.jsxs(yZ,{ref:i,className:Re("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...n,children:[r,l.jsx(By,{className:"ml-auto h-4 w-4"})]}));MTe.displayName=yZ.displayName;const LTe=b.forwardRef(({className:e,...t},r)=>l.jsx(xZ,{ref:r,className:Re("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));LTe.displayName=xZ.displayName;const zn=b.forwardRef(({className:e,sideOffset:t=4,...r},n)=>l.jsx(DTe,{children:l.jsx(dZ,{ref:n,sideOffset:t,className:Re("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));zn.displayName=dZ.displayName;const wo=b.forwardRef(({className:e,inset:t,...r},n)=>l.jsx(hZ,{ref:n,className:Re("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));wo.displayName=hZ.displayName;const _o=b.forwardRef(({className:e,children:t,checked:r,...n},i)=>l.jsxs(mZ,{ref:i,className:Re("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(gZ,{children:l.jsx(tm,{className:"h-4 w-4"})})}),t]}));_o.displayName=mZ.displayName;const FTe=b.forwardRef(({className:e,children:t,...r},n)=>l.jsxs(pZ,{ref:n,className:Re("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(gZ,{children:l.jsx(ffe,{className:"h-2 w-2 fill-current"})})}),t]}));FTe.displayName=pZ.displayName;const bZ=b.forwardRef(({className:e,inset:t,...r},n)=>l.jsx(fZ,{ref:n,className:Re("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));bZ.displayName=fZ.displayName;const m4=b.forwardRef(({className:e,...t},r)=>l.jsx(vZ,{ref:r,className:Re("-mx-1 my-1 h-px bg-muted",e),...t}));m4.displayName=vZ.displayName;const wZ="/Plataforma-ECCOS/assets/Logo-eccos.BAcSftxZ.png",$Te=({icon:e,label:t,href:r,active:n,expanded:i})=>l.jsxs(Ih,{to:r,className:Re("flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-300 group relative overflow-hidden","hover:bg-gradient-to-r hover:from-sidebar/10 hover:to-eccos-purple/10 hover:shadow-md hover:scale-[1.02]","border border-transparent hover:border-gray-100/50",n?"bg-gradient-to-r from-sidebar/15 to-eccos-purple/15 text-eccos-purple shadow-lg border-eccos-purple/20 scale-[1.02]":"text-gray-700",i?"w-full":"w-12 justify-center"),tabIndex:0,"aria-current":n?"page":void 0,children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-700"}),l.jsx(e,{className:Re("h-5 w-5 shrink-0 stroke-[1.5] transition-all duration-300 relative z-10",n?"stroke-eccos-purple drop-shadow-sm":"stroke-gray-600 group-hover:stroke-eccos-purple")}),l.jsx("span",{className:Re("transition-all duration-300 font-medium relative z-10",n?"text-eccos-purple font-semibold":"group-hover:text-eccos-purple",i?"opacity-100":"opacity-0 w-0 overflow-hidden"),children:t})]}),G$=({href:e,active:t,expanded:r,children:n,icon:i})=>l.jsxs(Ih,{to:e,className:Re("flex items-center gap-3 px-6 py-2.5 rounded-lg transition-all duration-300 group relative ml-2","hover:bg-gradient-to-r hover:from-sidebar/8 hover:to-eccos-purple/8 hover:shadow-sm hover:scale-[1.01]","border border-transparent hover:border-gray-100/30",t?"bg-gradient-to-r from-sidebar/12 to-eccos-purple/12 text-eccos-purple shadow-md border-eccos-purple/15":"text-gray-600",r?"w-full":"w-10 justify-center"),children:[l.jsx(i,{className:Re("h-4 w-4 shrink-0 stroke-[1.5] transition-all duration-300",t?"stroke-eccos-purple":"stroke-gray-500 group-hover:stroke-eccos-purple")}),l.jsx("span",{className:Re("transition-all duration-300 font-medium text-sm",t?"text-eccos-purple font-semibold":"group-hover:text-eccos-purple",r?"opacity-100":"opacity-0 w-0 overflow-hidden"),children:n}),t&&l.jsx("div",{className:"absolute left-1 w-1 h-4 rounded-full bg-gradient-to-b from-sidebar to-eccos-purple"})]}),K$=({label:e,icon:t,children:r,expanded:n})=>{const i=ls(),[a,s]=b.useState(!1),o=te.Children.toArray(r).some(c=>i.pathname===c.props.href);return l.jsxs("div",{className:"space-y-1",children:[l.jsxs("button",{onClick:()=>s(!a),className:Re("flex items-center justify-between w-full px-4 py-3 rounded-xl group relative overflow-hidden","transition-all duration-300 hover:scale-[1.02]","hover:bg-gradient-to-r hover:from-sidebar/10 hover:to-eccos-purple/10 hover:shadow-md","border border-transparent hover:border-gray-100/50",o?"bg-gradient-to-r from-sidebar/15 to-eccos-purple/15 text-eccos-purple shadow-lg border-eccos-purple/20":"text-gray-700 hover:text-eccos-purple",n?"pr-3":"justify-center"),children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-700"}),l.jsxs("div",{className:"flex items-center gap-3 relative z-10",children:[l.jsx(t,{className:Re("h-5 w-5 shrink-0 stroke-[1.5] transition-all duration-300",o?"stroke-eccos-purple drop-shadow-sm":"stroke-gray-600 group-hover:stroke-eccos-purple")}),l.jsx("span",{className:Re("transition-all duration-300 font-medium",o?"text-eccos-purple font-semibold":"group-hover:text-eccos-purple",n?"opacity-100":"opacity-0 w-0 overflow-hidden"),children:e})]}),n&&l.jsx("div",{className:"relative z-10",children:a?l.jsx(Vq,{className:Re("h-4 w-4 stroke-[1.5] transition-all duration-300",o?"stroke-eccos-purple":"stroke-gray-600 group-hover:stroke-eccos-purple")}):l.jsx(lc,{className:Re("h-4 w-4 stroke-[1.5] transition-all duration-300",o?"stroke-eccos-purple":"stroke-gray-600 group-hover:stroke-eccos-purple")})})]}),l.jsx("div",{className:Re("space-y-1 transition-all duration-300 overflow-hidden",a&&n?"max-h-96 opacity-100":"max-h-0 opacity-0"),children:te.Children.map(r,c=>te.cloneElement(c,{active:i.pathname===c.props.href,expanded:n}))})]})},Y$=()=>{var d,f,h;const[e,t]=b.useState(!0),r=ls(),{signOut:n,currentUser:i,userPermissions:a,isSuperAdmin:s}=Mr();b.useEffect(()=>{t(!0)},[i==null?void 0:i.role]);const o=[{icon:D2,label:"Página Inicial",href:"/"},{icon:Oi,label:"Minhas Solicitações",href:"/minhas-solicitacoes"},{icon:TO,label:"Nova Solicitação",items:[{icon:rE,label:"Reserva",href:"/nova-solicitacao/reserva"},{icon:wn,label:"Compra",href:"/nova-solicitacao/compra"},{icon:ql,label:"Manutenção",href:"/nova-solicitacao/suporte"}]}],c=b.useMemo(()=>[{category:"Compras",icon:wn,items:[{icon:wn,label:"Financeiro",href:"/compras-financeiro",permission:"compras-financeiro"},{icon:wn,label:"Tecnologia",href:"/compras-tecnologia",permission:"compras-tecnologia"},{icon:wn,label:"Infraestrutura",href:"/compras-infraestrutura",permission:"compras-infraestrutura"},{icon:wn,label:"Pedagógico/Admin",href:"/compras-pedagogicoadmin",permission:"compras-pedagogicoadmin"}]},{category:"Recursos",icon:oE,items:[{icon:oE,label:"Estoque",href:"/estoque",permission:"estoque"}]},{category:"Manutenção",icon:ql,items:[{icon:ql,label:"Operacional",href:"/suporte-operacional",permission:"suporte-operacional"},{icon:pd,label:"Plataforma",href:"/suporte-plataforma",permission:"suporte-plataforma"}]},{category:"Agendamentos",icon:Zn,items:[{icon:rE,label:"Reservas",href:"/solicitacoes",permission:"solicitacoes"},{icon:Zn,label:"Calendário",href:"/calendario",permission:"calendario-reservas"},{icon:ufe,label:"Disponibilidade",href:"/disponibilidade",permission:"disponibilidade"},{icon:iE,label:"Equipamentos",href:"/equipamentos",permission:"equipamentos"}]},{category:"Usuários",icon:Uy,items:[{icon:Uy,label:"Gerenciamento",href:"/usuarios",permission:"usuarios"},{icon:mh,label:"Notificações",href:"/notificacoes",permission:"notificacoes"}]}],[]),u=b.useMemo(()=>c.map(m=>({...m,items:m.items.filter(g=>s||g.permission&&a[g.permission])})).filter(m=>m.items.length>0),[c,s,a]);return l.jsxs("div",{className:Re("h-screen bg-slate-50 border-r border-gray-100 flex flex-col relative overflow-hidden","transition-all duration-300 z-10 backdrop-blur-lg shadow-2xl",e?"w-72":"w-20"),children:[l.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[l.jsx("div",{className:"absolute -top-10 -right-10 h-32 w-32 rounded-full bg-gradient-to-br from-sidebar/20 to-eccos-purple/20 blur-2xl opacity-50"}),l.jsx("div",{className:"absolute top-1/3 -left-10 h-24 w-24 rounded-full bg-gradient-to-tr from-eccos-purple/15 to-sidebar/15 blur-xl opacity-40"}),l.jsx("div",{className:"absolute bottom-1/4 -right-8 h-20 w-20 rounded-full bg-gradient-to-bl from-sidebar/25 to-eccos-purple/25 blur-xl opacity-30"})]}),l.jsx("div",{className:"h-24 shrink-0 flex items-center justify-between p-1 relative z-10",children:l.jsx(Ih,{to:"/",className:Re("flex items-center justify-center overflow-hidden px-4 py-0 w-full group",e?"opacity-100":"opacity-0 w-0 overflow-hidden"),children:l.jsx("img",{src:wZ,alt:"Logo ECCOS",className:"h-32 w-32 object-contain transition-all duration-500 shrink-0 cursor-pointer group-hover:scale-110 group-hover:drop-shadow-lg"})})}),l.jsxs("div",{className:"flex-1 overflow-y-auto px-4 py-4 space-y-2 relative z-10 custom-scrollbar",children:[o.map((m,g)=>"items"in m?l.jsx(K$,{label:m.label,icon:m.icon,expanded:e,children:m.items.map((p,v)=>l.jsx(G$,{href:p.href,active:r.pathname===p.href,expanded:e,icon:p.icon,children:p.label},v))},g):l.jsx($Te,{icon:m.icon,label:m.label,href:m.href,active:r.pathname===m.href,expanded:e},g)),u.length>0&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"relative my-6",children:[l.jsx("div",{className:"absolute inset-0 flex items-center",children:l.jsx("div",{className:"w-full border-t border-gradient-to-r from-transparent via-gray-200 to-transparent"})}),l.jsx("div",{className:"relative flex justify-center",children:l.jsx("div",{className:"px-3 bg-slate-50",children:l.jsx("span",{className:Re("text-xs font-semibold tracking-wider uppercase","text-transparent bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text",e?"opacity-100":"opacity-0")})})})]}),u.map((m,g)=>l.jsx(K$,{label:m.category,icon:m.icon,expanded:e,children:m.items.map((p,v)=>l.jsx(G$,{href:p.href,active:r.pathname===p.href,expanded:e,icon:p.icon,children:p.label},`admin-${v}`))},`category-${g}`))]})]}),l.jsxs("div",{className:"shrink-0 pt-4 pb-4 px-4 border-t border-gray-100 relative z-10",children:[l.jsxs(Ih,{to:"/perfil",className:Re("flex items-center gap-3 p-3 mb-3 rounded-xl transition-all duration-300 group relative overflow-hidden","hover:bg-gradient-to-r hover:from-sidebar/10 hover:to-eccos-purple/10 hover:shadow-md hover:scale-[1.02]","border border-transparent hover:border-gray-100/50",r.pathname==="/perfil"?"bg-gradient-to-r from-sidebar/15 to-eccos-purple/15 text-eccos-purple shadow-lg border-eccos-purple/20 scale-[1.02]":"",e?"w-full":"w-12 justify-center"),children:[i!=null&&i.photoURL?l.jsx("img",{src:i.photoURL,alt:"User profile",className:"h-8 w-8 rounded-full object-cover"}):l.jsx("div",{className:"h-8 w-8 rounded-full flex items-center justify-center bg-gradient-to-br from-sidebar to-eccos-purple text-white font-bold",children:((d=i==null?void 0:i.displayName)==null?void 0:d.charAt(0))||((f=i==null?void 0:i.email)==null?void 0:f.charAt(0).toUpperCase())||"U"}),e&&l.jsxs("div",{className:"flex flex-col min-w-0",children:[l.jsx("span",{className:"text-sm font-medium text-gray-700 group-hover:text-eccos-purple transition-colors duration-300 truncate",children:(i==null?void 0:i.displayName)||((h=i==null?void 0:i.email)==null?void 0:h.split("@")[0])}),l.jsx("span",{className:"text-xs text-gray-500 group-hover:text-eccos-purple/80 transition-colors duration-300 capitalize",children:i==null?void 0:i.role})]})]}),l.jsxs(ei,{children:[l.jsx(ti,{asChild:!0,children:l.jsxs("button",{className:Re("w-full p-3 rounded-xl transition-all duration-300 group relative overflow-hidden","hover:bg-gradient-to-r hover:from-red-50 hover:to-red-100 hover:shadow-lg hover:scale-[1.02]","focus:outline-none flex items-center gap-3 text-gray-700 hover:text-red-600","border border-transparent hover:border-red-200/50",e?"px-4 justify-start":"justify-center"),"aria-label":"Menu de logout",children:[l.jsx(o5,{className:"h-5 w-5 shrink-0 stroke-[1.5] transition-all duration-300 relative z-10 group-hover:stroke-red-600"}),e&&l.jsx("span",{className:"text-sm transition-all duration-300 font-medium relative z-10 group-hover:text-red-600",children:"Sair"})]})}),l.jsxs(zn,{align:e?"start":"center",className:"rounded-xl shadow-xl border-gray-100 bg-white/95 backdrop-blur-sm",children:[l.jsx(bZ,{className:"text-xs font-semibold text-gray-600 bg-gradient-to-r from-sidebar/10 to-eccos-purple/10 rounded-t-lg",children:"Ações da Conta"}),l.jsx(m4,{className:"bg-gray-100"}),l.jsxs(wo,{onClick:n,className:"text-red-600 cursor-pointer focus:bg-red-50 hover:bg-red-50 rounded-lg m-1 transition-all duration-200 font-medium",children:[l.jsx(o5,{className:"mr-2 h-4 w-4 stroke-[1.5]"}),l.jsx("span",{className:"text-sm",children:"Confirmar Saída"})]})]})]})]})]})},dC=768;function BTe(){const[e,t]=b.useState(void 0);return b.useEffect(()=>{const r=window.matchMedia(`(max-width: ${dC-1}px)`),n=()=>{t(window.innerWidth<dC)};return r.addEventListener("change",n),t(window.innerWidth<dC),()=>r.removeEventListener("change",n)},[]),!!e}var CT="Dialog",[_Z,EZ]=$s(CT),[VTe,bl]=_Z(CT),SZ=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:i,onOpenChange:a,modal:s=!0}=e,o=b.useRef(null),c=b.useRef(null),[u,d]=du({prop:n,defaultProp:i??!1,onChange:a,caller:CT});return l.jsx(VTe,{scope:t,triggerRef:o,contentRef:c,contentId:Vi(),titleId:Vi(),descriptionId:Vi(),open:u,onOpenChange:d,onOpenToggle:b.useCallback(()=>d(f=>!f),[d]),modal:s,children:r})};SZ.displayName=CT;var TZ="DialogTrigger",NZ=b.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=bl(TZ,r),a=Jt(t,i.triggerRef);return l.jsx(wt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":v4(i.open),...n,ref:a,onClick:Ye(e.onClick,i.onOpenToggle)})});NZ.displayName=TZ;var p4="DialogPortal",[UTe,AZ]=_Z(p4,{forceMount:void 0}),CZ=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:i}=e,a=bl(p4,t);return l.jsx(UTe,{scope:t,forceMount:r,children:b.Children.map(n,s=>l.jsx(os,{present:r||a.open,children:l.jsx(rg,{asChild:!0,container:i,children:s})}))})};CZ.displayName=p4;var BE="DialogOverlay",jZ=b.forwardRef((e,t)=>{const r=AZ(BE,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,a=bl(BE,e.__scopeDialog);return a.modal?l.jsx(os,{present:n||a.open,children:l.jsx(WTe,{...i,ref:t})}):null});jZ.displayName=BE;var zTe=Ld("DialogOverlay.RemoveScroll"),WTe=b.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=bl(BE,r);return l.jsx($1,{as:zTe,allowPinchZoom:!0,shards:[i.contentRef],children:l.jsx(wt.div,{"data-state":v4(i.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),$h="DialogContent",PZ=b.forwardRef((e,t)=>{const r=AZ($h,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,a=bl($h,e.__scopeDialog);return l.jsx(os,{present:n||a.open,children:a.modal?l.jsx(HTe,{...i,ref:t}):l.jsx(qTe,{...i,ref:t})})});PZ.displayName=$h;var HTe=b.forwardRef((e,t)=>{const r=bl($h,e.__scopeDialog),n=b.useRef(null),i=Jt(t,r.contentRef,n);return b.useEffect(()=>{const a=n.current;if(a)return ET(a)},[]),l.jsx(RZ,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ye(e.onCloseAutoFocus,a=>{var s;a.preventDefault(),(s=r.triggerRef.current)==null||s.focus()}),onPointerDownOutside:Ye(e.onPointerDownOutside,a=>{const s=a.detail.originalEvent,o=s.button===0&&s.ctrlKey===!0;(s.button===2||o)&&a.preventDefault()}),onFocusOutside:Ye(e.onFocusOutside,a=>a.preventDefault())})}),qTe=b.forwardRef((e,t)=>{const r=bl($h,e.__scopeDialog),n=b.useRef(!1),i=b.useRef(!1);return l.jsx(RZ,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var s,o;(s=e.onCloseAutoFocus)==null||s.call(e,a),a.defaultPrevented||(n.current||(o=r.triggerRef.current)==null||o.focus(),a.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const s=a.target;((u=r.triggerRef.current)==null?void 0:u.contains(s))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),RZ=b.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:a,...s}=e,o=bl($h,r),c=b.useRef(null),u=Jt(t,c);return wT(),l.jsxs(l.Fragment,{children:[l.jsx(L1,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:a,children:l.jsx(em,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":v4(o.open),...s,ref:u,onDismiss:()=>o.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(KTe,{titleId:o.titleId}),l.jsx(XTe,{contentRef:c,descriptionId:o.descriptionId})]})]})}),g4="DialogTitle",kZ=b.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=bl(g4,r);return l.jsx(wt.h2,{id:i.titleId,...n,ref:t})});kZ.displayName=g4;var IZ="DialogDescription",OZ=b.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=bl(IZ,r);return l.jsx(wt.p,{id:i.descriptionId,...n,ref:t})});OZ.displayName=IZ;var DZ="DialogClose",MZ=b.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=bl(DZ,r);return l.jsx(wt.button,{type:"button",...n,ref:t,onClick:Ye(e.onClick,()=>i.onOpenChange(!1))})});MZ.displayName=DZ;function v4(e){return e?"open":"closed"}var LZ="DialogTitleWarning",[GTe,FZ]=pde(LZ,{contentName:$h,titleName:g4,docsSlug:"dialog"}),KTe=({titleId:e})=>{const t=FZ(LZ),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return b.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},YTe="DialogDescriptionWarning",XTe=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${FZ(YTe).contentName}}.`;return b.useEffect(()=>{var a;const i=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},jT=SZ,y4=NZ,PT=CZ,gg=jZ,vg=PZ,U1=kZ,z1=OZ,RT=MZ;const QTe=jT,ZTe=y4,JTe=PT,$Z=b.forwardRef(({className:e,...t},r)=>l.jsx(gg,{className:Re("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));$Z.displayName=gg.displayName;const eNe=m1("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),BZ=b.forwardRef(({side:e="right",className:t,children:r,...n},i)=>l.jsxs(JTe,{children:[l.jsx($Z,{}),l.jsxs(vg,{ref:i,className:Re(eNe({side:e}),t),...n,children:[r,l.jsxs(RT,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[l.jsx(go,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));BZ.displayName=vg.displayName;const tNe=b.forwardRef(({className:e,...t},r)=>l.jsx(U1,{ref:r,className:Re("text-lg font-semibold text-foreground",e),...t}));tNe.displayName=U1.displayName;const rNe=b.forwardRef(({className:e,...t},r)=>l.jsx(z1,{ref:r,className:Re("text-sm text-muted-foreground",e),...t}));rNe.displayName=z1.displayName;const ox=m1("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),me=b.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...i},a)=>{const s=n?hq:"button";return l.jsx(s,{className:Re(ox({variant:t,size:r,className:e})),ref:a,...i})});me.displayName="Button";var kT="Popover",[VZ,bft]=$s(kT,[uf]),W1=uf(),[nNe,yf]=VZ(kT),UZ=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:i,onOpenChange:a,modal:s=!1}=e,o=W1(t),c=b.useRef(null),[u,d]=b.useState(!1),[f,h]=du({prop:n,defaultProp:i??!1,onChange:a,caller:kT});return l.jsx($O,{...o,children:l.jsx(nNe,{scope:t,contentId:Vi(),triggerRef:c,open:f,onOpenChange:h,onOpenToggle:b.useCallback(()=>h(m=>!m),[h]),hasCustomAnchor:u,onCustomAnchorAdd:b.useCallback(()=>d(!0),[]),onCustomAnchorRemove:b.useCallback(()=>d(!1),[]),modal:s,children:r})})};UZ.displayName=kT;var zZ="PopoverAnchor",iNe=b.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,i=yf(zZ,r),a=W1(r),{onCustomAnchorAdd:s,onCustomAnchorRemove:o}=i;return b.useEffect(()=>(s(),()=>o()),[s,o]),l.jsx(g1,{...a,...n,ref:t})});iNe.displayName=zZ;var WZ="PopoverTrigger",HZ=b.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,i=yf(WZ,r),a=W1(r),s=Jt(t,i.triggerRef),o=l.jsx(wt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":XZ(i.open),...n,ref:s,onClick:Ye(e.onClick,i.onOpenToggle)});return i.hasCustomAnchor?o:l.jsx(g1,{asChild:!0,...a,children:o})});HZ.displayName=WZ;var x4="PopoverPortal",[aNe,sNe]=VZ(x4,{forceMount:void 0}),qZ=e=>{const{__scopePopover:t,forceMount:r,children:n,container:i}=e,a=yf(x4,t);return l.jsx(aNe,{scope:t,forceMount:r,children:l.jsx(os,{present:r||a.open,children:l.jsx(rg,{asChild:!0,container:i,children:n})})})};qZ.displayName=x4;var b0="PopoverContent",GZ=b.forwardRef((e,t)=>{const r=sNe(b0,e.__scopePopover),{forceMount:n=r.forceMount,...i}=e,a=yf(b0,e.__scopePopover);return l.jsx(os,{present:n||a.open,children:a.modal?l.jsx(lNe,{...i,ref:t}):l.jsx(cNe,{...i,ref:t})})});GZ.displayName=b0;var oNe=Ld("PopoverContent.RemoveScroll"),lNe=b.forwardRef((e,t)=>{const r=yf(b0,e.__scopePopover),n=b.useRef(null),i=Jt(t,n),a=b.useRef(!1);return b.useEffect(()=>{const s=n.current;if(s)return ET(s)},[]),l.jsx($1,{as:oNe,allowPinchZoom:!0,children:l.jsx(KZ,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ye(e.onCloseAutoFocus,s=>{var o;s.preventDefault(),a.current||(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Ye(e.onPointerDownOutside,s=>{const o=s.detail.originalEvent,c=o.button===0&&o.ctrlKey===!0,u=o.button===2||c;a.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:Ye(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1})})})}),cNe=b.forwardRef((e,t)=>{const r=yf(b0,e.__scopePopover),n=b.useRef(!1),i=b.useRef(!1);return l.jsx(KZ,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var s,o;(s=e.onCloseAutoFocus)==null||s.call(e,a),a.defaultPrevented||(n.current||(o=r.triggerRef.current)==null||o.focus(),a.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const s=a.target;((u=r.triggerRef.current)==null?void 0:u.contains(s))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),KZ=b.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:s,onEscapeKeyDown:o,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=e,h=yf(b0,r),m=W1(r);return wT(),l.jsx(L1,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:a,children:l.jsx(em,{asChild:!0,disableOutsidePointerEvents:s,onInteractOutside:d,onEscapeKeyDown:o,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:l.jsx(B2,{"data-state":XZ(h.open),role:"dialog",id:h.contentId,...m,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),YZ="PopoverClose",uNe=b.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,i=yf(YZ,r);return l.jsx(wt.button,{type:"button",...n,ref:t,onClick:Ye(e.onClick,()=>i.onOpenChange(!1))})});uNe.displayName=YZ;var dNe="PopoverArrow",fNe=b.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,i=W1(r);return l.jsx(V2,{...i,...n,ref:t})});fNe.displayName=dNe;function XZ(e){return e?"open":"closed"}var hNe=UZ,mNe=HZ,pNe=qZ,QZ=GZ;const iy=hNe,ay=mNe,Pp=b.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},i)=>l.jsx(pNe,{children:l.jsx(QZ,{ref:i,align:t,sideOffset:r,className:Re("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));Pp.displayName=QZ.displayName;const gNe=async e=>{try{const t=e.filter(i=>i.title==="Alteração de Status"?["Aprovada","Reprovada"].some(s=>i.message.includes(`alterado para ${s}`)):!0);if(t.length===0)return 0;const r=yT(Ze),n=qr(Ze,"notifications");return t.forEach(i=>{const a=xt(n);r.set(a,{...i,createdAt:Ot.now()})}),await r.commit(),t.length}catch{throw new Error("Failed to create batch notifications")}},Ra=async e=>{try{return(await xu(qr(Ze,"notifications"),{...e,createdAt:Ot.now(),link:e.link||null,readBy:e.readBy||[]})).id}catch{throw new Error("Failed to create notification")}},vNe=async e=>{try{const t=e===""?ks(qr(Ze,"notifications"),ix("createdAt","desc")):ks(qr(Ze,"notifications"),$X(la("recipients","array-contains",e),la("recipients","==",[])),ix("createdAt","desc"));return(await Ia(t)).docs.map(n=>{const i=n.data();return{id:n.id,title:i.title,message:i.message,createdAt:i.createdAt.toDate(),readBy:i.readBy||[],link:i.link||null,recipients:i.recipients||[],isBatch:i.isBatch||!1}})}catch{throw new Error("Failed to fetch notifications")}},yNe=async(e,t)=>{if(t)try{await ur(xt(Ze,"notifications",e),{readBy:v0(t)})}catch{throw new Error("Failed to mark notification as read")}},xNe=async(e,t)=>{if(t)try{const r=yT(Ze),n=e.filter(i=>(i.recipients.includes(t)||i.recipients.length===0)&&!i.readBy.includes(t));return n.forEach(i=>{const a=xt(Ze,"notifications",i.id);r.update(a,{readBy:v0(t)})}),await r.commit(),n.length}catch{throw new Error("Failed to mark all notifications as read")}},bNe=async e=>{try{await gf(xt(Ze,"notifications",e))}catch{throw new Error("Failed to delete notification")}},wNe=(e,t)=>{const r=ks(qr(Ze,"notifications"),$X(la("recipients","array-contains",e),la("recipients","==",[])),ix("createdAt","desc"));return vT(r,n=>{const i=n.docs.map(a=>{const s=a.data();return{id:a.id,title:s.title,message:s.message,createdAt:s.createdAt.toDate(),readBy:s.readBy||[],link:s.link||null,recipients:s.recipients||[],isBatch:s.isBatch||!1}});t(i)})},_Ne=m1("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Se({className:e,variant:t,...r}){return l.jsx("div",{className:Re(_Ne({variant:t}),e),...r})}const X$=()=>{const{currentUser:e}=Mr(),[t,r]=te.useState(!1),n=vl(),[i,a]=te.useState(!1),[s,o]=te.useState([]);b.useEffect(()=>{if(!(e!=null&&e.email))return;const h=wNe(e.email,m=>{o(m)});return()=>h()},[e==null?void 0:e.email]);const c=s.filter(h=>{var m;return!((m=h.readBy)!=null&&m.includes((e==null?void 0:e.email)||""))}).length,u=async h=>{var m;if(e!=null&&e.email)try{(m=h.readBy)!=null&&m.includes(e.email)||(await yNe(h.id,e.email),n.invalidateQueries({queryKey:["notifications"]}))}catch(g){$e.error("Erro ao marcar notificação como lida"),console.error("Error:",g)}},d=async()=>{if(!(!(e!=null&&e.email)||c===0)){a(!0);try{await xNe(s,e.email),n.invalidateQueries({queryKey:["notifications"]}),$e.success(`${c} notificações marcadas como lidas`)}catch(h){$e.error("Erro ao marcar notificações como lidas"),console.error("Error:",h)}finally{a(!1)}}},f=h=>{const m={pending:"pendente",approved:"aprovado",rejected:"reprovado","in-progress":"em andamento",waitingDelivery:"aguardando entrega",delivered:"recebido",completed:"concluído",canceled:"cancelado"};return h.replace(new RegExp(Object.keys(m).join("|"),"gi"),g=>m[g.toLowerCase()]||g)};return e?l.jsxs(iy,{open:t,onOpenChange:r,children:[l.jsxs("div",{className:"relative",children:[c>0&&l.jsx("div",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center font-semibold shadow-lg animate-pulse z-10",children:c>9?"9+":c}),l.jsx(ay,{asChild:!0,children:l.jsx(me,{variant:"ghost",size:"icon",className:Re("relative rounded-full w-10 h-10 hover:bg-gray-100 transition-colors",c>0&&"text-primary"),children:c>0?l.jsx(ofe,{className:"h-8 w-8"}):l.jsx(mh,{className:"h-8 w-8"})})})]}),l.jsx(Pp,{className:"w-[350px] p-0 rounded-lg shadow-xl border border-gray-200",align:"end",sideOffset:10,children:l.jsxs("div",{className:"bg-white rounded-lg overflow-hidden",children:[l.jsxs("div",{className:"p-4 border-b border-gray-100 flex items-center justify-between",children:[l.jsxs("h4",{className:"font-semibold text-lg flex items-center gap-2",children:[l.jsx(mh,{className:"h-5 w-5 text-primary"}),"Notificações"]}),c>0&&l.jsx(me,{variant:"ghost",size:"sm",onClick:d,disabled:i||c===0,className:"text-primary hover:bg-primary/10",children:i?l.jsxs("span",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"animate-spin rounded-full h-3 w-3 border-2 border-primary border-t-transparent"}),"Processando..."]}):l.jsxs("span",{className:"flex items-center gap-2",children:[l.jsx(k2,{className:"h-4 w-4"}),"Marcar todas como lida"]})})]}),l.jsx("div",{className:"max-h-[400px] overflow-y-auto",children:s.length>0?s.map(h=>{var p;const m=!((p=h.readBy)!=null&&p.includes(e.email||"")),g=f(h.message);return l.jsx("div",{onClick:()=>u(h),className:Re("p-4 border-b border-gray-100 cursor-pointer transition-colors",m?"bg-blue-50 hover:bg-blue-100":"hover:bg-gray-50"),children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"flex-shrink-0",children:h.title==="Alteração de Status"?l.jsxs(Se,{variant:"secondary",className:"bg-purple-100 text-purple-800",children:[l.jsx(s0,{className:"h-3 w-3 mr-1"}),"Status"]}):h.recipients.length===0?l.jsxs(Se,{variant:"secondary",className:"bg-blue-100 text-blue-800",children:[l.jsx(a_,{className:"h-3 w-3 mr-1"}),"Global"]}):l.jsxs(Se,{variant:"secondary",className:"bg-green-100 text-green-800",children:[l.jsx(Kc,{className:"h-3 w-3 mr-1"}),"Individual"]})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h3",{className:"font-medium text-gray-900",children:h.title}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:g}),h.link&&l.jsx("a",{href:h.link,target:"_blank",rel:"noopener noreferrer",className:"mt-2 inline-block text-sm text-primary hover:underline",onClick:v=>v.stopPropagation(),children:"Ver detalhes"}),l.jsx("p",{className:"text-xs text-gray-500 mt-2",children:new Date(h.createdAt).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"})})]}),m&&l.jsx("div",{className:"w-2 h-2 rounded-full bg-primary ml-2"})]})},h.id)}):l.jsxs("div",{className:"p-6 text-center",children:[l.jsx("div",{className:"mx-auto w-12 h-12 rounded-full bg-gray-100 flex items-center justify-center mb-4",children:l.jsx(mh,{className:"h-5 w-5 text-gray-400"})}),l.jsx("p",{className:"text-gray-500 font-medium",children:"Nenhuma notificação"}),l.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"As notificações aparecerão aqui quando chegarem"})]})})]})})]}):null},sn=({children:e})=>{const t=BTe();return l.jsx("div",{className:"flex h-screen overflow-hidden bg-background",children:t?l.jsxs(l.Fragment,{children:[l.jsxs(QTe,{children:[l.jsx(ZTe,{asChild:!0,children:l.jsx(me,{variant:"ghost",size:"icon",className:"fixed top-4 left-4 z-40 md:hidden",children:l.jsx(bfe,{className:"h-5 w-5"})})}),l.jsx(BZ,{side:"left",className:"p-0 w-64",children:l.jsx(Y$,{})})]}),l.jsx("div",{className:"fixed top-4 right-4 z-40",children:l.jsx(X$,{})}),l.jsx("main",{className:"flex-1 overflow-auto p-6 pt-16",children:l.jsx("div",{className:"max-w-7xl mx-auto animate-fade-in",children:e})})]}):l.jsxs(l.Fragment,{children:[l.jsx(Y$,{}),l.jsx("div",{className:"fixed top-4 right-4 z-40",children:l.jsx(X$,{})}),l.jsx("main",{className:"flex-1 overflow-auto p-6",children:l.jsx("div",{className:"max-w-7xl mx-auto animate-fade-in",children:e})})]})})},Bt=b.forwardRef(({className:e,type:t,...r},n)=>l.jsx("input",{type:t,className:Re("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));Bt.displayName="Input";const Oa=b.forwardRef(({className:e,...t},r)=>l.jsx("textarea",{className:Re("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Oa.displayName="Textarea";var IT="Tabs",[ENe,wft]=$s(IT,[_T]),ZZ=_T(),[SNe,b4]=ENe(IT),JZ=b.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:i,defaultValue:a,orientation:s="horizontal",dir:o,activationMode:c="automatic",...u}=e,d=bT(o),[f,h]=du({prop:n,onChange:i,defaultProp:a??"",caller:IT});return l.jsx(SNe,{scope:r,baseId:Vi(),value:f,onValueChange:h,orientation:s,dir:d,activationMode:c,children:l.jsx(wt.div,{dir:d,"data-orientation":s,...u,ref:t})})});JZ.displayName=IT;var eJ="TabsList",tJ=b.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...i}=e,a=b4(eJ,r),s=ZZ(r);return l.jsx(vQ,{asChild:!0,...s,orientation:a.orientation,dir:a.dir,loop:n,children:l.jsx(wt.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:t})})});tJ.displayName=eJ;var rJ="TabsTrigger",nJ=b.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:i=!1,...a}=e,s=b4(rJ,r),o=ZZ(r),c=sJ(s.baseId,n),u=oJ(s.baseId,n),d=n===s.value;return l.jsx(yQ,{asChild:!0,...o,focusable:!i,active:d,children:l.jsx(wt.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...a,ref:t,onMouseDown:Ye(e.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?s.onValueChange(n):f.preventDefault()}),onKeyDown:Ye(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&s.onValueChange(n)}),onFocus:Ye(e.onFocus,()=>{const f=s.activationMode!=="manual";!d&&!i&&f&&s.onValueChange(n)})})})});nJ.displayName=rJ;var iJ="TabsContent",aJ=b.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:i,children:a,...s}=e,o=b4(iJ,r),c=sJ(o.baseId,n),u=oJ(o.baseId,n),d=n===o.value,f=b.useRef(d);return b.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),l.jsx(os,{present:i||d,children:({present:h})=>l.jsx(wt.div,{"data-state":d?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...s,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&a})})});aJ.displayName=iJ;function sJ(e,t){return`${e}-trigger-${t}`}function oJ(e,t){return`${e}-content-${t}`}var TNe=JZ,lJ=tJ,cJ=nJ,uJ=aJ;const VE=TNe,lx=b.forwardRef(({className:e,...t},r)=>l.jsx(lJ,{ref:r,className:Re("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));lx.displayName=lJ.displayName;const Xo=b.forwardRef(({className:e,...t},r)=>l.jsx(cJ,{ref:r,className:Re("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Xo.displayName=cJ.displayName;const Bh=b.forwardRef(({className:e,...t},r)=>l.jsx(uJ,{ref:r,className:Re("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Bh.displayName=uJ.displayName;const Qe=b.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:Re("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Qe.displayName="Card";const Rt=b.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:Re("flex flex-col space-y-1.5 p-6",e),...t}));Rt.displayName="CardHeader";const kt=b.forwardRef(({className:e,...t},r)=>l.jsx("h3",{ref:r,className:Re("text-2xl font-semibold leading-none tracking-tight",e),...t}));kt.displayName="CardTitle";const NNe=b.forwardRef(({className:e,...t},r)=>l.jsx("p",{ref:r,className:Re("text-sm text-muted-foreground",e),...t}));NNe.displayName="CardDescription";const nt=b.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:Re("p-6 pt-0",e),...t}));nt.displayName="CardContent";const ANe=b.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:Re("flex items-center p-6 pt-0",e),...t}));ANe.displayName="CardFooter";var Q$=1,CNe=.9,jNe=.8,PNe=.17,fC=.1,hC=.999,RNe=.9999,kNe=.99,INe=/[\\\/_+.#"@\[\(\{&]/,ONe=/[\\\/_+.#"@\[\(\{&]/g,DNe=/[\s-]/,dJ=/[\s-]/g;function wR(e,t,r,n,i,a,s){if(a===t.length)return i===e.length?Q$:kNe;var o=`${i},${a}`;if(s[o]!==void 0)return s[o];for(var c=n.charAt(a),u=r.indexOf(c,i),d=0,f,h,m,g;u>=0;)f=wR(e,t,r,n,u+1,a+1,s),f>d&&(u===i?f*=Q$:INe.test(e.charAt(u-1))?(f*=jNe,m=e.slice(i,u-1).match(ONe),m&&i>0&&(f*=Math.pow(hC,m.length))):DNe.test(e.charAt(u-1))?(f*=CNe,g=e.slice(i,u-1).match(dJ),g&&i>0&&(f*=Math.pow(hC,g.length))):(f*=PNe,i>0&&(f*=Math.pow(hC,u-i))),e.charAt(u)!==t.charAt(a)&&(f*=RNe)),(f<fC&&r.charAt(u-1)===n.charAt(a+1)||n.charAt(a+1)===n.charAt(a)&&r.charAt(u-1)!==n.charAt(a))&&(h=wR(e,t,r,n,u+1,a+2,s),h*fC>f&&(f=h*fC)),f>d&&(d=f),u=r.indexOf(c,u+1);return s[o]=d,d}function Z$(e){return e.toLowerCase().replace(dJ," ")}function MNe(e,t,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,wR(e,t,Z$(e),Z$(t),0,0,{})}var av='[cmdk-group=""]',mC='[cmdk-group-items=""]',LNe='[cmdk-group-heading=""]',fJ='[cmdk-item=""]',J$=`${fJ}:not([aria-disabled="true"])`,_R="cmdk-item-select",zm="data-value",FNe=(e,t,r)=>MNe(e,t,r),hJ=b.createContext(void 0),H1=()=>b.useContext(hJ),mJ=b.createContext(void 0),w4=()=>b.useContext(mJ),pJ=b.createContext(void 0),gJ=b.forwardRef((e,t)=>{let r=Wm(()=>{var M,W;return{search:"",value:(W=(M=e.value)!=null?M:e.defaultValue)!=null?W:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),n=Wm(()=>new Set),i=Wm(()=>new Map),a=Wm(()=>new Map),s=Wm(()=>new Set),o=vJ(e),{label:c,children:u,value:d,onValueChange:f,filter:h,shouldFilter:m,loop:g,disablePointerSelection:p=!1,vimBindings:v=!0,...y}=e,x=Vi(),w=Vi(),N=Vi(),E=b.useRef(null),T=YNe();Vh(()=>{if(d!==void 0){let M=d.trim();r.current.value=M,S.emit()}},[d]),Vh(()=>{T(6,k)},[]);let S=b.useMemo(()=>({subscribe:M=>(s.current.add(M),()=>s.current.delete(M)),snapshot:()=>r.current,setState:(M,W,G)=>{var P,J,oe,ae;if(!Object.is(r.current[M],W)){if(r.current[M]=W,M==="search")O(),j(),T(1,I);else if(M==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let K=document.getElementById(N);K?K.focus():(P=document.getElementById(x))==null||P.focus()}if(T(7,()=>{var K;r.current.selectedItemId=(K=D())==null?void 0:K.id,S.emit()}),G||T(5,k),((J=o.current)==null?void 0:J.value)!==void 0){let K=W??"";(ae=(oe=o.current).onValueChange)==null||ae.call(oe,K);return}}S.emit()}},emit:()=>{s.current.forEach(M=>M())}}),[]),A=b.useMemo(()=>({value:(M,W,G)=>{var P;W!==((P=a.current.get(M))==null?void 0:P.value)&&(a.current.set(M,{value:W,keywords:G}),r.current.filtered.items.set(M,C(W,G)),T(2,()=>{j(),S.emit()}))},item:(M,W)=>(n.current.add(M),W&&(i.current.has(W)?i.current.get(W).add(M):i.current.set(W,new Set([M]))),T(3,()=>{O(),j(),r.current.value||I(),S.emit()}),()=>{a.current.delete(M),n.current.delete(M),r.current.filtered.items.delete(M);let G=D();T(4,()=>{O(),(G==null?void 0:G.getAttribute("id"))===M&&I(),S.emit()})}),group:M=>(i.current.has(M)||i.current.set(M,new Set),()=>{a.current.delete(M),i.current.delete(M)}),filter:()=>o.current.shouldFilter,label:c||e["aria-label"],getDisablePointerSelection:()=>o.current.disablePointerSelection,listId:x,inputId:N,labelId:w,listInnerRef:E}),[]);function C(M,W){var G,P;let J=(P=(G=o.current)==null?void 0:G.filter)!=null?P:FNe;return M?J(M,r.current.search,W):0}function j(){if(!r.current.search||o.current.shouldFilter===!1)return;let M=r.current.filtered.items,W=[];r.current.filtered.groups.forEach(P=>{let J=i.current.get(P),oe=0;J.forEach(ae=>{let K=M.get(ae);oe=Math.max(K,oe)}),W.push([P,oe])});let G=E.current;B().sort((P,J)=>{var oe,ae;let K=P.getAttribute("id"),ie=J.getAttribute("id");return((oe=M.get(ie))!=null?oe:0)-((ae=M.get(K))!=null?ae:0)}).forEach(P=>{let J=P.closest(mC);J?J.appendChild(P.parentElement===J?P:P.closest(`${mC} > *`)):G.appendChild(P.parentElement===G?P:P.closest(`${mC} > *`))}),W.sort((P,J)=>J[1]-P[1]).forEach(P=>{var J;let oe=(J=E.current)==null?void 0:J.querySelector(`${av}[${zm}="${encodeURIComponent(P[0])}"]`);oe==null||oe.parentElement.appendChild(oe)})}function I(){let M=B().find(G=>G.getAttribute("aria-disabled")!=="true"),W=M==null?void 0:M.getAttribute(zm);S.setState("value",W||void 0)}function O(){var M,W,G,P;if(!r.current.search||o.current.shouldFilter===!1){r.current.filtered.count=n.current.size;return}r.current.filtered.groups=new Set;let J=0;for(let oe of n.current){let ae=(W=(M=a.current.get(oe))==null?void 0:M.value)!=null?W:"",K=(P=(G=a.current.get(oe))==null?void 0:G.keywords)!=null?P:[],ie=C(ae,K);r.current.filtered.items.set(oe,ie),ie>0&&J++}for(let[oe,ae]of i.current)for(let K of ae)if(r.current.filtered.items.get(K)>0){r.current.filtered.groups.add(oe);break}r.current.filtered.count=J}function k(){var M,W,G;let P=D();P&&(((M=P.parentElement)==null?void 0:M.firstChild)===P&&((G=(W=P.closest(av))==null?void 0:W.querySelector(LNe))==null||G.scrollIntoView({block:"nearest"})),P.scrollIntoView({block:"nearest"}))}function D(){var M;return(M=E.current)==null?void 0:M.querySelector(`${fJ}[aria-selected="true"]`)}function B(){var M;return Array.from(((M=E.current)==null?void 0:M.querySelectorAll(J$))||[])}function ee(M){let W=B()[M];W&&S.setState("value",W.getAttribute(zm))}function z(M){var W;let G=D(),P=B(),J=P.findIndex(ae=>ae===G),oe=P[J+M];(W=o.current)!=null&&W.loop&&(oe=J+M<0?P[P.length-1]:J+M===P.length?P[0]:P[J+M]),oe&&S.setState("value",oe.getAttribute(zm))}function V(M){let W=D(),G=W==null?void 0:W.closest(av),P;for(;G&&!P;)G=M>0?GNe(G,av):KNe(G,av),P=G==null?void 0:G.querySelector(J$);P?S.setState("value",P.getAttribute(zm)):z(M)}let U=()=>ee(B().length-1),se=M=>{M.preventDefault(),M.metaKey?U():M.altKey?V(1):z(1)},ne=M=>{M.preventDefault(),M.metaKey?ee(0):M.altKey?V(-1):z(-1)};return b.createElement(wt.div,{ref:t,tabIndex:-1,...y,"cmdk-root":"",onKeyDown:M=>{var W;(W=y.onKeyDown)==null||W.call(y,M);let G=M.nativeEvent.isComposing||M.keyCode===229;if(!(M.defaultPrevented||G))switch(M.key){case"n":case"j":{v&&M.ctrlKey&&se(M);break}case"ArrowDown":{se(M);break}case"p":case"k":{v&&M.ctrlKey&&ne(M);break}case"ArrowUp":{ne(M);break}case"Home":{M.preventDefault(),ee(0);break}case"End":{M.preventDefault(),U();break}case"Enter":{M.preventDefault();let P=D();if(P){let J=new Event(_R);P.dispatchEvent(J)}}}}},b.createElement("label",{"cmdk-label":"",htmlFor:A.inputId,id:A.labelId,style:QNe},c),OT(e,M=>b.createElement(mJ.Provider,{value:S},b.createElement(hJ.Provider,{value:A},M))))}),$Ne=b.forwardRef((e,t)=>{var r,n;let i=Vi(),a=b.useRef(null),s=b.useContext(pJ),o=H1(),c=vJ(e),u=(n=(r=c.current)==null?void 0:r.forceMount)!=null?n:s==null?void 0:s.forceMount;Vh(()=>{if(!u)return o.item(i,s==null?void 0:s.id)},[u]);let d=yJ(i,a,[e.value,e.children,a],e.keywords),f=w4(),h=Yd(T=>T.value&&T.value===d.current),m=Yd(T=>u||o.filter()===!1?!0:T.search?T.filtered.items.get(i)>0:!0);b.useEffect(()=>{let T=a.current;if(!(!T||e.disabled))return T.addEventListener(_R,g),()=>T.removeEventListener(_R,g)},[m,e.onSelect,e.disabled]);function g(){var T,S;p(),(S=(T=c.current).onSelect)==null||S.call(T,d.current)}function p(){f.setState("value",d.current,!0)}if(!m)return null;let{disabled:v,value:y,onSelect:x,forceMount:w,keywords:N,...E}=e;return b.createElement(wt.div,{ref:uu(a,t),...E,id:i,"cmdk-item":"",role:"option","aria-disabled":!!v,"aria-selected":!!h,"data-disabled":!!v,"data-selected":!!h,onPointerMove:v||o.getDisablePointerSelection()?void 0:p,onClick:v?void 0:g},e.children)}),BNe=b.forwardRef((e,t)=>{let{heading:r,children:n,forceMount:i,...a}=e,s=Vi(),o=b.useRef(null),c=b.useRef(null),u=Vi(),d=H1(),f=Yd(m=>i||d.filter()===!1?!0:m.search?m.filtered.groups.has(s):!0);Vh(()=>d.group(s),[]),yJ(s,o,[e.value,e.heading,c]);let h=b.useMemo(()=>({id:s,forceMount:i}),[i]);return b.createElement(wt.div,{ref:uu(o,t),...a,"cmdk-group":"",role:"presentation",hidden:f?void 0:!0},r&&b.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:u},r),OT(e,m=>b.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?u:void 0},b.createElement(pJ.Provider,{value:h},m))))}),VNe=b.forwardRef((e,t)=>{let{alwaysRender:r,...n}=e,i=b.useRef(null),a=Yd(s=>!s.search);return!r&&!a?null:b.createElement(wt.div,{ref:uu(i,t),...n,"cmdk-separator":"",role:"separator"})}),UNe=b.forwardRef((e,t)=>{let{onValueChange:r,...n}=e,i=e.value!=null,a=w4(),s=Yd(u=>u.search),o=Yd(u=>u.selectedItemId),c=H1();return b.useEffect(()=>{e.value!=null&&a.setState("search",e.value)},[e.value]),b.createElement(wt.input,{ref:t,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":o,id:c.inputId,type:"text",value:i?e.value:s,onChange:u=>{i||a.setState("search",u.target.value),r==null||r(u.target.value)}})}),zNe=b.forwardRef((e,t)=>{let{children:r,label:n="Suggestions",...i}=e,a=b.useRef(null),s=b.useRef(null),o=Yd(u=>u.selectedItemId),c=H1();return b.useEffect(()=>{if(s.current&&a.current){let u=s.current,d=a.current,f,h=new ResizeObserver(()=>{f=requestAnimationFrame(()=>{let m=u.offsetHeight;d.style.setProperty("--cmdk-list-height",m.toFixed(1)+"px")})});return h.observe(u),()=>{cancelAnimationFrame(f),h.unobserve(u)}}},[]),b.createElement(wt.div,{ref:uu(a,t),...i,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":o,"aria-label":n,id:c.listId},OT(e,u=>b.createElement("div",{ref:uu(s,c.listInnerRef),"cmdk-list-sizer":""},u)))}),WNe=b.forwardRef((e,t)=>{let{open:r,onOpenChange:n,overlayClassName:i,contentClassName:a,container:s,...o}=e;return b.createElement(jT,{open:r,onOpenChange:n},b.createElement(PT,{container:s},b.createElement(gg,{"cmdk-overlay":"",className:i}),b.createElement(vg,{"aria-label":e.label,"cmdk-dialog":"",className:a},b.createElement(gJ,{ref:t,...o}))))}),HNe=b.forwardRef((e,t)=>Yd(r=>r.filtered.count===0)?b.createElement(wt.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),qNe=b.forwardRef((e,t)=>{let{progress:r,children:n,label:i="Loading...",...a}=e;return b.createElement(wt.div,{ref:t,...a,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":i},OT(e,s=>b.createElement("div",{"aria-hidden":!0},s)))}),cs=Object.assign(gJ,{List:zNe,Item:$Ne,Input:UNe,Group:BNe,Separator:VNe,Dialog:WNe,Empty:HNe,Loading:qNe});function GNe(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}function KNe(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}function vJ(e){let t=b.useRef(e);return Vh(()=>{t.current=e}),t}var Vh=typeof window>"u"?b.useEffect:b.useLayoutEffect;function Wm(e){let t=b.useRef();return t.current===void 0&&(t.current=e()),t}function Yd(e){let t=w4(),r=()=>e(t.snapshot());return b.useSyncExternalStore(t.subscribe,r,r)}function yJ(e,t,r,n=[]){let i=b.useRef(),a=H1();return Vh(()=>{var s;let o=(()=>{var u;for(let d of r){if(typeof d=="string")return d.trim();if(typeof d=="object"&&"current"in d)return d.current?(u=d.current.textContent)==null?void 0:u.trim():i.current}})(),c=n.map(u=>u.trim());a.value(e,o,c),(s=t.current)==null||s.setAttribute(zm,o),i.current=o}),i}var YNe=()=>{let[e,t]=b.useState(),r=Wm(()=>new Map);return Vh(()=>{r.current.forEach(n=>n()),r.current=new Map},[e]),(n,i)=>{r.current.set(n,i),t({})}};function XNe(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function OT({asChild:e,children:t},r){return e&&b.isValidElement(t)?b.cloneElement(XNe(t),{ref:t.ref},r(t.props.children)):r(t)}var QNe={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const mn=jT,_4=y4,ZNe=PT,xJ=({children:e})=>l.jsx("span",{className:"sr-only",children:e});xJ.displayName="VisuallyHidden";const bJ=b.forwardRef(({className:e,...t},r)=>l.jsx(gg,{ref:r,className:Re("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));bJ.displayName=gg.displayName;const on=b.forwardRef(({className:e,children:t,...r},n)=>l.jsxs(ZNe,{children:[l.jsx(bJ,{}),l.jsxs(vg,{ref:n,className:Re("fixed left-[50%] top-[50%] z-50 w-full max-w-lg translate-x-[-50%] translate-y-[-50%] border bg-background shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg","max-h-[95dvh] overflow-y-auto",e),...r,children:[t,l.jsxs(RT,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[l.jsx(go,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Fechar"})]})]})]}));on.displayName=vg.displayName;const pn=({className:e,...t})=>l.jsx("div",{className:Re("flex flex-col space-y-1.5 text-center sm:text-left p-6 pb-4 border-b border-gray-100",e),...t});pn.displayName="DialogHeader";const ii=({className:e,...t})=>l.jsx("div",{className:Re("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2 p-6 border-t border-gray-100",e),...t});ii.displayName="DialogFooter";const ln=b.forwardRef(({className:e,...t},r)=>l.jsx(U1,{ref:r,className:Re("text-lg font-semibold leading-none tracking-tight",e),...t}));ln.displayName=U1.displayName;const gn=b.forwardRef(({className:e,...t},r)=>l.jsx(z1,{ref:r,className:Re("text-sm text-muted-foreground",e),...t}));gn.displayName=z1.displayName;const wJ=b.forwardRef(({className:e,...t},r)=>l.jsx(cs,{ref:r,className:Re("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));wJ.displayName=cs.displayName;const _J=b.forwardRef(({className:e,...t},r)=>l.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[l.jsx(gc,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),l.jsx(cs.Input,{ref:r,className:Re("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));_J.displayName=cs.Input.displayName;const EJ=b.forwardRef(({className:e,...t},r)=>l.jsx(cs.List,{ref:r,className:Re("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));EJ.displayName=cs.List.displayName;const SJ=b.forwardRef((e,t)=>l.jsx(cs.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));SJ.displayName=cs.Empty.displayName;const ER=b.forwardRef(({className:e,...t},r)=>l.jsx(cs.Group,{ref:r,className:Re("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));ER.displayName=cs.Group.displayName;const JNe=b.forwardRef(({className:e,...t},r)=>l.jsx(cs.Separator,{ref:r,className:Re("-mx-1 h-px bg-border",e),...t}));JNe.displayName=cs.Separator.displayName;const TJ=b.forwardRef(({className:e,...t},r)=>l.jsx(cs.Item,{ref:r,className:Re("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",e),...t}));TJ.displayName=cs.Item.displayName;function eAe({options:e,selected:t,onChange:r,placeholder:n="Selecione os usuários...",clearLabel:i="Limpar Tudo"}){const[a,s]=b.useState(!1),[o,c]=b.useState(t);b.useEffect(()=>{c(t)},[t]);const u=()=>{r(o),s(!1)},d=h=>{o.includes(h)?c(o.filter(m=>m!==h)):c([...o,h])},f=()=>{c([]),r([]),s(!1)};return l.jsxs(iy,{open:a,onOpenChange:s,children:[l.jsx(ay,{asChild:!0,children:l.jsxs(me,{variant:"outline",role:"combobox","aria-expanded":a,className:"w-full justify-between h-12 rounded-xl border-gray-200 hover:border-eccos-purple focus:border-eccos-purple text-left font-normal",children:[l.jsx("div",{className:"flex flex-wrap gap-1",children:t.length>0?t.map(h=>{const m=e.find(g=>g.value===h);return l.jsx(Se,{variant:"secondary",className:"px-2 py-0.5",children:(m==null?void 0:m.label)||h},h)}):l.jsx("span",{className:"text-sm text-gray-500",children:n})}),l.jsx(dfe,{className:"h-4 w-4 opacity-50"})]})}),l.jsx(Pp,{className:"p-0 w-[--radix-popover-trigger-width] min-w-[300px] max-h-[400px] overflow-auto shadow-lg",children:l.jsxs(wJ,{children:[l.jsx(_J,{placeholder:"Buscar usuário..."}),l.jsxs(EJ,{children:[l.jsx(SJ,{children:"Nenhum usuário encontrado."}),l.jsx(ER,{children:e.map(h=>l.jsxs(TJ,{onSelect:()=>d(h.value),className:"cursor-pointer",children:[l.jsx("div",{className:Re("mr-2 flex h-4 w-4 items-center justify-center rounded-sm border border-gray-300",o.includes(h.value)?"bg-sidebar border-sidebar text-white":"border-gray-300"),children:o.includes(h.value)&&l.jsx(tm,{className:"h-3 w-3"})}),h.label]},h.value))}),l.jsx(ER,{className:"mt-2 border-t pt-2",children:l.jsxs("div",{className:"flex justify-between px-2 pb-2",children:[l.jsxs(me,{size:"sm",variant:"ghost",onClick:f,className:"text-xs px-2 py-1 text-red-600 hover:text-red-700",children:[l.jsx(Vc,{className:"h-3 w-3 mr-1"}),i||"Limpar Tudo"]}),l.jsxs(me,{size:"sm",variant:"secondary",onClick:u,className:"text-xs px-2 py-1",children:[l.jsx(k2,{className:"h-3 w-3 mr-1"}),"Confirmar"]})]})})]})]})})]})}const tAe=qr(Ze,"users"),q1=async()=>{try{return(await Ia(tAe)).docs.map(t=>{const r=t.data(),n=r.lastActive?r.lastActive.toDate().toISOString():null;return{...r,lastActive:n}})}catch(e){throw console.error("Error getting users:",e),e}},rAe=async(e,t)=>{try{const r=xt(Ze,"users",e);return await ur(r,{blocked:t}),!0}catch(r){throw console.error("Error toggling user block status:",r),r}},nAe=async(e,t)=>{try{const r=xt(Ze,"users",e);return await ur(r,{role:t,pendingRoleChange:null}),window.dispatchEvent(new CustomEvent("userRoleChanged",{detail:{uid:e,newRole:t}})),!0}catch(r){throw console.error("Error changing user role:",r),r}},iAe=async()=>{try{return(await q1()).filter(r=>(r.role==="admin"||r.role==="superadmin")&&!r.blocked&&r.email).map(r=>r.email).filter(Boolean)}catch(e){return console.error("[Admins] Erro crítico:",e),[]}};var NJ="AlertDialog",[aAe,_ft]=$s(NJ,[EZ]),ju=EZ(),AJ=e=>{const{__scopeAlertDialog:t,...r}=e,n=ju(t);return l.jsx(jT,{...n,...r,modal:!0})};AJ.displayName=NJ;var sAe="AlertDialogTrigger",CJ=b.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=ju(r);return l.jsx(y4,{...i,...n,ref:t})});CJ.displayName=sAe;var oAe="AlertDialogPortal",jJ=e=>{const{__scopeAlertDialog:t,...r}=e,n=ju(t);return l.jsx(PT,{...n,...r})};jJ.displayName=oAe;var lAe="AlertDialogOverlay",PJ=b.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=ju(r);return l.jsx(gg,{...i,...n,ref:t})});PJ.displayName=lAe;var Rp="AlertDialogContent",[cAe,uAe]=aAe(Rp),dAe=pq("AlertDialogContent"),RJ=b.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...i}=e,a=ju(r),s=b.useRef(null),o=Jt(t,s),c=b.useRef(null);return l.jsx(GTe,{contentName:Rp,titleName:kJ,docsSlug:"alert-dialog",children:l.jsx(cAe,{scope:r,cancelRef:c,children:l.jsxs(vg,{role:"alertdialog",...a,...i,ref:o,onOpenAutoFocus:Ye(i.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[l.jsx(dAe,{children:n}),l.jsx(hAe,{contentRef:s})]})})})});RJ.displayName=Rp;var kJ="AlertDialogTitle",IJ=b.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=ju(r);return l.jsx(U1,{...i,...n,ref:t})});IJ.displayName=kJ;var OJ="AlertDialogDescription",DJ=b.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=ju(r);return l.jsx(z1,{...i,...n,ref:t})});DJ.displayName=OJ;var fAe="AlertDialogAction",MJ=b.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=ju(r);return l.jsx(RT,{...i,...n,ref:t})});MJ.displayName=fAe;var LJ="AlertDialogCancel",FJ=b.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:i}=uAe(LJ,r),a=ju(r),s=Jt(t,i);return l.jsx(RT,{...a,...n,ref:s})});FJ.displayName=LJ;var hAe=({contentRef:e})=>{const t=`\`${Rp}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Rp}\` by passing a \`${OJ}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Rp}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return b.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},mAe=AJ,pAe=CJ,gAe=jJ,$J=PJ,BJ=RJ,VJ=MJ,UJ=FJ,zJ=IJ,WJ=DJ;const To=mAe,vAe=pAe,yAe=gAe,HJ=b.forwardRef(({className:e,...t},r)=>l.jsx($J,{className:Re("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));HJ.displayName=$J.displayName;const Bs=b.forwardRef(({className:e,...t},r)=>l.jsxs(yAe,{children:[l.jsx(HJ,{}),l.jsx(BJ,{ref:r,className:Re("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Bs.displayName=BJ.displayName;const Vs=({className:e,...t})=>l.jsx("div",{className:Re("flex flex-col space-y-2 text-center sm:text-left",e),...t});Vs.displayName="AlertDialogHeader";const wl=({className:e,...t})=>l.jsx("div",{className:Re("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});wl.displayName="AlertDialogFooter";const Us=b.forwardRef(({className:e,...t},r)=>l.jsx(zJ,{ref:r,className:Re("text-lg font-semibold",e),...t}));Us.displayName=zJ.displayName;const No=b.forwardRef(({className:e,...t},r)=>l.jsx(WJ,{ref:r,className:Re("text-sm text-muted-foreground",e),...t}));No.displayName=WJ.displayName;const Ao=b.forwardRef(({className:e,...t},r)=>l.jsx(VJ,{ref:r,className:Re(ox(),e),...t}));Ao.displayName=VJ.displayName;const Co=b.forwardRef(({className:e,...t},r)=>l.jsx(UJ,{ref:r,className:Re(ox({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));Co.displayName=UJ.displayName;const xAe=()=>{const{isAdmin:e}=Mr(),t=vl(),[r,n]=b.useState("send"),[i,a]=b.useState(""),[s,o]=b.useState(""),[c,u]=b.useState(""),[d,f]=b.useState(!0),[h,m]=b.useState([]),[g,p]=b.useState("all"),[v,y]=b.useState(""),{data:x=[]}=ua({queryKey:["allNotifications"],queryFn:()=>vNe(""),enabled:e}),{data:w=[]}=ua({queryKey:["allUsers"],queryFn:()=>q1(),enabled:e});b.useEffect(()=>{const S=new IntersectionObserver(A=>{A.forEach(C=>{C.isIntersecting&&C.target.classList.add("visible")})},{threshold:.1});return document.querySelectorAll(".fade-up").forEach(A=>S.observe(A)),()=>S.disconnect()},[]);const N=x.filter(S=>{const A=g==="all"||g==="global"&&S.recipients.length===0||g==="individual"&&S.recipients.length>0&&S.title!=="Alteração de Status"||g==="status"&&S.title==="Alteração de Status",C=S.title.toLowerCase().includes(v.toLowerCase())||S.message.toLowerCase().includes(v.toLowerCase());return A&&C}),E=async S=>{if(S.preventDefault(),!(!i||!s))try{const A=d?[{title:i,message:s,link:c.trim()||null,createdAt:new Date,readBy:[],recipients:[],isBatch:!1}]:[{title:i,message:s,link:c.trim()||null,createdAt:new Date,readBy:[],recipients:h,isBatch:h.length>1}];await gNe(A),$e.success("Notificação enviada com sucesso"),t.invalidateQueries({queryKey:["allNotifications"]}),a(""),o(""),u(""),m([])}catch{$e.error("Erro ao enviar notificação")}},{currentUser:T}=Mr();return["admin","superadmin","financeiro"].includes((T==null?void 0:T.role)||"")?l.jsxs(sn,{children:[l.jsxs("div",{className:"min-h-screen bg-white relative",children:[l.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none z-0",children:[l.jsx("div",{className:"absolute left-1/4 top-1/4 h-96 w-96 rounded-full bg-sidebar blur-3xl opacity-5"}),l.jsx("div",{className:"absolute right-1/4 bottom-1/4 h-80 w-80 rounded-full bg-eccos-purple blur-3xl opacity-5"})]}),l.jsxs("div",{className:"relative z-10 space-y-8 p-6 md:p-12 fade-up",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2 bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:[l.jsx(mh,{className:"text-eccos-purple",size:35}),"Gerenciamento de Notificações"]}),l.jsx("p",{className:"text-gray-500 text-sm sm:text-base",children:"Envie notificações globais ou individuais e gerencie o histórico"})]}),l.jsxs(VE,{value:r,onValueChange:n,className:"fade-up",children:[l.jsxs(lx,{className:"grid grid-cols-2 w-full bg-white border border-gray-100 rounded-2xl shadow-lg p-1 h-14",children:[l.jsxs(Xo,{value:"send",className:"rounded-xl data-[state=active]:bg-gradient-to-r data-[state=active]:from-sidebar data-[state=active]:to-eccos-purple data-[state=active]:text-white data-[state=inactive]:text-gray-600 h-12 flex items-center justify-center gap-2 font-medium transition-all duration-300 mx-1",children:[l.jsx(JF,{className:"h-4 w-4"}),"Enviar Notificação"]}),l.jsxs(Xo,{value:"manage",className:"rounded-xl data-[state=active]:bg-gradient-to-r data-[state=active]:from-sidebar data-[state=active]:to-eccos-purple data-[state=active]:text-white data-[state=inactive]:text-gray-600 h-12 flex items-center justify-center gap-2 font-medium transition-all duration-300 mx-1",children:[l.jsx(gfe,{className:"h-4 w-4"}),"Gerenciar Notificações"]})]}),l.jsx(Bh,{value:"send",className:"mt-8 fade-up relative z-20",children:l.jsxs(Qe,{className:"bg-white border border-gray-100 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 relative overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent opacity-0 hover:opacity-100 transition-opacity pointer-events-none"}),l.jsx(Rt,{className:"pb-4 relative z-10",children:l.jsx(kt,{className:"text-xl font-semibold bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:"Nova Notificação"})}),l.jsxs(nt,{className:"pt-2 space-y-6 relative z-10",children:[l.jsxs("div",{className:"flex gap-3",children:[l.jsxs(me,{type:"button",variant:d?"default":"outline",onClick:()=>f(!0),className:`flex-1 h-12 rounded-xl font-medium transition-all duration-300 ${d?"bg-gradient-to-r from-sidebar to-eccos-purple hover:from-eccos-purple hover:to-sidebar":"border-gray-200 text-gray-600 hover:border-eccos-purple hover:text-eccos-purple"}`,children:[l.jsx(a_,{className:"h-4 w-4 mr-2"}),"Global"]}),l.jsxs(me,{type:"button",variant:d?"outline":"default",onClick:()=>f(!1),className:`flex-1 h-12 rounded-xl font-medium transition-all duration-300 ${d?"border-gray-200 text-gray-600 hover:border-eccos-purple hover:text-eccos-purple":"bg-gradient-to-r from-sidebar to-eccos-purple hover:from-eccos-purple hover:to-sidebar"}`,children:[l.jsx(Kc,{className:"h-4 w-4 mr-2"}),"Individual"]})]}),!d&&l.jsxs("div",{className:"space-y-3",children:[l.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Destinatários"}),l.jsx(eAe,{selected:h,onChange:m,placeholder:"Selecione os usuários...",clearLabel:"Remover Todos",options:w.filter(S=>S.email).map(S=>({value:S.email,label:S.displayName||S.email}))})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Título"}),l.jsx(Bt,{placeholder:"Digite o título da notificação",value:i,onChange:S=>a(S.target.value),required:!0,className:"h-12 rounded-xl border-gray-200 focus:border-eccos-purple focus:ring-eccos-purple"})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Mensagem"}),l.jsx(Oa,{placeholder:"Digite a mensagem detalhada...",value:s,onChange:S=>o(S.target.value),rows:4,required:!0,className:"rounded-xl border-gray-200 focus:border-eccos-purple focus:ring-eccos-purple resize-none"})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Link (opcional)"}),l.jsx(Bt,{placeholder:"https://exemplo.com",value:c,onChange:S=>u(S.target.value),type:"url",className:"h-12 rounded-xl border-gray-200 focus:border-eccos-purple focus:ring-eccos-purple"})]}),l.jsxs(me,{type:"submit",onClick:E,className:"w-full h-12 rounded-xl bg-gradient-to-r from-sidebar to-eccos-purple hover:from-eccos-purple hover:to-sidebar text-white font-medium transition-all duration-300",children:[l.jsx(JF,{className:"h-4 w-4 mr-2"}),"Enviar Notificação"]})]})]})}),l.jsx(Bh,{value:"manage",className:"mt-8 fade-up relative z-20",children:l.jsxs(Qe,{className:"bg-white border border-gray-100 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 relative overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent opacity-0 hover:opacity-100 transition-opacity pointer-events-none"}),l.jsx(Rt,{className:"pb-4 relative z-10",children:l.jsx(kt,{className:"text-xl font-semibold bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:"Histórico de Notificações"})}),l.jsxs(nt,{className:"pt-2 space-y-6 relative z-10",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[l.jsx(VE,{value:g,onValueChange:S=>p(S),className:"w-full sm:w-auto",children:l.jsxs(lx,{className:"grid grid-cols-4 bg-gray-50 p-1 rounded-xl h-12",children:[l.jsx(Xo,{value:"all",className:"rounded-lg data-[state=active]:bg-white data-[state=active]:shadow-sm h-10 text-sm",children:"Todos"}),l.jsx(Xo,{value:"global",className:"rounded-lg data-[state=active]:bg-white data-[state=active]:shadow-sm h-10 text-sm",children:l.jsx(a_,{className:"h-4 w-4 mr-1"})}),l.jsx(Xo,{value:"individual",className:"rounded-lg data-[state=active]:bg-white data-[state=active]:shadow-sm h-10 text-sm",children:l.jsx(Kc,{className:"h-4 w-4 mr-1"})}),l.jsx(Xo,{value:"status",className:"rounded-lg data-[state=active]:bg-white data-[state=active]:shadow-sm h-10 text-sm",children:l.jsx(s0,{className:"h-4 w-4 mr-1"})})]})}),l.jsxs("div",{className:"relative flex-1",children:[l.jsx(gc,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),l.jsx(Bt,{placeholder:"Pesquisar notificações...",value:v,onChange:S=>y(S.target.value),className:"pl-12 h-12 rounded-xl border-gray-200 focus:border-eccos-purple focus:ring-eccos-purple"})]})]}),l.jsx("div",{className:"space-y-4",children:N.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(mh,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-500",children:"Nenhuma notificação encontrada"})]}):N.map(S=>l.jsx("div",{className:"p-6 border border-gray-100 rounded-2xl bg-white hover:shadow-lg transition-all duration-300 relative z-10",children:l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[l.jsx("h3",{className:"font-semibold text-gray-900 text-lg",children:S.title}),S.title==="Alteração de Status"?l.jsxs(Se,{variant:"secondary",className:"bg-blue-50 text-blue-700 border-blue-200",children:[l.jsx(s0,{className:"h-3 w-3 mr-1"}),"Status"]}):S.recipients.length===0?l.jsxs(Se,{className:"bg-gradient-to-r from-sidebar to-eccos-purple text-white",children:[l.jsx(a_,{className:"h-3 w-3 mr-1"}),"Global"]}):l.jsxs(Se,{variant:"outline",className:"border-eccos-purple text-eccos-purple",children:[l.jsx(Kc,{className:"h-3 w-3 mr-1"}),"Individual"]})]}),l.jsx("p",{className:"text-gray-600 leading-relaxed",children:S.message}),S.link&&l.jsx("a",{href:S.link,target:"_blank",rel:"noopener noreferrer",className:"inline-block mt-2 text-eccos-purple hover:text-sidebar text-sm font-medium",children:"Ver link relacionado →"})]}),l.jsxs(To,{children:[l.jsx(vAe,{asChild:!0,children:l.jsx(me,{variant:"destructive",size:"sm",className:"ml-4 rounded-xl hover:bg-red-600 transition-colors duration-300",children:"Excluir"})}),l.jsxs(Bs,{className:"rounded-2xl",children:[l.jsxs(Vs,{children:[l.jsx(Us,{children:"Confirmar exclusão?"}),l.jsx(No,{children:"Esta ação não pode ser desfeita. A notificação será permanentemente removida."})]}),l.jsxs(wl,{children:[l.jsx(Co,{className:"rounded-xl",children:"Cancelar"}),l.jsx(Ao,{className:"rounded-xl bg-red-600 hover:bg-red-700",onClick:async()=>{try{await bNe(S.id),$e.success("Notificação excluída com sucesso"),t.invalidateQueries({queryKey:["allNotifications"]})}catch{$e.error("Falha ao excluir notificação")}},children:"Confirmar"})]})]})]})]})},S.id))})]})]})})]})]}),l.jsx("footer",{className:"relative z-10 bg-gray-50 py-10 px-4 md:px-12 fade-up",children:l.jsx("div",{className:"max-w-6xl mx-auto",children:l.jsx("div",{className:"text-center",children:l.jsx("p",{className:"text-gray-500 text-sm",children:"© 2025 Colégio ECCOS - Todos os direitos reservados"})})})})]}),l.jsx("style",{children:`
        .fade-up {
          opacity: 0;
          transform: translateY(30px);
          transition: opacity 0.8s ease-out, transform 0.8s ease-out;
        }
        
        .fade-up.visible {
          opacity: 1;
          transform: translateY(0);
        }
      `})]}):null};var bAe="Label",qJ=b.forwardRef((e,t)=>l.jsx(wt.label,{...e,ref:t,onMouseDown:r=>{var i;r.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));qJ.displayName=bAe;var GJ=qJ;const wAe=m1("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),_t=b.forwardRef(({className:e,...t},r)=>l.jsx(GJ,{ref:r,className:Re(wAe(),e),...t}));_t.displayName=GJ.displayName;const _Ae=()=>{const[e,t]=b.useState(!1),[r,n]=b.useState("manuals"),[i,a]=b.useState(""),[s,o]=b.useState(""),[c,u]=b.useState([]),[d,f]=b.useState(!1),[h,m]=b.useState(!1),{toast:g}=So(),{currentUser:p}=Mr(),v=async()=>{f(!0);const w=Xc(x0,"manuais/");try{const N=await oQ(w),E=await Promise.all(N.items.map(async T=>{const S=await y0(T);return{name:T.name,url:S}}));u(E)}catch(N){console.error("Erro ao carregar manuais:",N),g({title:"Erro",description:"Não foi possível carregar os manuais.",variant:"destructive"})}finally{f(!1)}},y=w=>{t(w),w&&r==="manuals"&&v()},x=async()=>{if(!i||!s){g({title:"Campos obrigatórios",description:"Por favor, preencha todos os campos.",variant:"destructive"});return}m(!0);try{await xu(qr(Ze,"bugReports"),{title:i,description:s,createdAt:new Date,status:"open",userEmail:(p==null?void 0:p.email)||"Anônimo",pageUrl:window.location.href}),g({title:"Sucesso!",description:"Bug reportado com sucesso. Obrigado!"}),a(""),o(""),n("manuals")}catch(w){console.error("Erro ao reportar bug:",w),g({title:"Erro",description:"Falha ao enviar o relatório de bug.",variant:"destructive"})}finally{m(!1)}};return l.jsx("div",{className:"fixed bottom-6 right-6 z-50",children:l.jsxs(mn,{open:e,onOpenChange:y,children:[l.jsx(_4,{asChild:!0,children:l.jsxs(me,{variant:"default",size:"icon",className:"rounded-full w-14 h-14 shadow-lg hover:shadow-xl transition-all duration-300 bg-gradient-to-r from-sidebar to-eccos-purple hover:from-eccos-purple hover:to-sidebar group relative overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),l.jsx(n5,{className:"h-12 w-12 relative z-10"})]})}),l.jsxs(on,{className:"max-w-3xl max-h-[90vh] bg-white border border-gray-100 shadow-2xl rounded-2xl overflow-hidden",children:[l.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[l.jsx("div",{className:"absolute left-1/4 top-1/4 h-32 w-32 rounded-full bg-sidebar blur-3xl opacity-5"}),l.jsx("div",{className:"absolute right-1/4 bottom-1/4 h-24 w-24 rounded-full bg-eccos-purple blur-3xl opacity-5"})]}),l.jsxs("div",{className:"flex flex-col h-full max-h-[calc(90vh-2rem)] overflow-hidden",children:[l.jsx(pn,{className:"relative z-10 flex-shrink-0 p-6 pb-0",children:l.jsxs(ln,{className:"flex items-center gap-3 text-2xl font-bold bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:[l.jsx("div",{className:"inline-flex items-center justify-center w-10 h-10 rounded-full bg-eccos-purple/10 text-eccos-purple",children:l.jsx(n5,{className:"h-5 w-5"})}),"Central de Suporte"]})}),l.jsx("div",{className:"relative z-10 flex-1 overflow-y-auto px-6 pb-6 mt-6 scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-transparent",children:l.jsxs(VE,{value:r,onValueChange:n,children:[l.jsxs(lx,{className:"grid w-full grid-cols-2 bg-gray-50 rounded-xl p-1 sticky top-0 z-20 mb-6",children:[l.jsxs(Xo,{value:"manuals",className:"rounded-lg transition-all duration-200 data-[state=active]:bg-white data-[state=active]:shadow-sm data-[state=active]:text-eccos-purple font-medium",children:[l.jsx(lfe,{className:"h-4 w-4 mr-2"}),"Manuais e Tutoriais"]}),l.jsxs(Xo,{value:"bugReport",className:"rounded-lg transition-all duration-200 data-[state=active]:bg-white data-[state=active]:shadow-sm data-[state=active]:text-eccos-purple font-medium",children:[l.jsx(pd,{className:"h-4 w-4 mr-2"}),"Reportar Bug"]})]}),l.jsx(Bh,{value:"manuals",className:"mt-0",children:l.jsxs("div",{className:"bg-white border border-gray-100 rounded-2xl shadow-lg p-6",children:[l.jsxs("h3",{className:"font-bold text-xl mb-6 flex items-center gap-3 bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:[l.jsx("div",{className:"inline-flex items-center justify-center w-8 h-8 rounded-full bg-eccos-purple/10 text-eccos-purple",children:l.jsx(Oi,{className:"h-4 w-4"})}),"Documentação e Tutoriais"]}),d?l.jsxs("div",{className:"flex flex-col justify-center items-center h-40",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-gray-200 border-t-eccos-purple mb-4"}),l.jsx("p",{className:"text-gray-500 font-medium",children:"Carregando manuais..."})]}):c.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-gray-100 text-gray-400 mb-4",children:l.jsx(Oi,{className:"h-8 w-8"})}),l.jsx("p",{className:"text-gray-500 font-medium text-lg",children:"Nenhum manual disponível"}),l.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Os manuais serão exibidos aqui quando estiverem disponíveis"})]}):l.jsx("div",{className:"space-y-4",children:c.map((w,N)=>l.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-100 rounded-xl hover:shadow-md hover:border-eccos-purple/30 transition-all duration-300 group bg-white",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"inline-flex items-center justify-center w-10 h-10 rounded-full bg-eccos-purple/10 text-eccos-purple group-hover:bg-eccos-purple/20 transition-colors",children:l.jsx(Oi,{className:"h-5 w-5"})}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium text-gray-900 truncate max-w-[300px] block",children:w.name}),l.jsx("span",{className:"text-sm text-gray-500",children:"Documento PDF"})]})]}),l.jsx("a",{href:w.url,target:"_blank",rel:"noopener noreferrer",className:"text-eccos-purple hover:text-sidebar transition-colors",children:l.jsxs(me,{variant:"outline",size:"sm",className:"border-eccos-purple text-eccos-purple hover:bg-eccos-purple hover:text-white transition-all duration-200",children:[l.jsx(Ps,{className:"h-4 w-4 mr-2"}),"Baixar"]})})]},N))})]})}),l.jsx(Bh,{value:"bugReport",className:"mt-0",children:l.jsxs("div",{className:"bg-white border border-gray-100 rounded-2xl shadow-lg p-6",children:[l.jsxs("h3",{className:"font-bold text-xl mb-6 flex items-center gap-3 bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:[l.jsx("div",{className:"inline-flex items-center justify-center w-8 h-8 rounded-full bg-red-100 text-red-600",children:l.jsx(pd,{className:"h-4 w-4"})}),"Reportar Problema"]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx(_t,{htmlFor:"title",className:"text-sm font-semibold text-gray-700 mb-2 block",children:"Título do Problema *"}),l.jsx(Bt,{id:"title",value:i,onChange:w=>a(w.target.value),placeholder:"Descreva brevemente o problema",className:"border-gray-200 focus:border-eccos-purple focus:ring-eccos-purple/20 rounded-lg"})]}),l.jsxs("div",{children:[l.jsx(_t,{htmlFor:"description",className:"text-sm font-semibold text-gray-700 mb-2 block",children:"Descrição Detalhada *"}),l.jsx(Oa,{id:"description",value:s,onChange:w=>o(w.target.value),placeholder:"Descreva o que aconteceu, incluindo os passos para reproduzir o problema...",rows:5,className:"border-gray-200 focus:border-eccos-purple focus:ring-eccos-purple/20 rounded-lg resize-none"}),l.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Inclua detalhes como: O que você estava tentando fazer? O que aconteceu? O que você esperava que acontecesse?"})]}),l.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 p-6 rounded-xl border border-blue-100",children:[l.jsxs("h4",{className:"font-semibold text-gray-800 flex items-center gap-3 mb-3",children:[l.jsx("div",{className:"inline-flex items-center justify-center w-6 h-6 rounded-full bg-blue-100 text-blue-600",children:l.jsx(pd,{className:"h-3 w-3"})}),"Informações do Sistema"]}),l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-gray-600 font-medium",children:"URL:"}),l.jsx("span",{className:"text-gray-800 font-mono text-xs bg-white px-2 py-1 rounded border truncate max-w-xs",children:window.location.href})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-gray-600 font-medium",children:"Usuário:"}),l.jsx("span",{className:"text-gray-800 font-mono text-xs bg-white px-2 py-1 rounded border",children:(p==null?void 0:p.email)||"Anônimo"})]})]})]}),l.jsx(me,{onClick:x,disabled:h,className:"w-full bg-gradient-to-r from-sidebar to-eccos-purple hover:from-eccos-purple hover:to-sidebar text-white font-semibold py-3 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",children:h?l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),"Enviando..."]}):l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(pd,{className:"h-4 w-4"}),"Enviar Relatório"]})})]})]})})]})})]})]})]})})},EAe=()=>{const e=im(),t=ls();return b.useEffect(()=>{const r=sessionStorage.getItem("redirectPath");r&&r!=="/"&&(sessionStorage.removeItem("redirectPath"),e(r))},[e,t]),l.jsxs(l.Fragment,{children:[l.jsx(Age,{}),l.jsx(_Ae,{})]})},KJ=b.createContext({});function SAe(e){const t=b.useRef(null);return t.current===null&&(t.current=e()),t.current}const E4=b.createContext(null),YJ=b.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function TAe(e=!0){const t=b.useContext(E4);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:i}=t,a=b.useId();b.useEffect(()=>{e&&i(a)},[e]);const s=b.useCallback(()=>e&&n&&n(a),[a,n,e]);return!r&&n?[!1,s]:[!0]}const S4=typeof window<"u",NAe=S4?b.useLayoutEffect:b.useEffect,Cs=e=>e;let XJ=Cs;function T4(e){let t;return()=>(t===void 0&&(t=e()),t)}const w0=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n},Qc=e=>e*1e3,Zc=e=>e/1e3,AAe={useManualTiming:!1};function CAe(e){let t=new Set,r=new Set,n=!1,i=!1;const a=new WeakSet;let s={delta:0,timestamp:0,isProcessing:!1};function o(u){a.has(u)&&(c.schedule(u),e()),u(s)}const c={schedule:(u,d=!1,f=!1)=>{const m=f&&n?t:r;return d&&a.add(u),m.has(u)||m.add(u),u},cancel:u=>{r.delete(u),a.delete(u)},process:u=>{if(s=u,n){i=!0;return}n=!0,[t,r]=[r,t],t.forEach(o),t.clear(),n=!1,i&&(i=!1,c.process(u))}};return c}const fw=["read","resolveKeyframes","update","preRender","render","postRender"],jAe=40;function QJ(e,t){let r=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>r=!0,s=fw.reduce((y,x)=>(y[x]=CAe(a),y),{}),{read:o,resolveKeyframes:c,update:u,preRender:d,render:f,postRender:h}=s,m=()=>{const y=performance.now();r=!1,i.delta=n?1e3/60:Math.max(Math.min(y-i.timestamp,jAe),1),i.timestamp=y,i.isProcessing=!0,o.process(i),c.process(i),u.process(i),d.process(i),f.process(i),h.process(i),i.isProcessing=!1,r&&t&&(n=!1,e(m))},g=()=>{r=!0,n=!0,i.isProcessing||e(m)};return{schedule:fw.reduce((y,x)=>{const w=s[x];return y[x]=(N,E=!1,T=!1)=>(r||g(),w.schedule(N,E,T)),y},{}),cancel:y=>{for(let x=0;x<fw.length;x++)s[fw[x]].cancel(y)},state:i,steps:s}}const{schedule:nn,cancel:Xd,state:Ri,steps:pC}=QJ(typeof requestAnimationFrame<"u"?requestAnimationFrame:Cs,!0),ZJ=b.createContext({strict:!1}),e8={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},_0={};for(const e in e8)_0[e]={isEnabled:t=>e8[e].some(r=>!!t[r])};function PAe(e){for(const t in e)_0[t]={..._0[t],...e[t]}}const RAe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function UE(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||RAe.has(e)}let JJ=e=>!UE(e);function kAe(e){e&&(JJ=t=>t.startsWith("on")?!UE(t):e(t))}try{kAe(require("@emotion/is-prop-valid").default)}catch{}function IAe(e,t,r){const n={};for(const i in e)i==="values"&&typeof e.values=="object"||(JJ(i)||r===!0&&UE(i)||!t&&!UE(i)||e.draggable&&i.startsWith("onDrag"))&&(n[i]=e[i]);return n}function OAe(e){if(typeof Proxy>"u")return e;const t=new Map,r=(...n)=>e(...n);return new Proxy(r,{get:(n,i)=>i==="create"?e:(t.has(i)||t.set(i,e(i)),t.get(i))})}const DT=b.createContext({});function cx(e){return typeof e=="string"||Array.isArray(e)}function MT(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const N4=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],A4=["initial",...N4];function LT(e){return MT(e.animate)||A4.some(t=>cx(e[t]))}function eee(e){return!!(LT(e)||e.variants)}function DAe(e,t){if(LT(e)){const{initial:r,animate:n}=e;return{initial:r===!1||cx(r)?r:void 0,animate:cx(n)?n:void 0}}return e.inherit!==!1?t:{}}function MAe(e){const{initial:t,animate:r}=DAe(e,b.useContext(DT));return b.useMemo(()=>({initial:t,animate:r}),[t8(t),t8(r)])}function t8(e){return Array.isArray(e)?e.join(" "):e}const LAe=Symbol.for("motionComponentSymbol");function sp(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function FAe(e,t,r){return b.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):sp(r)&&(r.current=n))},[t])}const C4=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),$Ae="framerAppearId",tee="data-"+C4($Ae),{schedule:j4}=QJ(queueMicrotask,!1),ree=b.createContext({});function BAe(e,t,r,n,i){var a,s;const{visualElement:o}=b.useContext(DT),c=b.useContext(ZJ),u=b.useContext(E4),d=b.useContext(YJ).reducedMotion,f=b.useRef(null);n=n||c.renderer,!f.current&&n&&(f.current=n(e,{visualState:t,parent:o,props:r,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const h=f.current,m=b.useContext(ree);h&&!h.projection&&i&&(h.type==="html"||h.type==="svg")&&VAe(f.current,r,i,m);const g=b.useRef(!1);b.useInsertionEffect(()=>{h&&g.current&&h.update(r,u)});const p=r[tee],v=b.useRef(!!p&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,p))&&((s=window.MotionHasOptimisedAnimation)===null||s===void 0?void 0:s.call(window,p)));return NAe(()=>{h&&(g.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),j4.render(h.render),v.current&&h.animationState&&h.animationState.animateChanges())}),b.useEffect(()=>{h&&(!v.current&&h.animationState&&h.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var y;(y=window.MotionHandoffMarkAsComplete)===null||y===void 0||y.call(window,p)}),v.current=!1))}),h}function VAe(e,t,r,n){const{layoutId:i,layout:a,drag:s,dragConstraints:o,layoutScroll:c,layoutRoot:u}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:nee(e.parent)),e.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!s||o&&sp(o),visualElement:e,animationType:typeof a=="string"?a:"both",initialPromotionConfig:n,layoutScroll:c,layoutRoot:u})}function nee(e){if(e)return e.options.allowProjection!==!1?e.projection:nee(e.parent)}function UAe({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:i}){var a,s;e&&PAe(e);function o(u,d){let f;const h={...b.useContext(YJ),...u,layoutId:zAe(u)},{isStatic:m}=h,g=MAe(u),p=n(u,m);if(!m&&S4){WAe();const v=HAe(h);f=v.MeasureLayout,g.visualElement=BAe(i,p,h,t,v.ProjectionNode)}return l.jsxs(DT.Provider,{value:g,children:[f&&g.visualElement?l.jsx(f,{visualElement:g.visualElement,...h}):null,r(i,u,FAe(p,g.visualElement,d),p,m,g.visualElement)]})}o.displayName=`motion.${typeof i=="string"?i:`create(${(s=(a=i.displayName)!==null&&a!==void 0?a:i.name)!==null&&s!==void 0?s:""})`}`;const c=b.forwardRef(o);return c[LAe]=i,c}function zAe({layoutId:e}){const t=b.useContext(KJ).id;return t&&e!==void 0?t+"-"+e:e}function WAe(e,t){b.useContext(ZJ).strict}function HAe(e){const{drag:t,layout:r}=_0;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const qAe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function P4(e){return typeof e!="string"||e.includes("-")?!1:!!(qAe.indexOf(e)>-1||/[A-Z]/u.test(e))}function r8(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function R4(e,t,r,n){if(typeof t=="function"){const[i,a]=r8(n);t=t(r!==void 0?r:e.custom,i,a)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,a]=r8(n);t=t(r!==void 0?r:e.custom,i,a)}return t}const SR=e=>Array.isArray(e),GAe=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),KAe=e=>SR(e)?e[e.length-1]||0:e,ca=e=>!!(e&&e.getVelocity);function S_(e){const t=ca(e)?e.get():e;return GAe(t)?t.toValue():t}function YAe({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:r},n,i,a){const s={latestValues:XAe(n,i,a,e),renderState:t()};return r&&(s.onMount=o=>r({props:n,current:o,...s}),s.onUpdate=o=>r(o)),s}const iee=e=>(t,r)=>{const n=b.useContext(DT),i=b.useContext(E4),a=()=>YAe(e,t,n,i);return r?a():SAe(a)};function XAe(e,t,r,n){const i={},a=n(e,{});for(const h in a)i[h]=S_(a[h]);let{initial:s,animate:o}=e;const c=LT(e),u=eee(e);t&&u&&!c&&e.inherit!==!1&&(s===void 0&&(s=t.initial),o===void 0&&(o=t.animate));let d=r?r.initial===!1:!1;d=d||s===!1;const f=d?o:s;if(f&&typeof f!="boolean"&&!MT(f)){const h=Array.isArray(f)?f:[f];for(let m=0;m<h.length;m++){const g=R4(e,h[m]);if(g){const{transitionEnd:p,transition:v,...y}=g;for(const x in y){let w=y[x];if(Array.isArray(w)){const N=d?w.length-1:0;w=w[N]}w!==null&&(i[x]=w)}for(const x in p)i[x]=p[x]}}}return i}const yg=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],dm=new Set(yg),aee=e=>t=>typeof t=="string"&&t.startsWith(e),see=aee("--"),QAe=aee("var(--"),k4=e=>QAe(e)?ZAe.test(e.split("/*")[0].trim()):!1,ZAe=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,oee=(e,t)=>t&&typeof e=="number"?t.transform(e):e,bu=(e,t,r)=>r>t?t:r<e?e:r,xg={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},ux={...xg,transform:e=>bu(0,1,e)},hw={...xg,default:1},G1=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),qu=G1("deg"),rc=G1("%"),jt=G1("px"),JAe=G1("vh"),eCe=G1("vw"),n8={...rc,parse:e=>rc.parse(e)/100,transform:e=>rc.transform(e*100)},tCe={borderWidth:jt,borderTopWidth:jt,borderRightWidth:jt,borderBottomWidth:jt,borderLeftWidth:jt,borderRadius:jt,radius:jt,borderTopLeftRadius:jt,borderTopRightRadius:jt,borderBottomRightRadius:jt,borderBottomLeftRadius:jt,width:jt,maxWidth:jt,height:jt,maxHeight:jt,top:jt,right:jt,bottom:jt,left:jt,padding:jt,paddingTop:jt,paddingRight:jt,paddingBottom:jt,paddingLeft:jt,margin:jt,marginTop:jt,marginRight:jt,marginBottom:jt,marginLeft:jt,backgroundPositionX:jt,backgroundPositionY:jt},rCe={rotate:qu,rotateX:qu,rotateY:qu,rotateZ:qu,scale:hw,scaleX:hw,scaleY:hw,scaleZ:hw,skew:qu,skewX:qu,skewY:qu,distance:jt,translateX:jt,translateY:jt,translateZ:jt,x:jt,y:jt,z:jt,perspective:jt,transformPerspective:jt,opacity:ux,originX:n8,originY:n8,originZ:jt},i8={...xg,transform:Math.round},I4={...tCe,...rCe,zIndex:i8,size:jt,fillOpacity:ux,strokeOpacity:ux,numOctaves:i8},nCe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},iCe=yg.length;function aCe(e,t,r){let n="",i=!0;for(let a=0;a<iCe;a++){const s=yg[a],o=e[s];if(o===void 0)continue;let c=!0;if(typeof o=="number"?c=o===(s.startsWith("scale")?1:0):c=parseFloat(o)===0,!c||r){const u=oee(o,I4[s]);if(!c){i=!1;const d=nCe[s]||s;n+=`${d}(${u}) `}r&&(t[s]=u)}}return n=n.trim(),r?n=r(t,i?"":n):i&&(n="none"),n}function O4(e,t,r){const{style:n,vars:i,transformOrigin:a}=e;let s=!1,o=!1;for(const c in t){const u=t[c];if(dm.has(c)){s=!0;continue}else if(see(c)){i[c]=u;continue}else{const d=oee(u,I4[c]);c.startsWith("origin")?(o=!0,a[c]=d):n[c]=d}}if(t.transform||(s||r?n.transform=aCe(t,e.transform,r):n.transform&&(n.transform="none")),o){const{originX:c="50%",originY:u="50%",originZ:d=0}=a;n.transformOrigin=`${c} ${u} ${d}`}}const sCe={offset:"stroke-dashoffset",array:"stroke-dasharray"},oCe={offset:"strokeDashoffset",array:"strokeDasharray"};function lCe(e,t,r=1,n=0,i=!0){e.pathLength=1;const a=i?sCe:oCe;e[a.offset]=jt.transform(-n);const s=jt.transform(t),o=jt.transform(r);e[a.array]=`${s} ${o}`}function a8(e,t,r){return typeof e=="string"?e:jt.transform(t+r*e)}function cCe(e,t,r){const n=a8(t,e.x,e.width),i=a8(r,e.y,e.height);return`${n} ${i}`}function D4(e,{attrX:t,attrY:r,attrScale:n,originX:i,originY:a,pathLength:s,pathSpacing:o=1,pathOffset:c=0,...u},d,f){if(O4(e,u,f),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:m,dimensions:g}=e;h.transform&&(g&&(m.transform=h.transform),delete h.transform),g&&(i!==void 0||a!==void 0||m.transform)&&(m.transformOrigin=cCe(g,i!==void 0?i:.5,a!==void 0?a:.5)),t!==void 0&&(h.x=t),r!==void 0&&(h.y=r),n!==void 0&&(h.scale=n),s!==void 0&&lCe(h,s,o,c,!1)}const M4=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),lee=()=>({...M4(),attrs:{}}),L4=e=>typeof e=="string"&&e.toLowerCase()==="svg";function cee(e,{style:t,vars:r},n,i){Object.assign(e.style,t,i&&i.getProjectionStyles(n));for(const a in r)e.style.setProperty(a,r[a])}const uee=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function dee(e,t,r,n){cee(e,t,void 0,n);for(const i in t.attrs)e.setAttribute(uee.has(i)?i:C4(i),t.attrs[i])}const zE={};function uCe(e){Object.assign(zE,e)}function fee(e,{layout:t,layoutId:r}){return dm.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!zE[e]||e==="opacity")}function F4(e,t,r){var n;const{style:i}=e,a={};for(const s in i)(ca(i[s])||t.style&&ca(t.style[s])||fee(s,e)||((n=r==null?void 0:r.getValue(s))===null||n===void 0?void 0:n.liveStyle)!==void 0)&&(a[s]=i[s]);return a}function hee(e,t,r){const n=F4(e,t,r);for(const i in e)if(ca(e[i])||ca(t[i])){const a=yg.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[a]=e[i]}return n}function dCe(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const s8=["x","y","width","height","cx","cy","r"],fCe={useVisualState:iee({scrapeMotionValuesFromProps:hee,createRenderState:lee,onUpdate:({props:e,prevProps:t,current:r,renderState:n,latestValues:i})=>{if(!r)return;let a=!!e.drag;if(!a){for(const o in i)if(dm.has(o)){a=!0;break}}if(!a)return;let s=!t;if(t)for(let o=0;o<s8.length;o++){const c=s8[o];e[c]!==t[c]&&(s=!0)}s&&nn.read(()=>{dCe(r,n),nn.render(()=>{D4(n,i,L4(r.tagName),e.transformTemplate),dee(r,n)})})}})},hCe={useVisualState:iee({scrapeMotionValuesFromProps:F4,createRenderState:M4})};function mee(e,t,r){for(const n in t)!ca(t[n])&&!fee(n,r)&&(e[n]=t[n])}function mCe({transformTemplate:e},t){return b.useMemo(()=>{const r=M4();return O4(r,t,e),Object.assign({},r.vars,r.style)},[t])}function pCe(e,t){const r=e.style||{},n={};return mee(n,r,e),Object.assign(n,mCe(e,t)),n}function gCe(e,t){const r={},n=pCe(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}function vCe(e,t,r,n){const i=b.useMemo(()=>{const a=lee();return D4(a,t,L4(n),e.transformTemplate),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};mee(a,e.style,e),i.style={...a,...i.style}}return i}function yCe(e=!1){return(r,n,i,{latestValues:a},s)=>{const c=(P4(r)?vCe:gCe)(n,a,s,r),u=IAe(n,typeof r=="string",e),d=r!==b.Fragment?{...u,...c,ref:i}:{},{children:f}=n,h=b.useMemo(()=>ca(f)?f.get():f,[f]);return b.createElement(r,{...d,children:h})}}function xCe(e,t){return function(n,{forwardMotionProps:i}={forwardMotionProps:!1}){const s={...P4(n)?fCe:hCe,preloadedFeatures:e,useRender:yCe(i),createVisualElement:t,Component:n};return UAe(s)}}function pee(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}function FT(e,t,r){const n=e.getProps();return R4(n,t,r!==void 0?r:n.custom,e)}const bCe=T4(()=>window.ScrollTimeline!==void 0);class wCe{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,r){for(let n=0;n<this.animations.length;n++)this.animations[n][t]=r}attachTimeline(t,r){const n=this.animations.map(i=>{if(bCe()&&i.attachTimeline)return i.attachTimeline(t);if(typeof r=="function")return r(i)});return()=>{n.forEach((i,a)=>{i&&i(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let r=0;r<this.animations.length;r++)t=Math.max(t,this.animations[r].duration);return t}runAll(t){this.animations.forEach(r=>r[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class _Ce extends wCe{then(t,r){return Promise.all(this.animations).then(t).catch(r)}}function $4(e,t){return e?e[t]||e.default||e:void 0}const TR=2e4;function gee(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<TR;)t+=r,n=e.next(t);return t>=TR?1/0:t}function B4(e){return typeof e=="function"}function o8(e,t){e.timeline=t,e.onfinish=null}const V4=e=>Array.isArray(e)&&typeof e[0]=="number",ECe={linearEasing:void 0};function SCe(e,t){const r=T4(e);return()=>{var n;return(n=ECe[t])!==null&&n!==void 0?n:r()}}const WE=SCe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),vee=(e,t,r=10)=>{let n="";const i=Math.max(Math.round(t/r),2);for(let a=0;a<i;a++)n+=e(w0(0,i-1,a))+", ";return`linear(${n.substring(0,n.length-2)})`};function yee(e){return!!(typeof e=="function"&&WE()||!e||typeof e=="string"&&(e in NR||WE())||V4(e)||Array.isArray(e)&&e.every(yee))}const kv=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,NR={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:kv([0,.65,.55,1]),circOut:kv([.55,0,1,.45]),backIn:kv([.31,.01,.66,-.59]),backOut:kv([.33,1.53,.69,.99])};function xee(e,t){if(e)return typeof e=="function"&&WE()?vee(e,t):V4(e)?kv(e):Array.isArray(e)?e.map(r=>xee(r,t)||NR.easeOut):NR[e]}const Uo={x:!1,y:!1};function bee(){return Uo.x||Uo.y}function TCe(e,t,r){var n;if(e instanceof Element)return[e];if(typeof e=="string"){let i=document;const a=(n=void 0)!==null&&n!==void 0?n:i.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}function wee(e,t){const r=TCe(e),n=new AbortController,i={passive:!0,...t,signal:n.signal};return[r,i,()=>n.abort()]}function l8(e){return t=>{t.pointerType==="touch"||bee()||e(t)}}function NCe(e,t,r={}){const[n,i,a]=wee(e,r),s=l8(o=>{const{target:c}=o,u=t(o);if(typeof u!="function"||!c)return;const d=l8(f=>{u(f),c.removeEventListener("pointerleave",d)});c.addEventListener("pointerleave",d,i)});return n.forEach(o=>{o.addEventListener("pointerenter",s,i)}),a}const _ee=(e,t)=>t?e===t?!0:_ee(e,t.parentElement):!1,U4=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,ACe=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function CCe(e){return ACe.has(e.tagName)||e.tabIndex!==-1}const Iv=new WeakSet;function c8(e){return t=>{t.key==="Enter"&&e(t)}}function gC(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const jCe=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=c8(()=>{if(Iv.has(r))return;gC(r,"down");const i=c8(()=>{gC(r,"up")}),a=()=>gC(r,"cancel");r.addEventListener("keyup",i,t),r.addEventListener("blur",a,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function u8(e){return U4(e)&&!bee()}function PCe(e,t,r={}){const[n,i,a]=wee(e,r),s=o=>{const c=o.currentTarget;if(!u8(o)||Iv.has(c))return;Iv.add(c);const u=t(o),d=(m,g)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),!(!u8(m)||!Iv.has(c))&&(Iv.delete(c),typeof u=="function"&&u(m,{success:g}))},f=m=>{d(m,r.useGlobalTarget||_ee(c,m.target))},h=m=>{d(m,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",h,i)};return n.forEach(o=>{!CCe(o)&&o.getAttribute("tabindex")===null&&(o.tabIndex=0),(r.useGlobalTarget?window:o).addEventListener("pointerdown",s,i),o.addEventListener("focus",u=>jCe(u,i),i)}),a}function RCe(e){return e==="x"||e==="y"?Uo[e]?null:(Uo[e]=!0,()=>{Uo[e]=!1}):Uo.x||Uo.y?null:(Uo.x=Uo.y=!0,()=>{Uo.x=Uo.y=!1})}const Eee=new Set(["width","height","top","left","right","bottom",...yg]);let T_;function kCe(){T_=void 0}const nc={now:()=>(T_===void 0&&nc.set(Ri.isProcessing||AAe.useManualTiming?Ri.timestamp:performance.now()),T_),set:e=>{T_=e,queueMicrotask(kCe)}};function z4(e,t){e.indexOf(t)===-1&&e.push(t)}function W4(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}class H4{constructor(){this.subscriptions=[]}add(t){return z4(this.subscriptions,t),()=>W4(this.subscriptions,t)}notify(t,r,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,r,n);else for(let a=0;a<i;a++){const s=this.subscriptions[a];s&&s(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function See(e,t){return t?e*(1e3/t):0}const d8=30,ICe=e=>!isNaN(parseFloat(e));class OCe{constructor(t,r={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,i=!0)=>{const a=nc.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=nc.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=ICe(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new H4);const n=this.events[t].add(r);return t==="change"?()=>{n(),nn.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=nc.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>d8)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,d8);return See(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function dx(e,t){return new OCe(e,t)}function DCe(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,dx(r))}function MCe(e,t){const r=FT(e,t);let{transitionEnd:n={},transition:i={},...a}=r||{};a={...a,...n};for(const s in a){const o=KAe(a[s]);DCe(e,s,o)}}function LCe(e){return!!(ca(e)&&e.add)}function AR(e,t){const r=e.getValue("willChange");if(LCe(r))return r.add(t)}function Tee(e){return e.props[tee]}const Nee=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,FCe=1e-7,$Ce=12;function BCe(e,t,r,n,i){let a,s,o=0;do s=t+(r-t)/2,a=Nee(s,n,i)-e,a>0?r=s:t=s;while(Math.abs(a)>FCe&&++o<$Ce);return s}function K1(e,t,r,n){if(e===t&&r===n)return Cs;const i=a=>BCe(a,0,1,e,r);return a=>a===0||a===1?a:Nee(i(a),t,n)}const Aee=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Cee=e=>t=>1-e(1-t),jee=K1(.33,1.53,.69,.99),q4=Cee(jee),Pee=Aee(q4),Ree=e=>(e*=2)<1?.5*q4(e):.5*(2-Math.pow(2,-10*(e-1))),G4=e=>1-Math.sin(Math.acos(e)),kee=Cee(G4),Iee=Aee(G4),Oee=e=>/^0[^.\s]+$/u.test(e);function VCe(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Oee(e):!0}const sy=e=>Math.round(e*1e5)/1e5,K4=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function UCe(e){return e==null}const zCe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Y4=(e,t)=>r=>!!(typeof r=="string"&&zCe.test(r)&&r.startsWith(e)||t&&!UCe(r)&&Object.prototype.hasOwnProperty.call(r,t)),Dee=(e,t,r)=>n=>{if(typeof n!="string")return n;const[i,a,s,o]=n.match(K4);return{[e]:parseFloat(i),[t]:parseFloat(a),[r]:parseFloat(s),alpha:o!==void 0?parseFloat(o):1}},WCe=e=>bu(0,255,e),vC={...xg,transform:e=>Math.round(WCe(e))},Zf={test:Y4("rgb","red"),parse:Dee("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+vC.transform(e)+", "+vC.transform(t)+", "+vC.transform(r)+", "+sy(ux.transform(n))+")"};function HCe(e){let t="",r="",n="",i="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),i=e.substring(4,5),t+=t,r+=r,n+=n,i+=i),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const CR={test:Y4("#"),parse:HCe,transform:Zf.transform},op={test:Y4("hsl","hue"),parse:Dee("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+rc.transform(sy(t))+", "+rc.transform(sy(r))+", "+sy(ux.transform(n))+")"},ia={test:e=>Zf.test(e)||CR.test(e)||op.test(e),parse:e=>Zf.test(e)?Zf.parse(e):op.test(e)?op.parse(e):CR.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Zf.transform(e):op.transform(e)},qCe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function GCe(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(K4))===null||t===void 0?void 0:t.length)||0)+(((r=e.match(qCe))===null||r===void 0?void 0:r.length)||0)>0}const Mee="number",Lee="color",KCe="var",YCe="var(",f8="${}",XCe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function fx(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},i=[];let a=0;const o=t.replace(XCe,c=>(ia.test(c)?(n.color.push(a),i.push(Lee),r.push(ia.parse(c))):c.startsWith(YCe)?(n.var.push(a),i.push(KCe),r.push(c)):(n.number.push(a),i.push(Mee),r.push(parseFloat(c))),++a,f8)).split(f8);return{values:r,split:o,indexes:n,types:i}}function Fee(e){return fx(e).values}function $ee(e){const{split:t,types:r}=fx(e),n=t.length;return i=>{let a="";for(let s=0;s<n;s++)if(a+=t[s],i[s]!==void 0){const o=r[s];o===Mee?a+=sy(i[s]):o===Lee?a+=ia.transform(i[s]):a+=i[s]}return a}}const QCe=e=>typeof e=="number"?0:e;function ZCe(e){const t=Fee(e);return $ee(e)(t.map(QCe))}const Qd={test:GCe,parse:Fee,createTransformer:$ee,getAnimatableNone:ZCe},JCe=new Set(["brightness","contrast","saturate","opacity"]);function eje(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(K4)||[];if(!n)return e;const i=r.replace(n,"");let a=JCe.has(t)?1:0;return n!==r&&(a*=100),t+"("+a+i+")"}const tje=/\b([a-z-]*)\(.*?\)/gu,jR={...Qd,getAnimatableNone:e=>{const t=e.match(tje);return t?t.map(eje).join(" "):e}},rje={...I4,color:ia,backgroundColor:ia,outlineColor:ia,fill:ia,stroke:ia,borderColor:ia,borderTopColor:ia,borderRightColor:ia,borderBottomColor:ia,borderLeftColor:ia,filter:jR,WebkitFilter:jR},X4=e=>rje[e];function Bee(e,t){let r=X4(e);return r!==jR&&(r=Qd),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const nje=new Set(["auto","none","0"]);function ije(e,t,r){let n=0,i;for(;n<e.length&&!i;){const a=e[n];typeof a=="string"&&!nje.has(a)&&fx(a).values.length&&(i=e[n]),n++}if(i&&r)for(const a of t)e[a]=Bee(r,i)}const h8=e=>e===xg||e===jt,m8=(e,t)=>parseFloat(e.split(", ")[t]),p8=(e,t)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const i=n.match(/^matrix3d\((.+)\)$/u);if(i)return m8(i[1],t);{const a=n.match(/^matrix\((.+)\)$/u);return a?m8(a[1],e):0}},aje=new Set(["x","y","z"]),sje=yg.filter(e=>!aje.has(e));function oje(e){const t=[];return sje.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const E0={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:p8(4,13),y:p8(5,14)};E0.translateX=E0.x;E0.translateY=E0.y;const bh=new Set;let PR=!1,RR=!1;function Vee(){if(RR){const e=Array.from(bh).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const i=oje(n);i.length&&(r.set(n,i),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const i=r.get(n);i&&i.forEach(([a,s])=>{var o;(o=n.getValue(a))===null||o===void 0||o.set(s)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}RR=!1,PR=!1,bh.forEach(e=>e.complete()),bh.clear()}function Uee(){bh.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(RR=!0)})}function lje(){Uee(),Vee()}class Q4{constructor(t,r,n,i,a,s=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=i,this.element=a,this.isAsync=s}scheduleResolve(){this.isScheduled=!0,this.isAsync?(bh.add(this),PR||(PR=!0,nn.read(Uee),nn.resolveKeyframes(Vee))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:i}=this;for(let a=0;a<t.length;a++)if(t[a]===null)if(a===0){const s=i==null?void 0:i.get(),o=t[t.length-1];if(s!==void 0)t[0]=s;else if(n&&r){const c=n.readValue(r,o);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=o),i&&s===void 0&&i.set(t[0])}else t[a]=t[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),bh.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,bh.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const zee=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),cje=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function uje(e){const t=cje.exec(e);if(!t)return[,];const[,r,n,i]=t;return[`--${r??n}`,i]}function Wee(e,t,r=1){const[n,i]=uje(e);if(!n)return;const a=window.getComputedStyle(t).getPropertyValue(n);if(a){const s=a.trim();return zee(s)?parseFloat(s):s}return k4(i)?Wee(i,t,r+1):i}const Hee=e=>t=>t.test(e),dje={test:e=>e==="auto",parse:e=>e},qee=[xg,jt,rc,qu,eCe,JAe,dje],g8=e=>qee.find(Hee(e));class Gee extends Q4{constructor(t,r,n,i,a){super(t,r,n,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),k4(u))){const d=Wee(u,r.current);d!==void 0&&(t[c]=d),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!Eee.has(n)||t.length!==2)return;const[i,a]=t,s=g8(i),o=g8(a);if(s!==o)if(h8(s)&&h8(o))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let i=0;i<t.length;i++)VCe(t[i])&&n.push(i);n.length&&ije(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=E0[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const i=r[r.length-1];i!==void 0&&t.getValue(n,i).jump(i,!1)}measureEndState(){var t;const{element:r,name:n,unresolvedKeyframes:i}=this;if(!r||!r.current)return;const a=r.getValue(n);a&&a.jump(this.measuredOrigin,!1);const s=i.length-1,o=i[s];i[s]=E0[n](r.measureViewportBox(),window.getComputedStyle(r.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([c,u])=>{r.getValue(c).set(u)}),this.resolveNoneKeyframes()}}const v8=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Qd.test(e)||e==="0")&&!e.startsWith("url("));function fje(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function hje(e,t,r,n){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const a=e[e.length-1],s=v8(i,t),o=v8(a,t);return!s||!o?!1:fje(e)||(r==="spring"||B4(r))&&n}const mje=e=>e!==null;function $T(e,{repeat:t,repeatType:r="loop"},n){const i=e.filter(mje),a=t&&r!=="loop"&&t%2===1?0:i.length-1;return!a||n===void 0?i[a]:n}const pje=40;class Kee{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:s="loop",...o}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=nc.now(),this.options={autoplay:t,delay:r,type:n,repeat:i,repeatDelay:a,repeatType:s,...o},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>pje?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&lje(),this._resolved}onKeyframesResolved(t,r){this.resolvedAt=nc.now(),this.hasAttemptedResolve=!0;const{name:n,type:i,velocity:a,delay:s,onComplete:o,onUpdate:c,isGenerator:u}=this.options;if(!u&&!hje(t,n,i,a))if(s)this.options.duration=0;else{c&&c($T(t,this.options,r)),o&&o(),this.resolveFinishedPromise();return}const d=this.initPlayback(t,r);d!==!1&&(this._resolved={keyframes:t,finalKeyframe:r,...d},this.onPostResolved())}onPostResolved(){}then(t,r){return this.currentFinishedPromise.then(t,r)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const _n=(e,t,r)=>e+(t-e)*r;function yC(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function gje({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let i=0,a=0,s=0;if(!t)i=a=s=r;else{const o=r<.5?r*(1+t):r+t-r*t,c=2*r-o;i=yC(c,o,e+1/3),a=yC(c,o,e),s=yC(c,o,e-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(s*255),alpha:n}}function HE(e,t){return r=>r>0?t:e}const xC=(e,t,r)=>{const n=e*e,i=r*(t*t-n)+n;return i<0?0:Math.sqrt(i)},vje=[CR,Zf,op],yje=e=>vje.find(t=>t.test(e));function y8(e){const t=yje(e);if(!t)return!1;let r=t.parse(e);return t===op&&(r=gje(r)),r}const x8=(e,t)=>{const r=y8(e),n=y8(t);if(!r||!n)return HE(e,t);const i={...r};return a=>(i.red=xC(r.red,n.red,a),i.green=xC(r.green,n.green,a),i.blue=xC(r.blue,n.blue,a),i.alpha=_n(r.alpha,n.alpha,a),Zf.transform(i))},xje=(e,t)=>r=>t(e(r)),Y1=(...e)=>e.reduce(xje),kR=new Set(["none","hidden"]);function bje(e,t){return kR.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function wje(e,t){return r=>_n(e,t,r)}function Z4(e){return typeof e=="number"?wje:typeof e=="string"?k4(e)?HE:ia.test(e)?x8:Sje:Array.isArray(e)?Yee:typeof e=="object"?ia.test(e)?x8:_je:HE}function Yee(e,t){const r=[...e],n=r.length,i=e.map((a,s)=>Z4(a)(a,t[s]));return a=>{for(let s=0;s<n;s++)r[s]=i[s](a);return r}}function _je(e,t){const r={...e,...t},n={};for(const i in r)e[i]!==void 0&&t[i]!==void 0&&(n[i]=Z4(e[i])(e[i],t[i]));return i=>{for(const a in n)r[a]=n[a](i);return r}}function Eje(e,t){var r;const n=[],i={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const s=t.types[a],o=e.indexes[s][i[s]],c=(r=e.values[o])!==null&&r!==void 0?r:0;n[a]=c,i[s]++}return n}const Sje=(e,t)=>{const r=Qd.createTransformer(t),n=fx(e),i=fx(t);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?kR.has(e)&&!i.values.length||kR.has(t)&&!n.values.length?bje(e,t):Y1(Yee(Eje(n,i),i.values),r):HE(e,t)};function Xee(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?_n(e,t,r):Z4(e)(e,t)}const Tje=5;function Qee(e,t,r){const n=Math.max(t-Tje,0);return See(r-e(n),t-n)}const Pn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},bC=.001;function Nje({duration:e=Pn.duration,bounce:t=Pn.bounce,velocity:r=Pn.velocity,mass:n=Pn.mass}){let i,a,s=1-t;s=bu(Pn.minDamping,Pn.maxDamping,s),e=bu(Pn.minDuration,Pn.maxDuration,Zc(e)),s<1?(i=u=>{const d=u*s,f=d*e,h=d-r,m=IR(u,s),g=Math.exp(-f);return bC-h/m*g},a=u=>{const f=u*s*e,h=f*r+r,m=Math.pow(s,2)*Math.pow(u,2)*e,g=Math.exp(-f),p=IR(Math.pow(u,2),s);return(-i(u)+bC>0?-1:1)*((h-m)*g)/p}):(i=u=>{const d=Math.exp(-u*e),f=(u-r)*e+1;return-bC+d*f},a=u=>{const d=Math.exp(-u*e),f=(r-u)*(e*e);return d*f});const o=5/e,c=Cje(i,a,o);if(e=Qc(e),isNaN(c))return{stiffness:Pn.stiffness,damping:Pn.damping,duration:e};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:s*2*Math.sqrt(n*u),duration:e}}}const Aje=12;function Cje(e,t,r){let n=r;for(let i=1;i<Aje;i++)n=n-e(n)/t(n);return n}function IR(e,t){return e*Math.sqrt(1-t*t)}const jje=["duration","bounce"],Pje=["stiffness","damping","mass"];function b8(e,t){return t.some(r=>e[r]!==void 0)}function Rje(e){let t={velocity:Pn.velocity,stiffness:Pn.stiffness,damping:Pn.damping,mass:Pn.mass,isResolvedFromDuration:!1,...e};if(!b8(e,Pje)&&b8(e,jje))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),i=n*n,a=2*bu(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:Pn.mass,stiffness:i,damping:a}}else{const r=Nje(e);t={...t,...r,mass:Pn.mass},t.isResolvedFromDuration=!0}return t}function Zee(e=Pn.visualDuration,t=Pn.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:i}=r;const a=r.keyframes[0],s=r.keyframes[r.keyframes.length-1],o={done:!1,value:a},{stiffness:c,damping:u,mass:d,duration:f,velocity:h,isResolvedFromDuration:m}=Rje({...r,velocity:-Zc(r.velocity||0)}),g=h||0,p=u/(2*Math.sqrt(c*d)),v=s-a,y=Zc(Math.sqrt(c/d)),x=Math.abs(v)<5;n||(n=x?Pn.restSpeed.granular:Pn.restSpeed.default),i||(i=x?Pn.restDelta.granular:Pn.restDelta.default);let w;if(p<1){const E=IR(y,p);w=T=>{const S=Math.exp(-p*y*T);return s-S*((g+p*y*v)/E*Math.sin(E*T)+v*Math.cos(E*T))}}else if(p===1)w=E=>s-Math.exp(-y*E)*(v+(g+y*v)*E);else{const E=y*Math.sqrt(p*p-1);w=T=>{const S=Math.exp(-p*y*T),A=Math.min(E*T,300);return s-S*((g+p*y*v)*Math.sinh(A)+E*v*Math.cosh(A))/E}}const N={calculatedDuration:m&&f||null,next:E=>{const T=w(E);if(m)o.done=E>=f;else{let S=0;p<1&&(S=E===0?Qc(g):Qee(w,E,T));const A=Math.abs(S)<=n,C=Math.abs(s-T)<=i;o.done=A&&C}return o.value=o.done?s:T,o},toString:()=>{const E=Math.min(gee(N),TR),T=vee(S=>N.next(E*S).value,E,30);return E+"ms "+T}};return N}function w8({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:s,min:o,max:c,restDelta:u=.5,restSpeed:d}){const f=e[0],h={done:!1,value:f},m=A=>o!==void 0&&A<o||c!==void 0&&A>c,g=A=>o===void 0?c:c===void 0||Math.abs(o-A)<Math.abs(c-A)?o:c;let p=r*t;const v=f+p,y=s===void 0?v:s(v);y!==v&&(p=y-f);const x=A=>-p*Math.exp(-A/n),w=A=>y+x(A),N=A=>{const C=x(A),j=w(A);h.done=Math.abs(C)<=u,h.value=h.done?y:j};let E,T;const S=A=>{m(h.value)&&(E=A,T=Zee({keyframes:[h.value,g(h.value)],velocity:Qee(w,A,h.value),damping:i,stiffness:a,restDelta:u,restSpeed:d}))};return S(0),{calculatedDuration:null,next:A=>{let C=!1;return!T&&E===void 0&&(C=!0,N(A),S(A)),E!==void 0&&A>=E?T.next(A-E):(!C&&N(A),h)}}}const kje=K1(.42,0,1,1),Ije=K1(0,0,.58,1),Jee=K1(.42,0,.58,1),Oje=e=>Array.isArray(e)&&typeof e[0]!="number",Dje={linear:Cs,easeIn:kje,easeInOut:Jee,easeOut:Ije,circIn:G4,circInOut:Iee,circOut:kee,backIn:q4,backInOut:Pee,backOut:jee,anticipate:Ree},_8=e=>{if(V4(e)){XJ(e.length===4);const[t,r,n,i]=e;return K1(t,r,n,i)}else if(typeof e=="string")return Dje[e];return e};function Mje(e,t,r){const n=[],i=r||Xee,a=e.length-1;for(let s=0;s<a;s++){let o=i(e[s],e[s+1]);if(t){const c=Array.isArray(t)?t[s]||Cs:t;o=Y1(c,o)}n.push(o)}return n}function Lje(e,t,{clamp:r=!0,ease:n,mixer:i}={}){const a=e.length;if(XJ(a===t.length),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const s=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=Mje(t,n,i),c=o.length,u=d=>{if(s&&d<e[0])return t[0];let f=0;if(c>1)for(;f<e.length-2&&!(d<e[f+1]);f++);const h=w0(e[f],e[f+1],d);return o[f](h)};return r?d=>u(bu(e[0],e[a-1],d)):u}function Fje(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const i=w0(0,t,n);e.push(_n(r,1,i))}}function $je(e){const t=[0];return Fje(t,e.length-1),t}function Bje(e,t){return e.map(r=>r*t)}function Vje(e,t){return e.map(()=>t||Jee).splice(0,e.length-1)}function qE({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const i=Oje(n)?n.map(_8):_8(n),a={done:!1,value:t[0]},s=Bje(r&&r.length===t.length?r:$je(t),e),o=Lje(s,t,{ease:Array.isArray(i)?i:Vje(t,i)});return{calculatedDuration:e,next:c=>(a.value=o(c),a.done=c>=e,a)}}const Uje=e=>{const t=({timestamp:r})=>e(r);return{start:()=>nn.update(t,!0),stop:()=>Xd(t),now:()=>Ri.isProcessing?Ri.timestamp:nc.now()}},zje={decay:w8,inertia:w8,tween:qE,keyframes:qE,spring:Zee},Wje=e=>e/100;class J4 extends Kee{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:r,motionValue:n,element:i,keyframes:a}=this.options,s=(i==null?void 0:i.KeyframeResolver)||Q4,o=(c,u)=>this.onKeyframesResolved(c,u);this.resolver=new s(a,o,r,n,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:r="keyframes",repeat:n=0,repeatDelay:i=0,repeatType:a,velocity:s=0}=this.options,o=B4(r)?r:zje[r]||qE;let c,u;o!==qE&&typeof t[0]!="number"&&(c=Y1(Wje,Xee(t[0],t[1])),t=[0,100]);const d=o({...this.options,keyframes:t});a==="mirror"&&(u=o({...this.options,keyframes:[...t].reverse(),velocity:-s})),d.calculatedDuration===null&&(d.calculatedDuration=gee(d));const{calculatedDuration:f}=d,h=f+i,m=h*(n+1)-i;return{generator:d,mirroredGenerator:u,mapPercentToKeyframes:c,calculatedDuration:f,resolvedDuration:h,totalDuration:m}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,r=!1){const{resolved:n}=this;if(!n){const{keyframes:A}=this.options;return{done:!0,value:A[A.length-1]}}const{finalKeyframe:i,generator:a,mirroredGenerator:s,mapPercentToKeyframes:o,keyframes:c,calculatedDuration:u,totalDuration:d,resolvedDuration:f}=n;if(this.startTime===null)return a.next(0);const{delay:h,repeat:m,repeatType:g,repeatDelay:p,onUpdate:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-d/this.speed,this.startTime)),r?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const y=this.currentTime-h*(this.speed>=0?1:-1),x=this.speed>=0?y<0:y>d;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let w=this.currentTime,N=a;if(m){const A=Math.min(this.currentTime,d)/f;let C=Math.floor(A),j=A%1;!j&&A>=1&&(j=1),j===1&&C--,C=Math.min(C,m+1),!!(C%2)&&(g==="reverse"?(j=1-j,p&&(j-=p/f)):g==="mirror"&&(N=s)),w=bu(0,1,j)*f}const E=x?{done:!1,value:c[0]}:N.next(w);o&&(E.value=o(E.value));let{done:T}=E;!x&&u!==null&&(T=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const S=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&T);return S&&i!==void 0&&(E.value=$T(c,this.options,i)),v&&v(E.value),S&&this.finish(),E}get duration(){const{resolved:t}=this;return t?Zc(t.calculatedDuration):0}get time(){return Zc(this.currentTime)}set time(t){t=Qc(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=Zc(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=Uje,onPlay:r,startTime:n}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),r&&r();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=n??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const Hje=new Set(["opacity","clipPath","filter","transform"]);function qje(e,t,r,{delay:n=0,duration:i=300,repeat:a=0,repeatType:s="loop",ease:o="easeInOut",times:c}={}){const u={[t]:r};c&&(u.offset=c);const d=xee(o,i);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:n,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:a+1,direction:s==="reverse"?"alternate":"normal"})}const Gje=T4(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),GE=10,Kje=2e4;function Yje(e){return B4(e.type)||e.type==="spring"||!yee(e.ease)}function Xje(e,t){const r=new J4({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let n={done:!1,value:e[0]};const i=[];let a=0;for(;!n.done&&a<Kje;)n=r.sample(a),i.push(n.value),a+=GE;return{times:void 0,keyframes:i,duration:a-GE,ease:"linear"}}const ete={anticipate:Ree,backInOut:Pee,circInOut:Iee};function Qje(e){return e in ete}class E8 extends Kee{constructor(t){super(t);const{name:r,motionValue:n,element:i,keyframes:a}=this.options;this.resolver=new Gee(a,(s,o)=>this.onKeyframesResolved(s,o),r,n,i),this.resolver.scheduleResolve()}initPlayback(t,r){let{duration:n=300,times:i,ease:a,type:s,motionValue:o,name:c,startTime:u}=this.options;if(!o.owner||!o.owner.current)return!1;if(typeof a=="string"&&WE()&&Qje(a)&&(a=ete[a]),Yje(this.options)){const{onComplete:f,onUpdate:h,motionValue:m,element:g,...p}=this.options,v=Xje(t,p);t=v.keyframes,t.length===1&&(t[1]=t[0]),n=v.duration,i=v.times,a=v.ease,s="keyframes"}const d=qje(o.owner.current,c,t,{...this.options,duration:n,times:i,ease:a});return d.startTime=u??this.calcStartTime(),this.pendingTimeline?(o8(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:f}=this.options;o.set($T(t,this.options,r)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:n,times:i,type:s,ease:a,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:r}=t;return Zc(r)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:r}=t;return Zc(r.currentTime||0)}set time(t){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.currentTime=Qc(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:r}=t;return r.playbackRate}set speed(t){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:r}=t;return r.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:r}=t;return r.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:r}=this;if(!r)return Cs;const{animation:n}=r;o8(n,t)}return Cs}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.playState==="finished"&&this.updateFinishedPromise(),r.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:r,keyframes:n,duration:i,type:a,ease:s,times:o}=t;if(r.playState==="idle"||r.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:d,onComplete:f,element:h,...m}=this.options,g=new J4({...m,keyframes:n,duration:i,type:a,ease:s,times:o,isGenerator:!0}),p=Qc(this.time);u.setWithVelocity(g.sample(p-GE).value,g.sample(p).value,GE)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:r,name:n,repeatDelay:i,repeatType:a,damping:s,type:o}=t;if(!r||!r.owner||!(r.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=r.owner.getProps();return Gje()&&n&&Hje.has(n)&&!c&&!u&&!i&&a!=="mirror"&&s!==0&&o!=="inertia"}}const Zje={type:"spring",stiffness:500,damping:25,restSpeed:10},Jje=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),ePe={type:"keyframes",duration:.8},tPe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},rPe=(e,{keyframes:t})=>t.length>2?ePe:dm.has(e)?e.startsWith("scale")?Jje(t[1]):Zje:tPe;function nPe({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:i,repeat:a,repeatType:s,repeatDelay:o,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const eM=(e,t,r,n={},i,a)=>s=>{const o=$4(n,e)||{},c=o.delay||n.delay||0;let{elapsed:u=0}=n;u=u-Qc(c);let d={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-u,onUpdate:h=>{t.set(h),o.onUpdate&&o.onUpdate(h)},onComplete:()=>{s(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:a?void 0:i};nPe(o)||(d={...d,...rPe(e,d)}),d.duration&&(d.duration=Qc(d.duration)),d.repeatDelay&&(d.repeatDelay=Qc(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(f=!0)),f&&!a&&t.get()!==void 0){const h=$T(d.keyframes,o);if(h!==void 0)return nn.update(()=>{d.onUpdate(h),d.onComplete()}),new _Ce([])}return!a&&E8.supports(d)?new E8(d):new J4(d)};function iPe({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function tte(e,t,{delay:r=0,transitionOverride:n,type:i}={}){var a;let{transition:s=e.getDefaultTransition(),transitionEnd:o,...c}=t;n&&(s=n);const u=[],d=i&&e.animationState&&e.animationState.getState()[i];for(const f in c){const h=e.getValue(f,(a=e.latestValues[f])!==null&&a!==void 0?a:null),m=c[f];if(m===void 0||d&&iPe(d,f))continue;const g={delay:r,...$4(s||{},f)};let p=!1;if(window.MotionHandoffAnimation){const y=Tee(e);if(y){const x=window.MotionHandoffAnimation(y,f,nn);x!==null&&(g.startTime=x,p=!0)}}AR(e,f),h.start(eM(f,h,m,e.shouldReduceMotion&&Eee.has(f)?{type:!1}:g,e,p));const v=h.animation;v&&u.push(v)}return o&&Promise.all(u).then(()=>{nn.update(()=>{o&&MCe(e,o)})}),u}function OR(e,t,r={}){var n;const i=FT(e,t,r.type==="exit"?(n=e.presenceContext)===null||n===void 0?void 0:n.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=i||{};r.transitionOverride&&(a=r.transitionOverride);const s=i?()=>Promise.all(tte(e,i,r)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:h}=a;return aPe(e,t,d+u,f,h,r)}:()=>Promise.resolve(),{when:c}=a;if(c){const[u,d]=c==="beforeChildren"?[s,o]:[o,s];return u().then(()=>d())}else return Promise.all([s(),o(r.delay)])}function aPe(e,t,r=0,n=0,i=1,a){const s=[],o=(e.variantChildren.size-1)*n,c=i===1?(u=0)=>u*n:(u=0)=>o-u*n;return Array.from(e.variantChildren).sort(sPe).forEach((u,d)=>{u.notify("AnimationStart",t),s.push(OR(u,t,{...a,delay:r+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(s)}function sPe(e,t){return e.sortNodePosition(t)}function oPe(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const i=t.map(a=>OR(e,a,r));n=Promise.all(i)}else if(typeof t=="string")n=OR(e,t,r);else{const i=typeof t=="function"?FT(e,t,r.custom):t;n=Promise.all(tte(e,i,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}const lPe=A4.length;function rte(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?rte(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<lPe;r++){const n=A4[r],i=e.props[n];(cx(i)||i===!1)&&(t[n]=i)}return t}const cPe=[...N4].reverse(),uPe=N4.length;function dPe(e){return t=>Promise.all(t.map(({animation:r,options:n})=>oPe(e,r,n)))}function fPe(e){let t=dPe(e),r=S8(),n=!0;const i=c=>(u,d)=>{var f;const h=FT(e,d,c==="exit"?(f=e.presenceContext)===null||f===void 0?void 0:f.custom:void 0);if(h){const{transition:m,transitionEnd:g,...p}=h;u={...u,...p,...g}}return u};function a(c){t=c(e)}function s(c){const{props:u}=e,d=rte(e.parent)||{},f=[],h=new Set;let m={},g=1/0;for(let v=0;v<uPe;v++){const y=cPe[v],x=r[y],w=u[y]!==void 0?u[y]:d[y],N=cx(w),E=y===c?x.isActive:null;E===!1&&(g=v);let T=w===d[y]&&w!==u[y]&&N;if(T&&n&&e.manuallyAnimateOnMount&&(T=!1),x.protectedKeys={...m},!x.isActive&&E===null||!w&&!x.prevProp||MT(w)||typeof w=="boolean")continue;const S=hPe(x.prevProp,w);let A=S||y===c&&x.isActive&&!T&&N||v>g&&N,C=!1;const j=Array.isArray(w)?w:[w];let I=j.reduce(i(y),{});E===!1&&(I={});const{prevResolvedValues:O={}}=x,k={...O,...I},D=z=>{A=!0,h.has(z)&&(C=!0,h.delete(z)),x.needsAnimating[z]=!0;const V=e.getValue(z);V&&(V.liveStyle=!1)};for(const z in k){const V=I[z],U=O[z];if(m.hasOwnProperty(z))continue;let se=!1;SR(V)&&SR(U)?se=!pee(V,U):se=V!==U,se?V!=null?D(z):h.add(z):V!==void 0&&h.has(z)?D(z):x.protectedKeys[z]=!0}x.prevProp=w,x.prevResolvedValues=I,x.isActive&&(m={...m,...I}),n&&e.blockInitialAnimation&&(A=!1),A&&(!(T&&S)||C)&&f.push(...j.map(z=>({animation:z,options:{type:y}})))}if(h.size){const v={};h.forEach(y=>{const x=e.getBaseTarget(y),w=e.getValue(y);w&&(w.liveStyle=!0),v[y]=x??null}),f.push({animation:v})}let p=!!f.length;return n&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(p=!1),n=!1,p?t(f):Promise.resolve()}function o(c,u){var d;if(r[c].isActive===u)return Promise.resolve();(d=e.variantChildren)===null||d===void 0||d.forEach(h=>{var m;return(m=h.animationState)===null||m===void 0?void 0:m.setActive(c,u)}),r[c].isActive=u;const f=s(c);for(const h in r)r[h].protectedKeys={};return f}return{animateChanges:s,setActive:o,setAnimateFunction:a,getState:()=>r,reset:()=>{r=S8(),n=!0}}}function hPe(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!pee(t,e):!1}function Pf(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function S8(){return{animate:Pf(!0),whileInView:Pf(),whileHover:Pf(),whileTap:Pf(),whileDrag:Pf(),whileFocus:Pf(),exit:Pf()}}class xf{constructor(t){this.isMounted=!1,this.node=t}update(){}}class mPe extends xf{constructor(t){super(t),t.animationState||(t.animationState=fPe(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();MT(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let pPe=0;class gPe extends xf{constructor(){super(...arguments),this.id=pPe++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const i=this.node.animationState.setActive("exit",!t);r&&!t&&i.then(()=>r(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const vPe={animation:{Feature:mPe},exit:{Feature:gPe}};function hx(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function X1(e){return{point:{x:e.pageX,y:e.pageY}}}const yPe=e=>t=>U4(t)&&e(t,X1(t));function oy(e,t,r,n){return hx(e,t,yPe(r),n)}const T8=(e,t)=>Math.abs(e-t);function xPe(e,t){const r=T8(e.x,t.x),n=T8(e.y,t.y);return Math.sqrt(r**2+n**2)}class nte{constructor(t,r,{transformPagePoint:n,contextWindow:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=_C(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,m=xPe(f.offset,{x:0,y:0})>=3;if(!h&&!m)return;const{point:g}=f,{timestamp:p}=Ri;this.history.push({...g,timestamp:p});const{onStart:v,onMove:y}=this.handlers;h||(v&&v(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=wC(h,this.transformPagePoint),nn.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:m,onSessionEnd:g,resumeAnimation:p}=this.handlers;if(this.dragSnapToOrigin&&p&&p(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=_C(f.type==="pointercancel"?this.lastMoveEventInfo:wC(h,this.transformPagePoint),this.history);this.startEvent&&m&&m(f,v),g&&g(f,v)},!U4(t))return;this.dragSnapToOrigin=a,this.handlers=r,this.transformPagePoint=n,this.contextWindow=i||window;const s=X1(t),o=wC(s,this.transformPagePoint),{point:c}=o,{timestamp:u}=Ri;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=r;d&&d(t,_C(o,this.history)),this.removeListeners=Y1(oy(this.contextWindow,"pointermove",this.handlePointerMove),oy(this.contextWindow,"pointerup",this.handlePointerUp),oy(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Xd(this.updatePoint)}}function wC(e,t){return t?{point:t(e.point)}:e}function N8(e,t){return{x:e.x-t.x,y:e.y-t.y}}function _C({point:e},t){return{point:e,delta:N8(e,ite(t)),offset:N8(e,bPe(t)),velocity:wPe(t,.1)}}function bPe(e){return e[0]}function ite(e){return e[e.length-1]}function wPe(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const i=ite(e);for(;r>=0&&(n=e[r],!(i.timestamp-n.timestamp>Qc(t)));)r--;if(!n)return{x:0,y:0};const a=Zc(i.timestamp-n.timestamp);if(a===0)return{x:0,y:0};const s={x:(i.x-n.x)/a,y:(i.y-n.y)/a};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}const ate=1e-4,_Pe=1-ate,EPe=1+ate,ste=.01,SPe=0-ste,TPe=0+ste;function Is(e){return e.max-e.min}function NPe(e,t,r){return Math.abs(e-t)<=r}function A8(e,t,r,n=.5){e.origin=n,e.originPoint=_n(t.min,t.max,e.origin),e.scale=Is(r)/Is(t),e.translate=_n(r.min,r.max,e.origin)-e.originPoint,(e.scale>=_Pe&&e.scale<=EPe||isNaN(e.scale))&&(e.scale=1),(e.translate>=SPe&&e.translate<=TPe||isNaN(e.translate))&&(e.translate=0)}function ly(e,t,r,n){A8(e.x,t.x,r.x,n?n.originX:void 0),A8(e.y,t.y,r.y,n?n.originY:void 0)}function C8(e,t,r){e.min=r.min+t.min,e.max=e.min+Is(t)}function APe(e,t,r){C8(e.x,t.x,r.x),C8(e.y,t.y,r.y)}function j8(e,t,r){e.min=t.min-r.min,e.max=e.min+Is(t)}function cy(e,t,r){j8(e.x,t.x,r.x),j8(e.y,t.y,r.y)}function CPe(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?_n(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?_n(r,e,n.max):Math.min(e,r)),e}function P8(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function jPe(e,{top:t,left:r,bottom:n,right:i}){return{x:P8(e.x,r,i),y:P8(e.y,t,n)}}function R8(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function PPe(e,t){return{x:R8(e.x,t.x),y:R8(e.y,t.y)}}function RPe(e,t){let r=.5;const n=Is(e),i=Is(t);return i>n?r=w0(t.min,t.max-n,e.min):n>i&&(r=w0(e.min,e.max-i,t.min)),bu(0,1,r)}function kPe(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const DR=.35;function IPe(e=DR){return e===!1?e=0:e===!0&&(e=DR),{x:k8(e,"left","right"),y:k8(e,"top","bottom")}}function k8(e,t,r){return{min:I8(e,t),max:I8(e,r)}}function I8(e,t){return typeof e=="number"?e:e[t]||0}const O8=()=>({translate:0,scale:1,origin:0,originPoint:0}),lp=()=>({x:O8(),y:O8()}),D8=()=>({min:0,max:0}),Fn=()=>({x:D8(),y:D8()});function Zs(e){return[e("x"),e("y")]}function ote({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function OPe({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function DPe(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function EC(e){return e===void 0||e===1}function MR({scale:e,scaleX:t,scaleY:r}){return!EC(e)||!EC(t)||!EC(r)}function Lf(e){return MR(e)||lte(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function lte(e){return M8(e.x)||M8(e.y)}function M8(e){return e&&e!=="0%"}function KE(e,t,r){const n=e-r,i=t*n;return r+i}function L8(e,t,r,n,i){return i!==void 0&&(e=KE(e,i,n)),KE(e,r,n)+t}function LR(e,t=0,r=1,n,i){e.min=L8(e.min,t,r,n,i),e.max=L8(e.max,t,r,n,i)}function cte(e,{x:t,y:r}){LR(e.x,t.translate,t.scale,t.originPoint),LR(e.y,r.translate,r.scale,r.originPoint)}const F8=.999999999999,$8=1.0000000000001;function MPe(e,t,r,n=!1){const i=r.length;if(!i)return;t.x=t.y=1;let a,s;for(let o=0;o<i;o++){a=r[o],s=a.projectionDelta;const{visualElement:c}=a.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&a.options.layoutScroll&&a.scroll&&a!==a.root&&up(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,cte(e,s)),n&&Lf(a.latestValues)&&up(e,a.latestValues))}t.x<$8&&t.x>F8&&(t.x=1),t.y<$8&&t.y>F8&&(t.y=1)}function cp(e,t){e.min=e.min+t,e.max=e.max+t}function B8(e,t,r,n,i=.5){const a=_n(e.min,e.max,i);LR(e,t,r,a,n)}function up(e,t){B8(e.x,t.x,t.scaleX,t.scale,t.originX),B8(e.y,t.y,t.scaleY,t.scale,t.originY)}function ute(e,t){return ote(DPe(e.getBoundingClientRect(),t))}function LPe(e,t,r){const n=ute(e,r),{scroll:i}=t;return i&&(cp(n.x,i.offset.x),cp(n.y,i.offset.y)),n}const dte=({current:e})=>e?e.ownerDocument.defaultView:null,FPe=new WeakMap;class $Pe{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Fn(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(X1(d).point)},a=(d,f)=>{const{drag:h,dragPropagation:m,onDragStart:g}=this.getProps();if(h&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=RCe(h),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Zs(v=>{let y=this.getAxisMotionValue(v).get()||0;if(rc.test(y)){const{projection:x}=this.visualElement;if(x&&x.layout){const w=x.layout.layoutBox[v];w&&(y=Is(w)*(parseFloat(y)/100))}}this.originPoint[v]=y}),g&&nn.postRender(()=>g(d,f)),AR(this.visualElement,"transform");const{animationState:p}=this.visualElement;p&&p.setActive("whileDrag",!0)},s=(d,f)=>{const{dragPropagation:h,dragDirectionLock:m,onDirectionLock:g,onDrag:p}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:v}=f;if(m&&this.currentDirection===null){this.currentDirection=BPe(v),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",f.point,v),this.updateAxis("y",f.point,v),this.visualElement.render(),p&&p(d,f)},o=(d,f)=>this.stop(d,f),c=()=>Zs(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new nte(t,{onSessionStart:i,onStart:a,onMove:s,onSessionEnd:o,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:dte(this.visualElement)})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:i}=r;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&nn.postRender(()=>a(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:i}=this.getProps();if(!n||!mw(t,i,this.currentDirection))return;const a=this.getAxisMotionValue(t);let s=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(s=CPe(s,this.constraints[t],this.elastic[t])),a.set(s)}resolveConstraints(){var t;const{dragConstraints:r,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,a=this.constraints;r&&sp(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&i?this.constraints=jPe(i.layoutBox,r):this.constraints=!1,this.elastic=IPe(n),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Zs(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=kPe(i.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!sp(t))return!1;const n=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=LPe(n,i.root,this.visualElement.getTransformPagePoint());let s=PPe(i.layout.layoutBox,a);if(r){const o=r(OPe(s));this.hasMutatedConstraints=!!o,o&&(s=ote(o))}return s}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:i,dragTransition:a,dragSnapToOrigin:s,onDragTransitionEnd:o}=this.getProps(),c=this.constraints||{},u=Zs(d=>{if(!mw(d,r,this.currentDirection))return;let f=c&&c[d]||{};s&&(f={min:0,max:0});const h=i?200:1e6,m=i?40:1e7,g={type:"inertia",velocity:n?t[d]:0,bounceStiffness:h,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...a,...f};return this.startAxisValueAnimation(d,g)});return Promise.all(u).then(o)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return AR(this.visualElement,t),n.start(eM(t,n,0,r,this.visualElement,!1))}stopAnimation(){Zs(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Zs(t=>{var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),i=n[r];return i||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){Zs(r=>{const{drag:n}=this.getProps();if(!mw(r,n,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(r);if(i&&i.layout){const{min:s,max:o}=i.layout.layoutBox[r];a.set(t[r]-_n(s,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!sp(r)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Zs(s=>{const o=this.getAxisMotionValue(s);if(o&&this.constraints!==!1){const c=o.get();i[s]=RPe({min:c,max:c},this.constraints[s])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Zs(s=>{if(!mw(s,t,null))return;const o=this.getAxisMotionValue(s),{min:c,max:u}=this.constraints[s];o.set(_n(c,u,i[s]))})}addListeners(){if(!this.visualElement.current)return;FPe.set(this.visualElement,this);const t=this.visualElement.current,r=oy(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();sp(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),nn.read(n);const s=hx(window,"resize",()=>this.scalePositionWithinConstraints()),o=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Zs(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{s(),r(),a(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:s=DR,dragMomentum:o=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:i,dragConstraints:a,dragElastic:s,dragMomentum:o}}}function mw(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function BPe(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class VPe extends xf{constructor(t){super(t),this.removeGroupControls=Cs,this.removeListeners=Cs,this.controls=new $Pe(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Cs}unmount(){this.removeGroupControls(),this.removeListeners()}}const V8=e=>(t,r)=>{e&&nn.postRender(()=>e(t,r))};class UPe extends xf{constructor(){super(...arguments),this.removePointerDownListener=Cs}onPointerDown(t){this.session=new nte(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:dte(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:V8(t),onStart:V8(r),onMove:n,onEnd:(a,s)=>{delete this.session,i&&nn.postRender(()=>i(a,s))}}}mount(){this.removePointerDownListener=oy(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const N_={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function U8(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const sv={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(jt.test(e))e=parseFloat(e);else return e;const r=U8(e,t.target.x),n=U8(e,t.target.y);return`${r}% ${n}%`}},zPe={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,i=Qd.parse(e);if(i.length>5)return n;const a=Qd.createTransformer(e),s=typeof i[0]!="number"?1:0,o=r.x.scale*t.x,c=r.y.scale*t.y;i[0+s]/=o,i[1+s]/=c;const u=_n(o,c,.5);return typeof i[2+s]=="number"&&(i[2+s]/=u),typeof i[3+s]=="number"&&(i[3+s]/=u),a(i)}};class WPe extends b.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:i}=this.props,{projection:a}=t;uCe(HPe),a&&(r.group&&r.group.add(a),n&&n.register&&i&&n.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),N_.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:i,isPresent:a}=this.props,s=n.projection;return s&&(s.isPresent=a,i||t.layoutDependency!==r||r===void 0?s.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?s.promote():s.relegate()||nn.postRender(()=>{const o=s.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),j4.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function fte(e){const[t,r]=TAe(),n=b.useContext(KJ);return l.jsx(WPe,{...e,layoutGroup:n,switchLayoutGroup:b.useContext(ree),isPresent:t,safeToRemove:r})}const HPe={borderRadius:{...sv,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:sv,borderTopRightRadius:sv,borderBottomLeftRadius:sv,borderBottomRightRadius:sv,boxShadow:zPe};function qPe(e,t,r){const n=ca(e)?e:dx(e);return n.start(eM("",n,t,r)),n.animation}function GPe(e){return e instanceof SVGElement&&e.tagName!=="svg"}const KPe=(e,t)=>e.depth-t.depth;class YPe{constructor(){this.children=[],this.isDirty=!1}add(t){z4(this.children,t),this.isDirty=!0}remove(t){W4(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(KPe),this.isDirty=!1,this.children.forEach(t)}}function XPe(e,t){const r=nc.now(),n=({timestamp:i})=>{const a=i-r;a>=t&&(Xd(n),e(a-t))};return nn.read(n,!0),()=>Xd(n)}const hte=["TopLeft","TopRight","BottomLeft","BottomRight"],QPe=hte.length,z8=e=>typeof e=="string"?parseFloat(e):e,W8=e=>typeof e=="number"||jt.test(e);function ZPe(e,t,r,n,i,a){i?(e.opacity=_n(0,r.opacity!==void 0?r.opacity:1,JPe(n)),e.opacityExit=_n(t.opacity!==void 0?t.opacity:1,0,eRe(n))):a&&(e.opacity=_n(t.opacity!==void 0?t.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let s=0;s<QPe;s++){const o=`border${hte[s]}Radius`;let c=H8(t,o),u=H8(r,o);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||W8(c)===W8(u)?(e[o]=Math.max(_n(z8(c),z8(u),n),0),(rc.test(u)||rc.test(c))&&(e[o]+="%")):e[o]=u}(t.rotate||r.rotate)&&(e.rotate=_n(t.rotate||0,r.rotate||0,n))}function H8(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const JPe=mte(0,.5,kee),eRe=mte(.5,.95,Cs);function mte(e,t,r){return n=>n<e?0:n>t?1:r(w0(e,t,n))}function q8(e,t){e.min=t.min,e.max=t.max}function Gs(e,t){q8(e.x,t.x),q8(e.y,t.y)}function G8(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function K8(e,t,r,n,i){return e-=t,e=KE(e,1/r,n),i!==void 0&&(e=KE(e,1/i,n)),e}function tRe(e,t=0,r=1,n=.5,i,a=e,s=e){if(rc.test(t)&&(t=parseFloat(t),t=_n(s.min,s.max,t/100)-s.min),typeof t!="number")return;let o=_n(a.min,a.max,n);e===a&&(o-=t),e.min=K8(e.min,t,r,o,i),e.max=K8(e.max,t,r,o,i)}function Y8(e,t,[r,n,i],a,s){tRe(e,t[r],t[n],t[i],t.scale,a,s)}const rRe=["x","scaleX","originX"],nRe=["y","scaleY","originY"];function X8(e,t,r,n){Y8(e.x,t,rRe,r?r.x:void 0,n?n.x:void 0),Y8(e.y,t,nRe,r?r.y:void 0,n?n.y:void 0)}function Q8(e){return e.translate===0&&e.scale===1}function pte(e){return Q8(e.x)&&Q8(e.y)}function Z8(e,t){return e.min===t.min&&e.max===t.max}function iRe(e,t){return Z8(e.x,t.x)&&Z8(e.y,t.y)}function J8(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function gte(e,t){return J8(e.x,t.x)&&J8(e.y,t.y)}function eB(e){return Is(e.x)/Is(e.y)}function tB(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class aRe{constructor(){this.members=[]}add(t){z4(this.members,t),t.scheduleRender()}remove(t){if(W4(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(i=>t===i);if(r===0)return!1;let n;for(let i=r;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){n=a;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function sRe(e,t,r){let n="";const i=e.x.translate/t.x,a=e.y.translate/t.y,s=(r==null?void 0:r.z)||0;if((i||a||s)&&(n=`translate3d(${i}px, ${a}px, ${s}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:u,rotate:d,rotateX:f,rotateY:h,skewX:m,skewY:g}=r;u&&(n=`perspective(${u}px) ${n}`),d&&(n+=`rotate(${d}deg) `),f&&(n+=`rotateX(${f}deg) `),h&&(n+=`rotateY(${h}deg) `),m&&(n+=`skewX(${m}deg) `),g&&(n+=`skewY(${g}deg) `)}const o=e.x.scale*t.x,c=e.y.scale*t.y;return(o!==1||c!==1)&&(n+=`scale(${o}, ${c})`),n||"none"}const Ff={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Ov=typeof window<"u"&&window.MotionDebug!==void 0,SC=["","X","Y","Z"],oRe={visibility:"hidden"},rB=1e3;let lRe=0;function TC(e,t,r,n){const{latestValues:i}=t;i[e]&&(r[e]=i[e],t.setStaticValue(e,0),n&&(n[e]=0))}function vte(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=Tee(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:i,layoutId:a}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",nn,!(i||a))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&vte(n)}function yte({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(s={},o=t==null?void 0:t()){this.id=lRe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Ov&&(Ff.totalNodes=Ff.resolvedTargetDeltas=Ff.recalculatedProjection=0),this.nodes.forEach(dRe),this.nodes.forEach(gRe),this.nodes.forEach(vRe),this.nodes.forEach(fRe),Ov&&window.MotionDebug.record(Ff)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new YPe)}addEventListener(s,o){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new H4),this.eventHandlers.get(s).add(o)}notifyListeners(s,...o){const c=this.eventHandlers.get(s);c&&c.notify(...o)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=GPe(s),this.instance=s;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(u||c)&&(this.isLayoutDirty=!0),e){let f;const h=()=>this.root.updateBlockedByResize=!1;e(s,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=XPe(h,250),N_.hasAnimatedSinceResize&&(N_.hasAnimatedSinceResize=!1,this.nodes.forEach(iB))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeTargetChanged:m,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const p=this.options.transition||d.getDefaultTransition()||_Re,{onLayoutAnimationStart:v,onLayoutAnimationComplete:y}=d.getProps(),x=!this.targetLayout||!gte(this.targetLayout,g)||m,w=!h&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||h&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,w);const N={...$4(p,"layout"),onPlay:v,onComplete:y};(d.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N)}else h||iB(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Xd(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(yRe),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&vte(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:o,layout:c}=this.options;if(o===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(nB);return}this.isUpdating||this.nodes.forEach(mRe),this.isUpdating=!1,this.nodes.forEach(pRe),this.nodes.forEach(cRe),this.nodes.forEach(uRe),this.clearAllSnapshots();const o=nc.now();Ri.delta=bu(0,1e3/60,o-Ri.timestamp),Ri.timestamp=o,Ri.isProcessing=!0,pC.update.process(Ri),pC.preRender.process(Ri),pC.render.process(Ri),Ri.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,j4.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(hRe),this.sharedNodes.forEach(xRe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,nn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){nn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Fn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(o=!1),o){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!pte(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;s&&(o||Lf(this.latestValues)||d)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const o=this.measurePageBox();let c=this.removeElementScroll(o);return s&&(c=this.removeTransform(c)),ERe(c),{animationId:this.root.animationId,measuredBox:o,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var s;const{visualElement:o}=this.options;if(!o)return Fn();const c=o.measureViewportBox();if(!(((s=this.scroll)===null||s===void 0?void 0:s.wasRoot)||this.path.some(SRe))){const{scroll:d}=this.root;d&&(cp(c.x,d.offset.x),cp(c.y,d.offset.y))}return c}removeElementScroll(s){var o;const c=Fn();if(Gs(c,s),!((o=this.scroll)===null||o===void 0)&&o.wasRoot)return c;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:f,options:h}=d;d!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&Gs(c,s),cp(c.x,f.offset.x),cp(c.y,f.offset.y))}return c}applyTransform(s,o=!1){const c=Fn();Gs(c,s);for(let u=0;u<this.path.length;u++){const d=this.path[u];!o&&d.options.layoutScroll&&d.scroll&&d!==d.root&&up(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Lf(d.latestValues)&&up(c,d.latestValues)}return Lf(this.latestValues)&&up(c,this.latestValues),c}removeTransform(s){const o=Fn();Gs(o,s);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Lf(u.latestValues))continue;MR(u.latestValues)&&u.updateSnapshot();const d=Fn(),f=u.measurePageBox();Gs(d,f),X8(o,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Lf(this.latestValues)&&X8(o,this.latestValues),o}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ri.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var o;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(s||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=Ri.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Fn(),this.relativeTargetOrigin=Fn(),cy(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Gs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Fn(),this.targetWithTransforms=Fn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),APe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Gs(this.target,this.layout.layoutBox),cte(this.target,this.targetDelta)):Gs(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Fn(),this.relativeTargetOrigin=Fn(),cy(this.relativeTargetOrigin,this.target,m.target),Gs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ov&&Ff.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||MR(this.parent.latestValues)||lte(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var s;const o=this.getLead(),c=!!this.resumingFrom||this!==o;let u=!0;if((this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Ri.timestamp&&(u=!1),u)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;Gs(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,m=this.treeScale.y;MPe(this.layoutCorrected,this.treeScale,this.path,c),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Fn());const{target:g}=o;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(G8(this.prevProjectionDelta.x,this.projectionDelta.x),G8(this.prevProjectionDelta.y,this.projectionDelta.y)),ly(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==m||!tB(this.projectionDelta.x,this.prevProjectionDelta.x)||!tB(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),Ov&&Ff.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){var o;if((o=this.options.visualElement)===null||o===void 0||o.scheduleRender(),s){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=lp(),this.projectionDelta=lp(),this.projectionDeltaWithTransform=lp()}setAnimationOrigin(s,o=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=lp();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const h=Fn(),m=c?c.source:void 0,g=this.layout?this.layout.source:void 0,p=m!==g,v=this.getStack(),y=!v||v.members.length<=1,x=!!(p&&!y&&this.options.crossfade===!0&&!this.path.some(wRe));this.animationProgress=0;let w;this.mixTargetDelta=N=>{const E=N/1e3;aB(f.x,s.x,E),aB(f.y,s.y,E),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(cy(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),bRe(this.relativeTarget,this.relativeTargetOrigin,h,E),w&&iRe(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=Fn()),Gs(w,this.relativeTarget)),p&&(this.animationValues=d,ZPe(d,u,this.latestValues,E,x,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Xd(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=nn.update(()=>{N_.hasAnimatedSinceResize=!0,this.currentAnimation=qPe(0,rB,{...s,onUpdate:o=>{this.mixTargetDelta(o),s.onUpdate&&s.onUpdate(o)},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(rB),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:o,target:c,layout:u,latestValues:d}=s;if(!(!o||!c||!u)){if(this!==s&&this.layout&&u&&xte(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Fn();const f=Is(this.layout.layoutBox.x);c.x.min=s.target.x.min,c.x.max=c.x.min+f;const h=Is(this.layout.layoutBox.y);c.y.min=s.target.y.min,c.y.max=c.y.min+h}Gs(o,c),up(o,d),ly(this.projectionDeltaWithTransform,this.layoutCorrected,o,d)}}registerSharedNode(s,o){this.sharedNodes.has(s)||this.sharedNodes.set(s,new aRe),this.sharedNodes.get(s).add(o);const u=o.options.initialPromotionConfig;o.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(o):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:o}=this.options;return o?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:o}=this.options;return o?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:o,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),s&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let o=!1;const{latestValues:c}=s;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(o=!0),!o)return;const u={};c.z&&TC("z",s,u,this.animationValues);for(let d=0;d<SC.length;d++)TC(`rotate${SC[d]}`,s,u,this.animationValues),TC(`skew${SC[d]}`,s,u,this.animationValues);s.render();for(const d in u)s.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);s.scheduleRender()}getProjectionStyles(s){var o,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return oRe;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=S_(s==null?void 0:s.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const p={};return this.options.layoutId&&(p.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,p.pointerEvents=S_(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!Lf(this.latestValues)&&(p.transform=d?d({},""):"none",this.hasProjected=!1),p}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=sRe(this.projectionDeltaWithTransform,this.treeScale,h),d&&(u.transform=d(h,u.transform));const{x:m,y:g}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${g.origin*100}% 0`,f.animationValues?u.opacity=f===this?(c=(o=h.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:u.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const p in zE){if(h[p]===void 0)continue;const{correct:v,applyTo:y}=zE[p],x=u.transform==="none"?h[p]:v(h[p],f);if(y){const w=y.length;for(let N=0;N<w;N++)u[y[N]]=x}else u[p]=x}return this.options.layoutId&&(u.pointerEvents=f===this?S_(s==null?void 0:s.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var o;return(o=s.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(nB),this.root.sharedNodes.clear()}}}function cRe(e){e.updateLayout()}function uRe(e){var t;const r=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=e.layout,{animationType:a}=e.options,s=r.source!==e.layout.source;a==="size"?Zs(f=>{const h=s?r.measuredBox[f]:r.layoutBox[f],m=Is(h);h.min=n[f].min,h.max=h.min+m}):xte(a,r.layoutBox,n)&&Zs(f=>{const h=s?r.measuredBox[f]:r.layoutBox[f],m=Is(n[f]);h.max=h.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+m)});const o=lp();ly(o,n,r.layoutBox);const c=lp();s?ly(c,e.applyTransform(i,!0),r.measuredBox):ly(c,n,r.layoutBox);const u=!pte(o);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:m}=f;if(h&&m){const g=Fn();cy(g,r.layoutBox,h.layoutBox);const p=Fn();cy(p,n,m.layoutBox),gte(g,p)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=p,e.relativeTargetOrigin=g,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:c,layoutDelta:o,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function dRe(e){Ov&&Ff.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function fRe(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function hRe(e){e.clearSnapshot()}function nB(e){e.clearMeasurements()}function mRe(e){e.isLayoutDirty=!1}function pRe(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function iB(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function gRe(e){e.resolveTargetDelta()}function vRe(e){e.calcProjection()}function yRe(e){e.resetSkewAndRotation()}function xRe(e){e.removeLeadSnapshot()}function aB(e,t,r){e.translate=_n(t.translate,0,r),e.scale=_n(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function sB(e,t,r,n){e.min=_n(t.min,r.min,n),e.max=_n(t.max,r.max,n)}function bRe(e,t,r,n){sB(e.x,t.x,r.x,n),sB(e.y,t.y,r.y,n)}function wRe(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const _Re={duration:.45,ease:[.4,0,.1,1]},oB=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),lB=oB("applewebkit/")&&!oB("chrome/")?Math.round:Cs;function cB(e){e.min=lB(e.min),e.max=lB(e.max)}function ERe(e){cB(e.x),cB(e.y)}function xte(e,t,r){return e==="position"||e==="preserve-aspect"&&!NPe(eB(t),eB(r),.2)}function SRe(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const TRe=yte({attachResizeListener:(e,t)=>hx(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),NC={current:void 0},bte=yte({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!NC.current){const e=new TRe({});e.mount(window),e.setOptions({layoutScroll:!0}),NC.current=e}return NC.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),NRe={pan:{Feature:UPe},drag:{Feature:VPe,ProjectionNode:bte,MeasureLayout:fte}};function uB(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const i="onHover"+r,a=n[i];a&&nn.postRender(()=>a(t,X1(t)))}class ARe extends xf{mount(){const{current:t}=this.node;t&&(this.unmount=NCe(t,r=>(uB(this.node,r,"Start"),n=>uB(this.node,n,"End"))))}unmount(){}}class CRe extends xf{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Y1(hx(this.node.current,"focus",()=>this.onFocus()),hx(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function dB(e,t,r){const{props:n}=e;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const i="onTap"+(r==="End"?"":r),a=n[i];a&&nn.postRender(()=>a(t,X1(t)))}class jRe extends xf{mount(){const{current:t}=this.node;t&&(this.unmount=PCe(t,r=>(dB(this.node,r,"Start"),(n,{success:i})=>dB(this.node,n,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const FR=new WeakMap,AC=new WeakMap,PRe=e=>{const t=FR.get(e.target);t&&t(e)},RRe=e=>{e.forEach(PRe)};function kRe({root:e,...t}){const r=e||document;AC.has(r)||AC.set(r,{});const n=AC.get(r),i=JSON.stringify(t);return n[i]||(n[i]=new IntersectionObserver(RRe,{root:e,...t})),n[i]}function IRe(e,t,r){const n=kRe(t);return FR.set(e,r),n.observe(e),()=>{FR.delete(e),n.unobserve(e)}}const ORe={some:0,all:1};class DRe extends xf{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:i="some",once:a}=t,s={root:r?r.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:ORe[i]},o=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,a&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=u?d:f;h&&h(c)};return IRe(this.node.current,s,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(MRe(t,r))&&this.startObserver()}unmount(){}}function MRe({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const LRe={inView:{Feature:DRe},tap:{Feature:jRe},focus:{Feature:CRe},hover:{Feature:ARe}},FRe={layout:{ProjectionNode:bte,MeasureLayout:fte}},$R={current:null},wte={current:!1};function $Re(){if(wte.current=!0,!!S4)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>$R.current=e.matches;e.addListener(t),t()}else $R.current=!1}const BRe=[...qee,ia,Qd],VRe=e=>BRe.find(Hee(e)),fB=new WeakMap;function URe(e,t,r){for(const n in t){const i=t[n],a=r[n];if(ca(i))e.addValue(n,i);else if(ca(a))e.addValue(n,dx(i,{owner:e}));else if(a!==i)if(e.hasValue(n)){const s=e.getValue(n);s.liveStyle===!0?s.jump(i):s.hasAnimated||s.set(i)}else{const s=e.getStaticValue(n);e.addValue(n,dx(s!==void 0?s:i,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const hB=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class zRe{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:i,blockInitialAnimation:a,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Q4,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=nc.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,nn.render(this.render,!1,!0))};const{latestValues:c,renderState:u,onUpdate:d}=s;this.onUpdate=d,this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.blockInitialAnimation=!!a,this.isControllingVariants=LT(r),this.isVariantNode=eee(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:f,...h}=this.scrapeMotionValuesFromProps(r,{},this);for(const m in h){const g=h[m];c[m]!==void 0&&ca(g)&&g.set(c[m],!1)}}mount(t){this.current=t,fB.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),wte.current||$Re(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:$R.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){fB.delete(this.current),this.projection&&this.projection.unmount(),Xd(this.notifyUpdate),Xd(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=dm.has(t),i=r.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&nn.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),a=r.on("renderRequest",this.scheduleRender);let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{i(),a(),s&&s(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in _0){const r=_0[t];if(!r)continue;const{isEnabled:n,Feature:i}=r;if(!this.features[t]&&i&&n(this.props)&&(this.features[t]=new i(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Fn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<hB.length;n++){const i=hB[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,s=t[a];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=URe(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=dx(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){var n;let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(zee(i)||Oee(i))?i=parseFloat(i):!VRe(i)&&Qd.test(r)&&(i=Bee(t,r)),this.setBaseTarget(t,ca(i)?i.get():i)),ca(i)?i.get():i}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var r;const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const s=R4(this.props,n,(r=this.presenceContext)===null||r===void 0?void 0:r.custom);s&&(i=s[t])}if(n&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!ca(a)?a:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new H4),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class _te extends zRe{constructor(){super(...arguments),this.KeyframeResolver=Gee}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ca(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function WRe(e){return window.getComputedStyle(e)}class HRe extends _te{constructor(){super(...arguments),this.type="html",this.renderInstance=cee}readValueFromInstance(t,r){if(dm.has(r)){const n=X4(r);return n&&n.default||0}else{const n=WRe(t),i=(see(r)?n.getPropertyValue(r):n[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:r}){return ute(t,r)}build(t,r,n){O4(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return F4(t,r,n)}}class qRe extends _te{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Fn}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(dm.has(r)){const n=X4(r);return n&&n.default||0}return r=uee.has(r)?r:C4(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return hee(t,r,n)}build(t,r,n){D4(t,r,this.isSVGTag,n.transformTemplate)}renderInstance(t,r,n,i){dee(t,r,n,i)}mount(t){this.isSVGTag=L4(t.tagName),super.mount(t)}}const GRe=(e,t)=>P4(e)?new qRe(t):new HRe(t,{allowProjection:e!==b.Fragment}),KRe=xCe({...vPe,...LRe,...NRe,...FRe},GRe),xa=OAe(KRe),YRe=()=>{const{signInWithGoogle:e,currentUser:t,loading:r}=Mr(),n=im(),i=ls(),{toast:a}=So(),[s,o]=b.useState(!1),c=b.useRef(null),[u,d]=b.useState({x:0,y:0});b.useEffect(()=>{const y=x=>{d({x:x.clientX,y:x.clientY})};return window.addEventListener("mousemove",y),()=>window.removeEventListener("mousemove",y)},[]),b.useEffect(()=>{t&&(async()=>{var x,w;if(!(!t||s))try{const N=xt(Ze,"users",t.uid);await ur(N,{lastActive:tEe()});const E="/Plataforma-ECCOS/";let T=sessionStorage.getItem("redirectPath")||((w=(x=i.state)==null?void 0:x.from)==null?void 0:w.pathname)||"/";E&&T.startsWith(E)&&(T=T.slice(E.length)),T=T.startsWith("/")?T:`/${T}`,sessionStorage.removeItem("redirectPath"),n(T,{replace:!0}),a({title:"Login bem-sucedido",description:`Bem-vindo, ${t.displayName||"usuário"}!`})}catch(N){console.error("Erro no redirecionamento:",N),setTimeout(()=>{a({title:"Erro",description:"Ocorreu um problema durante o login",variant:"destructive"})},100),n("/",{replace:!0})}finally{o(!1)}})()},[t,n,a,i,s]),(()=>{if(!c.current)return{x:"50%",y:"50%"};const y=c.current.getBoundingClientRect(),x=y.left+y.width/2,w=y.top+y.height/2,N=(u.x-x)/(y.width/2)*100,E=(u.y-w)/(y.height/2)*100;return{x:`${50+N*.1}%`,y:`${50+E*.1}%`}})();const h=[{icon:l.jsx("svg",{className:"h-8 w-8 text-sidebar",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),title:"Reservas de Equipamentos",description:"Registro e acompanhamento de reservas de equipamentos de tecnologia com calendário integrado"},{icon:l.jsx("svg",{className:"h-8 w-8 text-eccos-purple",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.42 15.17L17.25 21A2.652 2.652 0 0021 17.25l-5.877-5.877M11.42 15.17l2.496-3.03c.317-.384.74-.626 1.208-.766M11.42 15.17l-4.655 5.653a2.548 2.548 0 11-3.586-3.586l6.837-5.63m5.108-.233c.55-.164 1.163-.188 1.743-.14a4.5 4.5 0 004.486-6.336l-3.276 3.277a3.004 3.004 0 01-2.25-2.25l3.276-3.276a4.5 4.5 0 00-6.336 4.486c.091 1.076-.071 2.264-.904 2.95l-.102.085m-1.745 1.437L5.909 7.5H4.5L2.25 3.75l1.5-1.5L7.5 4.5v1.409l4.26 4.26m-1.745 1.437l1.745-1.437m6.615 8.206L15.75 15.75M4.867 19.125h.008v.008h-.008v-.008z"})}),title:"Solicitações de Manutenção",description:"Registro e acompanhamento de solicitações de manutenção corretiva e preventiva"},{icon:l.jsx("svg",{className:"h-8 w-8 text-sidebar",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),title:"Gestão de Processos de Compra",description:"Fluxo completo para requisições de aquisições e gestão financeira"}],m=async()=>{try{await e()}catch(y){console.error("Login error:",y),setTimeout(()=>{y.code==="auth/popup-blocked"?a({title:"Popup bloqueado",description:"Por favor permita popups para este site nas configurações do navegador.",variant:"destructive"}):a({title:"Erro no login",description:y.message||"Falha ao realizar login",variant:"destructive"})},100)}};if(r)return l.jsx("div",{className:"flex items-center justify-center min-h-screen bg-white relative z-50",children:l.jsxs(xa.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5},className:"flex flex-col items-center",children:[l.jsx("div",{className:"w-16 h-16 border-4 border-t-sidebar border-r-eccos-purple border-b-eccos-purple border-l-sidebar rounded-full animate-spin"}),l.jsx("p",{className:"mt-4 text-sidebar font-medium",children:"Carregando..."})]})});if(t)return null;const g={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},p={hidden:{y:20,opacity:0},visible:{y:0,opacity:1}},v={hidden:{opacity:0,y:30},visible:y=>({opacity:1,y:0,transition:{delay:y*.2,duration:.6}})};return l.jsxs("div",{className:"min-h-screen bg-white relative",children:[l.jsx("style",{children:`
        .google-auth-popup {
          animation: popupScale 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        @keyframes popupScale {
          0% { transform: scale(0.95); opacity: 0; }
          100% { transform: scale(1); opacity: 1; }
        }
        
        /* Garantir que botões sejam clicáveis em todas as telas */
        .clickable-button {
          position: relative;
          z-index: 999 !important;
          pointer-events: auto !important;
          touch-action: manipulation;
          -webkit-tap-highlight-color: transparent;
        }
        
        /* Área de toque mínima para mobile */
        .touch-target {
          min-height: 48px;
          min-width: 48px;
          position: relative;
          z-index: 999;
        }
        
        /* Elementos de fundo com z-index baixo */
        .background-element {
          position: absolute;
          z-index: 1 !important;
          pointer-events: none !important;
        }
        
        /* Container principal com z-index médio */
        .content-layer {
          position: relative;
          z-index: 10;
        }
        
        /* Elementos interativos com z-index alto */
        .interactive-layer {
          position: relative;
          z-index: 100;
        }
        
        /* Toast/popup deve ficar acima de tudo */
        [data-sonner-toaster] {
          z-index: 9999 !important;
        }
        
        /* Garantir que todos os elementos do toast tenham z-index alto */
        [data-sonner-toast] {
          z-index: 9999 !important;
        }
        
        /* Para outros tipos de popup/modal */
        .toast-container,
        .modal-overlay,
        .popup-overlay,
        [role="dialog"],
        [role="alertdialog"] {
          z-index: 9999 !important;
        }
        
        @media (max-width: 768px) {
          .decorative-bg {
            opacity: 0.02 !important;
            z-index: 1 !important;
          }
          .floating-particles {
            display: none;
          }
          
          /* Garantir que botões funcionem em mobile */
          .clickable-button {
            min-height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
          }
        }
        
        /* Remover qualquer sobreposição em elementos de fundo */
        .decorative-bg, .floating-particles {
          pointer-events: none !important;
          user-select: none;
          -webkit-user-select: none;
          -moz-user-select: none;
          -ms-user-select: none;
        }
      `}),l.jsxs("div",{className:"background-element absolute inset-0 overflow-hidden",children:[l.jsx(xa.div,{initial:{opacity:0,scale:.8},animate:{opacity:.05,scale:1},transition:{duration:1.5},className:"decorative-bg absolute left-1/4 top-1/4 h-96 w-96 rounded-full bg-sidebar blur-3xl"}),l.jsx(xa.div,{initial:{opacity:0,scale:.8},animate:{opacity:.05,scale:1},transition:{duration:1.5,delay:.3},className:"decorative-bg absolute right-1/4 bottom-1/4 h-80 w-80 rounded-full bg-eccos-purple blur-3xl"})]}),l.jsx("div",{className:"floating-particles background-element absolute inset-0 overflow-hidden",children:[...Array(6)].map((y,x)=>l.jsx(xa.div,{initial:{x:Math.random()*(typeof window<"u"?window.innerWidth:1200),y:Math.random()*(typeof window<"u"?window.innerHeight:800),opacity:0},animate:{y:[Math.random()*(typeof window<"u"?window.innerHeight:800),Math.random()*(typeof window<"u"?window.innerHeight:800)],opacity:[0,.2,0]},transition:{repeat:1/0,duration:20+Math.random()*10,ease:"easeInOut",delay:x*2},className:`absolute h-4 w-4 rounded-full bg-${x%2===0?"sidebar":"eccos-purple"} blur-lg`},x))}),l.jsxs("header",{className:"interactive-layer pt-4 sm:pt-6 px-4 sm:px-8 md:px-16 flex justify-between items-center",children:[l.jsx("img",{src:wZ,alt:"ECCOS Logo",className:"h-12 sm:h-16 w-auto"}),l.jsx(me,{onClick:m,disabled:r,className:"clickable-button touch-target bg-gradient-to-r from-sidebar to-eccos-purple hover:from-sidebar/90 hover:to-eccos-purple/90 text-white font-medium px-4 sm:px-6 py-3 rounded-lg shadow-md transition-all duration-300",children:"Entrar"})]}),l.jsx(xa.section,{variants:g,initial:"hidden",animate:"visible",className:"content-layer flex flex-col items-center justify-center px-4 sm:px-8 md:px-16 pt-8 sm:pt-12 md:pt-20 pb-12 sm:pb-16",children:l.jsxs("div",{className:"w-full max-w-4xl text-center",children:[l.jsx(xa.h1,{variants:p,className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold mb-4 sm:mb-6 bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:"Plataforma de Gestão ECCOS"}),l.jsx(xa.p,{variants:p,className:"text-base sm:text-lg md:text-xl text-gray-700 mb-6 sm:mb-8 max-w-2xl mx-auto px-2",children:"Sistema integrado para gestão de processos internos, solicitações e controle de equipamentos"}),l.jsx(xa.div,{variants:p,className:"flex justify-center interactive-layer",children:l.jsxs(me,{className:"clickable-button touch-target w-full sm:w-auto bg-gradient-to-r from-sidebar to-eccos-purple hover:from-sidebar/90 hover:to-eccos-purple/90 text-white font-medium py-4 sm:py-6 px-6 sm:px-8 rounded-xl shadow-md transition-all duration-300 hover:shadow-lg text-base sm:text-lg max-w-xs sm:max-w-none",onClick:m,disabled:r,children:[l.jsxs("svg",{className:"mr-2 h-5 w-5 flex-shrink-0",viewBox:"0 0 24 24",children:[l.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#FFFFFF"}),l.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#FFFFFF"}),l.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FFFFFF"}),l.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#FFFFFF"})]}),l.jsx("span",{className:"whitespace-nowrap",children:"Entrar com Google"})]})})]})}),l.jsx("section",{className:"content-layer bg-gray-50 py-12 sm:py-16 md:py-20 px-4 sm:px-8 md:px-16",children:l.jsxs("div",{className:"max-w-6xl mx-auto",children:[l.jsxs(xa.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.7},className:"text-center mb-12 sm:mb-16",children:[l.jsx("h2",{className:"text-2xl sm:text-3xl md:text-4xl font-bold mb-4 text-gray-800",children:"Funcionalidades Principais"}),l.jsx("p",{className:"text-base sm:text-lg text-gray-600 max-w-3xl mx-auto px-2",children:"Ferramentas especializadas para gestão eficiente de processos"})]}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-8",children:h.map((y,x)=>l.jsxs(xa.div,{custom:x,variants:v,initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-50px"},className:"bg-white rounded-xl p-6 sm:p-8 shadow-lg hover:shadow-xl transition-shadow duration-300",children:[l.jsx("div",{className:"bg-gray-50 p-3 rounded-lg inline-block mb-4",children:y.icon}),l.jsx("h3",{className:"text-lg sm:text-xl font-semibold mb-3 text-gray-800",children:y.title}),l.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:y.description})]},x))})]})}),l.jsx("footer",{className:"content-layer bg-gray-50 py-8 sm:py-10 px-4 sm:px-8 md:px-16",children:l.jsx("div",{className:"max-w-6xl mx-auto",children:l.jsx("div",{className:"text-center",children:l.jsx("p",{className:"text-gray-500 text-xs sm:text-sm",children:"© 2025 Colégio ECCOS - Todos os direitos reservados"})})})})]})},Ete=async(e,t)=>{try{const r=`${Date.now()}_${e.name}`,n=Xc(x0,`chat-files/${t}/${r}`);await a4(n,e);const i=await y0(n);return{name:e.name,url:i,size:e.size,type:e.type}}catch(r){throw console.error("Erro ao fazer upload do arquivo:",r),r}},Pu=async(e=!1)=>{try{const t=["reservations","purchases","supports"],r=[];for(const n of t){const i=e?ks(qr(Ze,n)):ks(qr(Ze,n),la("hidden","==",!1));(await Ia(i)).forEach(s=>{const o=s.data();r.push({id:s.id,collectionName:n,type:o.type,status:o.status,userName:o.userName,userEmail:o.userEmail,userId:o.userId,createdAt:o.createdAt,equipmentNames:o.equipmentNames||[],equipmentIds:o.equipmentIds||[],equipmentQuantities:o.equipmentQuantities||{},unreadMessages:o.unreadMessages||0,hasUnreadMessages:o.hasUnreadMessages||!1,...o})})}return r.sort((n,i)=>i.createdAt.toMillis()-n.createdAt.toMillis())}catch(t){return console.error("Erro ao buscar solicitações:",t),[]}},wu=async(e,t)=>{try{const r=xt(Ze,t,e),n=await ts(r);if(!n.exists())throw new Error("Solicitação não encontrada");const i=n.data();return{id:n.id,collectionName:t,type:i.type,status:i.status,userName:i.userName,userEmail:i.userEmail,userId:i.userId,createdAt:i.createdAt,equipmentNames:i.equipmentNames||[],equipmentIds:i.equipmentIds||[],equipmentQuantities:i.equipmentQuantities||{},unreadMessages:i.unreadMessages||0,hasUnreadMessages:i.hasUnreadMessages||!1,...i}}catch(r){throw console.error("Erro ao buscar solicitação:",r),r}},XRe=async(e,t)=>{try{const r=["reservations","purchases","supports"],n=[];for(const i of r){const a=t?ks(qr(Ze,i),la("userEmail","==",t),la("status","!=","canceled")):ks(qr(Ze,i),la("userId","==",e),la("status","!=","canceled"));(await Ia(a)).forEach(o=>{const c=o.data();n.push({id:o.id,collectionName:i,type:c.type,status:c.status,userName:c.userName,userEmail:c.userEmail,userId:c.userId,createdAt:c.createdAt,equipmentNames:c.equipmentNames||[],equipmentIds:c.equipmentIds||[],equipmentQuantities:c.equipmentQuantities||{},unreadMessages:c.unreadMessages||0,hasUnreadMessages:c.hasUnreadMessages||!1,...c})})}return n.sort((i,a)=>a.createdAt.toMillis()-i.createdAt.toMillis())}catch(r){return console.error("Erro ao buscar solicitações do usuário:",r),[]}},fm=async(e,t)=>{try{await gf(xt(Ze,t,e))}catch(r){throw console.error("Erro ao excluir solicitação:",r),r}},Ste=async(e,t,r,n,i,a,s)=>{try{const o=`msg_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,c={id:o,message:t,isAdmin:r,userName:i,userId:a,timestamp:Ot.now(),delivered:!0,read:!1,readBy:[],isDeleted:!1,isEdited:!1};s&&(c.attachment=s);const u=xt(Ze,n,e);await ur(u,{messages:v0(c),hasUnreadMessages:!0,unreadMessages:v0(o)})}catch(o){throw console.error("Erro ao adicionar mensagem:",o),o}},Tte=async(e,t,r,n,i)=>{try{const a=xt(Ze,t,e),s=await ts(a);if(!s.exists())throw new Error("Solicitação não encontrada");const u=(s.data().messages||[]).map(d=>d.id===r&&d.userId===i?{...d,originalMessage:d.isEdited?d.originalMessage:d.message,message:n,isEdited:!0,editedAt:Ot.now()}:d);await ur(a,{messages:u})}catch(a){throw console.error("Erro ao editar mensagem:",a),a}},Nte=async(e,t,r,n)=>{try{const i=xt(Ze,t,e),a=await ts(i);if(!a.exists())throw new Error("Solicitação não encontrada");const c=(a.data().messages||[]).map(u=>u.id===r&&u.userId===n?{...u,message:"Mensagem apagada",isDeleted:!0,attachment:void 0}:u);await ur(i,{messages:c})}catch(i){throw console.error("Erro ao apagar mensagem:",i),i}},Ate=async(e,t,r,n)=>{try{const i=xt(Ze,t,e),a=await ts(i);if(!a.exists())return;const c=(a.data().messages||[]).map(u=>{var d;return u.isAdmin!==n&&!((d=u.readBy)!=null&&d.includes(r))?{...u,read:!0,readBy:[...u.readBy||[],r]}:u});await ur(i,{messages:c,hasUnreadMessages:!1,unreadMessages:[]})}catch(i){throw console.error("Erro ao marcar mensagens como lidas:",i),i}},tM=qr(Ze,"equipment"),QRe=async e=>{try{const t=yT(Ze);return e.forEach(r=>{const n=xt(tM);t.set(n,r)}),await t.commit(),e}catch(t){throw console.error("Error adding multiple equipment:",t),t}},Cte=async()=>{try{return(await Ia(tM)).docs.map(t=>({id:t.id,...t.data()}))}catch(e){throw console.error("Error getting equipment:",e),e}},ZRe=async()=>{try{return(await Ia(tM)).docs.map(n=>({id:n.id,...n.data()})).filter(n=>n.type==="Chromebook"||n.type==="iPad").sort((n,i)=>n.type==="Chromebook"&&i.type==="iPad"?-1:n.type==="iPad"&&i.type==="Chromebook"?1:n.name.localeCompare(i.name))}catch(e){throw console.error("Error getting sorted equipment:",e),e}},JRe=async e=>{try{const t=yT(Ze);return e.forEach(r=>{const n=xt(Ze,"equipment",r);t.delete(n)}),await t.commit(),!0}catch(t){throw console.error("Error deleting multiple equipment:",t),t}},eke=async e=>{try{return await gf(xt(Ze,"equipment",e)),!0}catch(t){throw console.error("Error deleting equipment:",t),t}};var tke=Array.isArray,us=tke,rke=typeof Oc=="object"&&Oc&&Oc.Object===Object&&Oc,jte=rke,nke=jte,ike=typeof self=="object"&&self&&self.Object===Object&&self,ake=nke||ike||Function("return this")(),xc=ake,ske=xc,oke=ske.Symbol,Q1=oke,mB=Q1,Pte=Object.prototype,lke=Pte.hasOwnProperty,cke=Pte.toString,ov=mB?mB.toStringTag:void 0;function uke(e){var t=lke.call(e,ov),r=e[ov];try{e[ov]=void 0;var n=!0}catch{}var i=cke.call(e);return n&&(t?e[ov]=r:delete e[ov]),i}var dke=uke,fke=Object.prototype,hke=fke.toString;function mke(e){return hke.call(e)}var pke=mke,pB=Q1,gke=dke,vke=pke,yke="[object Null]",xke="[object Undefined]",gB=pB?pB.toStringTag:void 0;function bke(e){return e==null?e===void 0?xke:yke:gB&&gB in Object(e)?gke(e):vke(e)}var Ru=bke;function wke(e){return e!=null&&typeof e=="object"}var ku=wke,_ke=Ru,Eke=ku,Ske="[object Symbol]";function Tke(e){return typeof e=="symbol"||Eke(e)&&_ke(e)==Ske}var bg=Tke,Nke=us,Ake=bg,Cke=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,jke=/^\w*$/;function Pke(e,t){if(Nke(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||Ake(e)?!0:jke.test(e)||!Cke.test(e)||t!=null&&e in Object(t)}var rM=Pke;function Rke(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var bf=Rke;const wg=kr(bf);var kke=Ru,Ike=bf,Oke="[object AsyncFunction]",Dke="[object Function]",Mke="[object GeneratorFunction]",Lke="[object Proxy]";function Fke(e){if(!Ike(e))return!1;var t=kke(e);return t==Dke||t==Mke||t==Oke||t==Lke}var nM=Fke;const Yt=kr(nM);var $ke=xc,Bke=$ke["__core-js_shared__"],Vke=Bke,CC=Vke,vB=function(){var e=/[^.]+$/.exec(CC&&CC.keys&&CC.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Uke(e){return!!vB&&vB in e}var zke=Uke,Wke=Function.prototype,Hke=Wke.toString;function qke(e){if(e!=null){try{return Hke.call(e)}catch{}try{return e+""}catch{}}return""}var Rte=qke,Gke=nM,Kke=zke,Yke=bf,Xke=Rte,Qke=/[\\^$.*+?()[\]{}|]/g,Zke=/^\[object .+?Constructor\]$/,Jke=Function.prototype,eIe=Object.prototype,tIe=Jke.toString,rIe=eIe.hasOwnProperty,nIe=RegExp("^"+tIe.call(rIe).replace(Qke,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function iIe(e){if(!Yke(e)||Kke(e))return!1;var t=Gke(e)?nIe:Zke;return t.test(Xke(e))}var aIe=iIe;function sIe(e,t){return e==null?void 0:e[t]}var oIe=sIe,lIe=aIe,cIe=oIe;function uIe(e,t){var r=cIe(e,t);return lIe(r)?r:void 0}var hm=uIe,dIe=hm,fIe=dIe(Object,"create"),BT=fIe,yB=BT;function hIe(){this.__data__=yB?yB(null):{},this.size=0}var mIe=hIe;function pIe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var gIe=pIe,vIe=BT,yIe="__lodash_hash_undefined__",xIe=Object.prototype,bIe=xIe.hasOwnProperty;function wIe(e){var t=this.__data__;if(vIe){var r=t[e];return r===yIe?void 0:r}return bIe.call(t,e)?t[e]:void 0}var _Ie=wIe,EIe=BT,SIe=Object.prototype,TIe=SIe.hasOwnProperty;function NIe(e){var t=this.__data__;return EIe?t[e]!==void 0:TIe.call(t,e)}var AIe=NIe,CIe=BT,jIe="__lodash_hash_undefined__";function PIe(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=CIe&&t===void 0?jIe:t,this}var RIe=PIe,kIe=mIe,IIe=gIe,OIe=_Ie,DIe=AIe,MIe=RIe;function _g(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}_g.prototype.clear=kIe;_g.prototype.delete=IIe;_g.prototype.get=OIe;_g.prototype.has=DIe;_g.prototype.set=MIe;var LIe=_g;function FIe(){this.__data__=[],this.size=0}var $Ie=FIe;function BIe(e,t){return e===t||e!==e&&t!==t}var iM=BIe,VIe=iM;function UIe(e,t){for(var r=e.length;r--;)if(VIe(e[r][0],t))return r;return-1}var VT=UIe,zIe=VT,WIe=Array.prototype,HIe=WIe.splice;function qIe(e){var t=this.__data__,r=zIe(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():HIe.call(t,r,1),--this.size,!0}var GIe=qIe,KIe=VT;function YIe(e){var t=this.__data__,r=KIe(t,e);return r<0?void 0:t[r][1]}var XIe=YIe,QIe=VT;function ZIe(e){return QIe(this.__data__,e)>-1}var JIe=ZIe,eOe=VT;function tOe(e,t){var r=this.__data__,n=eOe(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var rOe=tOe,nOe=$Ie,iOe=GIe,aOe=XIe,sOe=JIe,oOe=rOe;function Eg(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Eg.prototype.clear=nOe;Eg.prototype.delete=iOe;Eg.prototype.get=aOe;Eg.prototype.has=sOe;Eg.prototype.set=oOe;var UT=Eg,lOe=hm,cOe=xc,uOe=lOe(cOe,"Map"),aM=uOe,xB=LIe,dOe=UT,fOe=aM;function hOe(){this.size=0,this.__data__={hash:new xB,map:new(fOe||dOe),string:new xB}}var mOe=hOe;function pOe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var gOe=pOe,vOe=gOe;function yOe(e,t){var r=e.__data__;return vOe(t)?r[typeof t=="string"?"string":"hash"]:r.map}var zT=yOe,xOe=zT;function bOe(e){var t=xOe(this,e).delete(e);return this.size-=t?1:0,t}var wOe=bOe,_Oe=zT;function EOe(e){return _Oe(this,e).get(e)}var SOe=EOe,TOe=zT;function NOe(e){return TOe(this,e).has(e)}var AOe=NOe,COe=zT;function jOe(e,t){var r=COe(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var POe=jOe,ROe=mOe,kOe=wOe,IOe=SOe,OOe=AOe,DOe=POe;function Sg(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Sg.prototype.clear=ROe;Sg.prototype.delete=kOe;Sg.prototype.get=IOe;Sg.prototype.has=OOe;Sg.prototype.set=DOe;var sM=Sg,kte=sM,MOe="Expected a function";function oM(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(MOe);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var s=e.apply(this,n);return r.cache=a.set(i,s)||a,s};return r.cache=new(oM.Cache||kte),r}oM.Cache=kte;var Ite=oM;const LOe=kr(Ite);var FOe=Ite,$Oe=500;function BOe(e){var t=FOe(e,function(n){return r.size===$Oe&&r.clear(),n}),r=t.cache;return t}var VOe=BOe,UOe=VOe,zOe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,WOe=/\\(\\)?/g,HOe=UOe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(zOe,function(r,n,i,a){t.push(i?a.replace(WOe,"$1"):n||r)}),t}),qOe=HOe;function GOe(e,t){for(var r=-1,n=e==null?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}var lM=GOe,bB=Q1,KOe=lM,YOe=us,XOe=bg,wB=bB?bB.prototype:void 0,_B=wB?wB.toString:void 0;function Ote(e){if(typeof e=="string")return e;if(YOe(e))return KOe(e,Ote)+"";if(XOe(e))return _B?_B.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var QOe=Ote,ZOe=QOe;function JOe(e){return e==null?"":ZOe(e)}var Dte=JOe,eDe=us,tDe=rM,rDe=qOe,nDe=Dte;function iDe(e,t){return eDe(e)?e:tDe(e,t)?[e]:rDe(nDe(e))}var Mte=iDe,aDe=bg;function sDe(e){if(typeof e=="string"||aDe(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var WT=sDe,oDe=Mte,lDe=WT;function cDe(e,t){t=oDe(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[lDe(t[r++])];return r&&r==n?e:void 0}var cM=cDe,uDe=cM;function dDe(e,t,r){var n=e==null?void 0:uDe(e,t);return n===void 0?r:n}var Lte=dDe;const ll=kr(Lte);function fDe(e){return e==null}var hDe=fDe;const ar=kr(hDe);var mDe=Ru,pDe=us,gDe=ku,vDe="[object String]";function yDe(e){return typeof e=="string"||!pDe(e)&&gDe(e)&&mDe(e)==vDe}var xDe=yDe;const Z1=kr(xDe);var Fte={exports:{}},Ir={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uM=Symbol.for("react.element"),dM=Symbol.for("react.portal"),HT=Symbol.for("react.fragment"),qT=Symbol.for("react.strict_mode"),GT=Symbol.for("react.profiler"),KT=Symbol.for("react.provider"),YT=Symbol.for("react.context"),bDe=Symbol.for("react.server_context"),XT=Symbol.for("react.forward_ref"),QT=Symbol.for("react.suspense"),ZT=Symbol.for("react.suspense_list"),JT=Symbol.for("react.memo"),eN=Symbol.for("react.lazy"),wDe=Symbol.for("react.offscreen"),$te;$te=Symbol.for("react.module.reference");function jo(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case uM:switch(e=e.type,e){case HT:case GT:case qT:case QT:case ZT:return e;default:switch(e=e&&e.$$typeof,e){case bDe:case YT:case XT:case eN:case JT:case KT:return e;default:return t}}case dM:return t}}}Ir.ContextConsumer=YT;Ir.ContextProvider=KT;Ir.Element=uM;Ir.ForwardRef=XT;Ir.Fragment=HT;Ir.Lazy=eN;Ir.Memo=JT;Ir.Portal=dM;Ir.Profiler=GT;Ir.StrictMode=qT;Ir.Suspense=QT;Ir.SuspenseList=ZT;Ir.isAsyncMode=function(){return!1};Ir.isConcurrentMode=function(){return!1};Ir.isContextConsumer=function(e){return jo(e)===YT};Ir.isContextProvider=function(e){return jo(e)===KT};Ir.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===uM};Ir.isForwardRef=function(e){return jo(e)===XT};Ir.isFragment=function(e){return jo(e)===HT};Ir.isLazy=function(e){return jo(e)===eN};Ir.isMemo=function(e){return jo(e)===JT};Ir.isPortal=function(e){return jo(e)===dM};Ir.isProfiler=function(e){return jo(e)===GT};Ir.isStrictMode=function(e){return jo(e)===qT};Ir.isSuspense=function(e){return jo(e)===QT};Ir.isSuspenseList=function(e){return jo(e)===ZT};Ir.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===HT||e===GT||e===qT||e===QT||e===ZT||e===wDe||typeof e=="object"&&e!==null&&(e.$$typeof===eN||e.$$typeof===JT||e.$$typeof===KT||e.$$typeof===YT||e.$$typeof===XT||e.$$typeof===$te||e.getModuleId!==void 0)};Ir.typeOf=jo;Fte.exports=Ir;var _De=Fte.exports,EDe=Ru,SDe=ku,TDe="[object Number]";function NDe(e){return typeof e=="number"||SDe(e)&&EDe(e)==TDe}var Bte=NDe;const ADe=kr(Bte);var CDe=Bte;function jDe(e){return CDe(e)&&e!=+e}var PDe=jDe;const J1=kr(PDe);var ho=function(t){return t===0?0:t>0?1:-1},Jf=function(t){return Z1(t)&&t.indexOf("%")===t.length-1},ut=function(t){return ADe(t)&&!J1(t)},hi=function(t){return ut(t)||Z1(t)},RDe=0,tN=function(t){var r=++RDe;return"".concat(t||"").concat(r)},Xa=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ut(t)&&!Z1(t))return n;var a;if(Jf(t)){var s=t.indexOf("%");a=r*parseFloat(t.slice(0,s))/100}else a=+t;return J1(a)&&(a=n),i&&a>r&&(a=r),a},Hm=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},kDe=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},i=0;i<r;i++)if(!n[t[i]])n[t[i]]=!0;else return!0;return!1},EB=function(t,r){return ut(t)&&ut(r)?function(n){return t+n*(r-t)}:function(){return r}};function BR(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):ll(n,t))===r})}function VR(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function UR(e){"@babel/helpers - typeof";return UR=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},UR(e)}var IDe=["viewBox","children"],ODe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],SB=["points","pathLength"],jC={svg:IDe,polygon:SB,polyline:SB},fM=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],YE=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(b.isValidElement(t)&&(n=t.props),!wg(n))return null;var i={};return Object.keys(n).forEach(function(a){fM.includes(a)&&(i[a]=r||function(s){return n[a](n,s)})}),i},DDe=function(t,r,n){return function(i){return t(r,n,i),null}},rN=function(t,r,n){if(!wg(t)||UR(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(a){var s=t[a];fM.includes(a)&&typeof s=="function"&&(i||(i={}),i[a]=DDe(s,r,n))}),i},MDe=["children"],LDe=["children"];function TB(e,t){if(e==null)return{};var r=FDe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function FDe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var NB={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Jc=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},AB=null,PC=null,hM=function e(t){if(t===AB&&Array.isArray(PC))return PC;var r=[];return b.Children.forEach(t,function(n){ar(n)||(_De.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),PC=r,AB=t,r};function ic(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(i){return Jc(i)}):n=[Jc(t)],hM(e).forEach(function(i){var a=ll(i,"type.displayName")||ll(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}function to(e,t){var r=ic(e,t);return r&&r[0]}var CB=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,i=r.height;return!(!ut(n)||n<=0||!ut(i)||i<=0)},$De=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],BDe=function(t){return t&&t.type&&Z1(t.type)&&$De.indexOf(t.type)>=0},VDe=function(t,r,n,i){var a,s=(a=jC==null?void 0:jC[i])!==null&&a!==void 0?a:[];return r.startsWith("data-")||!Yt(t)&&(i&&s.includes(r)||ODe.includes(r))||n&&fM.includes(r)},Kt=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(b.isValidElement(t)&&(i=t.props),!wg(i))return null;var a={};return Object.keys(i).forEach(function(s){var o;VDe((o=i)===null||o===void 0?void 0:o[s],s,r,n)&&(a[s]=i[s])}),a},zR=function e(t,r){if(t===r)return!0;var n=b.Children.count(t);if(n!==b.Children.count(r))return!1;if(n===0)return!0;if(n===1)return jB(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var a=t[i],s=r[i];if(Array.isArray(a)||Array.isArray(s)){if(!e(a,s))return!1}else if(!jB(a,s))return!1}return!0},jB=function(t,r){if(ar(t)&&ar(r))return!0;if(!ar(t)&&!ar(r)){var n=t.props||{},i=n.children,a=TB(n,MDe),s=r.props||{},o=s.children,c=TB(s,LDe);return i&&o?VR(a,c)&&zR(i,o):!i&&!o?VR(a,c):!1}return!1},PB=function(t,r){var n=[],i={};return hM(t).forEach(function(a,s){if(BDe(a))n.push(a);else if(a){var o=Jc(a.type),c=r[o]||{},u=c.handler,d=c.once;if(u&&(!d||!i[o])){var f=u(a,o,s);n.push(f),i[o]=!0}}}),n},UDe=function(t){var r=t&&t.type;return r&&NB[r]?NB[r]:null},zDe=function(t,r){return hM(r).indexOf(t)},WDe=["children","width","height","viewBox","className","style","title","desc"];function WR(){return WR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},WR.apply(this,arguments)}function HDe(e,t){if(e==null)return{};var r=qDe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function qDe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function HR(e){var t=e.children,r=e.width,n=e.height,i=e.viewBox,a=e.className,s=e.style,o=e.title,c=e.desc,u=HDe(e,WDe),d=i||{width:r,height:n,x:0,y:0},f=lr("recharts-surface",a);return te.createElement("svg",WR({},Kt(u,!0,"svg"),{className:f,width:r,height:n,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),te.createElement("title",null,o),te.createElement("desc",null,c),t)}var GDe=["children","className"];function qR(){return qR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qR.apply(this,arguments)}function KDe(e,t){if(e==null)return{};var r=YDe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function YDe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var On=te.forwardRef(function(e,t){var r=e.children,n=e.className,i=KDe(e,GDe),a=lr("recharts-layer",n);return te.createElement("g",qR({className:a},Kt(i,!0),{ref:t}),r)}),eu=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]};function XDe(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),r=r>i?i:r,r<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var a=Array(i);++n<i;)a[n]=e[n+t];return a}var QDe=XDe,ZDe=QDe;function JDe(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:ZDe(e,t,r)}var e4e=JDe,t4e="\\ud800-\\udfff",r4e="\\u0300-\\u036f",n4e="\\ufe20-\\ufe2f",i4e="\\u20d0-\\u20ff",a4e=r4e+n4e+i4e,s4e="\\ufe0e\\ufe0f",o4e="\\u200d",l4e=RegExp("["+o4e+t4e+a4e+s4e+"]");function c4e(e){return l4e.test(e)}var Vte=c4e;function u4e(e){return e.split("")}var d4e=u4e,Ute="\\ud800-\\udfff",f4e="\\u0300-\\u036f",h4e="\\ufe20-\\ufe2f",m4e="\\u20d0-\\u20ff",p4e=f4e+h4e+m4e,g4e="\\ufe0e\\ufe0f",v4e="["+Ute+"]",GR="["+p4e+"]",KR="\\ud83c[\\udffb-\\udfff]",y4e="(?:"+GR+"|"+KR+")",zte="[^"+Ute+"]",Wte="(?:\\ud83c[\\udde6-\\uddff]){2}",Hte="[\\ud800-\\udbff][\\udc00-\\udfff]",x4e="\\u200d",qte=y4e+"?",Gte="["+g4e+"]?",b4e="(?:"+x4e+"(?:"+[zte,Wte,Hte].join("|")+")"+Gte+qte+")*",w4e=Gte+qte+b4e,_4e="(?:"+[zte+GR+"?",GR,Wte,Hte,v4e].join("|")+")",E4e=RegExp(KR+"(?="+KR+")|"+_4e+w4e,"g");function S4e(e){return e.match(E4e)||[]}var T4e=S4e,N4e=d4e,A4e=Vte,C4e=T4e;function j4e(e){return A4e(e)?C4e(e):N4e(e)}var P4e=j4e,R4e=e4e,k4e=Vte,I4e=P4e,O4e=Dte;function D4e(e){return function(t){t=O4e(t);var r=k4e(t)?I4e(t):void 0,n=r?r[0]:t.charAt(0),i=r?R4e(r,1).join(""):t.slice(1);return n[e]()+i}}var M4e=D4e,L4e=M4e,F4e=L4e("toUpperCase"),$4e=F4e;const nN=kr($4e);function Ur(e){return function(){return e}}const Kte=Math.cos,XE=Math.sin,_l=Math.sqrt,QE=Math.PI,iN=2*QE,YR=Math.PI,XR=2*YR,$f=1e-6,B4e=XR-$f;function Yte(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function V4e(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Yte;const r=10**t;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class U4e{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Yte:V4e(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,a,s){this._append`C${+t},${+r},${+n},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(t,r,n,i,a){if(t=+t,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,c=n-t,u=i-r,d=s-t,f=o-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>$f)if(!(Math.abs(f*c-u*d)>$f)||!a)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-s,g=i-o,p=c*c+u*u,v=m*m+g*g,y=Math.sqrt(p),x=Math.sqrt(h),w=a*Math.tan((YR-Math.acos((p+h-v)/(2*y*x)))/2),N=w/x,E=w/y;Math.abs(N-1)>$f&&this._append`L${t+N*d},${r+N*f}`,this._append`A${a},${a},0,0,${+(f*m>d*g)},${this._x1=t+E*c},${this._y1=r+E*u}`}}arc(t,r,n,i,a,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(i),c=n*Math.sin(i),u=t+o,d=r+c,f=1^s,h=s?i-a:a-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>$f||Math.abs(this._y1-d)>$f)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%XR+XR),h>B4e?this._append`A${n},${n},0,1,${f},${t-o},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>$f&&this._append`A${n},${n},0,${+(h>=YR)},${f},${this._x1=t+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function mM(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new U4e(t)}function pM(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Xte(e){this._context=e}Xte.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function aN(e){return new Xte(e)}function Qte(e){return e[0]}function Zte(e){return e[1]}function Jte(e,t){var r=Ur(!0),n=null,i=aN,a=null,s=mM(o);e=typeof e=="function"?e:e===void 0?Qte:Ur(e),t=typeof t=="function"?t:t===void 0?Zte:Ur(t);function o(c){var u,d=(c=pM(c)).length,f,h=!1,m;for(n==null&&(a=i(m=s())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(f,u,c),+t(f,u,c));if(m)return a=null,m+""||null}return o.x=function(c){return arguments.length?(e=typeof c=="function"?c:Ur(+c),o):e},o.y=function(c){return arguments.length?(t=typeof c=="function"?c:Ur(+c),o):t},o.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Ur(!!c),o):r},o.curve=function(c){return arguments.length?(i=c,n!=null&&(a=i(n)),o):i},o.context=function(c){return arguments.length?(c==null?n=a=null:a=i(n=c),o):n},o}function pw(e,t,r){var n=null,i=Ur(!0),a=null,s=aN,o=null,c=mM(u);e=typeof e=="function"?e:e===void 0?Qte:Ur(+e),t=typeof t=="function"?t:Ur(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?Zte:Ur(+r);function u(f){var h,m,g,p=(f=pM(f)).length,v,y=!1,x,w=new Array(p),N=new Array(p);for(a==null&&(o=s(x=c())),h=0;h<=p;++h){if(!(h<p&&i(v=f[h],h,f))===y)if(y=!y)m=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),g=h-1;g>=m;--g)o.point(w[g],N[g]);o.lineEnd(),o.areaEnd()}y&&(w[h]=+e(v,h,f),N[h]=+t(v,h,f),o.point(n?+n(v,h,f):w[h],r?+r(v,h,f):N[h]))}if(x)return o=null,x+""||null}function d(){return Jte().defined(i).curve(s).context(a)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Ur(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Ur(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Ur(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Ur(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Ur(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Ur(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Ur(!!f),u):i},u.curve=function(f){return arguments.length?(s=f,a!=null&&(o=s(a)),u):s},u.context=function(f){return arguments.length?(f==null?a=o=null:o=s(a=f),u):a},u}class ere{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function z4e(e){return new ere(e,!0)}function W4e(e){return new ere(e,!1)}const gM={draw(e,t){const r=_l(t/QE);e.moveTo(r,0),e.arc(0,0,r,0,iN)}},H4e={draw(e,t){const r=_l(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},tre=_l(1/3),q4e=tre*2,G4e={draw(e,t){const r=_l(t/q4e),n=r*tre;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},K4e={draw(e,t){const r=_l(t),n=-r/2;e.rect(n,n,r,r)}},Y4e=.8908130915292852,rre=XE(QE/10)/XE(7*QE/10),X4e=XE(iN/10)*rre,Q4e=-Kte(iN/10)*rre,Z4e={draw(e,t){const r=_l(t*Y4e),n=X4e*r,i=Q4e*r;e.moveTo(0,-r),e.lineTo(n,i);for(let a=1;a<5;++a){const s=iN*a/5,o=Kte(s),c=XE(s);e.lineTo(c*r,-o*r),e.lineTo(o*n-c*i,c*n+o*i)}e.closePath()}},RC=_l(3),J4e={draw(e,t){const r=-_l(t/(RC*3));e.moveTo(0,r*2),e.lineTo(-RC*r,-r),e.lineTo(RC*r,-r),e.closePath()}},Ks=-.5,Ys=_l(3)/2,QR=1/_l(12),eMe=(QR/2+1)*3,tMe={draw(e,t){const r=_l(t/eMe),n=r/2,i=r*QR,a=n,s=r*QR+r,o=-a,c=s;e.moveTo(n,i),e.lineTo(a,s),e.lineTo(o,c),e.lineTo(Ks*n-Ys*i,Ys*n+Ks*i),e.lineTo(Ks*a-Ys*s,Ys*a+Ks*s),e.lineTo(Ks*o-Ys*c,Ys*o+Ks*c),e.lineTo(Ks*n+Ys*i,Ks*i-Ys*n),e.lineTo(Ks*a+Ys*s,Ks*s-Ys*a),e.lineTo(Ks*o+Ys*c,Ks*c-Ys*o),e.closePath()}};function rMe(e,t){let r=null,n=mM(i);e=typeof e=="function"?e:Ur(e||gM),t=typeof t=="function"?t:Ur(t===void 0?64:+t);function i(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:Ur(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:Ur(+a),i):t},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function ZE(){}function JE(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function nre(e){this._context=e}nre.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:JE(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:JE(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function nMe(e){return new nre(e)}function ire(e){this._context=e}ire.prototype={areaStart:ZE,areaEnd:ZE,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:JE(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function iMe(e){return new ire(e)}function are(e){this._context=e}are.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:JE(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function aMe(e){return new are(e)}function sre(e){this._context=e}sre.prototype={areaStart:ZE,areaEnd:ZE,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function sMe(e){return new sre(e)}function RB(e){return e<0?-1:1}function kB(e,t,r){var n=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(n||i<0&&-0),s=(r-e._y1)/(i||n<0&&-0),o=(a*i+s*n)/(n+i);return(RB(a)+RB(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function IB(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function kC(e,t,r){var n=e._x0,i=e._y0,a=e._x1,s=e._y1,o=(a-n)/3;e._context.bezierCurveTo(n+o,i+o*t,a-o,s-o*r,a,s)}function eS(e){this._context=e}eS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:kC(this,this._t0,IB(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,kC(this,IB(this,r=kB(this,e,t)),r);break;default:kC(this,this._t0,r=kB(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function ore(e){this._context=new lre(e)}(ore.prototype=Object.create(eS.prototype)).point=function(e,t){eS.prototype.point.call(this,t,e)};function lre(e){this._context=e}lre.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,a){this._context.bezierCurveTo(t,e,n,r,a,i)}};function oMe(e){return new eS(e)}function lMe(e){return new ore(e)}function cre(e){this._context=e}cre.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=OB(e),i=OB(t),a=0,s=1;s<r;++a,++s)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function OB(e){var t,r=e.length-1,n,i=new Array(r),a=new Array(r),s=new Array(r);for(i[0]=0,a[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,s[t]-=n*s[t-1];for(i[r-1]=s[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(s[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function cMe(e){return new cre(e)}function sN(e,t){this._context=e,this._t=t}sN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function uMe(e){return new sN(e,.5)}function dMe(e){return new sN(e,0)}function fMe(e){return new sN(e,1)}function S0(e,t){if((s=e.length)>1)for(var r=1,n,i,a=e[t[0]],s,o=a.length;r<s;++r)for(i=a,a=e[t[r]],n=0;n<o;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function ZR(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function hMe(e,t){return e[t]}function mMe(e){const t=[];return t.key=e,t}function pMe(){var e=Ur([]),t=ZR,r=S0,n=hMe;function i(a){var s=Array.from(e.apply(this,arguments),mMe),o,c=s.length,u=-1,d;for(const f of a)for(o=0,++u;o<c;++o)(s[o][u]=[0,+n(f,s[o].key,u,a)]).data=f;for(o=0,d=pM(t(s));o<c;++o)s[d[o]].index=o;return r(s,d),s}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:Ur(Array.from(a)),i):e},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:Ur(+a),i):n},i.order=function(a){return arguments.length?(t=a==null?ZR:typeof a=="function"?a:Ur(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(r=a??S0,i):r},i}function gMe(e,t){if((n=e.length)>0){for(var r,n,i=0,a=e[0].length,s;i<a;++i){for(s=r=0;r<n;++r)s+=e[r][i][1]||0;if(s)for(r=0;r<n;++r)e[r][i][1]/=s}S0(e,t)}}function vMe(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,a=n.length;r<a;++r){for(var s=0,o=0;s<i;++s)o+=e[s][r][1]||0;n[r][1]+=n[r][0]=-o/2}S0(e,t)}}function yMe(e,t){if(!(!((s=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,a,s;n<a;++n){for(var o=0,c=0,u=0;o<s;++o){for(var d=e[t[o]],f=d[n][1]||0,h=d[n-1][1]||0,m=(f-h)/2,g=0;g<o;++g){var p=e[t[g]],v=p[n][1]||0,y=p[n-1][1]||0;m+=v-y}c+=f,u+=m*f}i[n-1][1]+=i[n-1][0]=r,c&&(r-=u/c)}i[n-1][1]+=i[n-1][0]=r,S0(e,t)}}function mx(e){"@babel/helpers - typeof";return mx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mx(e)}var xMe=["type","size","sizeType"];function JR(){return JR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},JR.apply(this,arguments)}function DB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function MB(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DB(Object(r),!0).forEach(function(n){bMe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DB(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bMe(e,t,r){return t=wMe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wMe(e){var t=_Me(e,"string");return mx(t)=="symbol"?t:t+""}function _Me(e,t){if(mx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(mx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function EMe(e,t){if(e==null)return{};var r=SMe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function SMe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var ure={symbolCircle:gM,symbolCross:H4e,symbolDiamond:G4e,symbolSquare:K4e,symbolStar:Z4e,symbolTriangle:J4e,symbolWye:tMe},TMe=Math.PI/180,NMe=function(t){var r="symbol".concat(nN(t));return ure[r]||gM},AMe=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*TMe;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},CMe=function(t,r){ure["symbol".concat(nN(t))]=r},vM=function(t){var r=t.type,n=r===void 0?"circle":r,i=t.size,a=i===void 0?64:i,s=t.sizeType,o=s===void 0?"area":s,c=EMe(t,xMe),u=MB(MB({},c),{},{type:n,size:a,sizeType:o}),d=function(){var v=NMe(n),y=rMe().type(v).size(AMe(a,o,n));return y()},f=u.className,h=u.cx,m=u.cy,g=Kt(u,!0);return h===+h&&m===+m&&a===+a?te.createElement("path",JR({},g,{className:lr("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(m,")"),d:d()})):null};vM.registerSymbol=CMe;function T0(e){"@babel/helpers - typeof";return T0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},T0(e)}function ek(){return ek=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ek.apply(this,arguments)}function LB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function jMe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LB(Object(r),!0).forEach(function(n){px(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LB(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RMe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,fre(n.key),n)}}function kMe(e,t,r){return t&&RMe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function IMe(e,t,r){return t=tS(t),OMe(e,dre()?Reflect.construct(t,r||[],tS(e).constructor):t.apply(e,r))}function OMe(e,t){if(t&&(T0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DMe(e)}function DMe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dre(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dre=function(){return!!e})()}function tS(e){return tS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tS(e)}function MMe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tk(e,t)}function tk(e,t){return tk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},tk(e,t)}function px(e,t,r){return t=fre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fre(e){var t=LMe(e,"string");return T0(t)=="symbol"?t:t+""}function LMe(e,t){if(T0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(T0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Xs=32,yM=function(e){function t(){return PMe(this,t),IMe(this,t,arguments)}return MMe(t,e),kMe(t,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=Xs/2,s=Xs/6,o=Xs/3,c=n.inactive?i:n.color;if(n.type==="plainline")return te.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:Xs,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return te.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*o,",").concat(a,`
            H`).concat(Xs,"M").concat(2*o,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(o,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return te.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Xs/8,"h").concat(Xs,"v").concat(Xs*3/4,"h").concat(-Xs,"z"),className:"recharts-legend-icon"});if(te.isValidElement(n.legendIcon)){var u=jMe({},n);return delete u.legendIcon,te.cloneElement(n.legendIcon,u)}return te.createElement(vM,{fill:c,cx:a,cy:a,size:Xs,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,s=i.iconSize,o=i.layout,c=i.formatter,u=i.inactiveColor,d={x:0,y:0,width:Xs,height:Xs},f={display:o==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(m,g){var p=m.formatter||c,v=lr(px(px({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",m.inactive));if(m.type==="none")return null;var y=Yt(m.value)?null:m.value;eu(!Yt(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var x=m.inactive?u:m.color;return te.createElement("li",ek({className:v,style:f,key:"legend-item-".concat(g)},rN(n.props,m,g)),te.createElement(HR,{width:s,height:s,viewBox:d,style:h},n.renderIcon(m)),te.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},p?p(y,m,g):y))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,s=n.align;if(!i||!i.length)return null;var o={padding:0,margin:0,textAlign:a==="horizontal"?s:"left"};return te.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(b.PureComponent);px(yM,"displayName","Legend");px(yM,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var FMe=UT;function $Me(){this.__data__=new FMe,this.size=0}var BMe=$Me;function VMe(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var UMe=VMe;function zMe(e){return this.__data__.get(e)}var WMe=zMe;function HMe(e){return this.__data__.has(e)}var qMe=HMe,GMe=UT,KMe=aM,YMe=sM,XMe=200;function QMe(e,t){var r=this.__data__;if(r instanceof GMe){var n=r.__data__;if(!KMe||n.length<XMe-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new YMe(n)}return r.set(e,t),this.size=r.size,this}var ZMe=QMe,JMe=UT,e3e=BMe,t3e=UMe,r3e=WMe,n3e=qMe,i3e=ZMe;function Tg(e){var t=this.__data__=new JMe(e);this.size=t.size}Tg.prototype.clear=e3e;Tg.prototype.delete=t3e;Tg.prototype.get=r3e;Tg.prototype.has=n3e;Tg.prototype.set=i3e;var hre=Tg,a3e="__lodash_hash_undefined__";function s3e(e){return this.__data__.set(e,a3e),this}var o3e=s3e;function l3e(e){return this.__data__.has(e)}var c3e=l3e,u3e=sM,d3e=o3e,f3e=c3e;function rS(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new u3e;++t<r;)this.add(e[t])}rS.prototype.add=rS.prototype.push=d3e;rS.prototype.has=f3e;var mre=rS;function h3e(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var pre=h3e;function m3e(e,t){return e.has(t)}var gre=m3e,p3e=mre,g3e=pre,v3e=gre,y3e=1,x3e=2;function b3e(e,t,r,n,i,a){var s=r&y3e,o=e.length,c=t.length;if(o!=c&&!(s&&c>o))return!1;var u=a.get(e),d=a.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,m=r&x3e?new p3e:void 0;for(a.set(e,t),a.set(t,e);++f<o;){var g=e[f],p=t[f];if(n)var v=s?n(p,g,f,t,e,a):n(g,p,f,e,t,a);if(v!==void 0){if(v)continue;h=!1;break}if(m){if(!g3e(t,function(y,x){if(!v3e(m,x)&&(g===y||i(g,y,r,n,a)))return m.push(x)})){h=!1;break}}else if(!(g===p||i(g,p,r,n,a))){h=!1;break}}return a.delete(e),a.delete(t),h}var vre=b3e,w3e=xc,_3e=w3e.Uint8Array,E3e=_3e;function S3e(e){var t=-1,r=Array(e.size);return e.forEach(function(n,i){r[++t]=[i,n]}),r}var T3e=S3e;function N3e(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var xM=N3e,FB=Q1,$B=E3e,A3e=iM,C3e=vre,j3e=T3e,P3e=xM,R3e=1,k3e=2,I3e="[object Boolean]",O3e="[object Date]",D3e="[object Error]",M3e="[object Map]",L3e="[object Number]",F3e="[object RegExp]",$3e="[object Set]",B3e="[object String]",V3e="[object Symbol]",U3e="[object ArrayBuffer]",z3e="[object DataView]",BB=FB?FB.prototype:void 0,IC=BB?BB.valueOf:void 0;function W3e(e,t,r,n,i,a,s){switch(r){case z3e:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case U3e:return!(e.byteLength!=t.byteLength||!a(new $B(e),new $B(t)));case I3e:case O3e:case L3e:return A3e(+e,+t);case D3e:return e.name==t.name&&e.message==t.message;case F3e:case B3e:return e==t+"";case M3e:var o=j3e;case $3e:var c=n&R3e;if(o||(o=P3e),e.size!=t.size&&!c)return!1;var u=s.get(e);if(u)return u==t;n|=k3e,s.set(e,t);var d=C3e(o(e),o(t),n,i,a,s);return s.delete(e),d;case V3e:if(IC)return IC.call(e)==IC.call(t)}return!1}var H3e=W3e;function q3e(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}var yre=q3e,G3e=yre,K3e=us;function Y3e(e,t,r){var n=t(e);return K3e(e)?n:G3e(n,r(e))}var X3e=Y3e;function Q3e(e,t){for(var r=-1,n=e==null?0:e.length,i=0,a=[];++r<n;){var s=e[r];t(s,r,e)&&(a[i++]=s)}return a}var Z3e=Q3e;function J3e(){return[]}var eLe=J3e,tLe=Z3e,rLe=eLe,nLe=Object.prototype,iLe=nLe.propertyIsEnumerable,VB=Object.getOwnPropertySymbols,aLe=VB?function(e){return e==null?[]:(e=Object(e),tLe(VB(e),function(t){return iLe.call(e,t)}))}:rLe,sLe=aLe;function oLe(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var lLe=oLe,cLe=Ru,uLe=ku,dLe="[object Arguments]";function fLe(e){return uLe(e)&&cLe(e)==dLe}var hLe=fLe,UB=hLe,mLe=ku,xre=Object.prototype,pLe=xre.hasOwnProperty,gLe=xre.propertyIsEnumerable,vLe=UB(function(){return arguments}())?UB:function(e){return mLe(e)&&pLe.call(e,"callee")&&!gLe.call(e,"callee")},bM=vLe,nS={exports:{}};function yLe(){return!1}var xLe=yLe;nS.exports;(function(e,t){var r=xc,n=xLe,i=t&&!t.nodeType&&t,a=i&&!0&&e&&!e.nodeType&&e,s=a&&a.exports===i,o=s?r.Buffer:void 0,c=o?o.isBuffer:void 0,u=c||n;e.exports=u})(nS,nS.exports);var bre=nS.exports,bLe=9007199254740991,wLe=/^(?:0|[1-9]\d*)$/;function _Le(e,t){var r=typeof e;return t=t??bLe,!!t&&(r=="number"||r!="symbol"&&wLe.test(e))&&e>-1&&e%1==0&&e<t}var wM=_Le,ELe=9007199254740991;function SLe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=ELe}var _M=SLe,TLe=Ru,NLe=_M,ALe=ku,CLe="[object Arguments]",jLe="[object Array]",PLe="[object Boolean]",RLe="[object Date]",kLe="[object Error]",ILe="[object Function]",OLe="[object Map]",DLe="[object Number]",MLe="[object Object]",LLe="[object RegExp]",FLe="[object Set]",$Le="[object String]",BLe="[object WeakMap]",VLe="[object ArrayBuffer]",ULe="[object DataView]",zLe="[object Float32Array]",WLe="[object Float64Array]",HLe="[object Int8Array]",qLe="[object Int16Array]",GLe="[object Int32Array]",KLe="[object Uint8Array]",YLe="[object Uint8ClampedArray]",XLe="[object Uint16Array]",QLe="[object Uint32Array]",Zr={};Zr[zLe]=Zr[WLe]=Zr[HLe]=Zr[qLe]=Zr[GLe]=Zr[KLe]=Zr[YLe]=Zr[XLe]=Zr[QLe]=!0;Zr[CLe]=Zr[jLe]=Zr[VLe]=Zr[PLe]=Zr[ULe]=Zr[RLe]=Zr[kLe]=Zr[ILe]=Zr[OLe]=Zr[DLe]=Zr[MLe]=Zr[LLe]=Zr[FLe]=Zr[$Le]=Zr[BLe]=!1;function ZLe(e){return ALe(e)&&NLe(e.length)&&!!Zr[TLe(e)]}var JLe=ZLe;function eFe(e){return function(t){return e(t)}}var wre=eFe,iS={exports:{}};iS.exports;(function(e,t){var r=jte,n=t&&!t.nodeType&&t,i=n&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===n,s=a&&r.process,o=function(){try{var c=i&&i.require&&i.require("util").types;return c||s&&s.binding&&s.binding("util")}catch{}}();e.exports=o})(iS,iS.exports);var tFe=iS.exports,rFe=JLe,nFe=wre,zB=tFe,WB=zB&&zB.isTypedArray,iFe=WB?nFe(WB):rFe,_re=iFe,aFe=lLe,sFe=bM,oFe=us,lFe=bre,cFe=wM,uFe=_re,dFe=Object.prototype,fFe=dFe.hasOwnProperty;function hFe(e,t){var r=oFe(e),n=!r&&sFe(e),i=!r&&!n&&lFe(e),a=!r&&!n&&!i&&uFe(e),s=r||n||i||a,o=s?aFe(e.length,String):[],c=o.length;for(var u in e)(t||fFe.call(e,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||cFe(u,c)))&&o.push(u);return o}var mFe=hFe,pFe=Object.prototype;function gFe(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||pFe;return e===r}var vFe=gFe;function yFe(e,t){return function(r){return e(t(r))}}var Ere=yFe,xFe=Ere,bFe=xFe(Object.keys,Object),wFe=bFe,_Fe=vFe,EFe=wFe,SFe=Object.prototype,TFe=SFe.hasOwnProperty;function NFe(e){if(!_Fe(e))return EFe(e);var t=[];for(var r in Object(e))TFe.call(e,r)&&r!="constructor"&&t.push(r);return t}var AFe=NFe,CFe=nM,jFe=_M;function PFe(e){return e!=null&&jFe(e.length)&&!CFe(e)}var oN=PFe,RFe=mFe,kFe=AFe,IFe=oN;function OFe(e){return IFe(e)?RFe(e):kFe(e)}var EM=OFe,DFe=X3e,MFe=sLe,LFe=EM;function FFe(e){return DFe(e,LFe,MFe)}var $Fe=FFe,HB=$Fe,BFe=1,VFe=Object.prototype,UFe=VFe.hasOwnProperty;function zFe(e,t,r,n,i,a){var s=r&BFe,o=HB(e),c=o.length,u=HB(t),d=u.length;if(c!=d&&!s)return!1;for(var f=c;f--;){var h=o[f];if(!(s?h in t:UFe.call(t,h)))return!1}var m=a.get(e),g=a.get(t);if(m&&g)return m==t&&g==e;var p=!0;a.set(e,t),a.set(t,e);for(var v=s;++f<c;){h=o[f];var y=e[h],x=t[h];if(n)var w=s?n(x,y,h,t,e,a):n(y,x,h,e,t,a);if(!(w===void 0?y===x||i(y,x,r,n,a):w)){p=!1;break}v||(v=h=="constructor")}if(p&&!v){var N=e.constructor,E=t.constructor;N!=E&&"constructor"in e&&"constructor"in t&&!(typeof N=="function"&&N instanceof N&&typeof E=="function"&&E instanceof E)&&(p=!1)}return a.delete(e),a.delete(t),p}var WFe=zFe,HFe=hm,qFe=xc,GFe=HFe(qFe,"DataView"),KFe=GFe,YFe=hm,XFe=xc,QFe=YFe(XFe,"Promise"),ZFe=QFe,JFe=hm,e5e=xc,t5e=JFe(e5e,"Set"),Sre=t5e,r5e=hm,n5e=xc,i5e=r5e(n5e,"WeakMap"),a5e=i5e,rk=KFe,nk=aM,ik=ZFe,ak=Sre,sk=a5e,Tre=Ru,Ng=Rte,qB="[object Map]",s5e="[object Object]",GB="[object Promise]",KB="[object Set]",YB="[object WeakMap]",XB="[object DataView]",o5e=Ng(rk),l5e=Ng(nk),c5e=Ng(ik),u5e=Ng(ak),d5e=Ng(sk),Bf=Tre;(rk&&Bf(new rk(new ArrayBuffer(1)))!=XB||nk&&Bf(new nk)!=qB||ik&&Bf(ik.resolve())!=GB||ak&&Bf(new ak)!=KB||sk&&Bf(new sk)!=YB)&&(Bf=function(e){var t=Tre(e),r=t==s5e?e.constructor:void 0,n=r?Ng(r):"";if(n)switch(n){case o5e:return XB;case l5e:return qB;case c5e:return GB;case u5e:return KB;case d5e:return YB}return t});var f5e=Bf,OC=hre,h5e=vre,m5e=H3e,p5e=WFe,QB=f5e,ZB=us,JB=bre,g5e=_re,v5e=1,eV="[object Arguments]",tV="[object Array]",gw="[object Object]",y5e=Object.prototype,rV=y5e.hasOwnProperty;function x5e(e,t,r,n,i,a){var s=ZB(e),o=ZB(t),c=s?tV:QB(e),u=o?tV:QB(t);c=c==eV?gw:c,u=u==eV?gw:u;var d=c==gw,f=u==gw,h=c==u;if(h&&JB(e)){if(!JB(t))return!1;s=!0,d=!1}if(h&&!d)return a||(a=new OC),s||g5e(e)?h5e(e,t,r,n,i,a):m5e(e,t,c,r,n,i,a);if(!(r&v5e)){var m=d&&rV.call(e,"__wrapped__"),g=f&&rV.call(t,"__wrapped__");if(m||g){var p=m?e.value():e,v=g?t.value():t;return a||(a=new OC),i(p,v,r,n,a)}}return h?(a||(a=new OC),p5e(e,t,r,n,i,a)):!1}var b5e=x5e,w5e=b5e,nV=ku;function Nre(e,t,r,n,i){return e===t?!0:e==null||t==null||!nV(e)&&!nV(t)?e!==e&&t!==t:w5e(e,t,r,n,Nre,i)}var SM=Nre,_5e=hre,E5e=SM,S5e=1,T5e=2;function N5e(e,t,r,n){var i=r.length,a=i,s=!n;if(e==null)return!a;for(e=Object(e);i--;){var o=r[i];if(s&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++i<a;){o=r[i];var c=o[0],u=e[c],d=o[1];if(s&&o[2]){if(u===void 0&&!(c in e))return!1}else{var f=new _5e;if(n)var h=n(u,d,c,e,t,f);if(!(h===void 0?E5e(d,u,S5e|T5e,n,f):h))return!1}}return!0}var A5e=N5e,C5e=bf;function j5e(e){return e===e&&!C5e(e)}var Are=j5e,P5e=Are,R5e=EM;function k5e(e){for(var t=R5e(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,P5e(i)]}return t}var I5e=k5e;function O5e(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var Cre=O5e,D5e=A5e,M5e=I5e,L5e=Cre;function F5e(e){var t=M5e(e);return t.length==1&&t[0][2]?L5e(t[0][0],t[0][1]):function(r){return r===e||D5e(r,e,t)}}var $5e=F5e;function B5e(e,t){return e!=null&&t in Object(e)}var V5e=B5e,U5e=Mte,z5e=bM,W5e=us,H5e=wM,q5e=_M,G5e=WT;function K5e(e,t,r){t=U5e(t,e);for(var n=-1,i=t.length,a=!1;++n<i;){var s=G5e(t[n]);if(!(a=e!=null&&r(e,s)))break;e=e[s]}return a||++n!=i?a:(i=e==null?0:e.length,!!i&&q5e(i)&&H5e(s,i)&&(W5e(e)||z5e(e)))}var Y5e=K5e,X5e=V5e,Q5e=Y5e;function Z5e(e,t){return e!=null&&Q5e(e,t,X5e)}var J5e=Z5e,e6e=SM,t6e=Lte,r6e=J5e,n6e=rM,i6e=Are,a6e=Cre,s6e=WT,o6e=1,l6e=2;function c6e(e,t){return n6e(e)&&i6e(t)?a6e(s6e(e),t):function(r){var n=t6e(r,e);return n===void 0&&n===t?r6e(r,e):e6e(t,n,o6e|l6e)}}var u6e=c6e;function d6e(e){return e}var Ag=d6e;function f6e(e){return function(t){return t==null?void 0:t[e]}}var h6e=f6e,m6e=cM;function p6e(e){return function(t){return m6e(t,e)}}var g6e=p6e,v6e=h6e,y6e=g6e,x6e=rM,b6e=WT;function w6e(e){return x6e(e)?v6e(b6e(e)):y6e(e)}var _6e=w6e,E6e=$5e,S6e=u6e,T6e=Ag,N6e=us,A6e=_6e;function C6e(e){return typeof e=="function"?e:e==null?T6e:typeof e=="object"?N6e(e)?S6e(e[0],e[1]):E6e(e):A6e(e)}var wf=C6e;function j6e(e,t,r,n){for(var i=e.length,a=r+(n?1:-1);n?a--:++a<i;)if(t(e[a],a,e))return a;return-1}var P6e=j6e;function R6e(e){return e!==e}var k6e=R6e;function I6e(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}var O6e=I6e,D6e=P6e,M6e=k6e,L6e=O6e;function F6e(e,t,r){return t===t?L6e(e,t,r):D6e(e,M6e,r)}var $6e=F6e,B6e=$6e;function V6e(e,t){var r=e==null?0:e.length;return!!r&&B6e(e,t,0)>-1}var U6e=V6e;function z6e(e,t,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}var W6e=z6e;function H6e(){}var q6e=H6e,DC=Sre,G6e=q6e,K6e=xM,Y6e=1/0,X6e=DC&&1/K6e(new DC([,-0]))[1]==Y6e?function(e){return new DC(e)}:G6e,Q6e=X6e,Z6e=mre,J6e=U6e,e$e=W6e,t$e=gre,r$e=Q6e,n$e=xM,i$e=200;function a$e(e,t,r){var n=-1,i=J6e,a=e.length,s=!0,o=[],c=o;if(r)s=!1,i=e$e;else if(a>=i$e){var u=t?null:r$e(e);if(u)return n$e(u);s=!1,i=t$e,c=new Z6e}else c=t?[]:o;e:for(;++n<a;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,s&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),o.push(d)}else i(c,f,r)||(c!==o&&c.push(f),o.push(d))}return o}var s$e=a$e,o$e=wf,l$e=s$e;function c$e(e,t){return e&&e.length?l$e(e,o$e(t)):[]}var u$e=c$e;const iV=kr(u$e);function jre(e,t,r){return t===!0?iV(e,r):Yt(t)?iV(e,t):e}function N0(e){"@babel/helpers - typeof";return N0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},N0(e)}var d$e=["ref"];function aV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Sc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aV(Object(r),!0).forEach(function(n){lN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aV(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function f$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sV(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Rre(n.key),n)}}function h$e(e,t,r){return t&&sV(e.prototype,t),r&&sV(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function m$e(e,t,r){return t=aS(t),p$e(e,Pre()?Reflect.construct(t,r||[],aS(e).constructor):t.apply(e,r))}function p$e(e,t){if(t&&(N0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return g$e(e)}function g$e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pre(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Pre=function(){return!!e})()}function aS(e){return aS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},aS(e)}function v$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ok(e,t)}function ok(e,t){return ok=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ok(e,t)}function lN(e,t,r){return t=Rre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rre(e){var t=y$e(e,"string");return N0(t)=="symbol"?t:t+""}function y$e(e,t){if(N0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(N0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function x$e(e,t){if(e==null)return{};var r=b$e(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function b$e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function w$e(e){return e.value}function _$e(e,t){if(te.isValidElement(e))return te.cloneElement(e,t);if(typeof e=="function")return te.createElement(e,t);t.ref;var r=x$e(t,d$e);return te.createElement(yM,r)}var oV=1,kp=function(e){function t(){var r;f$e(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=m$e(this,t,[].concat(i)),lN(r,"lastBoundingBox",{width:-1,height:-1}),r}return v$e(t,e),h$e(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>oV||Math.abs(i.height-this.lastBoundingBox.height)>oV)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Sc({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,s=i.align,o=i.verticalAlign,c=i.margin,u=i.chartWidth,d=i.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&a==="vertical"){var m=this.getBBoxSnapshot();f={left:((u||0)-m.width)/2}}else f=s==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(o==="middle"){var g=this.getBBoxSnapshot();h={top:((d||0)-g.height)/2}}else h=o==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Sc(Sc({},f),h)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,s=i.width,o=i.height,c=i.wrapperStyle,u=i.payloadUniqBy,d=i.payload,f=Sc(Sc({position:"absolute",width:s||"auto",height:o||"auto"},this.getDefaultPosition(c)),c);return te.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(m){n.wrapperNode=m}},_$e(a,Sc(Sc({},this.props),{},{payload:jre(d,u,w$e)})))}}],[{key:"getWithHeight",value:function(n,i){var a=Sc(Sc({},this.defaultProps),n.props),s=a.layout;return s==="vertical"&&ut(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||i}:null}}])}(b.PureComponent);lN(kp,"displayName","Legend");lN(kp,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var lV=Q1,E$e=bM,S$e=us,cV=lV?lV.isConcatSpreadable:void 0;function T$e(e){return S$e(e)||E$e(e)||!!(cV&&e&&e[cV])}var N$e=T$e,A$e=yre,C$e=N$e;function kre(e,t,r,n,i){var a=-1,s=e.length;for(r||(r=C$e),i||(i=[]);++a<s;){var o=e[a];t>0&&r(o)?t>1?kre(o,t-1,r,n,i):A$e(i,o):n||(i[i.length]=o)}return i}var Ire=kre;function j$e(e){return function(t,r,n){for(var i=-1,a=Object(t),s=n(t),o=s.length;o--;){var c=s[e?o:++i];if(r(a[c],c,a)===!1)break}return t}}var P$e=j$e,R$e=P$e,k$e=R$e(),I$e=k$e,O$e=I$e,D$e=EM;function M$e(e,t){return e&&O$e(e,t,D$e)}var Ore=M$e,L$e=oN;function F$e(e,t){return function(r,n){if(r==null)return r;if(!L$e(r))return e(r,n);for(var i=r.length,a=t?i:-1,s=Object(r);(t?a--:++a<i)&&n(s[a],a,s)!==!1;);return r}}var $$e=F$e,B$e=Ore,V$e=$$e,U$e=V$e(B$e),TM=U$e,z$e=TM,W$e=oN;function H$e(e,t){var r=-1,n=W$e(e)?Array(e.length):[];return z$e(e,function(i,a,s){n[++r]=t(i,a,s)}),n}var Dre=H$e;function q$e(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var G$e=q$e,uV=bg;function K$e(e,t){if(e!==t){var r=e!==void 0,n=e===null,i=e===e,a=uV(e),s=t!==void 0,o=t===null,c=t===t,u=uV(t);if(!o&&!u&&!a&&e>t||a&&s&&c&&!o&&!u||n&&s&&c||!r&&c||!i)return 1;if(!n&&!a&&!u&&e<t||u&&r&&i&&!n&&!a||o&&r&&i||!s&&i||!c)return-1}return 0}var Y$e=K$e,X$e=Y$e;function Q$e(e,t,r){for(var n=-1,i=e.criteria,a=t.criteria,s=i.length,o=r.length;++n<s;){var c=X$e(i[n],a[n]);if(c){if(n>=o)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var Z$e=Q$e,MC=lM,J$e=cM,e8e=wf,t8e=Dre,r8e=G$e,n8e=wre,i8e=Z$e,a8e=Ag,s8e=us;function o8e(e,t,r){t.length?t=MC(t,function(a){return s8e(a)?function(s){return J$e(s,a.length===1?a[0]:a)}:a}):t=[a8e];var n=-1;t=MC(t,n8e(e8e));var i=t8e(e,function(a,s,o){var c=MC(t,function(u){return u(a)});return{criteria:c,index:++n,value:a}});return r8e(i,function(a,s){return i8e(a,s,r)})}var l8e=o8e;function c8e(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var u8e=c8e,d8e=u8e,dV=Math.max;function f8e(e,t,r){return t=dV(t===void 0?e.length-1:t,0),function(){for(var n=arguments,i=-1,a=dV(n.length-t,0),s=Array(a);++i<a;)s[i]=n[t+i];i=-1;for(var o=Array(t+1);++i<t;)o[i]=n[i];return o[t]=r(s),d8e(e,this,o)}}var h8e=f8e;function m8e(e){return function(){return e}}var p8e=m8e,g8e=hm,v8e=function(){try{var e=g8e(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Mre=v8e,y8e=p8e,fV=Mre,x8e=Ag,b8e=fV?function(e,t){return fV(e,"toString",{configurable:!0,enumerable:!1,value:y8e(t),writable:!0})}:x8e,w8e=b8e,_8e=800,E8e=16,S8e=Date.now;function T8e(e){var t=0,r=0;return function(){var n=S8e(),i=E8e-(n-r);if(r=n,i>0){if(++t>=_8e)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var N8e=T8e,A8e=w8e,C8e=N8e,j8e=C8e(A8e),P8e=j8e,R8e=Ag,k8e=h8e,I8e=P8e;function O8e(e,t){return I8e(k8e(e,t,R8e),e+"")}var D8e=O8e,M8e=iM,L8e=oN,F8e=wM,$8e=bf;function B8e(e,t,r){if(!$8e(r))return!1;var n=typeof t;return(n=="number"?L8e(r)&&F8e(t,r.length):n=="string"&&t in r)?M8e(r[t],e):!1}var cN=B8e,V8e=Ire,U8e=l8e,z8e=D8e,hV=cN,W8e=z8e(function(e,t){if(e==null)return[];var r=t.length;return r>1&&hV(e,t[0],t[1])?t=[]:r>2&&hV(t[0],t[1],t[2])&&(t=[t[0]]),U8e(e,V8e(t,1),[])}),H8e=W8e;const NM=kr(H8e);function gx(e){"@babel/helpers - typeof";return gx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gx(e)}function lk(){return lk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lk.apply(this,arguments)}function q8e(e,t){return X8e(e)||Y8e(e,t)||K8e(e,t)||G8e()}function G8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function K8e(e,t){if(e){if(typeof e=="string")return mV(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mV(e,t)}}function mV(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Y8e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function X8e(e){if(Array.isArray(e))return e}function pV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function LC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pV(Object(r),!0).forEach(function(n){Q8e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pV(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Q8e(e,t,r){return t=Z8e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Z8e(e){var t=J8e(e,"string");return gx(t)=="symbol"?t:t+""}function J8e(e,t){if(gx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eBe(e){return Array.isArray(e)&&hi(e[0])&&hi(e[1])?e.join(" ~ "):e}var tBe=function(t){var r=t.separator,n=r===void 0?" : ":r,i=t.contentStyle,a=i===void 0?{}:i,s=t.itemStyle,o=s===void 0?{}:s,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,h=t.itemSorter,m=t.wrapperClassName,g=t.labelClassName,p=t.label,v=t.labelFormatter,y=t.accessibilityLayer,x=y===void 0?!1:y,w=function(){if(d&&d.length){var O={padding:0,margin:0},k=(h?NM(d,h):d).map(function(D,B){if(D.type==="none")return null;var ee=LC({display:"block",paddingTop:4,paddingBottom:4,color:D.color||"#000"},o),z=D.formatter||f||eBe,V=D.value,U=D.name,se=V,ne=U;if(z&&se!=null&&ne!=null){var M=z(V,U,D,B,d);if(Array.isArray(M)){var W=q8e(M,2);se=W[0],ne=W[1]}else se=M}return te.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(B),style:ee},hi(ne)?te.createElement("span",{className:"recharts-tooltip-item-name"},ne):null,hi(ne)?te.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,te.createElement("span",{className:"recharts-tooltip-item-value"},se),te.createElement("span",{className:"recharts-tooltip-item-unit"},D.unit||""))});return te.createElement("ul",{className:"recharts-tooltip-item-list",style:O},k)}return null},N=LC({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),E=LC({margin:0},u),T=!ar(p),S=T?p:"",A=lr("recharts-default-tooltip",m),C=lr("recharts-tooltip-label",g);T&&v&&d!==void 0&&d!==null&&(S=v(p,d));var j=x?{role:"status","aria-live":"assertive"}:{};return te.createElement("div",lk({className:A,style:N},j),te.createElement("p",{className:C,style:E},te.isValidElement(S)?S:"".concat(S)),w())};function vx(e){"@babel/helpers - typeof";return vx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vx(e)}function vw(e,t,r){return t=rBe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rBe(e){var t=nBe(e,"string");return vx(t)=="symbol"?t:t+""}function nBe(e,t){if(vx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lv="recharts-tooltip-wrapper",iBe={visibility:"hidden"};function aBe(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return lr(lv,vw(vw(vw(vw({},"".concat(lv,"-right"),ut(r)&&t&&ut(t.x)&&r>=t.x),"".concat(lv,"-left"),ut(r)&&t&&ut(t.x)&&r<t.x),"".concat(lv,"-bottom"),ut(n)&&t&&ut(t.y)&&n>=t.y),"".concat(lv,"-top"),ut(n)&&t&&ut(t.y)&&n<t.y))}function gV(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,i=e.offsetTopLeft,a=e.position,s=e.reverseDirection,o=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(a&&ut(a[n]))return a[n];var d=r[n]-o-i,f=r[n]+i;if(t[n])return s[n]?d:f;if(s[n]){var h=d,m=c[n];return h<m?Math.max(f,c[n]):Math.max(d,c[n])}var g=f+o,p=c[n]+u;return g>p?Math.max(d,c[n]):Math.max(f,c[n])}function sBe(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function oBe(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,i=e.position,a=e.reverseDirection,s=e.tooltipBox,o=e.useTranslate3d,c=e.viewBox,u,d,f;return s.height>0&&s.width>0&&r?(d=gV({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),f=gV({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),u=sBe({translateX:d,translateY:f,useTranslate3d:o})):u=iBe,{cssProperties:u,cssClasses:aBe({translateX:d,translateY:f,coordinate:r})}}function A0(e){"@babel/helpers - typeof";return A0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A0(e)}function vV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function yV(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vV(Object(r),!0).forEach(function(n){uk(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vV(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lBe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cBe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Fre(n.key),n)}}function uBe(e,t,r){return t&&cBe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function dBe(e,t,r){return t=sS(t),fBe(e,Lre()?Reflect.construct(t,r||[],sS(e).constructor):t.apply(e,r))}function fBe(e,t){if(t&&(A0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hBe(e)}function hBe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lre(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Lre=function(){return!!e})()}function sS(e){return sS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sS(e)}function mBe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ck(e,t)}function ck(e,t){return ck=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ck(e,t)}function uk(e,t,r){return t=Fre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fre(e){var t=pBe(e,"string");return A0(t)=="symbol"?t:t+""}function pBe(e,t){if(A0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(A0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var xV=1,gBe=function(e){function t(){var r;lBe(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=dBe(this,t,[].concat(i)),uk(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),uk(r,"handleKeyDown",function(s){if(s.key==="Escape"){var o,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&o!==void 0?o:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return mBe(t,e),uBe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>xV||Math.abs(n.height-this.state.lastBoundingBox.height)>xV)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,o=i.animationDuration,c=i.animationEasing,u=i.children,d=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,m=i.offset,g=i.position,p=i.reverseDirection,v=i.useTranslate3d,y=i.viewBox,x=i.wrapperStyle,w=oBe({allowEscapeViewBox:s,coordinate:d,offsetTopLeft:m,position:g,reverseDirection:p,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:y}),N=w.cssClasses,E=w.cssProperties,T=yV(yV({transition:h&&a?"transform ".concat(o,"ms ").concat(c):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},x);return te.createElement("div",{tabIndex:-1,className:N,style:T,ref:function(A){n.wrapperNode=A}},u)}}])}(b.PureComponent),vBe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},uN={isSsr:vBe()};function C0(e){"@babel/helpers - typeof";return C0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C0(e)}function bV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function wV(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bV(Object(r),!0).forEach(function(n){AM(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bV(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yBe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xBe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Bre(n.key),n)}}function bBe(e,t,r){return t&&xBe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function wBe(e,t,r){return t=oS(t),_Be(e,$re()?Reflect.construct(t,r||[],oS(e).constructor):t.apply(e,r))}function _Be(e,t){if(t&&(C0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return EBe(e)}function EBe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $re(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($re=function(){return!!e})()}function oS(e){return oS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},oS(e)}function SBe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dk(e,t)}function dk(e,t){return dk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},dk(e,t)}function AM(e,t,r){return t=Bre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bre(e){var t=TBe(e,"string");return C0(t)=="symbol"?t:t+""}function TBe(e,t){if(C0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(C0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function NBe(e){return e.dataKey}function ABe(e,t){return te.isValidElement(e)?te.cloneElement(e,t):typeof e=="function"?te.createElement(e,t):te.createElement(tBe,t)}var Ko=function(e){function t(){return yBe(this,t),wBe(this,t,arguments)}return SBe(t,e),bBe(t,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,o=i.animationDuration,c=i.animationEasing,u=i.content,d=i.coordinate,f=i.filterNull,h=i.isAnimationActive,m=i.offset,g=i.payload,p=i.payloadUniqBy,v=i.position,y=i.reverseDirection,x=i.useTranslate3d,w=i.viewBox,N=i.wrapperStyle,E=g??[];f&&E.length&&(E=jre(g.filter(function(S){return S.value!=null&&(S.hide!==!0||n.props.includeHidden)}),p,NBe));var T=E.length>0;return te.createElement(gBe,{allowEscapeViewBox:s,animationDuration:o,animationEasing:c,isAnimationActive:h,active:a,coordinate:d,hasPayload:T,offset:m,position:v,reverseDirection:y,useTranslate3d:x,viewBox:w,wrapperStyle:N},ABe(u,wV(wV({},this.props),{},{payload:E})))}}])}(b.PureComponent);AM(Ko,"displayName","Tooltip");AM(Ko,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!uN.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var CBe=xc,jBe=function(){return CBe.Date.now()},PBe=jBe,RBe=/\s/;function kBe(e){for(var t=e.length;t--&&RBe.test(e.charAt(t)););return t}var IBe=kBe,OBe=IBe,DBe=/^\s+/;function MBe(e){return e&&e.slice(0,OBe(e)+1).replace(DBe,"")}var LBe=MBe,FBe=LBe,_V=bf,$Be=bg,EV=NaN,BBe=/^[-+]0x[0-9a-f]+$/i,VBe=/^0b[01]+$/i,UBe=/^0o[0-7]+$/i,zBe=parseInt;function WBe(e){if(typeof e=="number")return e;if($Be(e))return EV;if(_V(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=_V(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=FBe(e);var r=VBe.test(e);return r||UBe.test(e)?zBe(e.slice(2),r?2:8):BBe.test(e)?EV:+e}var Vre=WBe,HBe=bf,FC=PBe,SV=Vre,qBe="Expected a function",GBe=Math.max,KBe=Math.min;function YBe(e,t,r){var n,i,a,s,o,c,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(qBe);t=SV(t)||0,HBe(r)&&(d=!!r.leading,f="maxWait"in r,a=f?GBe(SV(r.maxWait)||0,t):a,h="trailing"in r?!!r.trailing:h);function m(T){var S=n,A=i;return n=i=void 0,u=T,s=e.apply(A,S),s}function g(T){return u=T,o=setTimeout(y,t),d?m(T):s}function p(T){var S=T-c,A=T-u,C=t-S;return f?KBe(C,a-A):C}function v(T){var S=T-c,A=T-u;return c===void 0||S>=t||S<0||f&&A>=a}function y(){var T=FC();if(v(T))return x(T);o=setTimeout(y,p(T))}function x(T){return o=void 0,h&&n?m(T):(n=i=void 0,s)}function w(){o!==void 0&&clearTimeout(o),u=0,n=c=i=o=void 0}function N(){return o===void 0?s:x(FC())}function E(){var T=FC(),S=v(T);if(n=arguments,i=this,c=T,S){if(o===void 0)return g(c);if(f)return clearTimeout(o),o=setTimeout(y,t),m(c)}return o===void 0&&(o=setTimeout(y,t)),s}return E.cancel=w,E.flush=N,E}var XBe=YBe,QBe=XBe,ZBe=bf,JBe="Expected a function";function eVe(e,t,r){var n=!0,i=!0;if(typeof e!="function")throw new TypeError(JBe);return ZBe(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),QBe(e,t,{leading:n,maxWait:t,trailing:i})}var tVe=eVe;const Ure=kr(tVe);function yx(e){"@babel/helpers - typeof";return yx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yx(e)}function TV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function yw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TV(Object(r),!0).forEach(function(n){rVe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TV(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rVe(e,t,r){return t=nVe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nVe(e){var t=iVe(e,"string");return yx(t)=="symbol"?t:t+""}function iVe(e,t){if(yx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aVe(e,t){return cVe(e)||lVe(e,t)||oVe(e,t)||sVe()}function sVe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oVe(e,t){if(e){if(typeof e=="string")return NV(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NV(e,t)}}function NV(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function lVe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function cVe(e){if(Array.isArray(e))return e}var zre=b.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=e.width,s=a===void 0?"100%":a,o=e.height,c=o===void 0?"100%":o,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,m=e.children,g=e.debounce,p=g===void 0?0:g,v=e.id,y=e.className,x=e.onResize,w=e.style,N=w===void 0?{}:w,E=b.useRef(null),T=b.useRef();T.current=x,b.useImperativeHandle(t,function(){return Object.defineProperty(E.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),E.current},configurable:!0})});var S=b.useState({containerWidth:i.width,containerHeight:i.height}),A=aVe(S,2),C=A[0],j=A[1],I=b.useCallback(function(k,D){j(function(B){var ee=Math.round(k),z=Math.round(D);return B.containerWidth===ee&&B.containerHeight===z?B:{containerWidth:ee,containerHeight:z}})},[]);b.useEffect(function(){var k=function(U){var se,ne=U[0].contentRect,M=ne.width,W=ne.height;I(M,W),(se=T.current)===null||se===void 0||se.call(T,M,W)};p>0&&(k=Ure(k,p,{trailing:!0,leading:!1}));var D=new ResizeObserver(k),B=E.current.getBoundingClientRect(),ee=B.width,z=B.height;return I(ee,z),D.observe(E.current),function(){D.disconnect()}},[I,p]);var O=b.useMemo(function(){var k=C.containerWidth,D=C.containerHeight;if(k<0||D<0)return null;eu(Jf(s)||Jf(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,c),eu(!r||r>0,"The aspect(%s) must be greater than zero.",r);var B=Jf(s)?k:s,ee=Jf(c)?D:c;r&&r>0&&(B?ee=B/r:ee&&(B=ee*r),h&&ee>h&&(ee=h)),eu(B>0||ee>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,B,ee,s,c,d,f,r);var z=!Array.isArray(m)&&Jc(m.type).endsWith("Chart");return te.Children.map(m,function(V){return te.isValidElement(V)?b.cloneElement(V,yw({width:B,height:ee},z?{style:yw({height:"100%",width:"100%",maxHeight:ee,maxWidth:B},V.props.style)}:{})):V})},[r,m,c,h,f,d,C,s]);return te.createElement("div",{id:v?"".concat(v):void 0,className:lr("recharts-responsive-container",y),style:yw(yw({},N),{},{width:s,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:E},O)}),dN=function(t){return null};dN.displayName="Cell";function xx(e){"@babel/helpers - typeof";return xx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xx(e)}function AV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function fk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AV(Object(r),!0).forEach(function(n){uVe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AV(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uVe(e,t,r){return t=dVe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dVe(e){var t=fVe(e,"string");return xx(t)=="symbol"?t:t+""}function fVe(e,t){if(xx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Rm={widthCache:{},cacheCount:0},hVe=2e3,mVe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},CV="recharts_measurement_span";function pVe(e){var t=fk({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var jV=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||uN.isSsr)return{width:0,height:0};var n=pVe(r),i=JSON.stringify({text:t,copyStyle:n});if(Rm.widthCache[i])return Rm.widthCache[i];try{var a=document.getElementById(CV);a||(a=document.createElement("span"),a.setAttribute("id",CV),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var s=fk(fk({},mVe),n);Object.assign(a.style,s),a.textContent="".concat(t);var o=a.getBoundingClientRect(),c={width:o.width,height:o.height};return Rm.widthCache[i]=c,++Rm.cacheCount>hVe&&(Rm.cacheCount=0,Rm.widthCache={}),c}catch{return{width:0,height:0}}},gVe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function bx(e){"@babel/helpers - typeof";return bx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bx(e)}function lS(e,t){return bVe(e)||xVe(e,t)||yVe(e,t)||vVe()}function vVe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yVe(e,t){if(e){if(typeof e=="string")return PV(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return PV(e,t)}}function PV(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xVe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function bVe(e){if(Array.isArray(e))return e}function wVe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RV(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,EVe(n.key),n)}}function _Ve(e,t,r){return t&&RV(e.prototype,t),r&&RV(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function EVe(e){var t=SVe(e,"string");return bx(t)=="symbol"?t:t+""}function SVe(e,t){if(bx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var kV=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,IV=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,TVe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,NVe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Wre={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},AVe=Object.keys(Wre),dp="NaN";function CVe(e,t){return e*Wre[t]}var xw=function(){function e(t,r){wVe(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!TVe.test(r)&&(this.num=NaN,this.unit=""),AVe.includes(r)&&(this.num=CVe(t,r),this.unit="px")}return _Ve(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=NVe.exec(r))!==null&&n!==void 0?n:[],a=lS(i,3),s=a[1],o=a[2];return new e(parseFloat(s),o??"")}}])}();function Hre(e){if(e.includes(dp))return dp;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=kV.exec(t))!==null&&r!==void 0?r:[],i=lS(n,4),a=i[1],s=i[2],o=i[3],c=xw.parse(a??""),u=xw.parse(o??""),d=s==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return dp;t=t.replace(kV,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=IV.exec(t))!==null&&f!==void 0?f:[],m=lS(h,4),g=m[1],p=m[2],v=m[3],y=xw.parse(g??""),x=xw.parse(v??""),w=p==="+"?y.add(x):y.subtract(x);if(w.isNaN())return dp;t=t.replace(IV,w.toString())}return t}var OV=/\(([^()]*)\)/;function jVe(e){for(var t=e;t.includes("(");){var r=OV.exec(t),n=lS(r,2),i=n[1];t=t.replace(OV,Hre(i))}return t}function PVe(e){var t=e.replace(/\s+/g,"");return t=jVe(t),t=Hre(t),t}function RVe(e){try{return PVe(e)}catch{return dp}}function $C(e){var t=RVe(e.slice(5,-1));return t===dp?"":t}var kVe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],IVe=["dx","dy","angle","className","breakAll"];function hk(){return hk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hk.apply(this,arguments)}function DV(e,t){if(e==null)return{};var r=OVe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function OVe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function MV(e,t){return FVe(e)||LVe(e,t)||MVe(e,t)||DVe()}function DVe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MVe(e,t){if(e){if(typeof e=="string")return LV(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return LV(e,t)}}function LV(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function LVe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function FVe(e){if(Array.isArray(e))return e}var qre=/[ \f\n\r\t\v\u2028\u2029]+/,Gre=function(t){var r=t.children,n=t.breakAll,i=t.style;try{var a=[];ar(r)||(n?a=r.toString().split(""):a=r.toString().split(qre));var s=a.map(function(c){return{word:c,width:jV(c,i).width}}),o=n?0:jV(" ",i).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}},$Ve=function(t,r,n,i,a){var s=t.maxLines,o=t.children,c=t.style,u=t.breakAll,d=ut(s),f=o,h=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return B.reduce(function(ee,z){var V=z.word,U=z.width,se=ee[ee.length-1];if(se&&(i==null||a||se.width+U+n<Number(i)))se.words.push(V),se.width+=U+n;else{var ne={words:[V],width:U};ee.push(ne)}return ee},[])},m=h(r),g=function(B){return B.reduce(function(ee,z){return ee.width>z.width?ee:z})};if(!d)return m;for(var p="…",v=function(B){var ee=f.slice(0,B),z=Gre({breakAll:u,style:c,children:ee+p}).wordsWithComputedWidth,V=h(z),U=V.length>s||g(V).width>Number(i);return[U,V]},y=0,x=f.length-1,w=0,N;y<=x&&w<=f.length-1;){var E=Math.floor((y+x)/2),T=E-1,S=v(T),A=MV(S,2),C=A[0],j=A[1],I=v(E),O=MV(I,1),k=O[0];if(!C&&!k&&(y=E+1),C&&k&&(x=E-1),!C&&k){N=j;break}w++}return N||m},FV=function(t){var r=ar(t)?[]:t.toString().split(qre);return[{words:r}]},BVe=function(t){var r=t.width,n=t.scaleToFit,i=t.children,a=t.style,s=t.breakAll,o=t.maxLines;if((r||n)&&!uN.isSsr){var c,u,d=Gre({breakAll:s,children:i,style:a});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return FV(i);return $Ve({breakAll:s,children:i,maxLines:o,style:a},c,u,r,n)}return FV(i)},$V="#808080",j0=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,a=i===void 0?0:i,s=t.lineHeight,o=s===void 0?"1em":s,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,m=h===void 0?"start":h,g=t.verticalAnchor,p=g===void 0?"end":g,v=t.fill,y=v===void 0?$V:v,x=DV(t,kVe),w=b.useMemo(function(){return BVe({breakAll:x.breakAll,children:x.children,maxLines:x.maxLines,scaleToFit:f,style:x.style,width:x.width})},[x.breakAll,x.children,x.maxLines,f,x.style,x.width]),N=x.dx,E=x.dy,T=x.angle,S=x.className,A=x.breakAll,C=DV(x,IVe);if(!hi(n)||!hi(a))return null;var j=n+(ut(N)?N:0),I=a+(ut(E)?E:0),O;switch(p){case"start":O=$C("calc(".concat(u,")"));break;case"middle":O=$C("calc(".concat((w.length-1)/2," * -").concat(o," + (").concat(u," / 2))"));break;default:O=$C("calc(".concat(w.length-1," * -").concat(o,")"));break}var k=[];if(f){var D=w[0].width,B=x.width;k.push("scale(".concat((ut(B)?B/D:1)/D,")"))}return T&&k.push("rotate(".concat(T,", ").concat(j,", ").concat(I,")")),k.length&&(C.transform=k.join(" ")),te.createElement("text",hk({},Kt(C,!0),{x:j,y:I,className:lr("recharts-text",S),textAnchor:m,fill:y.includes("url")?$V:y}),w.map(function(ee,z){var V=ee.words.join(A?"":" ");return te.createElement("tspan",{x:j,dy:z===0?O:o,key:"".concat(V,"-").concat(z)},V)}))};function kd(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function VVe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function CM(e){let t,r,n;e.length!==2?(t=kd,r=(o,c)=>kd(e(o),c),n=(o,c)=>e(o)-c):(t=e===kd||e===VVe?e:UVe,r=e,n=e);function i(o,c,u=0,d=o.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(o[f],c)<0?u=f+1:d=f}while(u<d)}return u}function a(o,c,u=0,d=o.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(o[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function s(o,c,u=0,d=o.length){const f=i(o,c,u,d-1);return f>u&&n(o[f-1],c)>-n(o[f],c)?f-1:f}return{left:i,center:s,right:a}}function UVe(){return 0}function Kre(e){return e===null?NaN:+e}function*zVe(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const WVe=CM(kd),eb=WVe.right;CM(Kre).center;class BV extends Map{constructor(t,r=GVe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(VV(this,t))}has(t){return super.has(VV(this,t))}set(t,r){return super.set(HVe(this,t),r)}delete(t){return super.delete(qVe(this,t))}}function VV({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function HVe({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function qVe({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function GVe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function KVe(e=kd){if(e===kd)return Yre;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function Yre(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const YVe=Math.sqrt(50),XVe=Math.sqrt(10),QVe=Math.sqrt(2);function cS(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),s=a>=YVe?10:a>=XVe?5:a>=QVe?2:1;let o,c,u;return i<0?(u=Math.pow(10,-i)/s,o=Math.round(e*u),c=Math.round(t*u),o/u<e&&++o,c/u>t&&--c,u=-u):(u=Math.pow(10,i)*s,o=Math.round(e/u),c=Math.round(t/u),o*u<e&&++o,c*u>t&&--c),c<o&&.5<=r&&r<2?cS(e,t,r*2):[o,c,u]}function mk(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,a,s]=n?cS(t,e,r):cS(e,t,r);if(!(a>=i))return[];const o=a-i+1,c=new Array(o);if(n)if(s<0)for(let u=0;u<o;++u)c[u]=(a-u)/-s;else for(let u=0;u<o;++u)c[u]=(a-u)*s;else if(s<0)for(let u=0;u<o;++u)c[u]=(i+u)/-s;else for(let u=0;u<o;++u)c[u]=(i+u)*s;return c}function pk(e,t,r){return t=+t,e=+e,r=+r,cS(e,t,r)[2]}function gk(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?pk(t,e,r):pk(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function UV(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function zV(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function Xre(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?Yre:KVe(i);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(r,Math.floor(t-u*f/c+h)),g=Math.min(n,Math.floor(t+(c-u)*f/c+h));Xre(e,t,m,g,i)}const a=e[t];let s=r,o=n;for(cv(e,r,t),i(e[n],a)>0&&cv(e,r,n);s<o;){for(cv(e,s,o),++s,--o;i(e[s],a)<0;)++s;for(;i(e[o],a)>0;)--o}i(e[r],a)===0?cv(e,r,o):(++o,cv(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function cv(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function ZVe(e,t,r){if(e=Float64Array.from(zVe(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return zV(e);if(t>=1)return UV(e);var n,i=(n-1)*t,a=Math.floor(i),s=UV(Xre(e,a).subarray(0,a+1)),o=zV(e.subarray(a+1));return s+(o-s)*(i-a)}}function JVe(e,t,r=Kre){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,a=Math.floor(i),s=+r(e[a],a,e),o=+r(e[a+1],a+1,e);return s+(o-s)*(i-a)}}function e9e(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(i);++n<i;)a[n]=e+n*r;return a}function Po(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Iu(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const vk=Symbol("implicit");function jM(){var e=new BV,t=[],r=[],n=vk;function i(a){let s=e.get(a);if(s===void 0){if(n!==vk)return n;e.set(a,s=t.push(a)-1)}return r[s%r.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new BV;for(const s of a)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return jM(t,r).unknown(n)},Po.apply(i,arguments),i}function wx(){var e=jM().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,a,s,o=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,m=i<n,g=m?i:n,p=m?n:i;a=(p-g)/Math.max(1,h-c+u*2),o&&(a=Math.floor(a)),g+=(p-g-a*(h-c))*d,s=a*(1-c),o&&(g=Math.round(g),s=Math.round(s));var v=e9e(h).map(function(y){return g+a*y});return r(m?v.reverse():v)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,i]=h,n=+n,i=+i,f()):[n,i]},e.rangeRound=function(h){return[n,i]=h,n=+n,i=+i,o=!0,f()},e.bandwidth=function(){return s},e.step=function(){return a},e.round=function(h){return arguments.length?(o=!!h,f()):o},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return wx(t(),[n,i]).round(o).paddingInner(c).paddingOuter(u).align(d)},Po.apply(f(),arguments)}function Qre(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Qre(t())},e}function uy(){return Qre(wx.apply(null,arguments).paddingInner(1))}function PM(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function Zre(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function tb(){}var _x=.7,uS=1/_x,Ip="\\s*([+-]?\\d+)\\s*",Ex="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ac="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",t9e=/^#([0-9a-f]{3,8})$/,r9e=new RegExp(`^rgb\\(${Ip},${Ip},${Ip}\\)$`),n9e=new RegExp(`^rgb\\(${ac},${ac},${ac}\\)$`),i9e=new RegExp(`^rgba\\(${Ip},${Ip},${Ip},${Ex}\\)$`),a9e=new RegExp(`^rgba\\(${ac},${ac},${ac},${Ex}\\)$`),s9e=new RegExp(`^hsl\\(${Ex},${ac},${ac}\\)$`),o9e=new RegExp(`^hsla\\(${Ex},${ac},${ac},${Ex}\\)$`),WV={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};PM(tb,Sx,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:HV,formatHex:HV,formatHex8:l9e,formatHsl:c9e,formatRgb:qV,toString:qV});function HV(){return this.rgb().formatHex()}function l9e(){return this.rgb().formatHex8()}function c9e(){return Jre(this).formatHsl()}function qV(){return this.rgb().formatRgb()}function Sx(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=t9e.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?GV(t):r===3?new Qa(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?bw(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?bw(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=r9e.exec(e))?new Qa(t[1],t[2],t[3],1):(t=n9e.exec(e))?new Qa(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=i9e.exec(e))?bw(t[1],t[2],t[3],t[4]):(t=a9e.exec(e))?bw(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=s9e.exec(e))?XV(t[1],t[2]/100,t[3]/100,1):(t=o9e.exec(e))?XV(t[1],t[2]/100,t[3]/100,t[4]):WV.hasOwnProperty(e)?GV(WV[e]):e==="transparent"?new Qa(NaN,NaN,NaN,0):null}function GV(e){return new Qa(e>>16&255,e>>8&255,e&255,1)}function bw(e,t,r,n){return n<=0&&(e=t=r=NaN),new Qa(e,t,r,n)}function u9e(e){return e instanceof tb||(e=Sx(e)),e?(e=e.rgb(),new Qa(e.r,e.g,e.b,e.opacity)):new Qa}function yk(e,t,r,n){return arguments.length===1?u9e(e):new Qa(e,t,r,n??1)}function Qa(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}PM(Qa,yk,Zre(tb,{brighter(e){return e=e==null?uS:Math.pow(uS,e),new Qa(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?_x:Math.pow(_x,e),new Qa(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Qa(wh(this.r),wh(this.g),wh(this.b),dS(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:KV,formatHex:KV,formatHex8:d9e,formatRgb:YV,toString:YV}));function KV(){return`#${eh(this.r)}${eh(this.g)}${eh(this.b)}`}function d9e(){return`#${eh(this.r)}${eh(this.g)}${eh(this.b)}${eh((isNaN(this.opacity)?1:this.opacity)*255)}`}function YV(){const e=dS(this.opacity);return`${e===1?"rgb(":"rgba("}${wh(this.r)}, ${wh(this.g)}, ${wh(this.b)}${e===1?")":`, ${e})`}`}function dS(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function wh(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function eh(e){return e=wh(e),(e<16?"0":"")+e.toString(16)}function XV(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Qo(e,t,r,n)}function Jre(e){if(e instanceof Qo)return new Qo(e.h,e.s,e.l,e.opacity);if(e instanceof tb||(e=Sx(e)),!e)return new Qo;if(e instanceof Qo)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),s=NaN,o=a-i,c=(a+i)/2;return o?(t===a?s=(r-n)/o+(r<n)*6:r===a?s=(n-t)/o+2:s=(t-r)/o+4,o/=c<.5?a+i:2-a-i,s*=60):o=c>0&&c<1?0:s,new Qo(s,o,c,e.opacity)}function f9e(e,t,r,n){return arguments.length===1?Jre(e):new Qo(e,t,r,n??1)}function Qo(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}PM(Qo,f9e,Zre(tb,{brighter(e){return e=e==null?uS:Math.pow(uS,e),new Qo(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?_x:Math.pow(_x,e),new Qo(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new Qa(BC(e>=240?e-240:e+120,i,n),BC(e,i,n),BC(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new Qo(QV(this.h),ww(this.s),ww(this.l),dS(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=dS(this.opacity);return`${e===1?"hsl(":"hsla("}${QV(this.h)}, ${ww(this.s)*100}%, ${ww(this.l)*100}%${e===1?")":`, ${e})`}`}}));function QV(e){return e=(e||0)%360,e<0?e+360:e}function ww(e){return Math.max(0,Math.min(1,e||0))}function BC(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const RM=e=>()=>e;function h9e(e,t){return function(r){return e+r*t}}function m9e(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function p9e(e){return(e=+e)==1?ene:function(t,r){return r-t?m9e(t,r,e):RM(isNaN(t)?r:t)}}function ene(e,t){var r=t-e;return r?h9e(e,r):RM(isNaN(e)?t:e)}const ZV=function e(t){var r=p9e(t);function n(i,a){var s=r((i=yk(i)).r,(a=yk(a)).r),o=r(i.g,a.g),c=r(i.b,a.b),u=ene(i.opacity,a.opacity);return function(d){return i.r=s(d),i.g=o(d),i.b=c(d),i.opacity=u(d),i+""}}return n.gamma=e,n}(1);function g9e(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=e[i]*(1-a)+t[i]*a;return n}}function v9e(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function y9e(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),a=new Array(r),s;for(s=0;s<n;++s)i[s]=Cg(e[s],t[s]);for(;s<r;++s)a[s]=t[s];return function(o){for(s=0;s<n;++s)a[s]=i[s](o);return a}}function x9e(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function fS(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function b9e(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=Cg(e[i],t[i]):n[i]=t[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var xk=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,VC=new RegExp(xk.source,"g");function w9e(e){return function(){return e}}function _9e(e){return function(t){return e(t)+""}}function E9e(e,t){var r=xk.lastIndex=VC.lastIndex=0,n,i,a,s=-1,o=[],c=[];for(e=e+"",t=t+"";(n=xk.exec(e))&&(i=VC.exec(t));)(a=i.index)>r&&(a=t.slice(r,a),o[s]?o[s]+=a:o[++s]=a),(n=n[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,c.push({i:s,x:fS(n,i)})),r=VC.lastIndex;return r<t.length&&(a=t.slice(r),o[s]?o[s]+=a:o[++s]=a),o.length<2?c[0]?_9e(c[0].x):w9e(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)o[(f=c[d]).i]=f.x(u);return o.join("")})}function Cg(e,t){var r=typeof t,n;return t==null||r==="boolean"?RM(t):(r==="number"?fS:r==="string"?(n=Sx(t))?(t=n,ZV):E9e:t instanceof Sx?ZV:t instanceof Date?x9e:v9e(t)?g9e:Array.isArray(t)?y9e:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?b9e:fS)(e,t)}function kM(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function S9e(e,t){t===void 0&&(t=e,e=Cg);for(var r=0,n=t.length-1,i=t[0],a=new Array(n<0?0:n);r<n;)a[r]=e(i,i=t[++r]);return function(s){var o=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return a[o](s-o)}}function T9e(e){return function(){return e}}function hS(e){return+e}var JV=[0,1];function Aa(e){return e}function bk(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:T9e(isNaN(t)?NaN:.5)}function N9e(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function A9e(e,t,r){var n=e[0],i=e[1],a=t[0],s=t[1];return i<n?(n=bk(i,n),a=r(s,a)):(n=bk(n,i),a=r(a,s)),function(o){return a(n(o))}}function C9e(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),a=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)i[s]=bk(e[s],e[s+1]),a[s]=r(t[s],t[s+1]);return function(o){var c=eb(e,o,1,n)-1;return a[c](i[c](o))}}function rb(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function fN(){var e=JV,t=JV,r=Cg,n,i,a,s=Aa,o,c,u;function d(){var h=Math.min(e.length,t.length);return s!==Aa&&(s=N9e(e[0],e[h-1])),o=h>2?C9e:A9e,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?a:(c||(c=o(e.map(n),t,r)))(n(s(h)))}return f.invert=function(h){return s(i((u||(u=o(t,e.map(n),fS)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,hS),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=kM,d()},f.clamp=function(h){return arguments.length?(s=h?!0:Aa,d()):s!==Aa},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,m){return n=h,i=m,d()}}function IM(){return fN()(Aa,Aa)}function j9e(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function mS(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function P0(e){return e=mS(Math.abs(e)),e?e[1]:NaN}function P9e(e,t){return function(r,n){for(var i=r.length,a=[],s=0,o=e[0],c=0;i>0&&o>0&&(c+o+1>n&&(o=Math.max(1,n-c)),a.push(r.substring(i-=o,i+o)),!((c+=o+1)>n));)o=e[s=(s+1)%e.length];return a.reverse().join(t)}}function R9e(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var k9e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Tx(e){if(!(t=k9e.exec(e)))throw new Error("invalid format: "+e);var t;return new OM({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Tx.prototype=OM.prototype;function OM(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}OM.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function I9e(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var tne;function O9e(e,t){var r=mS(e,t);if(!r)return e+"";var n=r[0],i=r[1],a=i-(tne=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return a===s?n:a>s?n+new Array(a-s+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+mS(e,Math.max(0,t+a-1))[0]}function e9(e,t){var r=mS(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const t9={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:j9e,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>e9(e*100,t),r:e9,s:O9e,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function r9(e){return e}var n9=Array.prototype.map,i9=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function D9e(e){var t=e.grouping===void 0||e.thousands===void 0?r9:P9e(n9.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?r9:R9e(n9.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=Tx(f);var h=f.fill,m=f.align,g=f.sign,p=f.symbol,v=f.zero,y=f.width,x=f.comma,w=f.precision,N=f.trim,E=f.type;E==="n"?(x=!0,E="g"):t9[E]||(w===void 0&&(w=12),N=!0,E="g"),(v||h==="0"&&m==="=")&&(v=!0,h="0",m="=");var T=p==="$"?r:p==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",S=p==="$"?n:/[%p]/.test(E)?s:"",A=t9[E],C=/[defgprs%]/.test(E);w=w===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function j(I){var O=T,k=S,D,B,ee;if(E==="c")k=A(I)+k,I="";else{I=+I;var z=I<0||1/I<0;if(I=isNaN(I)?c:A(Math.abs(I),w),N&&(I=I9e(I)),z&&+I==0&&g!=="+"&&(z=!1),O=(z?g==="("?g:o:g==="-"||g==="("?"":g)+O,k=(E==="s"?i9[8+tne/3]:"")+k+(z&&g==="("?")":""),C){for(D=-1,B=I.length;++D<B;)if(ee=I.charCodeAt(D),48>ee||ee>57){k=(ee===46?i+I.slice(D+1):I.slice(D))+k,I=I.slice(0,D);break}}}x&&!v&&(I=t(I,1/0));var V=O.length+I.length+k.length,U=V<y?new Array(y-V+1).join(h):"";switch(x&&v&&(I=t(U+I,U.length?y-k.length:1/0),U=""),m){case"<":I=O+I+k+U;break;case"=":I=O+U+I+k;break;case"^":I=U.slice(0,V=U.length>>1)+O+I+k+U.slice(V);break;default:I=U+O+I+k;break}return a(I)}return j.toString=function(){return f+""},j}function d(f,h){var m=u((f=Tx(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(P0(h)/3)))*3,p=Math.pow(10,-g),v=i9[8+g/3];return function(y){return m(p*y)+v}}return{format:u,formatPrefix:d}}var _w,DM,rne;M9e({thousands:",",grouping:[3],currency:["$",""]});function M9e(e){return _w=D9e(e),DM=_w.format,rne=_w.formatPrefix,_w}function L9e(e){return Math.max(0,-P0(Math.abs(e)))}function F9e(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(P0(t)/3)))*3-P0(Math.abs(e)))}function $9e(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,P0(t)-P0(e))+1}function nne(e,t,r,n){var i=gk(e,t,r),a;switch(n=Tx(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(a=F9e(i,s))&&(n.precision=a),rne(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=$9e(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=L9e(i))&&(n.precision=a-(n.type==="%")*2);break}}return DM(n)}function _f(e){var t=e.domain;return e.ticks=function(r){var n=t();return mk(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return nne(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,a=n.length-1,s=n[i],o=n[a],c,u,d=10;for(o<s&&(u=s,s=o,o=u,u=i,i=a,a=u);d-- >0;){if(u=pk(s,o,r),u===c)return n[i]=s,n[a]=o,t(n);if(u>0)s=Math.floor(s/u)*u,o=Math.ceil(o/u)*u;else if(u<0)s=Math.ceil(s*u)/u,o=Math.floor(o*u)/u;else break;c=u}return e},e}function pS(){var e=IM();return e.copy=function(){return rb(e,pS())},Po.apply(e,arguments),_f(e)}function ine(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,hS),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return ine(e).unknown(t)},e=arguments.length?Array.from(e,hS):[0,1],_f(r)}function ane(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],a=e[n],s;return a<i&&(s=r,r=n,n=s,s=i,i=a,a=s),e[r]=t.floor(i),e[n]=t.ceil(a),e}function a9(e){return Math.log(e)}function s9(e){return Math.exp(e)}function B9e(e){return-Math.log(-e)}function V9e(e){return-Math.exp(-e)}function U9e(e){return isFinite(e)?+("1e"+e):e<0?0:e}function z9e(e){return e===10?U9e:e===Math.E?Math.exp:t=>Math.pow(e,t)}function W9e(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function o9(e){return(t,r)=>-e(-t,r)}function MM(e){const t=e(a9,s9),r=t.domain;let n=10,i,a;function s(){return i=W9e(n),a=z9e(n),r()[0]<0?(i=o9(i),a=o9(a),e(B9e,V9e)):e(a9,s9),t}return t.base=function(o){return arguments.length?(n=+o,s()):n},t.domain=function(o){return arguments.length?(r(o),s()):r()},t.ticks=o=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=i(u),m=i(d),g,p;const v=o==null?10:+o;let y=[];if(!(n%1)&&m-h<v){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(g=1;g<n;++g)if(p=h<0?g/a(-h):g*a(h),!(p<u)){if(p>d)break;y.push(p)}}else for(;h<=m;++h)for(g=n-1;g>=1;--g)if(p=h>0?g/a(-h):g*a(h),!(p<u)){if(p>d)break;y.push(p)}y.length*2<v&&(y=mk(u,d,v))}else y=mk(h,m,Math.min(m-h,v)).map(a);return f?y.reverse():y},t.tickFormat=(o,c)=>{if(o==null&&(o=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Tx(c)).precision==null&&(c.trim=!0),c=DM(c)),o===1/0)return c;const u=Math.max(1,n*o/t.ticks().length);return d=>{let f=d/a(Math.round(i(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(ane(r(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),t}function sne(){const e=MM(fN()).domain([1,10]);return e.copy=()=>rb(e,sne()).base(e.base()),Po.apply(e,arguments),e}function l9(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function c9(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function LM(e){var t=1,r=e(l9(t),c9(t));return r.constant=function(n){return arguments.length?e(l9(t=+n),c9(t)):t},_f(r)}function one(){var e=LM(fN());return e.copy=function(){return rb(e,one()).constant(e.constant())},Po.apply(e,arguments)}function u9(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function H9e(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function q9e(e){return e<0?-e*e:e*e}function FM(e){var t=e(Aa,Aa),r=1;function n(){return r===1?e(Aa,Aa):r===.5?e(H9e,q9e):e(u9(r),u9(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},_f(t)}function $M(){var e=FM(fN());return e.copy=function(){return rb(e,$M()).exponent(e.exponent())},Po.apply(e,arguments),e}function G9e(){return $M.apply(null,arguments).exponent(.5)}function d9(e){return Math.sign(e)*e*e}function K9e(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function lne(){var e=IM(),t=[0,1],r=!1,n;function i(a){var s=K9e(e(a));return isNaN(s)?n:r?Math.round(s):s}return i.invert=function(a){return e.invert(d9(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,hS)).map(d9)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return lne(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Po.apply(i,arguments),_f(i)}function cne(){var e=[],t=[],r=[],n;function i(){var s=0,o=Math.max(1,t.length);for(r=new Array(o-1);++s<o;)r[s-1]=JVe(e,s/o);return a}function a(s){return s==null||isNaN(s=+s)?n:t[eb(r,s)]}return a.invertExtent=function(s){var o=t.indexOf(s);return o<0?[NaN,NaN]:[o>0?r[o-1]:e[0],o<r.length?r[o]:e[e.length-1]]},a.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let o of s)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(kd),i()},a.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return cne().domain(e).range(t).unknown(n)},Po.apply(a,arguments)}function une(){var e=0,t=1,r=1,n=[.5],i=[0,1],a;function s(c){return c!=null&&c<=c?i[eb(n,c,0,r)]:a}function o(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return s}return s.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,o()):[e,t]},s.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,o()):i.slice()},s.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},s.unknown=function(c){return arguments.length&&(a=c),s},s.thresholds=function(){return n.slice()},s.copy=function(){return une().domain([e,t]).range(i).unknown(a)},Po.apply(_f(s),arguments)}function dne(){var e=[.5],t=[0,1],r,n=1;function i(a){return a!=null&&a<=a?t[eb(e,a,0,n)]:r}return i.domain=function(a){return arguments.length?(e=Array.from(a),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var s=t.indexOf(a);return[e[s-1],e[s]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return dne().domain(e).range(t).unknown(r)},Po.apply(i,arguments)}const UC=new Date,zC=new Date;function gi(e,t,r,n){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(t(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const c=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return c;let u;do c.push(u=new Date(+a)),t(a,o),e(a);while(u<a&&a<s);return c},i.filter=a=>gi(s=>{if(s>=s)for(;e(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!a(s););else for(;--o>=0;)for(;t(s,1),!a(s););}),r&&(i.count=(a,s)=>(UC.setTime(+a),zC.setTime(+s),e(UC),e(zC),Math.floor(r(UC,zC))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?s=>n(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const gS=gi(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);gS.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?gi(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):gS);gS.range;const Wc=1e3,mo=Wc*60,Hc=mo*60,_u=Hc*24,BM=_u*7,f9=_u*30,WC=_u*365,th=gi(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Wc)},(e,t)=>(t-e)/Wc,e=>e.getUTCSeconds());th.range;const VM=gi(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Wc)},(e,t)=>{e.setTime(+e+t*mo)},(e,t)=>(t-e)/mo,e=>e.getMinutes());VM.range;const UM=gi(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*mo)},(e,t)=>(t-e)/mo,e=>e.getUTCMinutes());UM.range;const zM=gi(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Wc-e.getMinutes()*mo)},(e,t)=>{e.setTime(+e+t*Hc)},(e,t)=>(t-e)/Hc,e=>e.getHours());zM.range;const WM=gi(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Hc)},(e,t)=>(t-e)/Hc,e=>e.getUTCHours());WM.range;const nb=gi(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*mo)/_u,e=>e.getDate()-1);nb.range;const hN=gi(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/_u,e=>e.getUTCDate()-1);hN.range;const fne=gi(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/_u,e=>Math.floor(e/_u));fne.range;function mm(e){return gi(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*mo)/BM)}const mN=mm(0),vS=mm(1),Y9e=mm(2),X9e=mm(3),R0=mm(4),Q9e=mm(5),Z9e=mm(6);mN.range;vS.range;Y9e.range;X9e.range;R0.range;Q9e.range;Z9e.range;function pm(e){return gi(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/BM)}const pN=pm(0),yS=pm(1),J9e=pm(2),eUe=pm(3),k0=pm(4),tUe=pm(5),rUe=pm(6);pN.range;yS.range;J9e.range;eUe.range;k0.range;tUe.range;rUe.range;const HM=gi(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());HM.range;const qM=gi(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());qM.range;const Eu=gi(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Eu.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:gi(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Eu.range;const Su=gi(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Su.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:gi(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Su.range;function hne(e,t,r,n,i,a){const s=[[th,1,Wc],[th,5,5*Wc],[th,15,15*Wc],[th,30,30*Wc],[a,1,mo],[a,5,5*mo],[a,15,15*mo],[a,30,30*mo],[i,1,Hc],[i,3,3*Hc],[i,6,6*Hc],[i,12,12*Hc],[n,1,_u],[n,2,2*_u],[r,1,BM],[t,1,f9],[t,3,3*f9],[e,1,WC]];function o(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),g=m?m.range(u,+d+1):[];return h?g.reverse():g}function c(u,d,f){const h=Math.abs(d-u)/f,m=CM(([,,v])=>v).right(s,h);if(m===s.length)return e.every(gk(u/WC,d/WC,f));if(m===0)return gS.every(Math.max(gk(u,d,f),1));const[g,p]=s[h/s[m-1][2]<s[m][2]/h?m-1:m];return g.every(p)}return[o,c]}const[nUe,iUe]=hne(Su,qM,pN,fne,WM,UM),[aUe,sUe]=hne(Eu,HM,mN,nb,zM,VM);function HC(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function qC(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function uv(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function oUe(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,a=e.days,s=e.shortDays,o=e.months,c=e.shortMonths,u=dv(i),d=fv(i),f=dv(a),h=fv(a),m=dv(s),g=fv(s),p=dv(o),v=fv(o),y=dv(c),x=fv(c),w={a:z,A:V,b:U,B:se,c:null,d:y9,e:y9,f:PUe,g:BUe,G:UUe,H:AUe,I:CUe,j:jUe,L:mne,m:RUe,M:kUe,p:ne,q:M,Q:w9,s:_9,S:IUe,u:OUe,U:DUe,V:MUe,w:LUe,W:FUe,x:null,X:null,y:$Ue,Y:VUe,Z:zUe,"%":b9},N={a:W,A:G,b:P,B:J,c:null,d:x9,e:x9,f:GUe,g:n7e,G:a7e,H:WUe,I:HUe,j:qUe,L:gne,m:KUe,M:YUe,p:oe,q:ae,Q:w9,s:_9,S:XUe,u:QUe,U:ZUe,V:JUe,w:e7e,W:t7e,x:null,X:null,y:r7e,Y:i7e,Z:s7e,"%":b9},E={a:j,A:I,b:O,B:k,c:D,d:g9,e:g9,f:EUe,g:p9,G:m9,H:v9,I:v9,j:xUe,L:_Ue,m:yUe,M:bUe,p:C,q:vUe,Q:TUe,s:NUe,S:wUe,u:fUe,U:hUe,V:mUe,w:dUe,W:pUe,x:B,X:ee,y:p9,Y:m9,Z:gUe,"%":SUe};w.x=T(r,w),w.X=T(n,w),w.c=T(t,w),N.x=T(r,N),N.X=T(n,N),N.c=T(t,N);function T(K,ie){return function(fe){var le=[],Be=-1,Oe=0,vt=K.length,mt,ge,st;for(fe instanceof Date||(fe=new Date(+fe));++Be<vt;)K.charCodeAt(Be)===37&&(le.push(K.slice(Oe,Be)),(ge=h9[mt=K.charAt(++Be)])!=null?mt=K.charAt(++Be):ge=mt==="e"?" ":"0",(st=ie[mt])&&(mt=st(fe,ge)),le.push(mt),Oe=Be+1);return le.push(K.slice(Oe,Be)),le.join("")}}function S(K,ie){return function(fe){var le=uv(1900,void 0,1),Be=A(le,K,fe+="",0),Oe,vt;if(Be!=fe.length)return null;if("Q"in le)return new Date(le.Q);if("s"in le)return new Date(le.s*1e3+("L"in le?le.L:0));if(ie&&!("Z"in le)&&(le.Z=0),"p"in le&&(le.H=le.H%12+le.p*12),le.m===void 0&&(le.m="q"in le?le.q:0),"V"in le){if(le.V<1||le.V>53)return null;"w"in le||(le.w=1),"Z"in le?(Oe=qC(uv(le.y,0,1)),vt=Oe.getUTCDay(),Oe=vt>4||vt===0?yS.ceil(Oe):yS(Oe),Oe=hN.offset(Oe,(le.V-1)*7),le.y=Oe.getUTCFullYear(),le.m=Oe.getUTCMonth(),le.d=Oe.getUTCDate()+(le.w+6)%7):(Oe=HC(uv(le.y,0,1)),vt=Oe.getDay(),Oe=vt>4||vt===0?vS.ceil(Oe):vS(Oe),Oe=nb.offset(Oe,(le.V-1)*7),le.y=Oe.getFullYear(),le.m=Oe.getMonth(),le.d=Oe.getDate()+(le.w+6)%7)}else("W"in le||"U"in le)&&("w"in le||(le.w="u"in le?le.u%7:"W"in le?1:0),vt="Z"in le?qC(uv(le.y,0,1)).getUTCDay():HC(uv(le.y,0,1)).getDay(),le.m=0,le.d="W"in le?(le.w+6)%7+le.W*7-(vt+5)%7:le.w+le.U*7-(vt+6)%7);return"Z"in le?(le.H+=le.Z/100|0,le.M+=le.Z%100,qC(le)):HC(le)}}function A(K,ie,fe,le){for(var Be=0,Oe=ie.length,vt=fe.length,mt,ge;Be<Oe;){if(le>=vt)return-1;if(mt=ie.charCodeAt(Be++),mt===37){if(mt=ie.charAt(Be++),ge=E[mt in h9?ie.charAt(Be++):mt],!ge||(le=ge(K,fe,le))<0)return-1}else if(mt!=fe.charCodeAt(le++))return-1}return le}function C(K,ie,fe){var le=u.exec(ie.slice(fe));return le?(K.p=d.get(le[0].toLowerCase()),fe+le[0].length):-1}function j(K,ie,fe){var le=m.exec(ie.slice(fe));return le?(K.w=g.get(le[0].toLowerCase()),fe+le[0].length):-1}function I(K,ie,fe){var le=f.exec(ie.slice(fe));return le?(K.w=h.get(le[0].toLowerCase()),fe+le[0].length):-1}function O(K,ie,fe){var le=y.exec(ie.slice(fe));return le?(K.m=x.get(le[0].toLowerCase()),fe+le[0].length):-1}function k(K,ie,fe){var le=p.exec(ie.slice(fe));return le?(K.m=v.get(le[0].toLowerCase()),fe+le[0].length):-1}function D(K,ie,fe){return A(K,t,ie,fe)}function B(K,ie,fe){return A(K,r,ie,fe)}function ee(K,ie,fe){return A(K,n,ie,fe)}function z(K){return s[K.getDay()]}function V(K){return a[K.getDay()]}function U(K){return c[K.getMonth()]}function se(K){return o[K.getMonth()]}function ne(K){return i[+(K.getHours()>=12)]}function M(K){return 1+~~(K.getMonth()/3)}function W(K){return s[K.getUTCDay()]}function G(K){return a[K.getUTCDay()]}function P(K){return c[K.getUTCMonth()]}function J(K){return o[K.getUTCMonth()]}function oe(K){return i[+(K.getUTCHours()>=12)]}function ae(K){return 1+~~(K.getUTCMonth()/3)}return{format:function(K){var ie=T(K+="",w);return ie.toString=function(){return K},ie},parse:function(K){var ie=S(K+="",!1);return ie.toString=function(){return K},ie},utcFormat:function(K){var ie=T(K+="",N);return ie.toString=function(){return K},ie},utcParse:function(K){var ie=S(K+="",!0);return ie.toString=function(){return K},ie}}}var h9={"-":"",_:" ",0:"0"},Ti=/^\s*\d+/,lUe=/^%/,cUe=/[\\^$*+?|[\]().{}]/g;function vr(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(t)+i:i)}function uUe(e){return e.replace(cUe,"\\$&")}function dv(e){return new RegExp("^(?:"+e.map(uUe).join("|")+")","i")}function fv(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function dUe(e,t,r){var n=Ti.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function fUe(e,t,r){var n=Ti.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function hUe(e,t,r){var n=Ti.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function mUe(e,t,r){var n=Ti.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function pUe(e,t,r){var n=Ti.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function m9(e,t,r){var n=Ti.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function p9(e,t,r){var n=Ti.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function gUe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function vUe(e,t,r){var n=Ti.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function yUe(e,t,r){var n=Ti.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function g9(e,t,r){var n=Ti.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function xUe(e,t,r){var n=Ti.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function v9(e,t,r){var n=Ti.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function bUe(e,t,r){var n=Ti.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function wUe(e,t,r){var n=Ti.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function _Ue(e,t,r){var n=Ti.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function EUe(e,t,r){var n=Ti.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function SUe(e,t,r){var n=lUe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function TUe(e,t,r){var n=Ti.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function NUe(e,t,r){var n=Ti.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function y9(e,t){return vr(e.getDate(),t,2)}function AUe(e,t){return vr(e.getHours(),t,2)}function CUe(e,t){return vr(e.getHours()%12||12,t,2)}function jUe(e,t){return vr(1+nb.count(Eu(e),e),t,3)}function mne(e,t){return vr(e.getMilliseconds(),t,3)}function PUe(e,t){return mne(e,t)+"000"}function RUe(e,t){return vr(e.getMonth()+1,t,2)}function kUe(e,t){return vr(e.getMinutes(),t,2)}function IUe(e,t){return vr(e.getSeconds(),t,2)}function OUe(e){var t=e.getDay();return t===0?7:t}function DUe(e,t){return vr(mN.count(Eu(e)-1,e),t,2)}function pne(e){var t=e.getDay();return t>=4||t===0?R0(e):R0.ceil(e)}function MUe(e,t){return e=pne(e),vr(R0.count(Eu(e),e)+(Eu(e).getDay()===4),t,2)}function LUe(e){return e.getDay()}function FUe(e,t){return vr(vS.count(Eu(e)-1,e),t,2)}function $Ue(e,t){return vr(e.getFullYear()%100,t,2)}function BUe(e,t){return e=pne(e),vr(e.getFullYear()%100,t,2)}function VUe(e,t){return vr(e.getFullYear()%1e4,t,4)}function UUe(e,t){var r=e.getDay();return e=r>=4||r===0?R0(e):R0.ceil(e),vr(e.getFullYear()%1e4,t,4)}function zUe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+vr(t/60|0,"0",2)+vr(t%60,"0",2)}function x9(e,t){return vr(e.getUTCDate(),t,2)}function WUe(e,t){return vr(e.getUTCHours(),t,2)}function HUe(e,t){return vr(e.getUTCHours()%12||12,t,2)}function qUe(e,t){return vr(1+hN.count(Su(e),e),t,3)}function gne(e,t){return vr(e.getUTCMilliseconds(),t,3)}function GUe(e,t){return gne(e,t)+"000"}function KUe(e,t){return vr(e.getUTCMonth()+1,t,2)}function YUe(e,t){return vr(e.getUTCMinutes(),t,2)}function XUe(e,t){return vr(e.getUTCSeconds(),t,2)}function QUe(e){var t=e.getUTCDay();return t===0?7:t}function ZUe(e,t){return vr(pN.count(Su(e)-1,e),t,2)}function vne(e){var t=e.getUTCDay();return t>=4||t===0?k0(e):k0.ceil(e)}function JUe(e,t){return e=vne(e),vr(k0.count(Su(e),e)+(Su(e).getUTCDay()===4),t,2)}function e7e(e){return e.getUTCDay()}function t7e(e,t){return vr(yS.count(Su(e)-1,e),t,2)}function r7e(e,t){return vr(e.getUTCFullYear()%100,t,2)}function n7e(e,t){return e=vne(e),vr(e.getUTCFullYear()%100,t,2)}function i7e(e,t){return vr(e.getUTCFullYear()%1e4,t,4)}function a7e(e,t){var r=e.getUTCDay();return e=r>=4||r===0?k0(e):k0.ceil(e),vr(e.getUTCFullYear()%1e4,t,4)}function s7e(){return"+0000"}function b9(){return"%"}function w9(e){return+e}function _9(e){return Math.floor(+e/1e3)}var km,yne,xne;o7e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function o7e(e){return km=oUe(e),yne=km.format,km.parse,xne=km.utcFormat,km.utcParse,km}function l7e(e){return new Date(e)}function c7e(e){return e instanceof Date?+e:+new Date(+e)}function GM(e,t,r,n,i,a,s,o,c,u){var d=IM(),f=d.invert,h=d.domain,m=u(".%L"),g=u(":%S"),p=u("%I:%M"),v=u("%I %p"),y=u("%a %d"),x=u("%b %d"),w=u("%B"),N=u("%Y");function E(T){return(c(T)<T?m:o(T)<T?g:s(T)<T?p:a(T)<T?v:n(T)<T?i(T)<T?y:x:r(T)<T?w:N)(T)}return d.invert=function(T){return new Date(f(T))},d.domain=function(T){return arguments.length?h(Array.from(T,c7e)):h().map(l7e)},d.ticks=function(T){var S=h();return e(S[0],S[S.length-1],T??10)},d.tickFormat=function(T,S){return S==null?E:u(S)},d.nice=function(T){var S=h();return(!T||typeof T.range!="function")&&(T=t(S[0],S[S.length-1],T??10)),T?h(ane(S,T)):d},d.copy=function(){return rb(d,GM(e,t,r,n,i,a,s,o,c,u))},d}function u7e(){return Po.apply(GM(aUe,sUe,Eu,HM,mN,nb,zM,VM,th,yne).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function d7e(){return Po.apply(GM(nUe,iUe,Su,qM,pN,hN,WM,UM,th,xne).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function gN(){var e=0,t=1,r,n,i,a,s=Aa,o=!1,c;function u(f){return f==null||isNaN(f=+f)?c:s(i===0?.5:(f=(a(f)-r)*i,o?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=a(e=+e),n=a(t=+t),i=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(o=!!f,u):o},u.interpolator=function(f){return arguments.length?(s=f,u):s};function d(f){return function(h){var m,g;return arguments.length?([m,g]=h,s=f(m,g),u):[s(0),s(1)]}}return u.range=d(Cg),u.rangeRound=d(kM),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return a=f,r=f(e),n=f(t),i=r===n?0:1/(n-r),u}}function Ef(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function bne(){var e=_f(gN()(Aa));return e.copy=function(){return Ef(e,bne())},Iu.apply(e,arguments)}function wne(){var e=MM(gN()).domain([1,10]);return e.copy=function(){return Ef(e,wne()).base(e.base())},Iu.apply(e,arguments)}function _ne(){var e=LM(gN());return e.copy=function(){return Ef(e,_ne()).constant(e.constant())},Iu.apply(e,arguments)}function KM(){var e=FM(gN());return e.copy=function(){return Ef(e,KM()).exponent(e.exponent())},Iu.apply(e,arguments)}function f7e(){return KM.apply(null,arguments).exponent(.5)}function Ene(){var e=[],t=Aa;function r(n){if(n!=null&&!isNaN(n=+n))return t((eb(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(kd),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>ZVe(e,a/n))},r.copy=function(){return Ene(t).domain(e)},Iu.apply(r,arguments)}function vN(){var e=0,t=.5,r=1,n=1,i,a,s,o,c,u=Aa,d,f=!1,h;function m(p){return isNaN(p=+p)?h:(p=.5+((p=+d(p))-a)*(n*p<n*a?o:c),u(f?Math.max(0,Math.min(1,p)):p))}m.domain=function(p){return arguments.length?([e,t,r]=p,i=d(e=+e),a=d(t=+t),s=d(r=+r),o=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),n=a<i?-1:1,m):[e,t,r]},m.clamp=function(p){return arguments.length?(f=!!p,m):f},m.interpolator=function(p){return arguments.length?(u=p,m):u};function g(p){return function(v){var y,x,w;return arguments.length?([y,x,w]=v,u=S9e(p,[y,x,w]),m):[u(0),u(.5),u(1)]}}return m.range=g(Cg),m.rangeRound=g(kM),m.unknown=function(p){return arguments.length?(h=p,m):h},function(p){return d=p,i=p(e),a=p(t),s=p(r),o=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),n=a<i?-1:1,m}}function Sne(){var e=_f(vN()(Aa));return e.copy=function(){return Ef(e,Sne())},Iu.apply(e,arguments)}function Tne(){var e=MM(vN()).domain([.1,1,10]);return e.copy=function(){return Ef(e,Tne()).base(e.base())},Iu.apply(e,arguments)}function Nne(){var e=LM(vN());return e.copy=function(){return Ef(e,Nne()).constant(e.constant())},Iu.apply(e,arguments)}function YM(){var e=FM(vN());return e.copy=function(){return Ef(e,YM()).exponent(e.exponent())},Iu.apply(e,arguments)}function h7e(){return YM.apply(null,arguments).exponent(.5)}const E9=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:wx,scaleDiverging:Sne,scaleDivergingLog:Tne,scaleDivergingPow:YM,scaleDivergingSqrt:h7e,scaleDivergingSymlog:Nne,scaleIdentity:ine,scaleImplicit:vk,scaleLinear:pS,scaleLog:sne,scaleOrdinal:jM,scalePoint:uy,scalePow:$M,scaleQuantile:cne,scaleQuantize:une,scaleRadial:lne,scaleSequential:bne,scaleSequentialLog:wne,scaleSequentialPow:KM,scaleSequentialQuantile:Ene,scaleSequentialSqrt:f7e,scaleSequentialSymlog:_ne,scaleSqrt:G9e,scaleSymlog:one,scaleThreshold:dne,scaleTime:u7e,scaleUtc:d7e,tickFormat:nne},Symbol.toStringTag,{value:"Module"}));var m7e=bg;function p7e(e,t,r){for(var n=-1,i=e.length;++n<i;){var a=e[n],s=t(a);if(s!=null&&(o===void 0?s===s&&!m7e(s):r(s,o)))var o=s,c=a}return c}var yN=p7e;function g7e(e,t){return e>t}var Ane=g7e,v7e=yN,y7e=Ane,x7e=Ag;function b7e(e){return e&&e.length?v7e(e,x7e,y7e):void 0}var w7e=b7e;const xN=kr(w7e);function _7e(e,t){return e<t}var Cne=_7e,E7e=yN,S7e=Cne,T7e=Ag;function N7e(e){return e&&e.length?E7e(e,T7e,S7e):void 0}var A7e=N7e;const bN=kr(A7e);var C7e=lM,j7e=wf,P7e=Dre,R7e=us;function k7e(e,t){var r=R7e(e)?C7e:P7e;return r(e,j7e(t))}var I7e=k7e,O7e=Ire,D7e=I7e;function M7e(e,t){return O7e(D7e(e,t),1)}var L7e=M7e;const F7e=kr(L7e);var $7e=SM;function B7e(e,t){return $7e(e,t)}var V7e=B7e;const XM=kr(V7e);var jg=1e9,U7e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},ZM,hn=!0,Eo="[DecimalError] ",_h=Eo+"Invalid argument: ",QM=Eo+"Exponent out of range: ",Pg=Math.floor,Vf=Math.pow,z7e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,_s,yi=1e7,Jr=7,jne=9007199254740991,xS=Pg(jne/Jr),ht={};ht.absoluteValue=ht.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ht.comparedTo=ht.cmp=function(e){var t,r,n,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(n=a.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};ht.decimalPlaces=ht.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Jr;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ht.dividedBy=ht.div=function(e){return tu(this,new this.constructor(e))};ht.dividedToIntegerBy=ht.idiv=function(e){var t=this,r=t.constructor;return Fr(tu(t,new r(e),0,1),r.precision)};ht.equals=ht.eq=function(e){return!this.cmp(e)};ht.exponent=function(){return ri(this)};ht.greaterThan=ht.gt=function(e){return this.cmp(e)>0};ht.greaterThanOrEqualTo=ht.gte=function(e){return this.cmp(e)>=0};ht.isInteger=ht.isint=function(){return this.e>this.d.length-2};ht.isNegative=ht.isneg=function(){return this.s<0};ht.isPositive=ht.ispos=function(){return this.s>0};ht.isZero=function(){return this.s===0};ht.lessThan=ht.lt=function(e){return this.cmp(e)<0};ht.lessThanOrEqualTo=ht.lte=function(e){return this.cmp(e)<1};ht.logarithm=ht.log=function(e){var t,r=this,n=r.constructor,i=n.precision,a=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(_s))throw Error(Eo+"NaN");if(r.s<1)throw Error(Eo+(r.s?"NaN":"-Infinity"));return r.eq(_s)?new n(0):(hn=!1,t=tu(Nx(r,a),Nx(e,a),a),hn=!0,Fr(t,i))};ht.minus=ht.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?kne(t,e):Pne(t,(e.s=-e.s,e))};ht.modulo=ht.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(Eo+"NaN");return r.s?(hn=!1,t=tu(r,e,0,1).times(e),hn=!0,r.minus(t)):Fr(new n(r),i)};ht.naturalExponential=ht.exp=function(){return Rne(this)};ht.naturalLogarithm=ht.ln=function(){return Nx(this)};ht.negated=ht.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ht.plus=ht.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Pne(t,e):kne(t,(e.s=-e.s,e))};ht.precision=ht.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(_h+e);if(t=ri(i)+1,n=i.d.length-1,r=n*Jr+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};ht.squareRoot=ht.sqrt=function(){var e,t,r,n,i,a,s,o=this,c=o.constructor;if(o.s<1){if(!o.s)return new c(0);throw Error(Eo+"NaN")}for(e=ri(o),hn=!1,i=Math.sqrt(+o),i==0||i==1/0?(t=Vl(o.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Pg((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(i.toString()),r=c.precision,i=s=r+3;;)if(a=n,n=a.plus(tu(o,a,s+2)).times(.5),Vl(a.d).slice(0,s)===(t=Vl(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&t=="4999"){if(Fr(a,r+1,0),a.times(a).eq(o)){n=a;break}}else if(t!="9999")break;s+=4}return hn=!0,Fr(n,r)};ht.times=ht.mul=function(e){var t,r,n,i,a,s,o,c,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=m.length,c<u&&(a=h,h=m,m=a,s=c,c=u,u=s),a=[],s=c+u,n=s;n--;)a.push(0);for(n=u;--n>=0;){for(t=0,i=c+n;i>n;)o=a[i]+m[n]*h[i-n-1]+t,a[i--]=o%yi|0,t=o/yi|0;a[i]=(a[i]+t)%yi|0}for(;!a[--s];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r,hn?Fr(e,f.precision):e};ht.toDecimalPlaces=ht.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(mc(e,0,jg),t===void 0?t=n.rounding:mc(t,0,8),Fr(r,e+ri(r)+1,t))};ht.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=Uh(n,!0):(mc(e,0,jg),t===void 0?t=i.rounding:mc(t,0,8),n=Fr(new i(n),e+1,t),r=Uh(n,!0,e+1)),r};ht.toFixed=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?Uh(i):(mc(e,0,jg),t===void 0?t=a.rounding:mc(t,0,8),n=Fr(new a(i),e+ri(i)+1,t),r=Uh(n.abs(),!1,e+ri(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};ht.toInteger=ht.toint=function(){var e=this,t=e.constructor;return Fr(new t(e),ri(e)+1,t.rounding)};ht.toNumber=function(){return+this};ht.toPower=ht.pow=function(e){var t,r,n,i,a,s,o=this,c=o.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(_s);if(o=new c(o),!o.s){if(e.s<1)throw Error(Eo+"Infinity");return o}if(o.eq(_s))return o;if(n=c.precision,e.eq(_s))return Fr(o,n);if(t=e.e,r=e.d.length-1,s=t>=r,a=o.s,s){if((r=d<0?-d:d)<=jne){for(i=new c(_s),t=Math.ceil(n/Jr+4),hn=!1;r%2&&(i=i.times(o),T9(i.d,t)),r=Pg(r/2),r!==0;)o=o.times(o),T9(o.d,t);return hn=!0,e.s<0?new c(_s).div(i):Fr(i,n)}}else if(a<0)throw Error(Eo+"NaN");return a=a<0&&e.d[Math.max(t,r)]&1?-1:1,o.s=1,hn=!1,i=e.times(Nx(o,n+u)),hn=!0,i=Rne(i),i.s=a,i};ht.toPrecision=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?(r=ri(i),n=Uh(i,r<=a.toExpNeg||r>=a.toExpPos)):(mc(e,1,jg),t===void 0?t=a.rounding:mc(t,0,8),i=Fr(new a(i),e,t),r=ri(i),n=Uh(i,e<=r||r<=a.toExpNeg,e)),n};ht.toSignificantDigits=ht.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(mc(e,1,jg),t===void 0?t=n.rounding:mc(t,0,8)),Fr(new n(r),e,t)};ht.toString=ht.valueOf=ht.val=ht.toJSON=ht[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=ri(e),r=e.constructor;return Uh(e,t<=r.toExpNeg||t>=r.toExpPos)};function Pne(e,t){var r,n,i,a,s,o,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),hn?Fr(t,f):t;if(c=e.d,u=t.d,s=e.e,i=t.e,c=c.slice(),a=s-i,a){for(a<0?(n=c,a=-a,o=u.length):(n=u,i=s,o=c.length),s=Math.ceil(f/Jr),o=s>o?s+1:o+1,a>o&&(a=o,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(o=c.length,a=u.length,o-a<0&&(a=o,n=u,u=c,c=n),r=0;a;)r=(c[--a]=c[a]+u[a]+r)/yi|0,c[a]%=yi;for(r&&(c.unshift(r),++i),o=c.length;c[--o]==0;)c.pop();return t.d=c,t.e=i,hn?Fr(t,f):t}function mc(e,t,r){if(e!==~~e||e<t||e>r)throw Error(_h+e)}function Vl(e){var t,r,n,i=e.length-1,a="",s=e[0];if(i>0){for(a+=s,t=1;t<i;t++)n=e[t]+"",r=Jr-n.length,r&&(a+=Yu(r)),a+=n;s=e[t],n=s+"",r=Jr-n.length,r&&(a+=Yu(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var tu=function(){function e(n,i){var a,s=0,o=n.length;for(n=n.slice();o--;)a=n[o]*i+s,n[o]=a%yi|0,s=a/yi|0;return s&&n.unshift(s),n}function t(n,i,a,s){var o,c;if(a!=s)c=a>s?1:-1;else for(o=c=0;o<a;o++)if(n[o]!=i[o]){c=n[o]>i[o]?1:-1;break}return c}function r(n,i,a){for(var s=0;a--;)n[a]-=s,s=n[a]<i[a]?1:0,n[a]=s*yi+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,s){var o,c,u,d,f,h,m,g,p,v,y,x,w,N,E,T,S,A,C=n.constructor,j=n.s==i.s?1:-1,I=n.d,O=i.d;if(!n.s)return new C(n);if(!i.s)throw Error(Eo+"Division by zero");for(c=n.e-i.e,S=O.length,E=I.length,m=new C(j),g=m.d=[],u=0;O[u]==(I[u]||0);)++u;if(O[u]>(I[u]||0)&&--c,a==null?x=a=C.precision:s?x=a+(ri(n)-ri(i))+1:x=a,x<0)return new C(0);if(x=x/Jr+2|0,u=0,S==1)for(d=0,O=O[0],x++;(u<E||d)&&x--;u++)w=d*yi+(I[u]||0),g[u]=w/O|0,d=w%O|0;else{for(d=yi/(O[0]+1)|0,d>1&&(O=e(O,d),I=e(I,d),S=O.length,E=I.length),N=S,p=I.slice(0,S),v=p.length;v<S;)p[v++]=0;A=O.slice(),A.unshift(0),T=O[0],O[1]>=yi/2&&++T;do d=0,o=t(O,p,S,v),o<0?(y=p[0],S!=v&&(y=y*yi+(p[1]||0)),d=y/T|0,d>1?(d>=yi&&(d=yi-1),f=e(O,d),h=f.length,v=p.length,o=t(f,p,h,v),o==1&&(d--,r(f,S<h?A:O,h))):(d==0&&(o=d=1),f=O.slice()),h=f.length,h<v&&f.unshift(0),r(p,f,v),o==-1&&(v=p.length,o=t(O,p,S,v),o<1&&(d++,r(p,S<v?A:O,v))),v=p.length):o===0&&(d++,p=[0]),g[u++]=d,o&&p[0]?p[v++]=I[N]||0:(p=[I[N]],v=1);while((N++<E||p[0]!==void 0)&&x--)}return g[0]||g.shift(),m.e=c,Fr(m,s?a+ri(m)+1:a)}}();function Rne(e,t){var r,n,i,a,s,o,c=0,u=0,d=e.constructor,f=d.precision;if(ri(e)>16)throw Error(QM+ri(e));if(!e.s)return new d(_s);for(hn=!1,o=f,s=new d(.03125);e.abs().gte(.1);)e=e.times(s),u+=5;for(n=Math.log(Vf(2,u))/Math.LN10*2+5|0,o+=n,r=i=a=new d(_s),d.precision=o;;){if(i=Fr(i.times(e),o),r=r.times(++c),s=a.plus(tu(i,r,o)),Vl(s.d).slice(0,o)===Vl(a.d).slice(0,o)){for(;u--;)a=Fr(a.times(a),o);return d.precision=f,t==null?(hn=!0,Fr(a,f)):a}a=s}}function ri(e){for(var t=e.e*Jr,r=e.d[0];r>=10;r/=10)t++;return t}function GC(e,t,r){if(t>e.LN10.sd())throw hn=!0,r&&(e.precision=r),Error(Eo+"LN10 precision limit exceeded");return Fr(new e(e.LN10),t)}function Yu(e){for(var t="";e--;)t+="0";return t}function Nx(e,t){var r,n,i,a,s,o,c,u,d,f=1,h=10,m=e,g=m.d,p=m.constructor,v=p.precision;if(m.s<1)throw Error(Eo+(m.s?"NaN":"-Infinity"));if(m.eq(_s))return new p(0);if(t==null?(hn=!1,u=v):u=t,m.eq(10))return t==null&&(hn=!0),GC(p,u);if(u+=h,p.precision=u,r=Vl(g),n=r.charAt(0),a=ri(m),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=Vl(m.d),n=r.charAt(0),f++;a=ri(m),n>1?(m=new p("0."+r),a++):m=new p(n+"."+r.slice(1))}else return c=GC(p,u+2,v).times(a+""),m=Nx(new p(n+"."+r.slice(1)),u-h).plus(c),p.precision=v,t==null?(hn=!0,Fr(m,v)):m;for(o=s=m=tu(m.minus(_s),m.plus(_s),u),d=Fr(m.times(m),u),i=3;;){if(s=Fr(s.times(d),u),c=o.plus(tu(s,new p(i),u)),Vl(c.d).slice(0,u)===Vl(o.d).slice(0,u))return o=o.times(2),a!==0&&(o=o.plus(GC(p,u+2,v).times(a+""))),o=tu(o,new p(f),u),p.precision=v,t==null?(hn=!0,Fr(o,v)):o;o=c,i+=2}}function S9(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=Pg(r/Jr),e.d=[],n=(r+1)%Jr,r<0&&(n+=Jr),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=Jr;n<i;)e.d.push(+t.slice(n,n+=Jr));t=t.slice(n),n=Jr-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),hn&&(e.e>xS||e.e<-xS))throw Error(QM+r)}else e.s=0,e.e=0,e.d=[0];return e}function Fr(e,t,r){var n,i,a,s,o,c,u,d,f=e.d;for(s=1,a=f[0];a>=10;a/=10)s++;if(n=t-s,n<0)n+=Jr,i=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Jr),a=f.length,d>=a)return e;for(u=a=f[d],s=1;a>=10;a/=10)s++;n%=Jr,i=n-Jr+s}if(r!==void 0&&(a=Vf(10,s-i-1),o=u/a%10|0,c=t<0||f[d+1]!==void 0||u%a,c=r<4?(o||c)&&(r==0||r==(e.s<0?3:2)):o>5||o==5&&(r==4||c||r==6&&(n>0?i>0?u/Vf(10,s-i):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(a=ri(e),f.length=1,t=t-a-1,f[0]=Vf(10,(Jr-t%Jr)%Jr),e.e=Pg(-t/Jr)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,a=1,d--):(f.length=d+1,a=Vf(10,Jr-n),f[d]=i>0?(u/Vf(10,s-i)%Vf(10,i)|0)*a:0),c)for(;;)if(d==0){(f[0]+=a)==yi&&(f[0]=1,++e.e);break}else{if(f[d]+=a,f[d]!=yi)break;f[d--]=0,a=1}for(n=f.length;f[--n]===0;)f.pop();if(hn&&(e.e>xS||e.e<-xS))throw Error(QM+ri(e));return e}function kne(e,t){var r,n,i,a,s,o,c,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),hn?Fr(t,m):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),s=u-n,s){for(d=s<0,d?(r=c,s=-s,o=f.length):(r=f,n=u,o=c.length),i=Math.max(Math.ceil(m/Jr),o)+2,s>i&&(s=i,r.length=1),r.reverse(),i=s;i--;)r.push(0);r.reverse()}else{for(i=c.length,o=f.length,d=i<o,d&&(o=i),i=0;i<o;i++)if(c[i]!=f[i]){d=c[i]<f[i];break}s=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),o=c.length,i=f.length-o;i>0;--i)c[o++]=0;for(i=f.length;i>s;){if(c[--i]<f[i]){for(a=i;a&&c[--a]===0;)c[a]=yi-1;--c[a],c[i]+=yi}c[i]-=f[i]}for(;c[--o]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,hn?Fr(t,m):t):new h(0)}function Uh(e,t,r){var n,i=ri(e),a=Vl(e.d),s=a.length;return t?(r&&(n=r-s)>0?a=a.charAt(0)+"."+a.slice(1)+Yu(n):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Yu(-i-1)+a,r&&(n=r-s)>0&&(a+=Yu(n))):i>=s?(a+=Yu(i+1-s),r&&(n=r-i-1)>0&&(a=a+"."+Yu(n))):((n=i+1)<s&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(a+="."),a+=Yu(n))),e.s<0?"-"+a:a}function T9(e,t){if(e.length>t)return e.length=t,!0}function Ine(e){var t,r,n;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(_h+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return S9(s,a.toString())}else if(typeof a!="string")throw Error(_h+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,z7e.test(a))S9(s,a);else throw Error(_h+a)}if(i.prototype=ht,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=Ine,i.config=i.set=W7e,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function W7e(e){if(!e||typeof e!="object")throw Error(Eo+"Object expected");var t,r,n,i=["precision",1,jg,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(Pg(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(_h+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(_h+r+": "+n);return this}var ZM=Ine(U7e);_s=new ZM(1);const Or=ZM;function H7e(e){return Y7e(e)||K7e(e)||G7e(e)||q7e()}function q7e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function G7e(e,t){if(e){if(typeof e=="string")return wk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wk(e,t)}}function K7e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Y7e(e){if(Array.isArray(e))return wk(e)}function wk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var X7e=function(t){return t},One={},Dne=function(t){return t===One},N9=function(t){return function r(){return arguments.length===0||arguments.length===1&&Dne(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},Q7e=function e(t,r){return t===1?r:N9(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var s=i.filter(function(o){return o!==One}).length;return s>=t?r.apply(void 0,i):e(t-s,N9(function(){for(var o=arguments.length,c=new Array(o),u=0;u<o;u++)c[u]=arguments[u];var d=i.map(function(f){return Dne(f)?c.shift():f});return r.apply(void 0,H7e(d).concat(c))}))})},wN=function(t){return Q7e(t.length,t)},_k=function(t,r){for(var n=[],i=t;i<r;++i)n[i-t]=i;return n},Z7e=wN(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),J7e=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return X7e;var i=r.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce(function(o,c){return c(o)},a.apply(void 0,arguments))}},Ek=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},Mne=function(t){var r=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return r&&a.every(function(o,c){return o===r[c]})||(r=a,n=t.apply(void 0,a)),n}};function eze(e){var t;return e===0?t=1:t=Math.floor(new Or(e).abs().log(10).toNumber())+1,t}function tze(e,t,r){for(var n=new Or(e),i=0,a=[];n.lt(t)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var rze=wN(function(e,t,r){var n=+e,i=+t;return n+r*(i-n)}),nze=wN(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),ize=wN(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const _N={rangeStep:tze,getDigitCount:eze,interpolateNumber:rze,uninterpolateNumber:nze,uninterpolateTruncation:ize};function Sk(e){return oze(e)||sze(e)||Lne(e)||aze()}function aze(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sze(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function oze(e){if(Array.isArray(e))return Tk(e)}function Ax(e,t){return uze(e)||cze(e,t)||Lne(e,t)||lze()}function lze(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lne(e,t){if(e){if(typeof e=="string")return Tk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Tk(e,t)}}function Tk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function cze(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,i=!1,a=void 0;try{for(var s=e[Symbol.iterator](),o;!(n=(o=s.next()).done)&&(r.push(o.value),!(t&&r.length===t));n=!0);}catch(c){i=!0,a=c}finally{try{!n&&s.return!=null&&s.return()}finally{if(i)throw a}}return r}}function uze(e){if(Array.isArray(e))return e}function Fne(e){var t=Ax(e,2),r=t[0],n=t[1],i=r,a=n;return r>n&&(i=n,a=r),[i,a]}function $ne(e,t,r){if(e.lte(0))return new Or(0);var n=_N.getDigitCount(e.toNumber()),i=new Or(10).pow(n),a=e.div(i),s=n!==1?.05:.1,o=new Or(Math.ceil(a.div(s).toNumber())).add(r).mul(s),c=o.mul(i);return t?c:new Or(Math.ceil(c))}function dze(e,t,r){var n=1,i=new Or(e);if(!i.isint()&&r){var a=Math.abs(e);a<1?(n=new Or(10).pow(_N.getDigitCount(e)-1),i=new Or(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new Or(Math.floor(e)))}else e===0?i=new Or(Math.floor((t-1)/2)):r||(i=new Or(Math.floor(e)));var s=Math.floor((t-1)/2),o=J7e(Z7e(function(c){return i.add(new Or(c-s).mul(n)).toNumber()}),_k);return o(0,t)}function Bne(e,t,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Or(0),tickMin:new Or(0),tickMax:new Or(0)};var a=$ne(new Or(t).sub(e).div(r-1),n,i),s;e<=0&&t>=0?s=new Or(0):(s=new Or(e).add(t).div(2),s=s.sub(new Or(s).mod(a)));var o=Math.ceil(s.sub(e).div(a).toNumber()),c=Math.ceil(new Or(t).sub(s).div(a).toNumber()),u=o+c+1;return u>r?Bne(e,t,r,n,i+1):(u<r&&(c=t>0?c+(r-u):c,o=t>0?o:o+(r-u)),{step:a,tickMin:s.sub(new Or(o).mul(a)),tickMax:s.add(new Or(c).mul(a))})}function fze(e){var t=Ax(e,2),r=t[0],n=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),o=Fne([r,n]),c=Ax(o,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(Sk(_k(0,i-1).map(function(){return 1/0}))):[].concat(Sk(_k(0,i-1).map(function(){return-1/0})),[d]);return r>n?Ek(f):f}if(u===d)return dze(u,i,a);var h=Bne(u,d,s,a),m=h.step,g=h.tickMin,p=h.tickMax,v=_N.rangeStep(g,p.add(new Or(.1).mul(m)),m);return r>n?Ek(v):v}function hze(e,t){var r=Ax(e,2),n=r[0],i=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Fne([n,i]),o=Ax(s,2),c=o[0],u=o[1];if(c===-1/0||u===1/0)return[n,i];if(c===u)return[c];var d=Math.max(t,2),f=$ne(new Or(u).sub(c).div(d-1),a,0),h=[].concat(Sk(_N.rangeStep(new Or(c),new Or(u).sub(new Or(.99).mul(f)),f)),[u]);return n>i?Ek(h):h}var mze=Mne(fze),pze=Mne(hze),gze="Invariant failed";function I0(e,t){throw new Error(gze)}var vze=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function O0(e){"@babel/helpers - typeof";return O0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},O0(e)}function bS(){return bS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bS.apply(this,arguments)}function yze(e,t){return _ze(e)||wze(e,t)||bze(e,t)||xze()}function xze(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bze(e,t){if(e){if(typeof e=="string")return A9(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return A9(e,t)}}function A9(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function wze(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function _ze(e){if(Array.isArray(e))return e}function Eze(e,t){if(e==null)return{};var r=Sze(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Sze(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Tze(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nze(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,zne(n.key),n)}}function Aze(e,t,r){return t&&Nze(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Cze(e,t,r){return t=wS(t),jze(e,Vne()?Reflect.construct(t,r||[],wS(e).constructor):t.apply(e,r))}function jze(e,t){if(t&&(O0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pze(e)}function Pze(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vne(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Vne=function(){return!!e})()}function wS(e){return wS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wS(e)}function Rze(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Nk(e,t)}function Nk(e,t){return Nk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Nk(e,t)}function Une(e,t,r){return t=zne(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zne(e){var t=kze(e,"string");return O0(t)=="symbol"?t:t+""}function kze(e,t){if(O0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(O0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var JM=function(e){function t(){return Tze(this,t),Cze(this,t,arguments)}return Rze(t,e),Aze(t,[{key:"render",value:function(){var n=this.props,i=n.offset,a=n.layout,s=n.width,o=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=Eze(n,vze),m=Kt(h,!1);this.props.direction==="x"&&d.type!=="number"&&I0();var g=c.map(function(p){var v=u(p,o),y=v.x,x=v.y,w=v.value,N=v.errorVal;if(!N)return null;var E=[],T,S;if(Array.isArray(N)){var A=yze(N,2);T=A[0],S=A[1]}else T=S=N;if(a==="vertical"){var C=d.scale,j=x+i,I=j+s,O=j-s,k=C(w-T),D=C(w+S);E.push({x1:D,y1:I,x2:D,y2:O}),E.push({x1:k,y1:j,x2:D,y2:j}),E.push({x1:k,y1:I,x2:k,y2:O})}else if(a==="horizontal"){var B=f.scale,ee=y+i,z=ee-s,V=ee+s,U=B(w-T),se=B(w+S);E.push({x1:z,y1:se,x2:V,y2:se}),E.push({x1:ee,y1:U,x2:ee,y2:se}),E.push({x1:z,y1:U,x2:V,y2:U})}return te.createElement(On,bS({className:"recharts-errorBar",key:"bar-".concat(E.map(function(ne){return"".concat(ne.x1,"-").concat(ne.x2,"-").concat(ne.y1,"-").concat(ne.y2)}))},m),E.map(function(ne){return te.createElement("line",bS({},ne,{key:"line-".concat(ne.x1,"-").concat(ne.x2,"-").concat(ne.y1,"-").concat(ne.y2)}))}))});return te.createElement(On,{className:"recharts-errorBars"},g)}}])}(te.Component);Une(JM,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});Une(JM,"displayName","ErrorBar");function Cx(e){"@babel/helpers - typeof";return Cx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cx(e)}function C9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Rf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?C9(Object(r),!0).forEach(function(n){Ize(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C9(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ize(e,t,r){return t=Oze(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Oze(e){var t=Dze(e,"string");return Cx(t)=="symbol"?t:t+""}function Dze(e,t){if(Cx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wne=function(t){var r=t.children,n=t.formattedGraphicalItems,i=t.legendWidth,a=t.legendContent,s=to(r,kp);if(!s)return null;var o=kp.defaultProps,c=o!==void 0?Rf(Rf({},o),s.props):{},u;return s.props&&s.props.payload?u=s.props&&s.props.payload:a==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,m=f.props,g=m.sectors||m.data||[];return d.concat(g.map(function(p){return{type:s.props.iconType||h.props.legendType,value:p.name,color:p.fill,payload:p}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,m=h!==void 0?Rf(Rf({},h),f.props):{},g=m.dataKey,p=m.name,v=m.legendType,y=m.hide;return{inactive:y,dataKey:g,type:c.iconType||v||"square",color:e3(f),value:p||g,payload:m}}),Rf(Rf(Rf({},c),kp.getWithHeight(s,i)),{},{payload:u,item:s})};function jx(e){"@babel/helpers - typeof";return jx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jx(e)}function j9(e){return $ze(e)||Fze(e)||Lze(e)||Mze()}function Mze(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lze(e,t){if(e){if(typeof e=="string")return Ak(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ak(e,t)}}function Fze(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $ze(e){if(Array.isArray(e))return Ak(e)}function Ak(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function P9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function kn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?P9(Object(r),!0).forEach(function(n){Op(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P9(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Op(e,t,r){return t=Bze(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bze(e){var t=Vze(e,"string");return jx(t)=="symbol"?t:t+""}function Vze(e,t){if(jx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Es(e,t,r){return ar(e)||ar(t)?r:hi(t)?ll(e,t,r):Yt(t)?t(e):r}function dy(e,t,r,n){var i=F7e(e,function(o){return Es(o,t)});if(r==="number"){var a=i.filter(function(o){return ut(o)||parseFloat(o)});return a.length?[bN(a),xN(a)]:[1/0,-1/0]}var s=n?i.filter(function(o){return!ar(o)}):i;return s.map(function(o){return hi(o)||o instanceof Date?o:""})}var Uze=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=-1,o=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(o<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var c=a.range,u=0;u<o;u++){var d=u>0?i[u-1].coordinate:i[o-1].coordinate,f=i[u].coordinate,h=u>=o-1?i[0].coordinate:i[u+1].coordinate,m=void 0;if(ho(f-d)!==ho(h-f)){var g=[];if(ho(h-f)===ho(c[1]-c[0])){m=h;var p=f+c[1]-c[0];g[0]=Math.min(p,(p+d)/2),g[1]=Math.max(p,(p+d)/2)}else{m=d;var v=h+c[1]-c[0];g[0]=Math.min(f,(v+f)/2),g[1]=Math.max(f,(v+f)/2)}var y=[Math.min(f,(m+f)/2),Math.max(f,(m+f)/2)];if(t>y[0]&&t<=y[1]||t>=g[0]&&t<=g[1]){s=i[u].index;break}}else{var x=Math.min(d,h),w=Math.max(d,h);if(t>(x+f)/2&&t<=(w+f)/2){s=i[u].index;break}}}else for(var N=0;N<o;N++)if(N===0&&t<=(n[N].coordinate+n[N+1].coordinate)/2||N>0&&N<o-1&&t>(n[N].coordinate+n[N-1].coordinate)/2&&t<=(n[N].coordinate+n[N+1].coordinate)/2||N===o-1&&t>(n[N].coordinate+n[N-1].coordinate)/2){s=n[N].index;break}return s},e3=function(t){var r,n=t,i=n.type.displayName,a=(r=t.type)!==null&&r!==void 0&&r.defaultProps?kn(kn({},t.type.defaultProps),t.props):t.props,s=a.stroke,o=a.fill,c;switch(i){case"Line":c=s;break;case"Area":case"Radar":c=s&&s!=="none"?s:o;break;default:c=o;break}return c},zze=function(t){var r=t.barSize,n=t.totalSize,i=t.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var s={},o=Object.keys(a),c=0,u=o.length;c<u;c++)for(var d=a[o[c]].stackGroups,f=Object.keys(d),h=0,m=f.length;h<m;h++){var g=d[f[h]],p=g.items,v=g.cateAxisId,y=p.filter(function(S){return Jc(S.type).indexOf("Bar")>=0});if(y&&y.length){var x=y[0].type.defaultProps,w=x!==void 0?kn(kn({},x),y[0].props):y[0].props,N=w.barSize,E=w[v];s[E]||(s[E]=[]);var T=ar(N)?r:N;s[E].push({item:y[0],stackList:y.slice(1),barSize:ar(T)?void 0:Xa(T,n,0)})}}return s},Wze=function(t){var r=t.barGap,n=t.barCategoryGap,i=t.bandSize,a=t.sizeList,s=a===void 0?[]:a,o=t.maxBarSize,c=s.length;if(c<1)return null;var u=Xa(r,i,0,!0),d,f=[];if(s[0].barSize===+s[0].barSize){var h=!1,m=i/c,g=s.reduce(function(N,E){return N+E.barSize||0},0);g+=(c-1)*u,g>=i&&(g-=(c-1)*u,u=0),g>=i&&m>0&&(h=!0,m*=.9,g=c*m);var p=(i-g)/2>>0,v={offset:p-u,size:0};d=s.reduce(function(N,E){var T={item:E.item,position:{offset:v.offset+v.size+u,size:h?m:E.barSize}},S=[].concat(j9(N),[T]);return v=S[S.length-1].position,E.stackList&&E.stackList.length&&E.stackList.forEach(function(A){S.push({item:A,position:v})}),S},f)}else{var y=Xa(n,i,0,!0);i-2*y-(c-1)*u<=0&&(u=0);var x=(i-2*y-(c-1)*u)/c;x>1&&(x>>=0);var w=o===+o?Math.min(x,o):x;d=s.reduce(function(N,E,T){var S=[].concat(j9(N),[{item:E.item,position:{offset:y+(x+u)*T+(x-w)/2,size:w}}]);return E.stackList&&E.stackList.length&&E.stackList.forEach(function(A){S.push({item:A,position:S[S.length-1].position})}),S},f)}return d},Hze=function(t,r,n,i){var a=n.children,s=n.width,o=n.margin,c=s-(o.left||0)-(o.right||0),u=Wne({children:a,legendWidth:c});if(u){var d=i||{},f=d.width,h=d.height,m=u.align,g=u.verticalAlign,p=u.layout;if((p==="vertical"||p==="horizontal"&&g==="middle")&&m!=="center"&&ut(t[m]))return kn(kn({},t),{},Op({},m,t[m]+(f||0)));if((p==="horizontal"||p==="vertical"&&m==="center")&&g!=="middle"&&ut(t[g]))return kn(kn({},t),{},Op({},g,t[g]+(h||0)))}return t},qze=function(t,r,n){return ar(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},Hne=function(t,r,n,i,a){var s=r.props.children,o=ic(s,JM).filter(function(u){return qze(i,a,u.props.direction)});if(o&&o.length){var c=o.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=Es(d,n);if(ar(f))return u;var h=Array.isArray(f)?[bN(f),xN(f)]:[f,f],m=c.reduce(function(g,p){var v=Es(d,p,0),y=h[0]-Math.abs(Array.isArray(v)?v[0]:v),x=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(y,g[0]),Math.max(x,g[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},Gze=function(t,r,n,i,a){var s=r.map(function(o){return Hne(t,o,n,a,i)}).filter(function(o){return!ar(o)});return s&&s.length?s.reduce(function(o,c){return[Math.min(o[0],c[0]),Math.max(o[1],c[1])]},[1/0,-1/0]):null},qne=function(t,r,n,i,a){var s=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&Hne(t,c,u,i)||dy(t,u,n,a)});if(n==="number")return s.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var o={};return s.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)o[u[d]]||(o[u[d]]=!0,c.push(u[d]));return c},[])},Gne=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},Dv=function(t,r,n){if(!t)return null;var i=t.scale,a=t.duplicateDomain,s=t.type,o=t.range,c=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(r||n)&&s==="category"&&i.bandwidth?i.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?ho(o[0]-o[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=a?a.indexOf(f):f;return{coordinate:i(h)+u,value:f,offset:u}});return d.filter(function(f){return!J1(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:i(f)+u,value:f,index:h,offset:u}}):i.ticks&&!n?i.ticks(t.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,h){return{coordinate:i(f)+u,value:a?a[f]:f,index:h,offset:u}})},KC=new WeakMap,Ew=function(t,r){if(typeof r!="function")return t;KC.has(t)||KC.set(t,new WeakMap);var n=KC.get(t);if(n.has(r))return n.get(r);var i=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},Kze=function(t,r,n){var i=t.scale,a=t.type,s=t.layout,o=t.axisType;if(i==="auto")return s==="radial"&&o==="radiusAxis"?{scale:wx(),realScaleType:"band"}:s==="radial"&&o==="angleAxis"?{scale:pS(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0)?{scale:uy(),realScaleType:"point"}:a==="category"?{scale:wx(),realScaleType:"band"}:{scale:pS(),realScaleType:"linear"};if(Z1(i)){var c="scale".concat(nN(i));return{scale:(E9[c]||uy)(),realScaleType:E9[c]?c:"point"}}return Yt(i)?{scale:i}:{scale:uy(),realScaleType:"point"}},R9=1e-4,Yze=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,i=t.range(),a=Math.min(i[0],i[1])-R9,s=Math.max(i[0],i[1])+R9,o=t(r[0]),c=t(r[n-1]);(o<a||o>s||c<a||c>s)&&t.domain([r[0],r[n-1]])}},Xze=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var a=0,s=0,o=0;o<r;++o){var c=J1(t[o][n][1])?t[o][n][0]:t[o][n][1];c>=0?(t[o][n][0]=a,t[o][n][1]=a+c,a=t[o][n][1]):(t[o][n][0]=s,t[o][n][1]=s+c,s=t[o][n][1])}},Qze=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var a=0,s=0;s<r;++s){var o=J1(t[s][n][1])?t[s][n][0]:t[s][n][1];o>=0?(t[s][n][0]=a,t[s][n][1]=a+o,a=t[s][n][1]):(t[s][n][0]=0,t[s][n][1]=0)}},Zze={sign:Xze,expand:gMe,none:S0,silhouette:vMe,wiggle:yMe,positive:Qze},Jze=function(t,r,n){var i=r.map(function(o){return o.props.dataKey}),a=Zze[n],s=pMe().keys(i).value(function(o,c){return+Es(o,c,0)}).order(ZR).offset(a);return s(t)},eWe=function(t,r,n,i,a,s){if(!t)return null;var o=s?r.reverse():r,c={},u=o.reduce(function(f,h){var m,g=(m=h.type)!==null&&m!==void 0&&m.defaultProps?kn(kn({},h.type.defaultProps),h.props):h.props,p=g.stackId,v=g.hide;if(v)return f;var y=g[n],x=f[y]||{hasStack:!1,stackGroups:{}};if(hi(p)){var w=x.stackGroups[p]||{numericAxisId:n,cateAxisId:i,items:[]};w.items.push(h),x.hasStack=!0,x.stackGroups[p]=w}else x.stackGroups[tN("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[h]};return kn(kn({},f),{},Op({},y,x))},c),d={};return Object.keys(u).reduce(function(f,h){var m=u[h];if(m.hasStack){var g={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(p,v){var y=m.stackGroups[v];return kn(kn({},p),{},Op({},v,{numericAxisId:n,cateAxisId:i,items:y.items,stackedData:Jze(t,y.items,a)}))},g)}return kn(kn({},f),{},Op({},h,m))},d)},tWe=function(t,r){var n=r.realScaleType,i=r.type,a=r.tickCount,s=r.originalDomain,o=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(a&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=mze(u,a,o);return t.domain([bN(d),xN(d)]),{niceTicks:d}}if(a&&i==="number"){var f=t.domain(),h=pze(f,a,o);return{niceTicks:h}}return null},rWe=function(t,r){var n,i=(n=t.type)!==null&&n!==void 0&&n.defaultProps?kn(kn({},t.type.defaultProps),t.props):t.props,a=i.stackId;if(hi(a)){var s=r[a];if(s){var o=s.items.indexOf(t);return o>=0?s.stackedData[o]:null}}return null},nWe=function(t){return t.reduce(function(r,n){return[bN(n.concat([r[0]]).filter(ut)),xN(n.concat([r[1]]).filter(ut))]},[1/0,-1/0])},Kne=function(t,r,n){return Object.keys(t).reduce(function(i,a){var s=t[a],o=s.stackedData,c=o.reduce(function(u,d){var f=nWe(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},k9=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,I9=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Ck=function(t,r,n){if(Yt(t))return t(r,n);if(!Array.isArray(t))return r;var i=[];if(ut(t[0]))i[0]=n?t[0]:Math.min(t[0],r[0]);else if(k9.test(t[0])){var a=+k9.exec(t[0])[1];i[0]=r[0]-a}else Yt(t[0])?i[0]=t[0](r[0]):i[0]=r[0];if(ut(t[1]))i[1]=n?t[1]:Math.max(t[1],r[1]);else if(I9.test(t[1])){var s=+I9.exec(t[1])[1];i[1]=r[1]+s}else Yt(t[1])?i[1]=t[1](r[1]):i[1]=r[1];return i},jk=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!n||i>0)return i}if(t&&r&&r.length>=2){for(var a=NM(r,function(f){return f.coordinate}),s=1/0,o=1,c=a.length;o<c;o++){var u=a[o],d=a[o-1];s=Math.min((u.coordinate||0)-(d.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},O9=function(t,r,n){return!t||!t.length||XM(t,ll(n,"type.defaultProps.domain"))?r:t},iWe=function(t,r){var n=t.type.defaultProps?kn(kn({},t.type.defaultProps),t.props):t.props,i=n.dataKey,a=n.name,s=n.unit,o=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return kn(kn({},Kt(t,!1)),{},{dataKey:i,unit:s,formatter:o,name:a||i,color:e3(t),value:Es(r,i),type:c,payload:r,chartType:u,hide:d})};function Px(e){"@babel/helpers - typeof";return Px=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Px(e)}function D9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Pc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?D9(Object(r),!0).forEach(function(n){Yne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D9(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yne(e,t,r){return t=aWe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aWe(e){var t=sWe(e,"string");return Px(t)=="symbol"?t:t+""}function sWe(e,t){if(Px(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Px(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oWe(e,t){return dWe(e)||uWe(e,t)||cWe(e,t)||lWe()}function lWe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cWe(e,t){if(e){if(typeof e=="string")return M9(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return M9(e,t)}}function M9(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function uWe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function dWe(e){if(Array.isArray(e))return e}var _S=Math.PI/180,fWe=function(t){return t*180/Math.PI},Hr=function(t,r,n,i){return{x:t+Math.cos(-_S*i)*n,y:r+Math.sin(-_S*i)*n}},Xne=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},hWe=function(t,r,n,i,a){var s=t.width,o=t.height,c=t.startAngle,u=t.endAngle,d=Xa(t.cx,s,s/2),f=Xa(t.cy,o,o/2),h=Xne(s,o,n),m=Xa(t.innerRadius,h,0),g=Xa(t.outerRadius,h,h*.8),p=Object.keys(r);return p.reduce(function(v,y){var x=r[y],w=x.domain,N=x.reversed,E;if(ar(x.range))i==="angleAxis"?E=[c,u]:i==="radiusAxis"&&(E=[m,g]),N&&(E=[E[1],E[0]]);else{E=x.range;var T=E,S=oWe(T,2);c=S[0],u=S[1]}var A=Kze(x,a),C=A.realScaleType,j=A.scale;j.domain(w).range(E),Yze(j);var I=tWe(j,Pc(Pc({},x),{},{realScaleType:C})),O=Pc(Pc(Pc({},x),I),{},{range:E,radius:g,realScaleType:C,scale:j,cx:d,cy:f,innerRadius:m,outerRadius:g,startAngle:c,endAngle:u});return Pc(Pc({},v),{},Yne({},y,O))},{})},mWe=function(t,r){var n=t.x,i=t.y,a=r.x,s=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-s,2))},pWe=function(t,r){var n=t.x,i=t.y,a=r.cx,s=r.cy,o=mWe({x:n,y:i},{x:a,y:s});if(o<=0)return{radius:o};var c=(n-a)/o,u=Math.acos(c);return i>s&&(u=2*Math.PI-u),{radius:o,angle:fWe(u),angleInRadian:u}},gWe=function(t){var r=t.startAngle,n=t.endAngle,i=Math.floor(r/360),a=Math.floor(n/360),s=Math.min(i,a);return{startAngle:r-s*360,endAngle:n-s*360}},vWe=function(t,r){var n=r.startAngle,i=r.endAngle,a=Math.floor(n/360),s=Math.floor(i/360),o=Math.min(a,s);return t+o*360},L9=function(t,r){var n=t.x,i=t.y,a=pWe({x:n,y:i},r),s=a.radius,o=a.angle,c=r.innerRadius,u=r.outerRadius;if(s<c||s>u)return!1;if(s===0)return!0;var d=gWe(r),f=d.startAngle,h=d.endAngle,m=o,g;if(f<=h){for(;m>h;)m-=360;for(;m<f;)m+=360;g=m>=f&&m<=h}else{for(;m>f;)m-=360;for(;m<h;)m+=360;g=m>=h&&m<=f}return g?Pc(Pc({},r),{},{radius:s,angle:vWe(m,r)}):null},Qne=function(t){return!b.isValidElement(t)&&!Yt(t)&&typeof t!="boolean"?t.className:""};function Rx(e){"@babel/helpers - typeof";return Rx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rx(e)}var yWe=["offset"];function xWe(e){return EWe(e)||_We(e)||wWe(e)||bWe()}function bWe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wWe(e,t){if(e){if(typeof e=="string")return Pk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Pk(e,t)}}function _We(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function EWe(e){if(Array.isArray(e))return Pk(e)}function Pk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function SWe(e,t){if(e==null)return{};var r=TWe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function TWe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function F9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function oi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F9(Object(r),!0).forEach(function(n){NWe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F9(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NWe(e,t,r){return t=AWe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AWe(e){var t=CWe(e,"string");return Rx(t)=="symbol"?t:t+""}function CWe(e,t){if(Rx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kx(){return kx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kx.apply(this,arguments)}var jWe=function(t){var r=t.value,n=t.formatter,i=ar(t.children)?r:t.children;return Yt(n)?n(i):i},PWe=function(t,r){var n=ho(r-t),i=Math.min(Math.abs(r-t),360);return n*i},RWe=function(t,r,n){var i=t.position,a=t.viewBox,s=t.offset,o=t.className,c=a,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,m=c.startAngle,g=c.endAngle,p=c.clockWise,v=(f+h)/2,y=PWe(m,g),x=y>=0?1:-1,w,N;i==="insideStart"?(w=m+x*s,N=p):i==="insideEnd"?(w=g-x*s,N=!p):i==="end"&&(w=g+x*s,N=p),N=y<=0?N:!N;var E=Hr(u,d,v,w),T=Hr(u,d,v,w+(N?1:-1)*359),S="M".concat(E.x,",").concat(E.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(N?0:1,`,
    `).concat(T.x,",").concat(T.y),A=ar(t.id)?tN("recharts-radial-line-"):t.id;return te.createElement("text",kx({},n,{dominantBaseline:"central",className:lr("recharts-radial-bar-label",o)}),te.createElement("defs",null,te.createElement("path",{id:A,d:S})),te.createElement("textPath",{xlinkHref:"#".concat(A)},r))},kWe=function(t){var r=t.viewBox,n=t.offset,i=t.position,a=r,s=a.cx,o=a.cy,c=a.innerRadius,u=a.outerRadius,d=a.startAngle,f=a.endAngle,h=(d+f)/2;if(i==="outside"){var m=Hr(s,o,u+n,h),g=m.x,p=m.y;return{x:g,y:p,textAnchor:g>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"end"};var v=(c+u)/2,y=Hr(s,o,v,h),x=y.x,w=y.y;return{x,y:w,textAnchor:"middle",verticalAnchor:"middle"}},IWe=function(t){var r=t.viewBox,n=t.parentViewBox,i=t.offset,a=t.position,s=r,o=s.x,c=s.y,u=s.width,d=s.height,f=d>=0?1:-1,h=f*i,m=f>0?"end":"start",g=f>0?"start":"end",p=u>=0?1:-1,v=p*i,y=p>0?"end":"start",x=p>0?"start":"end";if(a==="top"){var w={x:o+u/2,y:c-f*i,textAnchor:"middle",verticalAnchor:m};return oi(oi({},w),n?{height:Math.max(c-n.y,0),width:u}:{})}if(a==="bottom"){var N={x:o+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:g};return oi(oi({},N),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(a==="left"){var E={x:o-v,y:c+d/2,textAnchor:y,verticalAnchor:"middle"};return oi(oi({},E),n?{width:Math.max(E.x-n.x,0),height:d}:{})}if(a==="right"){var T={x:o+u+v,y:c+d/2,textAnchor:x,verticalAnchor:"middle"};return oi(oi({},T),n?{width:Math.max(n.x+n.width-T.x,0),height:d}:{})}var S=n?{width:u,height:d}:{};return a==="insideLeft"?oi({x:o+v,y:c+d/2,textAnchor:x,verticalAnchor:"middle"},S):a==="insideRight"?oi({x:o+u-v,y:c+d/2,textAnchor:y,verticalAnchor:"middle"},S):a==="insideTop"?oi({x:o+u/2,y:c+h,textAnchor:"middle",verticalAnchor:g},S):a==="insideBottom"?oi({x:o+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:m},S):a==="insideTopLeft"?oi({x:o+v,y:c+h,textAnchor:x,verticalAnchor:g},S):a==="insideTopRight"?oi({x:o+u-v,y:c+h,textAnchor:y,verticalAnchor:g},S):a==="insideBottomLeft"?oi({x:o+v,y:c+d-h,textAnchor:x,verticalAnchor:m},S):a==="insideBottomRight"?oi({x:o+u-v,y:c+d-h,textAnchor:y,verticalAnchor:m},S):wg(a)&&(ut(a.x)||Jf(a.x))&&(ut(a.y)||Jf(a.y))?oi({x:o+Xa(a.x,u),y:c+Xa(a.y,d),textAnchor:"end",verticalAnchor:"end"},S):oi({x:o+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},S)},OWe=function(t){return"cx"in t&&ut(t.cx)};function Di(e){var t=e.offset,r=t===void 0?5:t,n=SWe(e,yWe),i=oi({offset:r},n),a=i.viewBox,s=i.position,o=i.value,c=i.children,u=i.content,d=i.className,f=d===void 0?"":d,h=i.textBreakAll;if(!a||ar(o)&&ar(c)&&!b.isValidElement(u)&&!Yt(u))return null;if(b.isValidElement(u))return b.cloneElement(u,i);var m;if(Yt(u)){if(m=b.createElement(u,i),b.isValidElement(m))return m}else m=jWe(i);var g=OWe(a),p=Kt(i,!0);if(g&&(s==="insideStart"||s==="insideEnd"||s==="end"))return RWe(i,m,p);var v=g?kWe(i):IWe(i);return te.createElement(j0,kx({className:lr("recharts-label",f)},p,v,{breakAll:h}),m)}Di.displayName="Label";var Zne=function(t){var r=t.cx,n=t.cy,i=t.angle,a=t.startAngle,s=t.endAngle,o=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,m=t.top,g=t.left,p=t.width,v=t.height,y=t.clockWise,x=t.labelViewBox;if(x)return x;if(ut(p)&&ut(v)){if(ut(f)&&ut(h))return{x:f,y:h,width:p,height:v};if(ut(m)&&ut(g))return{x:m,y:g,width:p,height:v}}return ut(f)&&ut(h)?{x:f,y:h,width:0,height:0}:ut(r)&&ut(n)?{cx:r,cy:n,startAngle:a||i||0,endAngle:s||i||0,innerRadius:u||0,outerRadius:d||c||o||0,clockWise:y}:t.viewBox?t.viewBox:{}},DWe=function(t,r){return t?t===!0?te.createElement(Di,{key:"label-implicit",viewBox:r}):hi(t)?te.createElement(Di,{key:"label-implicit",viewBox:r,value:t}):b.isValidElement(t)?t.type===Di?b.cloneElement(t,{key:"label-implicit",viewBox:r}):te.createElement(Di,{key:"label-implicit",content:t,viewBox:r}):Yt(t)?te.createElement(Di,{key:"label-implicit",content:t,viewBox:r}):wg(t)?te.createElement(Di,kx({viewBox:r},t,{key:"label-implicit"})):null:null},MWe=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var i=t.children,a=Zne(t),s=ic(i,Di).map(function(c,u){return b.cloneElement(c,{viewBox:r||a,key:"label-".concat(u)})});if(!n)return s;var o=DWe(t.label,r||a);return[o].concat(xWe(s))};Di.parseViewBox=Zne;Di.renderCallByParent=MWe;function LWe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var FWe=LWe;const $We=kr(FWe);function Ix(e){"@babel/helpers - typeof";return Ix=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ix(e)}var BWe=["valueAccessor"],VWe=["data","dataKey","clockWise","id","textBreakAll"];function UWe(e){return qWe(e)||HWe(e)||WWe(e)||zWe()}function zWe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WWe(e,t){if(e){if(typeof e=="string")return Rk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Rk(e,t)}}function HWe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function qWe(e){if(Array.isArray(e))return Rk(e)}function Rk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ES(){return ES=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ES.apply(this,arguments)}function $9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function B9(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$9(Object(r),!0).forEach(function(n){GWe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$9(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GWe(e,t,r){return t=KWe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KWe(e){var t=YWe(e,"string");return Ix(t)=="symbol"?t:t+""}function YWe(e,t){if(Ix(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ix(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function V9(e,t){if(e==null)return{};var r=XWe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function XWe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var QWe=function(t){return Array.isArray(t.value)?$We(t.value):t.value};function Eh(e){var t=e.valueAccessor,r=t===void 0?QWe:t,n=V9(e,BWe),i=n.data,a=n.dataKey,s=n.clockWise,o=n.id,c=n.textBreakAll,u=V9(n,VWe);return!i||!i.length?null:te.createElement(On,{className:"recharts-label-list"},i.map(function(d,f){var h=ar(a)?r(d,f):Es(d&&d.payload,a),m=ar(o)?{}:{id:"".concat(o,"-").concat(f)};return te.createElement(Di,ES({},Kt(d,!0),u,m,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:Di.parseViewBox(ar(s)?d:B9(B9({},d),{},{clockWise:s})),key:"label-".concat(f),index:f}))}))}Eh.displayName="LabelList";function ZWe(e,t){return e?e===!0?te.createElement(Eh,{key:"labelList-implicit",data:t}):te.isValidElement(e)||Yt(e)?te.createElement(Eh,{key:"labelList-implicit",data:t,content:e}):wg(e)?te.createElement(Eh,ES({data:t},e,{key:"labelList-implicit"})):null:null}function JWe(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,i=ic(n,Eh).map(function(s,o){return b.cloneElement(s,{data:t,key:"labelList-".concat(o)})});if(!r)return i;var a=ZWe(e.label,t);return[a].concat(UWe(i))}Eh.renderCallByParent=JWe;function Ox(e){"@babel/helpers - typeof";return Ox=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ox(e)}function kk(){return kk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kk.apply(this,arguments)}function U9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function z9(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?U9(Object(r),!0).forEach(function(n){eHe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U9(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eHe(e,t,r){return t=tHe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tHe(e){var t=rHe(e,"string");return Ox(t)=="symbol"?t:t+""}function rHe(e,t){if(Ox(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ox(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nHe=function(t,r){var n=ho(r-t),i=Math.min(Math.abs(r-t),359.999);return n*i},Sw=function(t){var r=t.cx,n=t.cy,i=t.radius,a=t.angle,s=t.sign,o=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(o?1:-1)+i,f=Math.asin(c/d)/_S,h=u?a:a+s*f,m=Hr(r,n,d,h),g=Hr(r,n,i,h),p=u?a-s*f:a,v=Hr(r,n,d*Math.cos(f*_S),p);return{center:m,circleTangency:g,lineTangency:v,theta:f}},Jne=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,a=t.outerRadius,s=t.startAngle,o=t.endAngle,c=nHe(s,o),u=s+c,d=Hr(r,n,a,s),f=Hr(r,n,a,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(s>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var m=Hr(r,n,i,s),g=Hr(r,n,i,u);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(s<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},iHe=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,a=t.outerRadius,s=t.cornerRadius,o=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=ho(d-u),h=Sw({cx:r,cy:n,radius:a,angle:u,sign:f,cornerRadius:s,cornerIsExternal:c}),m=h.circleTangency,g=h.lineTangency,p=h.theta,v=Sw({cx:r,cy:n,radius:a,angle:d,sign:-f,cornerRadius:s,cornerIsExternal:c}),y=v.circleTangency,x=v.lineTangency,w=v.theta,N=c?Math.abs(u-d):Math.abs(u-d)-p-w;if(N<0)return o?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):Jne({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:u,endAngle:d});var E="M ".concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(N>180),",").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
  `);if(i>0){var T=Sw({cx:r,cy:n,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),S=T.circleTangency,A=T.lineTangency,C=T.theta,j=Sw({cx:r,cy:n,radius:i,angle:d,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),I=j.circleTangency,O=j.lineTangency,k=j.theta,D=c?Math.abs(u-d):Math.abs(u-d)-C-k;if(D<0&&s===0)return"".concat(E,"L").concat(r,",").concat(n,"Z");E+="L".concat(O.x,",").concat(O.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(I.x,",").concat(I.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(D>180),",").concat(+(f>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(A.x,",").concat(A.y,"Z")}else E+="L".concat(r,",").concat(n,"Z");return E},aHe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},eie=function(t){var r=z9(z9({},aHe),t),n=r.cx,i=r.cy,a=r.innerRadius,s=r.outerRadius,o=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(s<a||d===f)return null;var m=lr("recharts-sector",h),g=s-a,p=Xa(o,g,0,!0),v;return p>0&&Math.abs(d-f)<360?v=iHe({cx:n,cy:i,innerRadius:a,outerRadius:s,cornerRadius:Math.min(p,g/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):v=Jne({cx:n,cy:i,innerRadius:a,outerRadius:s,startAngle:d,endAngle:f}),te.createElement("path",kk({},Kt(r,!0),{className:m,d:v,role:"img"}))};function Dx(e){"@babel/helpers - typeof";return Dx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dx(e)}function Ik(){return Ik=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ik.apply(this,arguments)}function W9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function H9(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?W9(Object(r),!0).forEach(function(n){sHe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W9(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sHe(e,t,r){return t=oHe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oHe(e){var t=lHe(e,"string");return Dx(t)=="symbol"?t:t+""}function lHe(e,t){if(Dx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Dx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var q9={curveBasisClosed:iMe,curveBasisOpen:aMe,curveBasis:nMe,curveBumpX:z4e,curveBumpY:W4e,curveLinearClosed:sMe,curveLinear:aN,curveMonotoneX:oMe,curveMonotoneY:lMe,curveNatural:cMe,curveStep:uMe,curveStepAfter:fMe,curveStepBefore:dMe},Tw=function(t){return t.x===+t.x&&t.y===+t.y},hv=function(t){return t.x},mv=function(t){return t.y},cHe=function(t,r){if(Yt(t))return t;var n="curve".concat(nN(t));return(n==="curveMonotone"||n==="curveBump")&&r?q9["".concat(n).concat(r==="vertical"?"Y":"X")]:q9[n]||aN},uHe=function(t){var r=t.type,n=r===void 0?"linear":r,i=t.points,a=i===void 0?[]:i,s=t.baseLine,o=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=cHe(n,o),f=u?a.filter(function(p){return Tw(p)}):a,h;if(Array.isArray(s)){var m=u?s.filter(function(p){return Tw(p)}):s,g=f.map(function(p,v){return H9(H9({},p),{},{base:m[v]})});return o==="vertical"?h=pw().y(mv).x1(hv).x0(function(p){return p.base.x}):h=pw().x(hv).y1(mv).y0(function(p){return p.base.y}),h.defined(Tw).curve(d),h(g)}return o==="vertical"&&ut(s)?h=pw().y(mv).x1(hv).x0(s):ut(s)?h=pw().x(hv).y1(mv).y0(s):h=Jte().x(hv).y(mv),h.defined(Tw).curve(d),h(f)},Ok=function(t){var r=t.className,n=t.points,i=t.path,a=t.pathRef;if((!n||!n.length)&&!i)return null;var s=n&&n.length?uHe(t):i;return b.createElement("path",Ik({},Kt(t,!1),YE(t),{className:lr("recharts-curve",r),d:s,ref:a}))},tie={exports:{}},dHe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",fHe=dHe,hHe=fHe;function rie(){}function nie(){}nie.resetWarningCache=rie;var mHe=function(){function e(n,i,a,s,o,c){if(c!==hHe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:nie,resetWarningCache:rie};return r.PropTypes=r,r};tie.exports=mHe();var pHe=tie.exports;const wr=kr(pHe);var gHe=Object.getOwnPropertyNames,vHe=Object.getOwnPropertySymbols,yHe=Object.prototype.hasOwnProperty;function G9(e,t){return function(n,i,a){return e(n,i,a)&&t(n,i,a)}}function Nw(e){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,i);var a=i.cache,s=a.get(r),o=a.get(n);if(s&&o)return s===n&&o===r;a.set(r,n),a.set(n,r);var c=e(r,n,i);return a.delete(r),a.delete(n),c}}function K9(e){return gHe(e).concat(vHe(e))}var xHe=Object.hasOwn||function(e,t){return yHe.call(e,t)};function gm(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var bHe="__v",wHe="__o",_He="_owner",Y9=Object.getOwnPropertyDescriptor,X9=Object.keys;function EHe(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function SHe(e,t){return gm(e.getTime(),t.getTime())}function THe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function NHe(e,t){return e===t}function Q9(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var i=new Array(n),a=e.entries(),s,o,c=0;(s=a.next())&&!s.done;){for(var u=t.entries(),d=!1,f=0;(o=u.next())&&!o.done;){if(i[f]){f++;continue}var h=s.value,m=o.value;if(r.equals(h[0],m[0],c,f,e,t,r)&&r.equals(h[1],m[1],h[0],m[0],e,t,r)){d=i[f]=!0;break}f++}if(!d)return!1;c++}return!0}var AHe=gm;function CHe(e,t,r){var n=X9(e),i=n.length;if(X9(t).length!==i)return!1;for(;i-- >0;)if(!iie(e,t,r,n[i]))return!1;return!0}function pv(e,t,r){var n=K9(e),i=n.length;if(K9(t).length!==i)return!1;for(var a,s,o;i-- >0;)if(a=n[i],!iie(e,t,r,a)||(s=Y9(e,a),o=Y9(t,a),(s||o)&&(!s||!o||s.configurable!==o.configurable||s.enumerable!==o.enumerable||s.writable!==o.writable)))return!1;return!0}function jHe(e,t){return gm(e.valueOf(),t.valueOf())}function PHe(e,t){return e.source===t.source&&e.flags===t.flags}function Z9(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var i=new Array(n),a=e.values(),s,o;(s=a.next())&&!s.done;){for(var c=t.values(),u=!1,d=0;(o=c.next())&&!o.done;){if(!i[d]&&r.equals(s.value,o.value,s.value,o.value,e,t,r)){u=i[d]=!0;break}d++}if(!u)return!1}return!0}function RHe(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function kHe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function iie(e,t,r,n){return(n===_He||n===wHe||n===bHe)&&(e.$$typeof||t.$$typeof)?!0:xHe(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var IHe="[object Arguments]",OHe="[object Boolean]",DHe="[object Date]",MHe="[object Error]",LHe="[object Map]",FHe="[object Number]",$He="[object Object]",BHe="[object RegExp]",VHe="[object Set]",UHe="[object String]",zHe="[object URL]",WHe=Array.isArray,J9=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,eU=Object.assign,HHe=Object.prototype.toString.call.bind(Object.prototype.toString);function qHe(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,i=e.areFunctionsEqual,a=e.areMapsEqual,s=e.areNumbersEqual,o=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,d=e.areSetsEqual,f=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(g,p,v){if(g===p)return!0;if(g==null||p==null)return!1;var y=typeof g;if(y!==typeof p)return!1;if(y!=="object")return y==="number"?s(g,p,v):y==="function"?i(g,p,v):!1;var x=g.constructor;if(x!==p.constructor)return!1;if(x===Object)return o(g,p,v);if(WHe(g))return t(g,p,v);if(J9!=null&&J9(g))return f(g,p,v);if(x===Date)return r(g,p,v);if(x===RegExp)return u(g,p,v);if(x===Map)return a(g,p,v);if(x===Set)return d(g,p,v);var w=HHe(g);return w===DHe?r(g,p,v):w===BHe?u(g,p,v):w===LHe?a(g,p,v):w===VHe?d(g,p,v):w===$He?typeof g.then!="function"&&typeof p.then!="function"&&o(g,p,v):w===zHe?h(g,p,v):w===MHe?n(g,p,v):w===IHe?o(g,p,v):w===OHe||w===FHe||w===UHe?c(g,p,v):!1}}function GHe(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,i={areArraysEqual:n?pv:EHe,areDatesEqual:SHe,areErrorsEqual:THe,areFunctionsEqual:NHe,areMapsEqual:n?G9(Q9,pv):Q9,areNumbersEqual:AHe,areObjectsEqual:n?pv:CHe,arePrimitiveWrappersEqual:jHe,areRegExpsEqual:PHe,areSetsEqual:n?G9(Z9,pv):Z9,areTypedArraysEqual:n?pv:RHe,areUrlsEqual:kHe};if(r&&(i=eU({},i,r(i))),t){var a=Nw(i.areArraysEqual),s=Nw(i.areMapsEqual),o=Nw(i.areObjectsEqual),c=Nw(i.areSetsEqual);i=eU({},i,{areArraysEqual:a,areMapsEqual:s,areObjectsEqual:o,areSetsEqual:c})}return i}function KHe(e){return function(t,r,n,i,a,s,o){return e(t,r,o)}}function YHe(e){var t=e.circular,r=e.comparator,n=e.createState,i=e.equals,a=e.strict;if(n)return function(c,u){var d=n(),f=d.cache,h=f===void 0?t?new WeakMap:void 0:f,m=d.meta;return r(c,u,{cache:h,equals:i,meta:m,strict:a})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var s={cache:void 0,equals:i,meta:void 0,strict:a};return function(c,u){return r(c,u,s)}}var XHe=Sf();Sf({strict:!0});Sf({circular:!0});Sf({circular:!0,strict:!0});Sf({createInternalComparator:function(){return gm}});Sf({strict:!0,createInternalComparator:function(){return gm}});Sf({circular:!0,createInternalComparator:function(){return gm}});Sf({circular:!0,createInternalComparator:function(){return gm},strict:!0});function Sf(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,i=e.createState,a=e.strict,s=a===void 0?!1:a,o=GHe(e),c=qHe(o),u=n?n(c):KHe(c);return YHe({circular:r,comparator:c,createState:i,equals:u,strict:s})}function QHe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function tU(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(a){r<0&&(r=a),a-r>t?(e(a),r=-1):QHe(i)};requestAnimationFrame(n)}function Dk(e){"@babel/helpers - typeof";return Dk=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dk(e)}function ZHe(e){return rqe(e)||tqe(e)||eqe(e)||JHe()}function JHe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eqe(e,t){if(e){if(typeof e=="string")return rU(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rU(e,t)}}function rU(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function tqe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function rqe(e){if(Array.isArray(e))return e}function nqe(){var e={},t=function(){return null},r=!1,n=function i(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var s=a,o=ZHe(s),c=o[0],u=o.slice(1);if(typeof c=="number"){tU(i.bind(null,u),c);return}i(c),tU(i.bind(null,u));return}Dk(a)==="object"&&(e=a,t(e)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return t=a,function(){t=function(){return null}}}}}function Mx(e){"@babel/helpers - typeof";return Mx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mx(e)}function nU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function iU(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nU(Object(r),!0).forEach(function(n){aie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aie(e,t,r){return t=iqe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iqe(e){var t=aqe(e,"string");return Mx(t)==="symbol"?t:String(t)}function aqe(e,t){if(Mx(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Mx(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sqe=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,i){return n.filter(function(a){return i.includes(a)})})},oqe=function(t){return t},lqe=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},fy=function(t,r){return Object.keys(r).reduce(function(n,i){return iU(iU({},n),{},aie({},i,t(i,r[i])))},{})},aU=function(t,r,n){return t.map(function(i){return"".concat(lqe(i)," ").concat(r,"ms ").concat(n)}).join(",")};function cqe(e,t){return fqe(e)||dqe(e,t)||sie(e,t)||uqe()}function uqe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dqe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function fqe(e){if(Array.isArray(e))return e}function hqe(e){return gqe(e)||pqe(e)||sie(e)||mqe()}function mqe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sie(e,t){if(e){if(typeof e=="string")return Mk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Mk(e,t)}}function pqe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function gqe(e){if(Array.isArray(e))return Mk(e)}function Mk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var SS=1e-4,oie=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},lie=function(t,r){return t.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},sU=function(t,r){return function(n){var i=oie(t,r);return lie(i,n)}},vqe=function(t,r){return function(n){var i=oie(t,r),a=[].concat(hqe(i.map(function(s,o){return s*o}).slice(1)),[0]);return lie(a,n)}},oU=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0],a=r[1],s=r[2],o=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,a=0,s=1,o=1;break;case"ease":i=.25,a=.1,s=.25,o=1;break;case"ease-in":i=.42,a=0,s=1,o=1;break;case"ease-out":i=.42,a=0,s=.58,o=1;break;case"ease-in-out":i=0,a=0,s=.58,o=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=cqe(u,4);i=d[0],a=d[1],s=d[2],o=d[3]}}}var f=sU(i,s),h=sU(a,o),m=vqe(i,s),g=function(y){return y>1?1:y<0?0:y},p=function(y){for(var x=y>1?1:y,w=x,N=0;N<8;++N){var E=f(w)-x,T=m(w);if(Math.abs(E-x)<SS||T<SS)return h(w);w=g(w-E/T)}return h(w)};return p.isStepper=!1,p},yqe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,i=t.damping,a=i===void 0?8:i,s=t.dt,o=s===void 0?17:s,c=function(d,f,h){var m=-(d-f)*n,g=h*a,p=h+(m-g)*o/1e3,v=h*o/1e3+d;return Math.abs(v-f)<SS&&Math.abs(p)<SS?[f,0]:[v,p]};return c.isStepper=!0,c.dt=o,c},xqe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return oU(i);case"spring":return yqe();default:if(i.split("(")[0]==="cubic-bezier")return oU(i)}return typeof i=="function"?i:null};function Lx(e){"@babel/helpers - typeof";return Lx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lx(e)}function lU(e){return _qe(e)||wqe(e)||cie(e)||bqe()}function bqe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wqe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _qe(e){if(Array.isArray(e))return Fk(e)}function cU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ji(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cU(Object(r),!0).forEach(function(n){Lk(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lk(e,t,r){return t=Eqe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Eqe(e){var t=Sqe(e,"string");return Lx(t)==="symbol"?t:String(t)}function Sqe(e,t){if(Lx(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Lx(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tqe(e,t){return Cqe(e)||Aqe(e,t)||cie(e,t)||Nqe()}function Nqe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cie(e,t){if(e){if(typeof e=="string")return Fk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Fk(e,t)}}function Fk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Aqe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function Cqe(e){if(Array.isArray(e))return e}var TS=function(t,r,n){return t+(r-t)*n},$k=function(t){var r=t.from,n=t.to;return r!==n},jqe=function e(t,r,n){var i=fy(function(a,s){if($k(s)){var o=t(s.from,s.to,s.velocity),c=Tqe(o,2),u=c[0],d=c[1];return ji(ji({},s),{},{from:u,velocity:d})}return s},r);return n<1?fy(function(a,s){return $k(s)?ji(ji({},s),{},{velocity:TS(s.velocity,i[a].velocity,n),from:TS(s.from,i[a].from,n)}):s},r):e(t,i,n-1)};const Pqe=function(e,t,r,n,i){var a=sqe(e,t),s=a.reduce(function(v,y){return ji(ji({},v),{},Lk({},y,[e[y],t[y]]))},{}),o=a.reduce(function(v,y){return ji(ji({},v),{},Lk({},y,{from:e[y],velocity:0,to:t[y]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return fy(function(y,x){return x.from},o)},m=function(){return!Object.values(o).filter($k).length},g=function(y){u||(u=y);var x=y-u,w=x/r.dt;o=jqe(r,o,w),i(ji(ji(ji({},e),t),h())),u=y,m()||(c=requestAnimationFrame(f))},p=function(y){d||(d=y);var x=(y-d)/n,w=fy(function(E,T){return TS.apply(void 0,lU(T).concat([r(x)]))},s);if(i(ji(ji(ji({},e),t),w)),x<1)c=requestAnimationFrame(f);else{var N=fy(function(E,T){return TS.apply(void 0,lU(T).concat([r(1)]))},s);i(ji(ji(ji({},e),t),N))}};return f=r.isStepper?g:p,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function D0(e){"@babel/helpers - typeof";return D0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},D0(e)}var Rqe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function kqe(e,t){if(e==null)return{};var r=Iqe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Iqe(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function YC(e){return Lqe(e)||Mqe(e)||Dqe(e)||Oqe()}function Oqe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dqe(e,t){if(e){if(typeof e=="string")return Bk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Bk(e,t)}}function Mqe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Lqe(e){if(Array.isArray(e))return Bk(e)}function Bk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function uU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Fo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uU(Object(r),!0).forEach(function(n){Mv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mv(e,t,r){return t=uie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fqe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $qe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,uie(n.key),n)}}function Bqe(e,t,r){return t&&$qe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function uie(e){var t=Vqe(e,"string");return D0(t)==="symbol"?t:String(t)}function Vqe(e,t){if(D0(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(D0(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Uqe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vk(e,t)}function Vk(e,t){return Vk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Vk(e,t)}function zqe(e){var t=Wqe();return function(){var n=NS(e),i;if(t){var a=NS(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Uk(this,i)}}function Uk(e,t){if(t&&(D0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zk(e)}function zk(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wqe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function NS(e){return NS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},NS(e)}var Zd=function(e){Uqe(r,e);var t=zqe(r);function r(n,i){var a;Fqe(this,r),a=t.call(this,n,i);var s=a.props,o=s.isActive,c=s.attributeName,u=s.from,d=s.to,f=s.steps,h=s.children,m=s.duration;if(a.handleStyleChange=a.handleStyleChange.bind(zk(a)),a.changeStyle=a.changeStyle.bind(zk(a)),!o||m<=0)return a.state={style:{}},typeof h=="function"&&(a.state={style:d}),Uk(a);if(f&&f.length)a.state={style:f[0].style};else if(u){if(typeof h=="function")return a.state={style:u},Uk(a);a.state={style:c?Mv({},c,u):u}}else a.state={style:{}};return a}return Bqe(r,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,s=i.canBegin;this.mounted=!0,!(!a||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,s=a.isActive,o=a.canBegin,c=a.attributeName,u=a.shouldReAnimate,d=a.to,f=a.from,h=this.state.style;if(o){if(!s){var m={style:c?Mv({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(m);return}if(!(XHe(i.to,d)&&i.canBegin&&i.isActive)){var g=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var p=g||u?f:i.to;if(this.state&&h){var v={style:c?Mv({},c,p):p};(c&&h[c]!==p||!c&&h!==p)&&this.setState(v)}this.runAnimation(Fo(Fo({},this.props),{},{from:p,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,s=i.from,o=i.to,c=i.duration,u=i.easing,d=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,m=Pqe(s,o,xqe(u),c,this.changeStyle),g=function(){a.stopJSAnimation=m()};this.manager.start([h,d,g,c,f])}},{key:"runStepAnimation",value:function(i){var a=this,s=i.steps,o=i.begin,c=i.onAnimationStart,u=s[0],d=u.style,f=u.duration,h=f===void 0?0:f,m=function(p,v,y){if(y===0)return p;var x=v.duration,w=v.easing,N=w===void 0?"ease":w,E=v.style,T=v.properties,S=v.onAnimationEnd,A=y>0?s[y-1]:v,C=T||Object.keys(E);if(typeof N=="function"||N==="spring")return[].concat(YC(p),[a.runJSAnimation.bind(a,{from:A.style,to:E,duration:x,easing:N}),x]);var j=aU(C,x,N),I=Fo(Fo(Fo({},A.style),E),{},{transition:j});return[].concat(YC(p),[I,x,S]).filter(oqe)};return this.manager.start([c].concat(YC(s.reduce(m,[d,Math.max(h,o)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=nqe());var a=i.begin,s=i.duration,o=i.attributeName,c=i.to,u=i.easing,d=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,m=i.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var p=o?Mv({},o,c):c,v=aU(Object.keys(p),s,u);g.start([d,a,Fo(Fo({},p),{},{transition:v}),s,f])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var o=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=kqe(i,Rqe),u=b.Children.count(a),d=this.state.style;if(typeof a=="function")return a(d);if(!o||u===0||s<=0)return a;var f=function(m){var g=m.props,p=g.style,v=p===void 0?{}:p,y=g.className,x=b.cloneElement(m,Fo(Fo({},c),{},{style:Fo(Fo({},v),d),className:y}));return x};return u===1?f(b.Children.only(a)):te.createElement("div",null,b.Children.map(a,function(h){return f(h)}))}}]),r}(b.PureComponent);Zd.displayName="Animate";Zd.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Zd.propTypes={from:wr.oneOfType([wr.object,wr.string]),to:wr.oneOfType([wr.object,wr.string]),attributeName:wr.string,duration:wr.number,begin:wr.number,easing:wr.oneOfType([wr.string,wr.func]),steps:wr.arrayOf(wr.shape({duration:wr.number.isRequired,style:wr.object.isRequired,easing:wr.oneOfType([wr.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),wr.func]),properties:wr.arrayOf("string"),onAnimationEnd:wr.func})),children:wr.oneOfType([wr.node,wr.func]),isActive:wr.bool,canBegin:wr.bool,onAnimationEnd:wr.func,shouldReAnimate:wr.bool,onAnimationStart:wr.func,onAnimationReStart:wr.func};function Wk(){return Wk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wk.apply(null,arguments)}function Hqe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Fx(e){"@babel/helpers - typeof";return Fx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fx(e)}function AS(){return AS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},AS.apply(this,arguments)}function qqe(e,t){return Xqe(e)||Yqe(e,t)||Kqe(e,t)||Gqe()}function Gqe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kqe(e,t){if(e){if(typeof e=="string")return dU(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dU(e,t)}}function dU(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Yqe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function Xqe(e){if(Array.isArray(e))return e}function fU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function hU(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fU(Object(r),!0).forEach(function(n){Qqe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qqe(e,t,r){return t=Zqe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zqe(e){var t=Jqe(e,"string");return Fx(t)=="symbol"?t:t+""}function Jqe(e,t){if(Fx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mU=function(t,r,n,i,a){var s=Math.min(Math.abs(n)/2,Math.abs(i)/2),o=i>=0?1:-1,c=n>=0?1:-1,u=i>=0&&n>=0||i<0&&n<0?1:0,d;if(s>0&&a instanceof Array){for(var f=[0,0,0,0],h=0,m=4;h<m;h++)f[h]=a[h]>s?s:a[h];d="M".concat(t,",").concat(r+o*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+o*f[1])),d+="L ".concat(t+n,",").concat(r+i-o*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+i)),d+="L ".concat(t+c*f[3],",").concat(r+i),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+i-o*f[3])),d+="Z"}else if(s>0&&a===+a&&a>0){var g=Math.min(s,a);d="M ".concat(t,",").concat(r+o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+c*g,",").concat(r,`
            L `).concat(t+n-c*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n,",").concat(r+o*g,`
            L `).concat(t+n,",").concat(r+i-o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n-c*g,",").concat(r+i,`
            L `).concat(t+c*g,",").concat(r+i,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t,",").concat(r+i-o*g," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return d},eGe=function(t,r){if(!t||!r)return!1;var n=t.x,i=t.y,a=r.x,s=r.y,o=r.width,c=r.height;if(Math.abs(o)>0&&Math.abs(c)>0){var u=Math.min(a,a+o),d=Math.max(a,a+o),f=Math.min(s,s+c),h=Math.max(s,s+c);return n>=u&&n<=d&&i>=f&&i<=h}return!1},tGe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},t3=function(t){var r=hU(hU({},tGe),t),n=b.useRef(),i=b.useState(-1),a=qqe(i,2),s=a[0],o=a[1];b.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var N=n.current.getTotalLength();N&&o(N)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,m=r.className,g=r.animationEasing,p=r.animationDuration,v=r.animationBegin,y=r.isAnimationActive,x=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var w=lr("recharts-rectangle",m);return x?te.createElement(Zd,{canBegin:s>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:p,animationEasing:g,isActive:x},function(N){var E=N.width,T=N.height,S=N.x,A=N.y;return te.createElement(Zd,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:p,isActive:y,easing:g},te.createElement("path",AS({},Kt(r,!0),{className:w,d:mU(S,A,E,T,h),ref:n})))}):te.createElement("path",AS({},Kt(r,!0),{className:w,d:mU(c,u,d,f,h)}))},rGe=["points","className","baseLinePoints","connectNulls"];function fp(){return fp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fp.apply(this,arguments)}function nGe(e,t){if(e==null)return{};var r=iGe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function iGe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function pU(e){return lGe(e)||oGe(e)||sGe(e)||aGe()}function aGe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sGe(e,t){if(e){if(typeof e=="string")return Hk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Hk(e,t)}}function oGe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function lGe(e){if(Array.isArray(e))return Hk(e)}function Hk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var gU=function(t){return t&&t.x===+t.x&&t.y===+t.y},cGe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){gU(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),gU(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},hy=function(t,r){var n=cGe(t);r&&(n=[n.reduce(function(a,s){return[].concat(pU(a),pU(s))},[])]);var i=n.map(function(a){return a.reduce(function(s,o,c){return"".concat(s).concat(c===0?"M":"L").concat(o.x,",").concat(o.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},uGe=function(t,r,n){var i=hy(t,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(hy(r.reverse(),n).slice(1))},dGe=function(t){var r=t.points,n=t.className,i=t.baseLinePoints,a=t.connectNulls,s=nGe(t,rGe);if(!r||!r.length)return null;var o=lr("recharts-polygon",n);if(i&&i.length){var c=s.stroke&&s.stroke!=="none",u=uGe(r,i,a);return te.createElement("g",{className:o},te.createElement("path",fp({},Kt(s,!0),{fill:u.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:u})),c?te.createElement("path",fp({},Kt(s,!0),{fill:"none",d:hy(r,a)})):null,c?te.createElement("path",fp({},Kt(s,!0),{fill:"none",d:hy(i,a)})):null)}var d=hy(r,a);return te.createElement("path",fp({},Kt(s,!0),{fill:d.slice(-1)==="Z"?s.fill:"none",className:o,d}))};function qk(){return qk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qk.apply(this,arguments)}var r3=function(t){var r=t.cx,n=t.cy,i=t.r,a=t.className,s=lr("recharts-dot",a);return r===+r&&n===+n&&i===+i?b.createElement("circle",qk({},Kt(t,!1),YE(t),{className:s,cx:r,cy:n,r:i})):null};function $x(e){"@babel/helpers - typeof";return $x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$x(e)}var fGe=["x","y","top","left","width","height","className"];function Gk(){return Gk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gk.apply(this,arguments)}function vU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function hGe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vU(Object(r),!0).forEach(function(n){mGe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mGe(e,t,r){return t=pGe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pGe(e){var t=gGe(e,"string");return $x(t)=="symbol"?t:t+""}function gGe(e,t){if($x(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($x(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vGe(e,t){if(e==null)return{};var r=yGe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function yGe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var xGe=function(t,r,n,i,a,s){return"M".concat(t,",").concat(a,"v").concat(i,"M").concat(s,",").concat(r,"h").concat(n)},bGe=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,a=i===void 0?0:i,s=t.top,o=s===void 0?0:s,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,h=t.height,m=h===void 0?0:h,g=t.className,p=vGe(t,fGe),v=hGe({x:n,y:a,top:o,left:u,width:f,height:m},p);return!ut(n)||!ut(a)||!ut(f)||!ut(m)||!ut(o)||!ut(u)?null:te.createElement("path",Gk({},Kt(v,!0),{className:lr("recharts-cross",g),d:xGe(n,a,f,m,o,u)}))},wGe=yN,_Ge=Ane,EGe=wf;function SGe(e,t){return e&&e.length?wGe(e,EGe(t),_Ge):void 0}var TGe=SGe;const NGe=kr(TGe);var AGe=yN,CGe=wf,jGe=Cne;function PGe(e,t){return e&&e.length?AGe(e,CGe(t),jGe):void 0}var RGe=PGe;const kGe=kr(RGe);var IGe=["cx","cy","angle","ticks","axisLine"],OGe=["ticks","tick","angle","tickFormatter","stroke"];function M0(e){"@babel/helpers - typeof";return M0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},M0(e)}function my(){return my=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},my.apply(this,arguments)}function yU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function kf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yU(Object(r),!0).forEach(function(n){EN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xU(e,t){if(e==null)return{};var r=DGe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function DGe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function MGe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bU(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,fie(n.key),n)}}function LGe(e,t,r){return t&&bU(e.prototype,t),r&&bU(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function FGe(e,t,r){return t=CS(t),$Ge(e,die()?Reflect.construct(t,r||[],CS(e).constructor):t.apply(e,r))}function $Ge(e,t){if(t&&(M0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BGe(e)}function BGe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function die(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(die=function(){return!!e})()}function CS(e){return CS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},CS(e)}function VGe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Kk(e,t)}function Kk(e,t){return Kk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Kk(e,t)}function EN(e,t,r){return t=fie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fie(e){var t=UGe(e,"string");return M0(t)=="symbol"?t:t+""}function UGe(e,t){if(M0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(M0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SN=function(e){function t(){return MGe(this,t),FGe(this,t,arguments)}return VGe(t,e),LGe(t,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,a=this.props,s=a.angle,o=a.cx,c=a.cy;return Hr(o,c,i,s)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,a=n.cy,s=n.angle,o=n.ticks,c=NGe(o,function(d){return d.coordinate||0}),u=kGe(o,function(d){return d.coordinate||0});return{cx:i,cy:a,startAngle:s,endAngle:s,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,s=n.angle,o=n.ticks,c=n.axisLine,u=xU(n,IGe),d=o.reduce(function(g,p){return[Math.min(g[0],p.coordinate),Math.max(g[1],p.coordinate)]},[1/0,-1/0]),f=Hr(i,a,d[0],s),h=Hr(i,a,d[1],s),m=kf(kf(kf({},Kt(u,!1)),{},{fill:"none"},Kt(c,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return te.createElement("line",my({className:"recharts-polar-radius-axis-line"},m))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,s=i.tick,o=i.angle,c=i.tickFormatter,u=i.stroke,d=xU(i,OGe),f=this.getTickTextAnchor(),h=Kt(d,!1),m=Kt(s,!1),g=a.map(function(p,v){var y=n.getTickValueCoord(p),x=kf(kf(kf(kf({textAnchor:f,transform:"rotate(".concat(90-o,", ").concat(y.x,", ").concat(y.y,")")},h),{},{stroke:"none",fill:u},m),{},{index:v},y),{},{payload:p});return te.createElement(On,my({className:lr("recharts-polar-radius-axis-tick",Qne(s)),key:"tick-".concat(p.coordinate)},rN(n.props,p,v)),t.renderTickItem(s,x,c?c(p.value,v):p.value))});return te.createElement(On,{className:"recharts-polar-radius-axis-ticks"},g)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.axisLine,s=n.tick;return!i||!i.length?null:te.createElement(On,{className:lr("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),s&&this.renderTicks(),Di.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,a){var s;return te.isValidElement(n)?s=te.cloneElement(n,i):Yt(n)?s=n(i):s=te.createElement(j0,my({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),s}}])}(b.PureComponent);EN(SN,"displayName","PolarRadiusAxis");EN(SN,"axisType","radiusAxis");EN(SN,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function L0(e){"@babel/helpers - typeof";return L0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},L0(e)}function Wf(){return Wf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wf.apply(this,arguments)}function wU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function If(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wU(Object(r),!0).forEach(function(n){TN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zGe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _U(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,mie(n.key),n)}}function WGe(e,t,r){return t&&_U(e.prototype,t),r&&_U(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function HGe(e,t,r){return t=jS(t),qGe(e,hie()?Reflect.construct(t,r||[],jS(e).constructor):t.apply(e,r))}function qGe(e,t){if(t&&(L0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GGe(e)}function GGe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hie(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hie=function(){return!!e})()}function jS(e){return jS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jS(e)}function KGe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yk(e,t)}function Yk(e,t){return Yk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Yk(e,t)}function TN(e,t,r){return t=mie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mie(e){var t=YGe(e,"string");return L0(t)=="symbol"?t:t+""}function YGe(e,t){if(L0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(L0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var XGe=Math.PI/180,EU=1e-5,NN=function(e){function t(){return zGe(this,t),HGe(this,t,arguments)}return KGe(t,e),WGe(t,[{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.cx,s=i.cy,o=i.radius,c=i.orientation,u=i.tickSize,d=u||8,f=Hr(a,s,o,n.coordinate),h=Hr(a,s,o+(c==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,a=Math.cos(-n.coordinate*XGe),s;return a>EU?s=i==="outer"?"start":"end":a<-EU?s=i==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,s=n.radius,o=n.axisLine,c=n.axisLineType,u=If(If({},Kt(this.props,!1)),{},{fill:"none"},Kt(o,!1));if(c==="circle")return te.createElement(r3,Wf({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:a,r:s}));var d=this.props.ticks,f=d.map(function(h){return Hr(i,a,s,h.coordinate)});return te.createElement(dGe,Wf({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,s=i.tick,o=i.tickLine,c=i.tickFormatter,u=i.stroke,d=Kt(this.props,!1),f=Kt(s,!1),h=If(If({},d),{},{fill:"none"},Kt(o,!1)),m=a.map(function(g,p){var v=n.getTickLineCoord(g),y=n.getTickTextAnchor(g),x=If(If(If({textAnchor:y},d),{},{stroke:"none",fill:u},f),{},{index:p,payload:g,x:v.x2,y:v.y2});return te.createElement(On,Wf({className:lr("recharts-polar-angle-axis-tick",Qne(s)),key:"tick-".concat(g.coordinate)},rN(n.props,g,p)),o&&te.createElement("line",Wf({className:"recharts-polar-angle-axis-tick-line"},h,v)),s&&t.renderTickItem(s,x,c?c(g.value,p):g.value))});return te.createElement(On,{className:"recharts-polar-angle-axis-ticks"},m)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.radius,s=n.axisLine;return a<=0||!i||!i.length?null:te.createElement(On,{className:lr("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,a){var s;return te.isValidElement(n)?s=te.cloneElement(n,i):Yt(n)?s=n(i):s=te.createElement(j0,Wf({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),s}}])}(b.PureComponent);TN(NN,"displayName","PolarAngleAxis");TN(NN,"axisType","angleAxis");TN(NN,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var QGe=Ere,ZGe=QGe(Object.getPrototypeOf,Object),JGe=ZGe,eKe=Ru,tKe=JGe,rKe=ku,nKe="[object Object]",iKe=Function.prototype,aKe=Object.prototype,pie=iKe.toString,sKe=aKe.hasOwnProperty,oKe=pie.call(Object);function lKe(e){if(!rKe(e)||eKe(e)!=nKe)return!1;var t=tKe(e);if(t===null)return!0;var r=sKe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&pie.call(r)==oKe}var cKe=lKe;const uKe=kr(cKe);var dKe=Ru,fKe=ku,hKe="[object Boolean]";function mKe(e){return e===!0||e===!1||fKe(e)&&dKe(e)==hKe}var pKe=mKe;const gKe=kr(pKe);function Bx(e){"@babel/helpers - typeof";return Bx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bx(e)}function PS(){return PS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},PS.apply(this,arguments)}function vKe(e,t){return wKe(e)||bKe(e,t)||xKe(e,t)||yKe()}function yKe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xKe(e,t){if(e){if(typeof e=="string")return SU(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return SU(e,t)}}function SU(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function bKe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function wKe(e){if(Array.isArray(e))return e}function TU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function NU(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TU(Object(r),!0).forEach(function(n){_Ke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _Ke(e,t,r){return t=EKe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EKe(e){var t=SKe(e,"string");return Bx(t)=="symbol"?t:t+""}function SKe(e,t){if(Bx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var AU=function(t,r,n,i,a){var s=n-i,o;return o="M ".concat(t,",").concat(r),o+="L ".concat(t+n,",").concat(r),o+="L ".concat(t+n-s/2,",").concat(r+a),o+="L ".concat(t+n-s/2-i,",").concat(r+a),o+="L ".concat(t,",").concat(r," Z"),o},TKe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},NKe=function(t){var r=NU(NU({},TKe),t),n=b.useRef(),i=b.useState(-1),a=vKe(i,2),s=a[0],o=a[1];b.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&o(w)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,m=r.className,g=r.animationEasing,p=r.animationDuration,v=r.animationBegin,y=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var x=lr("recharts-trapezoid",m);return y?te.createElement(Zd,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:p,animationEasing:g,isActive:y},function(w){var N=w.upperWidth,E=w.lowerWidth,T=w.height,S=w.x,A=w.y;return te.createElement(Zd,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:p,easing:g},te.createElement("path",PS({},Kt(r,!0),{className:x,d:AU(S,A,N,E,T),ref:n})))}):te.createElement("g",null,te.createElement("path",PS({},Kt(r,!0),{className:x,d:AU(c,u,d,f,h)})))},AKe=["option","shapeType","propTransformer","activeClassName","isActive"];function Vx(e){"@babel/helpers - typeof";return Vx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vx(e)}function CKe(e,t){if(e==null)return{};var r=jKe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function jKe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function CU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function RS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CU(Object(r),!0).forEach(function(n){PKe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PKe(e,t,r){return t=RKe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RKe(e){var t=kKe(e,"string");return Vx(t)=="symbol"?t:t+""}function kKe(e,t){if(Vx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function IKe(e,t){return RS(RS({},t),e)}function OKe(e,t){return e==="symbols"}function jU(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return te.createElement(t3,r);case"trapezoid":return te.createElement(NKe,r);case"sector":return te.createElement(eie,r);case"symbols":if(OKe(t))return te.createElement(vM,r);break;default:return null}}function DKe(e){return b.isValidElement(e)?e.props:e}function MKe(e){var t=e.option,r=e.shapeType,n=e.propTransformer,i=n===void 0?IKe:n,a=e.activeClassName,s=a===void 0?"recharts-active-shape":a,o=e.isActive,c=CKe(e,AKe),u;if(b.isValidElement(t))u=b.cloneElement(t,RS(RS({},c),DKe(t)));else if(Yt(t))u=t(c);else if(uKe(t)&&!gKe(t)){var d=i(t,c);u=te.createElement(jU,{shapeType:r,elementProps:d})}else{var f=c;u=te.createElement(jU,{shapeType:r,elementProps:f})}return o?te.createElement(On,{className:s},u):u}function AN(e,t){return t!=null&&"trapezoids"in e.props}function CN(e,t){return t!=null&&"sectors"in e.props}function Ux(e,t){return t!=null&&"points"in e.props}function LKe(e,t){var r,n,i=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,a=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return i&&a}function FKe(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function $Ke(e,t){var r=e.x===t.x,n=e.y===t.y,i=e.z===t.z;return r&&n&&i}function BKe(e,t){var r;return AN(e,t)?r=LKe:CN(e,t)?r=FKe:Ux(e,t)&&(r=$Ke),r}function VKe(e,t){var r;return AN(e,t)?r="trapezoids":CN(e,t)?r="sectors":Ux(e,t)&&(r="points"),r}function UKe(e,t){if(AN(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(CN(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Ux(e,t)?t.payload:{}}function zKe(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,i=VKe(r,t),a=UKe(r,t),s=n.filter(function(c,u){var d=XM(a,c),f=r.props[i].filter(function(g){var p=BKe(r,t);return p(g,t)}),h=r.props[i].indexOf(f[f.length-1]),m=u===h;return d&&m}),o=n.indexOf(s[s.length-1]);return o}var A_;function F0(e){"@babel/helpers - typeof";return F0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},F0(e)}function hp(){return hp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hp.apply(this,arguments)}function PU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Vr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PU(Object(r),!0).forEach(function(n){lo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WKe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RU(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vie(n.key),n)}}function HKe(e,t,r){return t&&RU(e.prototype,t),r&&RU(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function qKe(e,t,r){return t=kS(t),GKe(e,gie()?Reflect.construct(t,r||[],kS(e).constructor):t.apply(e,r))}function GKe(e,t){if(t&&(F0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KKe(e)}function KKe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gie(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gie=function(){return!!e})()}function kS(e){return kS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kS(e)}function YKe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xk(e,t)}function Xk(e,t){return Xk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Xk(e,t)}function lo(e,t,r){return t=vie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vie(e){var t=XKe(e,"string");return F0(t)=="symbol"?t:t+""}function XKe(e,t){if(F0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(F0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var bc=function(e){function t(r){var n;return WKe(this,t),n=qKe(this,t,[r]),lo(n,"pieRef",null),lo(n,"sectorRefs",[]),lo(n,"id",tN("recharts-pie-")),lo(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Yt(i)&&i()}),lo(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Yt(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return YKe(t,e),HKe(t,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.label,o=a.labelLine,c=a.dataKey,u=a.valueKey,d=Kt(this.props,!1),f=Kt(s,!1),h=Kt(o,!1),m=s&&s.offsetRadius||20,g=n.map(function(p,v){var y=(p.startAngle+p.endAngle)/2,x=Hr(p.cx,p.cy,p.outerRadius+m,y),w=Vr(Vr(Vr(Vr({},d),p),{},{stroke:"none"},f),{},{index:v,textAnchor:t.getTextAnchor(x.x,p.cx)},x),N=Vr(Vr(Vr(Vr({},d),p),{},{fill:"none",stroke:p.fill},h),{},{index:v,points:[Hr(p.cx,p.cy,p.outerRadius,y),x]}),E=c;return ar(c)&&ar(u)?E="value":ar(c)&&(E=u),te.createElement(On,{key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(v)},o&&t.renderLabelLineItem(o,N,"line"),t.renderLabelItem(s,w,Es(p,E)))});return te.createElement(On,{className:"recharts-pie-labels"},g)}},{key:"renderSectorsStatically",value:function(n){var i=this,a=this.props,s=a.activeShape,o=a.blendStroke,c=a.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=i.isActiveIndex(d),h=c&&i.hasActiveIndex()?c:null,m=f?s:h,g=Vr(Vr({},u),{},{stroke:o?u.fill:u.stroke,tabIndex:-1});return te.createElement(On,hp({ref:function(v){v&&!i.sectorRefs.includes(v)&&i.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},rN(i.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),te.createElement(MKe,hp({option:m,isActive:f,shapeType:"sector"},g)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,a=i.sectors,s=i.isAnimationActive,o=i.animationBegin,c=i.animationDuration,u=i.animationEasing,d=i.animationId,f=this.state,h=f.prevSectors,m=f.prevIsAnimationActive;return te.createElement(Zd,{begin:o,duration:c,isActive:s,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(m),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(g){var p=g.t,v=[],y=a&&a[0],x=y.startAngle;return a.forEach(function(w,N){var E=h&&h[N],T=N>0?ll(w,"paddingAngle",0):0;if(E){var S=EB(E.endAngle-E.startAngle,w.endAngle-w.startAngle),A=Vr(Vr({},w),{},{startAngle:x+T,endAngle:x+S(p)+T});v.push(A),x=A.endAngle}else{var C=w.endAngle,j=w.startAngle,I=EB(0,C-j),O=I(p),k=Vr(Vr({},w),{},{startAngle:x+T,endAngle:x+O+T});v.push(k),x=k.endAngle}}),te.createElement(On,null,n.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var s=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"ArrowRight":{var o=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,a=n.isAnimationActive,s=this.state.prevSectors;return a&&i&&i.length&&(!s||!XM(s,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,a=i.hide,s=i.sectors,o=i.className,c=i.label,u=i.cx,d=i.cy,f=i.innerRadius,h=i.outerRadius,m=i.isAnimationActive,g=this.state.isAnimationFinished;if(a||!s||!s.length||!ut(u)||!ut(d)||!ut(f)||!ut(h))return null;var p=lr("recharts-pie",o);return te.createElement(On,{tabIndex:this.props.rootTabIndex,className:p,ref:function(y){n.pieRef=y}},this.renderSectors(),c&&this.renderLabels(s),Di.renderCallByParent(this.props,null,!1),(!m||g)&&Eh.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,a){if(te.isValidElement(n))return te.cloneElement(n,i);if(Yt(n))return n(i);var s=lr("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return te.createElement(Ok,hp({},i,{key:a,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(n,i,a){if(te.isValidElement(n))return te.cloneElement(n,i);var s=a;if(Yt(n)&&(s=n(i),te.isValidElement(s)))return s;var o=lr("recharts-pie-label-text",typeof n!="boolean"&&!Yt(n)?n.className:"");return te.createElement(j0,hp({},i,{alignmentBaseline:"middle",className:o}),s)}}])}(b.PureComponent);A_=bc;lo(bc,"displayName","Pie");lo(bc,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!uN.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});lo(bc,"parseDeltaAngle",function(e,t){var r=ho(t-e),n=Math.min(Math.abs(t-e),360);return r*n});lo(bc,"getRealPieData",function(e){var t=e.data,r=e.children,n=Kt(e,!1),i=ic(r,dN);return t&&t.length?t.map(function(a,s){return Vr(Vr(Vr({payload:a},n),a),i&&i[s]&&i[s].props)}):i&&i.length?i.map(function(a){return Vr(Vr({},n),a.props)}):[]});lo(bc,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,i=t.width,a=t.height,s=Xne(i,a),o=n+Xa(e.cx,i,i/2),c=r+Xa(e.cy,a,a/2),u=Xa(e.innerRadius,s,0),d=Xa(e.outerRadius,s,s*.8),f=e.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:o,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});lo(bc,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?Vr(Vr({},t.type.defaultProps),t.props):t.props,i=A_.getRealPieData(n);if(!i||!i.length)return null;var a=n.cornerRadius,s=n.startAngle,o=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,h=n.tooltipType,m=Math.abs(n.minAngle),g=A_.parseCoordinateOfPie(n,r),p=A_.parseDeltaAngle(s,o),v=Math.abs(p),y=u;ar(u)&&ar(f)?(eu(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y="value"):ar(u)&&(eu(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y=f);var x=i.filter(function(A){return Es(A,y,0)!==0}).length,w=(v>=360?x:x-1)*c,N=v-x*m-w,E=i.reduce(function(A,C){var j=Es(C,y,0);return A+(ut(j)?j:0)},0),T;if(E>0){var S;T=i.map(function(A,C){var j=Es(A,y,0),I=Es(A,d,C),O=(ut(j)?j:0)/E,k;C?k=S.endAngle+ho(p)*c*(j!==0?1:0):k=s;var D=k+ho(p)*((j!==0?m:0)+O*N),B=(k+D)/2,ee=(g.innerRadius+g.outerRadius)/2,z=[{name:I,value:j,payload:A,dataKey:y,type:h}],V=Hr(g.cx,g.cy,ee,B);return S=Vr(Vr(Vr({percent:O,cornerRadius:a,name:I,tooltipPayload:z,midAngle:B,middleRadius:ee,tooltipPosition:V},A),g),{},{value:Es(A,y),startAngle:k,endAngle:D,payload:A,paddingAngle:ho(p)*c}),S})}return Vr(Vr({},g),{},{sectors:T,data:i})});var QKe=Math.ceil,ZKe=Math.max;function JKe(e,t,r,n){for(var i=-1,a=ZKe(QKe((t-e)/(r||1)),0),s=Array(a);a--;)s[n?a:++i]=e,e+=r;return s}var eYe=JKe,tYe=Vre,kU=1/0,rYe=17976931348623157e292;function nYe(e){if(!e)return e===0?e:0;if(e=tYe(e),e===kU||e===-kU){var t=e<0?-1:1;return t*rYe}return e===e?e:0}var iYe=nYe,aYe=eYe,sYe=cN,XC=iYe;function oYe(e){return function(t,r,n){return n&&typeof n!="number"&&sYe(t,r,n)&&(r=n=void 0),t=XC(t),r===void 0?(r=t,t=0):r=XC(r),n=n===void 0?t<r?1:-1:XC(n),aYe(t,r,n,e)}}var lYe=oYe,cYe=lYe,uYe=cYe(),dYe=uYe;const IS=kr(dYe);function zx(e){"@babel/helpers - typeof";return zx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zx(e)}function IU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function OU(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IU(Object(r),!0).forEach(function(n){yie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yie(e,t,r){return t=fYe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fYe(e){var t=hYe(e,"string");return zx(t)=="symbol"?t:t+""}function hYe(e,t){if(zx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mYe=["Webkit","Moz","O","ms"],pYe=function(t,r){var n=t.replace(/(\w)/,function(a){return a.toUpperCase()}),i=mYe.reduce(function(a,s){return OU(OU({},a),{},yie({},s+n,r))},{});return i[t]=r,i};function $0(e){"@babel/helpers - typeof";return $0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$0(e)}function OS(){return OS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},OS.apply(this,arguments)}function DU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function QC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DU(Object(r),!0).forEach(function(n){hs(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gYe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MU(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,bie(n.key),n)}}function vYe(e,t,r){return t&&MU(e.prototype,t),r&&MU(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function yYe(e,t,r){return t=DS(t),xYe(e,xie()?Reflect.construct(t,r||[],DS(e).constructor):t.apply(e,r))}function xYe(e,t){if(t&&($0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bYe(e)}function bYe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xie(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xie=function(){return!!e})()}function DS(e){return DS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},DS(e)}function wYe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qk(e,t)}function Qk(e,t){return Qk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Qk(e,t)}function hs(e,t,r){return t=bie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bie(e){var t=_Ye(e,"string");return $0(t)=="symbol"?t:t+""}function _Ye(e,t){if($0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var EYe=function(t){var r=t.data,n=t.startIndex,i=t.endIndex,a=t.x,s=t.width,o=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=uy().domain(IS(0,c)).range([a,a+s-o]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(i),scale:u,scaleValues:d}},LU=function(t){return t.changedTouches&&!!t.changedTouches.length},B0=function(e){function t(r){var n;return gYe(this,t),n=yYe(this,t,[r]),hs(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),hs(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),hs(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,s=i.onDragEnd,o=i.startIndex;s==null||s({endIndex:a,startIndex:o})}),n.detachDragEndListener()}),hs(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),hs(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),hs(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),hs(n,"handleSlideDragStart",function(i){var a=LU(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return wYe(t,e),vYe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,s=this.state.scaleValues,o=this.props,c=o.gap,u=o.data,d=u.length-1,f=Math.min(i,a),h=Math.max(i,a),m=t.getIndexInRange(s,f),g=t.getIndexInRange(s,h);return{startIndex:m-m%c,endIndex:g===d?d:g-g%c}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,s=i.tickFormatter,o=i.dataKey,c=Es(a[n],o,n);return Yt(s)?s(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,s=i.startX,o=i.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,m=c.endIndex,g=c.onChange,p=n.pageX-a;p>0?p=Math.min(p,u+d-f-o,u+d-f-s):p<0&&(p=Math.max(p,u-s,u-o));var v=this.getIndex({startX:s+p,endX:o+p});(v.startIndex!==h||v.endIndex!==m)&&g&&g(v),this.setState({startX:s+p,endX:o+p,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=LU(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,s=i.movingTravellerId,o=i.endX,c=i.startX,u=this.state[s],d=this.props,f=d.x,h=d.width,m=d.travellerWidth,g=d.onChange,p=d.gap,v=d.data,y={startX:this.state.startX,endX:this.state.endX},x=n.pageX-a;x>0?x=Math.min(x,f+h-m-u):x<0&&(x=Math.max(x,f-u)),y[s]=u+x;var w=this.getIndex(y),N=w.startIndex,E=w.endIndex,T=function(){var A=v.length-1;return s==="startX"&&(o>c?N%p===0:E%p===0)||o<c&&E===A||s==="endX"&&(o>c?E%p===0:N%p===0)||o>c&&E===A};this.setState(hs(hs({},s,u+x),"brushMoveStartX",n.pageX),function(){g&&T()&&g(w)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,s=this.state,o=s.scaleValues,c=s.startX,u=s.endX,d=this.state[i],f=o.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=o.length)){var m=o[h];i==="startX"&&m>=u||i==="endX"&&m<=c||this.setState(hs({},i,m),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,o=n.height,c=n.fill,u=n.stroke;return te.createElement("rect",{stroke:u,fill:c,x:i,y:a,width:s,height:o})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,o=n.height,c=n.data,u=n.children,d=n.padding,f=b.Children.only(u);return f?te.cloneElement(f,{x:i,y:a,width:s,height:o,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,i){var a,s,o=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,m=c.ariaLabel,g=c.data,p=c.startIndex,v=c.endIndex,y=Math.max(n,this.props.x),x=QC(QC({},Kt(this.props,!1)),{},{x:y,y:u,width:d,height:f}),w=m||"Min value: ".concat((a=g[p])===null||a===void 0?void 0:a.name,", Max value: ").concat((s=g[v])===null||s===void 0?void 0:s.name);return te.createElement(On,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(E){["ArrowLeft","ArrowRight"].includes(E.key)&&(E.preventDefault(),E.stopPropagation(),o.handleTravellerMoveKeyboard(E.key==="ArrowRight"?1:-1,i))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,x))}},{key:"renderSlide",value:function(n,i){var a=this.props,s=a.y,o=a.height,c=a.stroke,u=a.travellerWidth,d=Math.min(n,i)+u,f=Math.max(Math.abs(i-n)-u,0);return te.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:s,width:f,height:o})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,s=n.y,o=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,m=5,g={pointerEvents:"none",fill:u};return te.createElement(On,{className:"recharts-brush-texts"},te.createElement(j0,OS({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-m,y:s+o/2},g),this.getTextOfTick(i)),te.createElement(j0,OS({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+m,y:s+o/2},g),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,s=n.children,o=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,m=h.startX,g=h.endX,p=h.isTextActive,v=h.isSlideMoving,y=h.isTravellerMoving,x=h.isTravellerFocused;if(!i||!i.length||!ut(o)||!ut(c)||!ut(u)||!ut(d)||u<=0||d<=0)return null;var w=lr("recharts-brush",a),N=te.Children.count(s)===1,E=pYe("userSelect","none");return te.createElement(On,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:E},this.renderBackground(),N&&this.renderPanorama(),this.renderSlide(m,g),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(g,"endX"),(p||v||y||x||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,s=n.width,o=n.height,c=n.stroke,u=Math.floor(a+o/2)-1;return te.createElement(te.Fragment,null,te.createElement("rect",{x:i,y:a,width:s,height:o,fill:c,stroke:"none"}),te.createElement("line",{x1:i+1,y1:u,x2:i+s-1,y2:u,fill:"none",stroke:"#fff"}),te.createElement("line",{x1:i+1,y1:u+2,x2:i+s-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return te.isValidElement(n)?a=te.cloneElement(n,i):Yt(n)?a=n(i):a=t.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,s=n.width,o=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(a!==i.prevData||u!==i.prevUpdateId)return QC({prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:o,prevWidth:s},a&&a.length?EYe({data:a,width:s,x:o,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||o!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([o,o+s-c]);var h=i.scale.domain().map(function(m){return i.scale(m)});return{prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:o,prevWidth:s,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,s=0,o=a-1;o-s>1;){var c=Math.floor((s+o)/2);n[c]>i?o=c:s=c}return i>=n[o]?o:s}}])}(b.PureComponent);hs(B0,"displayName","Brush");hs(B0,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var SYe=TM;function TYe(e,t){var r;return SYe(e,function(n,i,a){return r=t(n,i,a),!r}),!!r}var NYe=TYe,AYe=pre,CYe=wf,jYe=NYe,PYe=us,RYe=cN;function kYe(e,t,r){var n=PYe(e)?AYe:jYe;return r&&RYe(e,t,r)&&(t=void 0),n(e,CYe(t))}var IYe=kYe;const OYe=kr(IYe);var sc=function(t,r){var n=t.alwaysShow,i=t.ifOverflow;return n&&(i="extendDomain"),i===r},FU=Mre;function DYe(e,t,r){t=="__proto__"&&FU?FU(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var MYe=DYe,LYe=MYe,FYe=Ore,$Ye=wf;function BYe(e,t){var r={};return t=$Ye(t),FYe(e,function(n,i,a){LYe(r,i,t(n,i,a))}),r}var VYe=BYe;const UYe=kr(VYe);function zYe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var WYe=zYe,HYe=TM;function qYe(e,t){var r=!0;return HYe(e,function(n,i,a){return r=!!t(n,i,a),r}),r}var GYe=qYe,KYe=WYe,YYe=GYe,XYe=wf,QYe=us,ZYe=cN;function JYe(e,t,r){var n=QYe(e)?KYe:YYe;return r&&ZYe(e,t,r)&&(t=void 0),n(e,XYe(t))}var eXe=JYe;const tXe=kr(eXe);function Wx(e){"@babel/helpers - typeof";return Wx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wx(e)}function rXe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $U(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,wie(n.key),n)}}function nXe(e,t,r){return t&&$U(e.prototype,t),r&&$U(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function BU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Aw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BU(Object(r),!0).forEach(function(n){n3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function n3(e,t,r){return t=wie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wie(e){var t=iXe(e,"string");return Wx(t)=="symbol"?t:t+""}function iXe(e,t){if(Wx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _ie=function(t,r){var n=t.x,i=t.y,a=r.x,s=r.y;return{x:Math.min(n,a),y:Math.min(i,s),width:Math.abs(a-n),height:Math.abs(s-i)}},aXe=function(t){var r=t.x1,n=t.y1,i=t.x2,a=t.y2;return _ie({x:r,y:n},{x:i,y:a})},Eie=function(){function e(t){rXe(this,e),this.scale=t}return nXe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(r)+o}default:return this.scale(r)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?r>=i&&r<=a:r>=a&&r<=i}}],[{key:"create",value:function(r){return new e(r)}}])}();n3(Eie,"EPS",1e-4);var i3=function(t){var r=Object.keys(t).reduce(function(n,i){return Aw(Aw({},n),{},n3({},i,Eie.create(t[i])))},{});return Aw(Aw({},r),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,o=a.position;return UYe(i,function(c,u){return r[u].apply(c,{bandAware:s,position:o})})},isInRange:function(i){return tXe(i,function(a,s){return r[s].isInRange(a)})}})},sXe=LOe(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),Sie=b.createContext(void 0),Tie=b.createContext(void 0),Nie=b.createContext(void 0),oXe=b.createContext({}),Aie=b.createContext(void 0),lXe=b.createContext(0),cXe=b.createContext(0),VU=function(t){var r=t.state,n=r.xAxisMap,i=r.yAxisMap,a=r.offset,s=t.clipPathId,o=t.children,c=t.width,u=t.height,d=sXe(a);return te.createElement(Sie.Provider,{value:n},te.createElement(Tie.Provider,{value:i},te.createElement(oXe.Provider,{value:a},te.createElement(Nie.Provider,{value:d},te.createElement(Aie.Provider,{value:s},te.createElement(lXe.Provider,{value:u},te.createElement(cXe.Provider,{value:c},o)))))))},uXe=function(){return b.useContext(Aie)},dXe=function(t){var r=b.useContext(Sie);r==null&&I0();var n=r[t];return n==null&&I0(),n},fXe=function(t){var r=b.useContext(Tie);r==null&&I0();var n=r[t];return n==null&&I0(),n},hXe=function(){var t=b.useContext(Nie);return t};function V0(e){"@babel/helpers - typeof";return V0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},V0(e)}function mXe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pXe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,jie(n.key),n)}}function gXe(e,t,r){return t&&pXe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function vXe(e,t,r){return t=MS(t),yXe(e,Cie()?Reflect.construct(t,r||[],MS(e).constructor):t.apply(e,r))}function yXe(e,t){if(t&&(V0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xXe(e)}function xXe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Cie(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Cie=function(){return!!e})()}function MS(e){return MS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},MS(e)}function bXe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zk(e,t)}function Zk(e,t){return Zk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Zk(e,t)}function UU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function zU(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UU(Object(r),!0).forEach(function(n){a3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function a3(e,t,r){return t=jie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jie(e){var t=wXe(e,"string");return V0(t)=="symbol"?t:t+""}function wXe(e,t){if(V0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(V0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function _Xe(e,t){return NXe(e)||TXe(e,t)||SXe(e,t)||EXe()}function EXe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SXe(e,t){if(e){if(typeof e=="string")return WU(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return WU(e,t)}}function WU(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function TXe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function NXe(e){if(Array.isArray(e))return e}function Jk(){return Jk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jk.apply(this,arguments)}var AXe=function(t,r){var n;return te.isValidElement(t)?n=te.cloneElement(t,r):Yt(t)?n=t(r):n=te.createElement("line",Jk({},r,{className:"recharts-reference-line-line"})),n},CXe=function(t,r,n,i,a,s,o,c,u){var d=a.x,f=a.y,h=a.width,m=a.height;if(n){var g=u.y,p=t.y.apply(g,{position:s});if(sc(u,"discard")&&!t.y.isInRange(p))return null;var v=[{x:d+h,y:p},{x:d,y:p}];return c==="left"?v.reverse():v}if(r){var y=u.x,x=t.x.apply(y,{position:s});if(sc(u,"discard")&&!t.x.isInRange(x))return null;var w=[{x,y:f+m},{x,y:f}];return o==="top"?w.reverse():w}if(i){var N=u.segment,E=N.map(function(T){return t.apply(T,{position:s})});return sc(u,"discard")&&OYe(E,function(T){return!t.isInRange(T)})?null:E}return null};function jXe(e){var t=e.x,r=e.y,n=e.segment,i=e.xAxisId,a=e.yAxisId,s=e.shape,o=e.className,c=e.alwaysShow,u=uXe(),d=dXe(i),f=fXe(a),h=hXe();if(!u||!h)return null;eu(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=i3({x:d.scale,y:f.scale}),g=hi(t),p=hi(r),v=n&&n.length===2,y=CXe(m,g,p,v,h,e.position,d.orientation,f.orientation,e);if(!y)return null;var x=_Xe(y,2),w=x[0],N=w.x,E=w.y,T=x[1],S=T.x,A=T.y,C=sc(e,"hidden")?"url(#".concat(u,")"):void 0,j=zU(zU({clipPath:C},Kt(e,!0)),{},{x1:N,y1:E,x2:S,y2:A});return te.createElement(On,{className:lr("recharts-reference-line",o)},AXe(s,j),Di.renderCallByParent(e,aXe({x1:N,y1:E,x2:S,y2:A})))}var s3=function(e){function t(){return mXe(this,t),vXe(this,t,arguments)}return bXe(t,e),gXe(t,[{key:"render",value:function(){return te.createElement(jXe,this.props)}}])}(te.Component);a3(s3,"displayName","ReferenceLine");a3(s3,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function eI(){return eI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},eI.apply(this,arguments)}function U0(e){"@babel/helpers - typeof";return U0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},U0(e)}function HU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function qU(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HU(Object(r),!0).forEach(function(n){jN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PXe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RXe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Rie(n.key),n)}}function kXe(e,t,r){return t&&RXe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function IXe(e,t,r){return t=LS(t),OXe(e,Pie()?Reflect.construct(t,r||[],LS(e).constructor):t.apply(e,r))}function OXe(e,t){if(t&&(U0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DXe(e)}function DXe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pie(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Pie=function(){return!!e})()}function LS(e){return LS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},LS(e)}function MXe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tI(e,t)}function tI(e,t){return tI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},tI(e,t)}function jN(e,t,r){return t=Rie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rie(e){var t=LXe(e,"string");return U0(t)=="symbol"?t:t+""}function LXe(e,t){if(U0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(U0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var FXe=function(t){var r=t.x,n=t.y,i=t.xAxis,a=t.yAxis,s=i3({x:i.scale,y:a.scale}),o=s.apply({x:r,y:n},{bandAware:!0});return sc(t,"discard")&&!s.isInRange(o)?null:o},PN=function(e){function t(){return PXe(this,t),IXe(this,t,arguments)}return MXe(t,e),kXe(t,[{key:"render",value:function(){var n=this.props,i=n.x,a=n.y,s=n.r,o=n.alwaysShow,c=n.clipPathId,u=hi(i),d=hi(a);if(eu(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=FXe(this.props);if(!f)return null;var h=f.x,m=f.y,g=this.props,p=g.shape,v=g.className,y=sc(this.props,"hidden")?"url(#".concat(c,")"):void 0,x=qU(qU({clipPath:y},Kt(this.props,!0)),{},{cx:h,cy:m});return te.createElement(On,{className:lr("recharts-reference-dot",v)},t.renderDot(p,x),Di.renderCallByParent(this.props,{x:h-s,y:m-s,width:2*s,height:2*s}))}}])}(te.Component);jN(PN,"displayName","ReferenceDot");jN(PN,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});jN(PN,"renderDot",function(e,t){var r;return te.isValidElement(e)?r=te.cloneElement(e,t):Yt(e)?r=e(t):r=te.createElement(r3,eI({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function rI(){return rI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rI.apply(this,arguments)}function z0(e){"@babel/helpers - typeof";return z0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},z0(e)}function GU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function KU(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GU(Object(r),!0).forEach(function(n){RN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $Xe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BXe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Iie(n.key),n)}}function VXe(e,t,r){return t&&BXe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function UXe(e,t,r){return t=FS(t),zXe(e,kie()?Reflect.construct(t,r||[],FS(e).constructor):t.apply(e,r))}function zXe(e,t){if(t&&(z0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WXe(e)}function WXe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kie(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kie=function(){return!!e})()}function FS(e){return FS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},FS(e)}function HXe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nI(e,t)}function nI(e,t){return nI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},nI(e,t)}function RN(e,t,r){return t=Iie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Iie(e){var t=qXe(e,"string");return z0(t)=="symbol"?t:t+""}function qXe(e,t){if(z0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(z0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var GXe=function(t,r,n,i,a){var s=a.x1,o=a.x2,c=a.y1,u=a.y2,d=a.xAxis,f=a.yAxis;if(!d||!f)return null;var h=i3({x:d.scale,y:f.scale}),m={x:t?h.x.apply(s,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},g={x:r?h.x.apply(o,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return sc(a,"discard")&&(!h.isInRange(m)||!h.isInRange(g))?null:_ie(m,g)},kN=function(e){function t(){return $Xe(this,t),UXe(this,t,arguments)}return HXe(t,e),VXe(t,[{key:"render",value:function(){var n=this.props,i=n.x1,a=n.x2,s=n.y1,o=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;eu(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=hi(i),h=hi(a),m=hi(s),g=hi(o),p=this.props.shape;if(!f&&!h&&!m&&!g&&!p)return null;var v=GXe(f,h,m,g,this.props);if(!v&&!p)return null;var y=sc(this.props,"hidden")?"url(#".concat(d,")"):void 0;return te.createElement(On,{className:lr("recharts-reference-area",c)},t.renderRect(p,KU(KU({clipPath:y},Kt(this.props,!0)),v)),Di.renderCallByParent(this.props,v))}}])}(te.Component);RN(kN,"displayName","ReferenceArea");RN(kN,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});RN(kN,"renderRect",function(e,t){var r;return te.isValidElement(e)?r=te.cloneElement(e,t):Yt(e)?r=e(t):r=te.createElement(t3,rI({},t,{className:"recharts-reference-area-rect"})),r});function YU(e){return QXe(e)||XXe(e)||YXe(e)||KXe()}function KXe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YXe(e,t){if(e){if(typeof e=="string")return iI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iI(e,t)}}function XXe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function QXe(e){if(Array.isArray(e))return iI(e)}function iI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var aI=function(t,r,n,i,a){var s=ic(t,s3),o=ic(t,PN),c=[].concat(YU(s),YU(o)),u=ic(t,kN),d="".concat(i,"Id"),f=i[0],h=r;if(c.length&&(h=c.reduce(function(p,v){if(v.props[d]===n&&sc(v.props,"extendDomain")&&ut(v.props[f])){var y=v.props[f];return[Math.min(p[0],y),Math.max(p[1],y)]}return p},h)),u.length){var m="".concat(f,"1"),g="".concat(f,"2");h=u.reduce(function(p,v){if(v.props[d]===n&&sc(v.props,"extendDomain")&&ut(v.props[m])&&ut(v.props[g])){var y=v.props[m],x=v.props[g];return[Math.min(p[0],y,x),Math.max(p[1],y,x)]}return p},h)}return a&&a.length&&(h=a.reduce(function(p,v){return ut(v)?[Math.min(p[0],v),Math.max(p[1],v)]:p},h)),h},Oie={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function a(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,f||c,h),g=r?r+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],m]:c._events[g].push(m):(c._events[g]=m,c._eventsCount++),c}function s(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},o.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,g=new Array(m);h<m;h++)g[h]=f[h].fn;return g},o.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},o.prototype.emit=function(u,d,f,h,m,g){var p=r?r+u:u;if(!this._events[p])return!1;var v=this._events[p],y=arguments.length,x,w;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),y){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,h),!0;case 5:return v.fn.call(v.context,d,f,h,m),!0;case 6:return v.fn.call(v.context,d,f,h,m,g),!0}for(w=1,x=new Array(y-1);w<y;w++)x[w-1]=arguments[w];v.fn.apply(v.context,x)}else{var N=v.length,E;for(w=0;w<N;w++)switch(v[w].once&&this.removeListener(u,v[w].fn,void 0,!0),y){case 1:v[w].fn.call(v[w].context);break;case 2:v[w].fn.call(v[w].context,d);break;case 3:v[w].fn.call(v[w].context,d,f);break;case 4:v[w].fn.call(v[w].context,d,f,h);break;default:if(!x)for(E=1,x=new Array(y-1);E<y;E++)x[E-1]=arguments[E];v[w].fn.apply(v[w].context,x)}}return!0},o.prototype.on=function(u,d,f){return a(this,u,d,f,!1)},o.prototype.once=function(u,d,f){return a(this,u,d,f,!0)},o.prototype.removeListener=function(u,d,f,h){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return s(this,m),this;var g=this._events[m];if(g.fn)g.fn===d&&(!h||g.once)&&(!f||g.context===f)&&s(this,m);else{for(var p=0,v=[],y=g.length;p<y;p++)(g[p].fn!==d||h&&!g[p].once||f&&g[p].context!==f)&&v.push(g[p]);v.length?this._events[m]=v.length===1?v[0]:v:s(this,m)}return this},o.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&s(this,d)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o})(Oie);var ZXe=Oie.exports;const JXe=kr(ZXe);var ZC=new JXe,JC="recharts.syncMouseEvents";function Hx(e){"@babel/helpers - typeof";return Hx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hx(e)}function eQe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tQe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Die(n.key),n)}}function rQe(e,t,r){return t&&tQe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ej(e,t,r){return t=Die(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Die(e){var t=nQe(e,"string");return Hx(t)=="symbol"?t:t+""}function nQe(e,t){if(Hx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var iQe=function(){function e(){eQe(this,e),ej(this,"activeIndex",0),ej(this,"coordinateList",[]),ej(this,"layout","horizontal")}return rQe(e,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,a=i===void 0?null:i,s=r.container,o=s===void 0?null:s,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,m=h===void 0?null:h;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=o??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,s=i.y,o=i.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=a+c+u,h=s+this.offset.top+o/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function aQe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],i=e==null?void 0:e[1];if(n&&i&&ut(n)&&ut(i))return!0}return!1}function sQe(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function Mie(e){var t=e.cx,r=e.cy,n=e.radius,i=e.startAngle,a=e.endAngle,s=Hr(t,r,n,i),o=Hr(t,r,n,a);return{points:[s,o],cx:t,cy:r,radius:n,startAngle:i,endAngle:a}}function oQe(e,t,r){var n,i,a,s;if(e==="horizontal")n=t.x,a=n,i=r.top,s=r.top+r.height;else if(e==="vertical")i=t.y,s=i,n=r.left,a=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var o=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=Hr(o,c,u,f),m=Hr(o,c,d,f);n=h.x,i=h.y,a=m.x,s=m.y}else return Mie(t);return[{x:n,y:i},{x:a,y:s}]}function qx(e){"@babel/helpers - typeof";return qx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qx(e)}function XU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Cw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XU(Object(r),!0).forEach(function(n){lQe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lQe(e,t,r){return t=cQe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cQe(e){var t=uQe(e,"string");return qx(t)=="symbol"?t:t+""}function uQe(e,t){if(qx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dQe(e){var t,r,n=e.element,i=e.tooltipEventType,a=e.isActive,s=e.activeCoordinate,o=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,m=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!m||!a||!s||h!=="ScatterChart"&&i!=="axis")return null;var g,p=Ok;if(h==="ScatterChart")g=s,p=bGe;else if(h==="BarChart")g=sQe(f,s,c,d),p=t3;else if(f==="radial"){var v=Mie(s),y=v.cx,x=v.cy,w=v.radius,N=v.startAngle,E=v.endAngle;g={cx:y,cy:x,startAngle:N,endAngle:E,innerRadius:w,outerRadius:w},p=eie}else g={points:oQe(f,s,c)},p=Ok;var T=Cw(Cw(Cw(Cw({stroke:"#ccc",pointerEvents:"none"},c),g),Kt(m,!1)),{},{payload:o,payloadIndex:u,className:lr("recharts-tooltip-cursor",m.className)});return b.isValidElement(m)?b.cloneElement(m,T):b.createElement(p,T)}var fQe=["item"],hQe=["children","className","width","height","style","compact","title","desc"];function W0(e){"@babel/helpers - typeof";return W0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},W0(e)}function mp(){return mp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mp.apply(this,arguments)}function QU(e,t){return gQe(e)||pQe(e,t)||Fie(e,t)||mQe()}function mQe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pQe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function gQe(e){if(Array.isArray(e))return e}function ZU(e,t){if(e==null)return{};var r=vQe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function vQe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function yQe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xQe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$ie(n.key),n)}}function bQe(e,t,r){return t&&xQe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function wQe(e,t,r){return t=$S(t),_Qe(e,Lie()?Reflect.construct(t,r||[],$S(e).constructor):t.apply(e,r))}function _Qe(e,t){if(t&&(W0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return EQe(e)}function EQe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lie(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Lie=function(){return!!e})()}function $S(e){return $S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$S(e)}function SQe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sI(e,t)}function sI(e,t){return sI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},sI(e,t)}function H0(e){return AQe(e)||NQe(e)||Fie(e)||TQe()}function TQe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fie(e,t){if(e){if(typeof e=="string")return oI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oI(e,t)}}function NQe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function AQe(e){if(Array.isArray(e))return oI(e)}function oI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function JU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ce(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JU(Object(r),!0).forEach(function(n){Ct(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ct(e,t,r){return t=$ie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $ie(e){var t=CQe(e,"string");return W0(t)=="symbol"?t:t+""}function CQe(e,t){if(W0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(W0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jQe={xAxis:["bottom","top"],yAxis:["left","right"]},PQe={width:"100%",height:"100%"},Bie={x:0,y:0};function jw(e){return e}var RQe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},kQe=function(t,r,n,i){var a=r.find(function(d){return d&&d.index===n});if(a){if(t==="horizontal")return{x:a.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:a.coordinate};if(t==="centric"){var s=a.coordinate,o=i.radius;return Ce(Ce(Ce({},i),Hr(i.cx,i.cy,o,s)),{},{angle:s,radius:o})}var c=a.coordinate,u=i.angle;return Ce(Ce(Ce({},i),Hr(i.cx,i.cy,c,u)),{},{angle:u,radius:c})}return Bie},IN=function(t,r){var n=r.graphicalItems,i=r.dataStartIndex,a=r.dataEndIndex,s=(n??[]).reduce(function(o,c){var u=c.props.data;return u&&u.length?[].concat(H0(o),H0(u)):o},[]);return s.length>0?s:t&&t.length&&ut(i)&&ut(a)?t.slice(i,a+1):[]};function Vie(e){return e==="number"?[0,"auto"]:void 0}var lI=function(t,r,n,i){var a=t.graphicalItems,s=t.tooltipAxis,o=IN(r,t);return n<0||!a||!a.length||n>=o.length?null:a.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(s.dataKey&&!s.allowDuplicatedCategory){var m=f===void 0?o:f;h=BR(m,s.dataKey,i)}else h=f&&f[n]||o[n];return h?[].concat(H0(c),[iWe(u,h)]):c},[])},e7=function(t,r,n,i){var a=i||{x:t.chartX,y:t.chartY},s=RQe(a,n),o=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=Uze(s,o,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=lI(t,r,d,f),m=kQe(n,o,d,a);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:m}}return null},IQe=function(t,r){var n=r.axes,i=r.graphicalItems,a=r.axisType,s=r.axisIdKey,o=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,m=Gne(d,a);return n.reduce(function(g,p){var v,y=p.type.defaultProps!==void 0?Ce(Ce({},p.type.defaultProps),p.props):p.props,x=y.type,w=y.dataKey,N=y.allowDataOverflow,E=y.allowDuplicatedCategory,T=y.scale,S=y.ticks,A=y.includeHidden,C=y[s];if(g[C])return g;var j=IN(t.data,{graphicalItems:i.filter(function(M){var W,G=s in M.props?M.props[s]:(W=M.type.defaultProps)===null||W===void 0?void 0:W[s];return G===C}),dataStartIndex:c,dataEndIndex:u}),I=j.length,O,k,D;aQe(y.domain,N,x)&&(O=Ck(y.domain,null,N),m&&(x==="number"||T!=="auto")&&(D=dy(j,w,"category")));var B=Vie(x);if(!O||O.length===0){var ee,z=(ee=y.domain)!==null&&ee!==void 0?ee:B;if(w){if(O=dy(j,w,x),x==="category"&&m){var V=kDe(O);E&&V?(k=O,O=IS(0,I)):E||(O=O9(z,O,p).reduce(function(M,W){return M.indexOf(W)>=0?M:[].concat(H0(M),[W])},[]))}else if(x==="category")E?O=O.filter(function(M){return M!==""&&!ar(M)}):O=O9(z,O,p).reduce(function(M,W){return M.indexOf(W)>=0||W===""||ar(W)?M:[].concat(H0(M),[W])},[]);else if(x==="number"){var U=Gze(j,i.filter(function(M){var W,G,P=s in M.props?M.props[s]:(W=M.type.defaultProps)===null||W===void 0?void 0:W[s],J="hide"in M.props?M.props.hide:(G=M.type.defaultProps)===null||G===void 0?void 0:G.hide;return P===C&&(A||!J)}),w,a,d);U&&(O=U)}m&&(x==="number"||T!=="auto")&&(D=dy(j,w,"category"))}else m?O=IS(0,I):o&&o[C]&&o[C].hasStack&&x==="number"?O=h==="expand"?[0,1]:Kne(o[C].stackGroups,c,u):O=qne(j,i.filter(function(M){var W=s in M.props?M.props[s]:M.type.defaultProps[s],G="hide"in M.props?M.props.hide:M.type.defaultProps.hide;return W===C&&(A||!G)}),x,d,!0);if(x==="number")O=aI(f,O,C,a,S),z&&(O=Ck(z,O,N));else if(x==="category"&&z){var se=z,ne=O.every(function(M){return se.indexOf(M)>=0});ne&&(O=se)}}return Ce(Ce({},g),{},Ct({},C,Ce(Ce({},y),{},{axisType:a,domain:O,categoricalDomain:D,duplicateDomain:k,originalDomain:(v=y.domain)!==null&&v!==void 0?v:B,isCategorical:m,layout:d})))},{})},OQe=function(t,r){var n=r.graphicalItems,i=r.Axis,a=r.axisType,s=r.axisIdKey,o=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=IN(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),m=h.length,g=Gne(d,a),p=-1;return n.reduce(function(v,y){var x=y.type.defaultProps!==void 0?Ce(Ce({},y.type.defaultProps),y.props):y.props,w=x[s],N=Vie("number");if(!v[w]){p++;var E;return g?E=IS(0,m):o&&o[w]&&o[w].hasStack?(E=Kne(o[w].stackGroups,c,u),E=aI(f,E,w,a)):(E=Ck(N,qne(h,n.filter(function(T){var S,A,C=s in T.props?T.props[s]:(S=T.type.defaultProps)===null||S===void 0?void 0:S[s],j="hide"in T.props?T.props.hide:(A=T.type.defaultProps)===null||A===void 0?void 0:A.hide;return C===w&&!j}),"number",d),i.defaultProps.allowDataOverflow),E=aI(f,E,w,a)),Ce(Ce({},v),{},Ct({},w,Ce(Ce({axisType:a},i.defaultProps),{},{hide:!0,orientation:ll(jQe,"".concat(a,".").concat(p%2),null),domain:E,originalDomain:N,isCategorical:g,layout:d})))}return v},{})},DQe=function(t,r){var n=r.axisType,i=n===void 0?"xAxis":n,a=r.AxisComp,s=r.graphicalItems,o=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(i,"Id"),h=ic(d,a),m={};return h&&h.length?m=IQe(t,{axes:h,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:o,dataStartIndex:c,dataEndIndex:u}):s&&s.length&&(m=OQe(t,{Axis:a,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:o,dataStartIndex:c,dataEndIndex:u})),m},MQe=function(t){var r=Hm(t),n=Dv(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:NM(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:jk(r,n)}},t7=function(t){var r=t.children,n=t.defaultShowTooltip,i=to(r,B0),a=0,s=0;return t.data&&t.data.length!==0&&(s=t.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},LQe=function(t){return!t||!t.length?!1:t.some(function(r){var n=Jc(r&&r.type);return n&&n.indexOf("Bar")>=0})},r7=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},FQe=function(t,r){var n=t.props,i=t.graphicalItems,a=t.xAxisMap,s=a===void 0?{}:a,o=t.yAxisMap,c=o===void 0?{}:o,u=n.width,d=n.height,f=n.children,h=n.margin||{},m=to(f,B0),g=to(f,kp),p=Object.keys(c).reduce(function(E,T){var S=c[T],A=S.orientation;return!S.mirror&&!S.hide?Ce(Ce({},E),{},Ct({},A,E[A]+S.width)):E},{left:h.left||0,right:h.right||0}),v=Object.keys(s).reduce(function(E,T){var S=s[T],A=S.orientation;return!S.mirror&&!S.hide?Ce(Ce({},E),{},Ct({},A,ll(E,"".concat(A))+S.height)):E},{top:h.top||0,bottom:h.bottom||0}),y=Ce(Ce({},v),p),x=y.bottom;m&&(y.bottom+=m.props.height||B0.defaultProps.height),g&&r&&(y=Hze(y,i,n,r));var w=u-y.left-y.right,N=d-y.top-y.bottom;return Ce(Ce({brushBottom:x},y),{},{width:Math.max(w,0),height:Math.max(N,0)})},$Qe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},BQe=function(t){var r=t.chartName,n=t.GraphicalChild,i=t.defaultTooltipEventType,a=i===void 0?"axis":i,s=t.validateTooltipEventTypes,o=s===void 0?["axis"]:s,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(y,x){var w=x.graphicalItems,N=x.stackGroups,E=x.offset,T=x.updateId,S=x.dataStartIndex,A=x.dataEndIndex,C=y.barSize,j=y.layout,I=y.barGap,O=y.barCategoryGap,k=y.maxBarSize,D=r7(j),B=D.numericAxisName,ee=D.cateAxisName,z=LQe(w),V=[];return w.forEach(function(U,se){var ne=IN(y.data,{graphicalItems:[U],dataStartIndex:S,dataEndIndex:A}),M=U.type.defaultProps!==void 0?Ce(Ce({},U.type.defaultProps),U.props):U.props,W=M.dataKey,G=M.maxBarSize,P=M["".concat(B,"Id")],J=M["".concat(ee,"Id")],oe={},ae=c.reduce(function(ce,he){var Pe=x["".concat(he.axisType,"Map")],ke=M["".concat(he.axisType,"Id")];Pe&&Pe[ke]||he.axisType==="zAxis"||I0();var Le=Pe[ke];return Ce(Ce({},ce),{},Ct(Ct({},he.axisType,Le),"".concat(he.axisType,"Ticks"),Dv(Le)))},oe),K=ae[ee],ie=ae["".concat(ee,"Ticks")],fe=N&&N[P]&&N[P].hasStack&&rWe(U,N[P].stackGroups),le=Jc(U.type).indexOf("Bar")>=0,Be=jk(K,ie),Oe=[],vt=z&&zze({barSize:C,stackGroups:N,totalSize:$Qe(ae,ee)});if(le){var mt,ge,st=ar(G)?k:G,_e=(mt=(ge=jk(K,ie,!0))!==null&&ge!==void 0?ge:st)!==null&&mt!==void 0?mt:0;Oe=Wze({barGap:I,barCategoryGap:O,bandSize:_e!==Be?_e:Be,sizeList:vt[J],maxBarSize:st}),_e!==Be&&(Oe=Oe.map(function(ce){return Ce(Ce({},ce),{},{position:Ce(Ce({},ce.position),{},{offset:ce.position.offset-_e/2})})}))}var Q=U&&U.type&&U.type.getComposedData;Q&&V.push({props:Ce(Ce({},Q(Ce(Ce({},ae),{},{displayedData:ne,props:y,dataKey:W,item:U,bandSize:Be,barPosition:Oe,offset:E,stackedData:fe,layout:j,dataStartIndex:S,dataEndIndex:A}))),{},Ct(Ct(Ct({key:U.key||"item-".concat(se)},B,ae[B]),ee,ae[ee]),"animationId",T)),childIndex:zDe(U,y.children),item:U})}),V},m=function(y,x){var w=y.props,N=y.dataStartIndex,E=y.dataEndIndex,T=y.updateId;if(!CB({props:w}))return null;var S=w.children,A=w.layout,C=w.stackOffset,j=w.data,I=w.reverseStackOrder,O=r7(A),k=O.numericAxisName,D=O.cateAxisName,B=ic(S,n),ee=eWe(j,B,"".concat(k,"Id"),"".concat(D,"Id"),C,I),z=c.reduce(function(M,W){var G="".concat(W.axisType,"Map");return Ce(Ce({},M),{},Ct({},G,DQe(w,Ce(Ce({},W),{},{graphicalItems:B,stackGroups:W.axisType===k&&ee,dataStartIndex:N,dataEndIndex:E}))))},{}),V=FQe(Ce(Ce({},z),{},{props:w,graphicalItems:B}),x==null?void 0:x.legendBBox);Object.keys(z).forEach(function(M){z[M]=d(w,z[M],V,M.replace("Map",""),r)});var U=z["".concat(D,"Map")],se=MQe(U),ne=h(w,Ce(Ce({},z),{},{dataStartIndex:N,dataEndIndex:E,updateId:T,graphicalItems:B,stackGroups:ee,offset:V}));return Ce(Ce({formattedGraphicalItems:ne,graphicalItems:B,offset:V,stackGroups:ee},se),z)},g=function(v){function y(x){var w,N,E;return yQe(this,y),E=wQe(this,y,[x]),Ct(E,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ct(E,"accessibilityManager",new iQe),Ct(E,"handleLegendBBoxUpdate",function(T){if(T){var S=E.state,A=S.dataStartIndex,C=S.dataEndIndex,j=S.updateId;E.setState(Ce({legendBBox:T},m({props:E.props,dataStartIndex:A,dataEndIndex:C,updateId:j},Ce(Ce({},E.state),{},{legendBBox:T}))))}}),Ct(E,"handleReceiveSyncEvent",function(T,S,A){if(E.props.syncId===T){if(A===E.eventEmitterSymbol&&typeof E.props.syncMethod!="function")return;E.applySyncEvent(S)}}),Ct(E,"handleBrushChange",function(T){var S=T.startIndex,A=T.endIndex;if(S!==E.state.dataStartIndex||A!==E.state.dataEndIndex){var C=E.state.updateId;E.setState(function(){return Ce({dataStartIndex:S,dataEndIndex:A},m({props:E.props,dataStartIndex:S,dataEndIndex:A,updateId:C},E.state))}),E.triggerSyncEvent({dataStartIndex:S,dataEndIndex:A})}}),Ct(E,"handleMouseEnter",function(T){var S=E.getMouseInfo(T);if(S){var A=Ce(Ce({},S),{},{isTooltipActive:!0});E.setState(A),E.triggerSyncEvent(A);var C=E.props.onMouseEnter;Yt(C)&&C(A,T)}}),Ct(E,"triggeredAfterMouseMove",function(T){var S=E.getMouseInfo(T),A=S?Ce(Ce({},S),{},{isTooltipActive:!0}):{isTooltipActive:!1};E.setState(A),E.triggerSyncEvent(A);var C=E.props.onMouseMove;Yt(C)&&C(A,T)}),Ct(E,"handleItemMouseEnter",function(T){E.setState(function(){return{isTooltipActive:!0,activeItem:T,activePayload:T.tooltipPayload,activeCoordinate:T.tooltipPosition||{x:T.cx,y:T.cy}}})}),Ct(E,"handleItemMouseLeave",function(){E.setState(function(){return{isTooltipActive:!1}})}),Ct(E,"handleMouseMove",function(T){T.persist(),E.throttleTriggeredAfterMouseMove(T)}),Ct(E,"handleMouseLeave",function(T){E.throttleTriggeredAfterMouseMove.cancel();var S={isTooltipActive:!1};E.setState(S),E.triggerSyncEvent(S);var A=E.props.onMouseLeave;Yt(A)&&A(S,T)}),Ct(E,"handleOuterEvent",function(T){var S=UDe(T),A=ll(E.props,"".concat(S));if(S&&Yt(A)){var C,j;/.*touch.*/i.test(S)?j=E.getMouseInfo(T.changedTouches[0]):j=E.getMouseInfo(T),A((C=j)!==null&&C!==void 0?C:{},T)}}),Ct(E,"handleClick",function(T){var S=E.getMouseInfo(T);if(S){var A=Ce(Ce({},S),{},{isTooltipActive:!0});E.setState(A),E.triggerSyncEvent(A);var C=E.props.onClick;Yt(C)&&C(A,T)}}),Ct(E,"handleMouseDown",function(T){var S=E.props.onMouseDown;if(Yt(S)){var A=E.getMouseInfo(T);S(A,T)}}),Ct(E,"handleMouseUp",function(T){var S=E.props.onMouseUp;if(Yt(S)){var A=E.getMouseInfo(T);S(A,T)}}),Ct(E,"handleTouchMove",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&E.throttleTriggeredAfterMouseMove(T.changedTouches[0])}),Ct(E,"handleTouchStart",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&E.handleMouseDown(T.changedTouches[0])}),Ct(E,"handleTouchEnd",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&E.handleMouseUp(T.changedTouches[0])}),Ct(E,"handleDoubleClick",function(T){var S=E.props.onDoubleClick;if(Yt(S)){var A=E.getMouseInfo(T);S(A,T)}}),Ct(E,"handleContextMenu",function(T){var S=E.props.onContextMenu;if(Yt(S)){var A=E.getMouseInfo(T);S(A,T)}}),Ct(E,"triggerSyncEvent",function(T){E.props.syncId!==void 0&&ZC.emit(JC,E.props.syncId,T,E.eventEmitterSymbol)}),Ct(E,"applySyncEvent",function(T){var S=E.props,A=S.layout,C=S.syncMethod,j=E.state.updateId,I=T.dataStartIndex,O=T.dataEndIndex;if(T.dataStartIndex!==void 0||T.dataEndIndex!==void 0)E.setState(Ce({dataStartIndex:I,dataEndIndex:O},m({props:E.props,dataStartIndex:I,dataEndIndex:O,updateId:j},E.state)));else if(T.activeTooltipIndex!==void 0){var k=T.chartX,D=T.chartY,B=T.activeTooltipIndex,ee=E.state,z=ee.offset,V=ee.tooltipTicks;if(!z)return;if(typeof C=="function")B=C(V,T);else if(C==="value"){B=-1;for(var U=0;U<V.length;U++)if(V[U].value===T.activeLabel){B=U;break}}var se=Ce(Ce({},z),{},{x:z.left,y:z.top}),ne=Math.min(k,se.x+se.width),M=Math.min(D,se.y+se.height),W=V[B]&&V[B].value,G=lI(E.state,E.props.data,B),P=V[B]?{x:A==="horizontal"?V[B].coordinate:ne,y:A==="horizontal"?M:V[B].coordinate}:Bie;E.setState(Ce(Ce({},T),{},{activeLabel:W,activeCoordinate:P,activePayload:G,activeTooltipIndex:B}))}else E.setState(T)}),Ct(E,"renderCursor",function(T){var S,A=E.state,C=A.isTooltipActive,j=A.activeCoordinate,I=A.activePayload,O=A.offset,k=A.activeTooltipIndex,D=A.tooltipAxisBandSize,B=E.getTooltipEventType(),ee=(S=T.props.active)!==null&&S!==void 0?S:C,z=E.props.layout,V=T.key||"_recharts-cursor";return te.createElement(dQe,{key:V,activeCoordinate:j,activePayload:I,activeTooltipIndex:k,chartName:r,element:T,isActive:ee,layout:z,offset:O,tooltipAxisBandSize:D,tooltipEventType:B})}),Ct(E,"renderPolarAxis",function(T,S,A){var C=ll(T,"type.axisType"),j=ll(E.state,"".concat(C,"Map")),I=T.type.defaultProps,O=I!==void 0?Ce(Ce({},I),T.props):T.props,k=j&&j[O["".concat(C,"Id")]];return b.cloneElement(T,Ce(Ce({},k),{},{className:lr(C,k.className),key:T.key||"".concat(S,"-").concat(A),ticks:Dv(k,!0)}))}),Ct(E,"renderPolarGrid",function(T){var S=T.props,A=S.radialLines,C=S.polarAngles,j=S.polarRadius,I=E.state,O=I.radiusAxisMap,k=I.angleAxisMap,D=Hm(O),B=Hm(k),ee=B.cx,z=B.cy,V=B.innerRadius,U=B.outerRadius;return b.cloneElement(T,{polarAngles:Array.isArray(C)?C:Dv(B,!0).map(function(se){return se.coordinate}),polarRadius:Array.isArray(j)?j:Dv(D,!0).map(function(se){return se.coordinate}),cx:ee,cy:z,innerRadius:V,outerRadius:U,key:T.key||"polar-grid",radialLines:A})}),Ct(E,"renderLegend",function(){var T=E.state.formattedGraphicalItems,S=E.props,A=S.children,C=S.width,j=S.height,I=E.props.margin||{},O=C-(I.left||0)-(I.right||0),k=Wne({children:A,formattedGraphicalItems:T,legendWidth:O,legendContent:u});if(!k)return null;var D=k.item,B=ZU(k,fQe);return b.cloneElement(D,Ce(Ce({},B),{},{chartWidth:C,chartHeight:j,margin:I,onBBoxUpdate:E.handleLegendBBoxUpdate}))}),Ct(E,"renderTooltip",function(){var T,S=E.props,A=S.children,C=S.accessibilityLayer,j=to(A,Ko);if(!j)return null;var I=E.state,O=I.isTooltipActive,k=I.activeCoordinate,D=I.activePayload,B=I.activeLabel,ee=I.offset,z=(T=j.props.active)!==null&&T!==void 0?T:O;return b.cloneElement(j,{viewBox:Ce(Ce({},ee),{},{x:ee.left,y:ee.top}),active:z,label:B,payload:z?D:[],coordinate:k,accessibilityLayer:C})}),Ct(E,"renderBrush",function(T){var S=E.props,A=S.margin,C=S.data,j=E.state,I=j.offset,O=j.dataStartIndex,k=j.dataEndIndex,D=j.updateId;return b.cloneElement(T,{key:T.key||"_recharts-brush",onChange:Ew(E.handleBrushChange,T.props.onChange),data:C,x:ut(T.props.x)?T.props.x:I.left,y:ut(T.props.y)?T.props.y:I.top+I.height+I.brushBottom-(A.bottom||0),width:ut(T.props.width)?T.props.width:I.width,startIndex:O,endIndex:k,updateId:"brush-".concat(D)})}),Ct(E,"renderReferenceElement",function(T,S,A){if(!T)return null;var C=E,j=C.clipPathId,I=E.state,O=I.xAxisMap,k=I.yAxisMap,D=I.offset,B=T.type.defaultProps||{},ee=T.props,z=ee.xAxisId,V=z===void 0?B.xAxisId:z,U=ee.yAxisId,se=U===void 0?B.yAxisId:U;return b.cloneElement(T,{key:T.key||"".concat(S,"-").concat(A),xAxis:O[V],yAxis:k[se],viewBox:{x:D.left,y:D.top,width:D.width,height:D.height},clipPathId:j})}),Ct(E,"renderActivePoints",function(T){var S=T.item,A=T.activePoint,C=T.basePoint,j=T.childIndex,I=T.isRange,O=[],k=S.props.key,D=S.item.type.defaultProps!==void 0?Ce(Ce({},S.item.type.defaultProps),S.item.props):S.item.props,B=D.activeDot,ee=D.dataKey,z=Ce(Ce({index:j,dataKey:ee,cx:A.x,cy:A.y,r:4,fill:e3(S.item),strokeWidth:2,stroke:"#fff",payload:A.payload,value:A.value},Kt(B,!1)),YE(B));return O.push(y.renderActiveDot(B,z,"".concat(k,"-activePoint-").concat(j))),C?O.push(y.renderActiveDot(B,Ce(Ce({},z),{},{cx:C.x,cy:C.y}),"".concat(k,"-basePoint-").concat(j))):I&&O.push(null),O}),Ct(E,"renderGraphicChild",function(T,S,A){var C=E.filterFormatItem(T,S,A);if(!C)return null;var j=E.getTooltipEventType(),I=E.state,O=I.isTooltipActive,k=I.tooltipAxis,D=I.activeTooltipIndex,B=I.activeLabel,ee=E.props.children,z=to(ee,Ko),V=C.props,U=V.points,se=V.isRange,ne=V.baseLine,M=C.item.type.defaultProps!==void 0?Ce(Ce({},C.item.type.defaultProps),C.item.props):C.item.props,W=M.activeDot,G=M.hide,P=M.activeBar,J=M.activeShape,oe=!!(!G&&O&&z&&(W||P||J)),ae={};j!=="axis"&&z&&z.props.trigger==="click"?ae={onClick:Ew(E.handleItemMouseEnter,T.props.onClick)}:j!=="axis"&&(ae={onMouseLeave:Ew(E.handleItemMouseLeave,T.props.onMouseLeave),onMouseEnter:Ew(E.handleItemMouseEnter,T.props.onMouseEnter)});var K=b.cloneElement(T,Ce(Ce({},C.props),ae));function ie(he){return typeof k.dataKey=="function"?k.dataKey(he.payload):null}if(oe)if(D>=0){var fe,le;if(k.dataKey&&!k.allowDuplicatedCategory){var Be=typeof k.dataKey=="function"?ie:"payload.".concat(k.dataKey.toString());fe=BR(U,Be,B),le=se&&ne&&BR(ne,Be,B)}else fe=U==null?void 0:U[D],le=se&&ne&&ne[D];if(J||P){var Oe=T.props.activeIndex!==void 0?T.props.activeIndex:D;return[b.cloneElement(T,Ce(Ce(Ce({},C.props),ae),{},{activeIndex:Oe})),null,null]}if(!ar(fe))return[K].concat(H0(E.renderActivePoints({item:C,activePoint:fe,basePoint:le,childIndex:D,isRange:se})))}else{var vt,mt=(vt=E.getItemByXY(E.state.activeCoordinate))!==null&&vt!==void 0?vt:{graphicalItem:K},ge=mt.graphicalItem,st=ge.item,_e=st===void 0?T:st,Q=ge.childIndex,ce=Ce(Ce(Ce({},C.props),ae),{},{activeIndex:Q});return[b.cloneElement(_e,ce),null,null]}return se?[K,null,null]:[K,null]}),Ct(E,"renderCustomized",function(T,S,A){return b.cloneElement(T,Ce(Ce({key:"recharts-customized-".concat(A)},E.props),E.state))}),Ct(E,"renderMap",{CartesianGrid:{handler:jw,once:!0},ReferenceArea:{handler:E.renderReferenceElement},ReferenceLine:{handler:jw},ReferenceDot:{handler:E.renderReferenceElement},XAxis:{handler:jw},YAxis:{handler:jw},Brush:{handler:E.renderBrush,once:!0},Bar:{handler:E.renderGraphicChild},Line:{handler:E.renderGraphicChild},Area:{handler:E.renderGraphicChild},Radar:{handler:E.renderGraphicChild},RadialBar:{handler:E.renderGraphicChild},Scatter:{handler:E.renderGraphicChild},Pie:{handler:E.renderGraphicChild},Funnel:{handler:E.renderGraphicChild},Tooltip:{handler:E.renderCursor,once:!0},PolarGrid:{handler:E.renderPolarGrid,once:!0},PolarAngleAxis:{handler:E.renderPolarAxis},PolarRadiusAxis:{handler:E.renderPolarAxis},Customized:{handler:E.renderCustomized}}),E.clipPathId="".concat((w=x.id)!==null&&w!==void 0?w:tN("recharts"),"-clip"),E.throttleTriggeredAfterMouseMove=Ure(E.triggeredAfterMouseMove,(N=x.throttleDelay)!==null&&N!==void 0?N:1e3/60),E.state={},E}return SQe(y,v),bQe(y,[{key:"componentDidMount",value:function(){var w,N;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,N=w.children,E=w.data,T=w.height,S=w.layout,A=to(N,Ko);if(A){var C=A.props.defaultIndex;if(!(typeof C!="number"||C<0||C>this.state.tooltipTicks.length-1)){var j=this.state.tooltipTicks[C]&&this.state.tooltipTicks[C].value,I=lI(this.state,E,C,j),O=this.state.tooltipTicks[C].coordinate,k=(this.state.offset.top+T)/2,D=S==="horizontal",B=D?{x:O,y:k}:{y:O,x:k},ee=this.state.formattedGraphicalItems.find(function(V){var U=V.item;return U.type.name==="Scatter"});ee&&(B=Ce(Ce({},B),ee.props.points[C].tooltipPosition),I=ee.props.points[C].tooltipPayload);var z={activeTooltipIndex:C,isTooltipActive:!0,activeLabel:j,activePayload:I,activeCoordinate:B};this.setState(z),this.renderCursor(A),this.accessibilityManager.setIndex(C)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,N){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==N.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var E,T;this.accessibilityManager.setDetails({offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(T=this.props.margin.top)!==null&&T!==void 0?T:0}})}return null}},{key:"componentDidUpdate",value:function(w){zR([to(w.children,Ko)],[to(this.props.children,Ko)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=to(this.props.children,Ko);if(w&&typeof w.props.shared=="boolean"){var N=w.props.shared?"axis":"item";return o.indexOf(N)>=0?N:a}return a}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var N=this.container,E=N.getBoundingClientRect(),T=gVe(E),S={chartX:Math.round(w.pageX-T.left),chartY:Math.round(w.pageY-T.top)},A=E.width/N.offsetWidth||1,C=this.inRange(S.chartX,S.chartY,A);if(!C)return null;var j=this.state,I=j.xAxisMap,O=j.yAxisMap,k=this.getTooltipEventType(),D=e7(this.state,this.props.data,this.props.layout,C);if(k!=="axis"&&I&&O){var B=Hm(I).scale,ee=Hm(O).scale,z=B&&B.invert?B.invert(S.chartX):null,V=ee&&ee.invert?ee.invert(S.chartY):null;return Ce(Ce({},S),{},{xValue:z,yValue:V},D)}return D?Ce(Ce({},S),D):null}},{key:"inRange",value:function(w,N){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,T=this.props.layout,S=w/E,A=N/E;if(T==="horizontal"||T==="vertical"){var C=this.state.offset,j=S>=C.left&&S<=C.left+C.width&&A>=C.top&&A<=C.top+C.height;return j?{x:S,y:A}:null}var I=this.state,O=I.angleAxisMap,k=I.radiusAxisMap;if(O&&k){var D=Hm(O);return L9({x:S,y:A},D)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,N=this.getTooltipEventType(),E=to(w,Ko),T={};E&&N==="axis"&&(E.props.trigger==="click"?T={onClick:this.handleClick}:T={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var S=YE(this.props,this.handleOuterEvent);return Ce(Ce({},S),T)}},{key:"addListener",value:function(){ZC.on(JC,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){ZC.removeListener(JC,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,N,E){for(var T=this.state.formattedGraphicalItems,S=0,A=T.length;S<A;S++){var C=T[S];if(C.item===w||C.props.key===w.key||N===Jc(C.item.type)&&E===C.childIndex)return C}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,N=this.state.offset,E=N.left,T=N.top,S=N.height,A=N.width;return te.createElement("defs",null,te.createElement("clipPath",{id:w},te.createElement("rect",{x:E,y:T,height:S,width:A})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(N,E){var T=QU(E,2),S=T[0],A=T[1];return Ce(Ce({},N),{},Ct({},S,A.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(N,E){var T=QU(E,2),S=T[0],A=T[1];return Ce(Ce({},N),{},Ct({},S,A.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var N;return(N=this.state.xAxisMap)===null||N===void 0||(N=N[w])===null||N===void 0?void 0:N.scale}},{key:"getYScaleByAxisId",value:function(w){var N;return(N=this.state.yAxisMap)===null||N===void 0||(N=N[w])===null||N===void 0?void 0:N.scale}},{key:"getItemByXY",value:function(w){var N=this.state,E=N.formattedGraphicalItems,T=N.activeItem;if(E&&E.length)for(var S=0,A=E.length;S<A;S++){var C=E[S],j=C.props,I=C.item,O=I.type.defaultProps!==void 0?Ce(Ce({},I.type.defaultProps),I.props):I.props,k=Jc(I.type);if(k==="Bar"){var D=(j.data||[]).find(function(V){return eGe(w,V)});if(D)return{graphicalItem:C,payload:D}}else if(k==="RadialBar"){var B=(j.data||[]).find(function(V){return L9(w,V)});if(B)return{graphicalItem:C,payload:B}}else if(AN(C,T)||CN(C,T)||Ux(C,T)){var ee=zKe({graphicalItem:C,activeTooltipItem:T,itemData:O.data}),z=O.activeIndex===void 0?ee:O.activeIndex;return{graphicalItem:Ce(Ce({},C),{},{childIndex:z}),payload:Ux(C,T)?O.data[ee]:C.props.data[ee]}}}return null}},{key:"render",value:function(){var w=this;if(!CB(this))return null;var N=this.props,E=N.children,T=N.className,S=N.width,A=N.height,C=N.style,j=N.compact,I=N.title,O=N.desc,k=ZU(N,hQe),D=Kt(k,!1);if(j)return te.createElement(VU,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},te.createElement(HR,mp({},D,{width:S,height:A,title:I,desc:O}),this.renderClipPath(),PB(E,this.renderMap)));if(this.props.accessibilityLayer){var B,ee;D.tabIndex=(B=this.props.tabIndex)!==null&&B!==void 0?B:0,D.role=(ee=this.props.role)!==null&&ee!==void 0?ee:"application",D.onKeyDown=function(V){w.accessibilityManager.keyboardEvent(V)},D.onFocus=function(){w.accessibilityManager.focus()}}var z=this.parseEventsOfWrapper();return te.createElement(VU,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},te.createElement("div",mp({className:lr("recharts-wrapper",T),style:Ce({position:"relative",cursor:"default",width:S,height:A},C)},z,{ref:function(U){w.container=U}}),te.createElement(HR,mp({},D,{width:S,height:A,title:I,desc:O,style:PQe}),this.renderClipPath(),PB(E,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(b.Component);Ct(g,"displayName",r),Ct(g,"defaultProps",Ce({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Ct(g,"getDerivedStateFromProps",function(v,y){var x=v.dataKey,w=v.data,N=v.children,E=v.width,T=v.height,S=v.layout,A=v.stackOffset,C=v.margin,j=y.dataStartIndex,I=y.dataEndIndex;if(y.updateId===void 0){var O=t7(v);return Ce(Ce(Ce({},O),{},{updateId:0},m(Ce(Ce({props:v},O),{},{updateId:0}),y)),{},{prevDataKey:x,prevData:w,prevWidth:E,prevHeight:T,prevLayout:S,prevStackOffset:A,prevMargin:C,prevChildren:N})}if(x!==y.prevDataKey||w!==y.prevData||E!==y.prevWidth||T!==y.prevHeight||S!==y.prevLayout||A!==y.prevStackOffset||!VR(C,y.prevMargin)){var k=t7(v),D={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},B=Ce(Ce({},e7(y,w,S)),{},{updateId:y.updateId+1}),ee=Ce(Ce(Ce({},k),D),B);return Ce(Ce(Ce({},ee),m(Ce({props:v},ee),y)),{},{prevDataKey:x,prevData:w,prevWidth:E,prevHeight:T,prevLayout:S,prevStackOffset:A,prevMargin:C,prevChildren:N})}if(!zR(N,y.prevChildren)){var z,V,U,se,ne=to(N,B0),M=ne&&(z=(V=ne.props)===null||V===void 0?void 0:V.startIndex)!==null&&z!==void 0?z:j,W=ne&&(U=(se=ne.props)===null||se===void 0?void 0:se.endIndex)!==null&&U!==void 0?U:I,G=M!==j||W!==I,P=!ar(w),J=P&&!G?y.updateId:y.updateId+1;return Ce(Ce({updateId:J},m(Ce(Ce({props:v},y),{},{updateId:J,dataStartIndex:M,dataEndIndex:W}),y)),{},{prevChildren:N,dataStartIndex:M,dataEndIndex:W})}return null}),Ct(g,"renderActiveDot",function(v,y,x){var w;return b.isValidElement(v)?w=b.cloneElement(v,y):Yt(v)?w=v(y):w=te.createElement(r3,y),te.createElement(On,{className:"recharts-active-dot",key:x},w)});var p=b.forwardRef(function(y,x){return te.createElement(g,mp({},y,{ref:x}))});return p.displayName=g.displayName,p},Uie=BQe({chartName:"PieChart",GraphicalChild:bc,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:NN},{axisType:"radiusAxis",AxisComp:SN}],formatAxisMap:hWe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const tj=({data:e,title:t,darkMode:r=!1})=>{const[n,i]=b.useState(!1),a=e.filter(o=>o.value>0),s=a.length>0;return b.useEffect(()=>{const o=setTimeout(()=>{i(!0)},300);return()=>clearTimeout(o)},[]),l.jsxs(Qe,{className:"bg-white border border-gray-100 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 relative group overflow-hidden h-[420px]",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),l.jsx(Rt,{className:"pb-0 text-center",children:l.jsx(kt,{className:"text-xl font-bold",children:t})}),l.jsxs(nt,{className:"flex flex-col justify-center items-center h-[350px]",children:[l.jsx("div",{className:"h-64 w-full flex justify-center items-center",children:n&&l.jsx(zre,{width:"100%",height:"100%",children:l.jsxs(Uie,{children:[l.jsx(bc,{data:a,cx:"50%",cy:"50%",labelLine:!1,outerRadius:80,innerRadius:60,fill:"#8884d8",dataKey:"value",label:({percent:o})=>s?`${(o*100).toFixed(0)}%`:"",paddingAngle:2,children:a.map((o,c)=>l.jsx(dN,{fill:o.color,stroke:"#fff",strokeWidth:2},`cell-${c}`))}),l.jsx(Ko,{formatter:(o,c)=>[o,c],contentStyle:{backgroundColor:r?"#1f2937":"#fff",border:r?"1px solid #374151":"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"},itemStyle:{color:r?"#e5e7eb":"#374151"}})]})})}),l.jsxs("div",{className:"mt-2 px-2 text-sm w-full",children:[!s&&l.jsx("p",{className:"text-center text-gray-500",children:"Não há dados disponíveis para exibir"}),s&&l.jsx("ul",{className:"flex flex-col gap-2 justify-center items-center",children:a.map((o,c)=>l.jsxs("li",{className:"flex items-center gap-2 w-full justify-center",children:[l.jsx("span",{className:"inline-block w-3 h-3 rounded-full",style:{backgroundColor:o.color}}),l.jsxs("span",{className:r?"text-gray-300":"text-gray-600",children:[o.name," (",o.value,")"]})]},c))})]})]})]})},VQe=({data:e,title:t,darkMode:r=!1})=>{const[n,i]=b.useState(!1),a=e.filter(u=>u.requestCount>0),s=a.length>0,o=["#eab308","#22c55e","#3b82f6","#8b5cf6","#ec4899"],c=a.map((u,d)=>({...u,color:o[d%o.length]}));return b.useEffect(()=>{const u=setTimeout(()=>{i(!0)},300);return()=>clearTimeout(u)},[]),l.jsxs(Qe,{className:"bg-white border border-gray-100 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 relative group overflow-hidden h-[420px]",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),l.jsx(Rt,{className:"pb-0 text-center",children:l.jsx(kt,{className:"text-xl font-bold",children:t})}),l.jsxs(nt,{className:"flex flex-col justify-center items-center h-[350px]",children:[l.jsx("div",{className:"h-64 w-full flex justify-center items-center",children:n&&l.jsx(zre,{width:"100%",height:"100%",children:l.jsxs(Uie,{children:[l.jsx(bc,{data:c,cx:"50%",cy:"50%",labelLine:!1,outerRadius:80,innerRadius:60,fill:"#8884d8",dataKey:"requestCount",nameKey:"userName",label:({percent:u})=>s?`${(u*100).toFixed(0)}%`:"",paddingAngle:2,children:c.map((u,d)=>l.jsx(dN,{fill:u.color,stroke:"#fff",strokeWidth:2},`cell-${d}`))}),l.jsx(Ko,{formatter:(u,d)=>[u,d],contentStyle:{backgroundColor:r?"#1f2937":"#fff",border:r?"1px solid #374151":"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"},itemStyle:{color:r?"#e5e7eb":"#374151"}})]})})}),l.jsxs("div",{className:"mt-2 px-2 text-sm w-full",children:[!s&&l.jsx("p",{className:"text-center text-gray-500",children:"Não há dados de usuários disponíveis"}),s&&l.jsx("ul",{className:"flex flex-col gap-2 justify-center items-center",children:c.map((u,d)=>l.jsxs("li",{className:"flex items-center gap-2 w-full justify-center",children:[l.jsx("span",{className:"inline-block w-3 h-3 rounded-full",style:{backgroundColor:u.color}}),l.jsxs("span",{className:r?"text-gray-300":"text-gray-600",children:[u.userName," (",u.requestCount,")"]})]},d))})]})]})]})};function zie({requestStatusData:e=[],equipmentTypeData:t=[],requestTypeData:r=[],topUsersData:n=[],requests:i=[],hideOtherCharts:a=!1,darkMode:s=!1,chartWrapperClass:o="",headerClass:c=""}){const u=t.length>0&&t.some(g=>g.value>0),d=r.length>0&&r.some(g=>g.value>0),f=e.length>0&&e.some(g=>g.value>0),h=n.length>0&&n.some(g=>g.requestCount>0),m=u||d||f||h;return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:Re("grid grid-cols-1 lg:grid-cols-2 gap-6",o),children:[f&&l.jsx(tj,{data:e,title:"Status das Solicitações",darkMode:s}),d&&l.jsx(tj,{data:r,title:"Tipos de Solicitações",darkMode:s})]}),l.jsxs("div",{className:Re("grid grid-cols-1 lg:grid-cols-2 gap-6",o),children:[u&&l.jsx(tj,{data:t,title:"Tipos de Equipamentos",darkMode:s}),h&&l.jsx(VQe,{data:n,title:"Usuários Mais Ativos",darkMode:s})]}),!m&&l.jsx("div",{className:"col-span-2 bg-white border border-gray-100 rounded-2xl shadow-lg p-8 text-center",children:l.jsx("p",{className:"text-lg text-gray-500",children:"Não há dados suficientes para exibir os gráficos. Adicione equipamentos ou faça solicitações para visualizar as estatísticas."})})]})}function Wie({isLoading:e,isError:t}){return e?l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):t?l.jsx("div",{className:"text-center text-destructive p-4 border border-destructive rounded-md",children:"Erro ao carregar dados. Tente novamente mais tarde."}):null}const ON=qr(Ze,"avisos"),Hie=async(e,t)=>{try{const n=`${Date.now()}_${e.name}`,i=`avisos/${t}/${n}`,a=Xc(x0,i);return await a4(a,e),{url:await y0(a),path:i}}catch(r){throw console.error("Error uploading image:",r),r}},qie=async e=>{try{if(e){const t=Xc(x0,e);await s4(t)}}catch(t){console.error("Error deleting image:",t)}},UQe=async e=>{try{const t={type:e.type,title:e.title,content:e.content??"",imageUrl:"",imagePath:"",priority:e.priority,isActive:e.isActive,createdBy:e.createdBy,createdAt:Ot.now(),expiresAt:e.expiresAt?Ot.fromDate(e.expiresAt):null,updatedAt:null,updatedBy:null},r=await xu(ON,t);if(e.imageFile&&e.type==="image"){const{url:n,path:i}=await Hie(e.imageFile,r.id);await ur(r,{imageUrl:n,imagePath:i})}return r.id}catch(t){throw console.error("Error creating notice:",t),t}},zQe=async(e,t)=>{try{const r=xt(Ze,"avisos",e),n={updatedAt:Ot.now(),updatedBy:t.updatedBy};if(t.title!==void 0&&(n.title=t.title),t.type!==void 0&&(n.type=t.type),t.content!==void 0&&(n.content=t.content??""),t.priority!==void 0&&(n.priority=t.priority),t.isActive!==void 0&&(n.isActive=t.isActive),t.expiresAt!==void 0&&t.content!==void 0&&(n.content=t.content??""),t.title!==void 0&&(n.title=t.title),t.priority!==void 0&&(n.priority=t.priority),t.expiresAt!==void 0&&(n.expiresAt=t.expiresAt?Ot.fromDate(t.expiresAt):null),n.expiresAt=t.expiresAt?Ot.fromDate(t.expiresAt):null,t.imageFile&&t.type==="image"){const i=await Ia(ks(ON,la("__name__","==",e)));if(!i.empty){const o=i.docs[0].data();o.imagePath&&await qie(o.imagePath)}const{url:a,path:s}=await Hie(t.imageFile,e);n.imageUrl=a,n.imagePath=s}await ur(r,n)}catch(r){throw console.error("Error updating notice:",r),r}},WQe=async e=>{try{const t=xt(Ze,"avisos",e),r=await Ia(ks(ON,la("__name__","==",e)));if(!r.empty){const n=r.docs[0].data();n.imagePath&&await qie(n.imagePath)}await gf(t)}catch(t){throw console.error("Error deleting notice:",t),t}},HQe=e=>{const t=ks(ON,la("isActive","==",!0),ix("priority","desc"),ix("createdAt","desc"));return vT(t,r=>{const n=r.docs.map(i=>{var s,o,c;const a=i.data();return{id:i.id,...a,createdAt:((s=a.createdAt)==null?void 0:s.toDate())||new Date,expiresAt:((o=a.expiresAt)==null?void 0:o.toDate())||void 0,updatedAt:((c=a.updatedAt)==null?void 0:c.toDate())||void 0}});e(n)},r=>{console.error("Error in notices subscription:",r)})},qQe=(e,t=800,r=600,n=.8)=>new Promise(i=>{const a=document.createElement("canvas"),s=a.getContext("2d"),o=new Image;o.onload=()=>{let{width:c,height:u}=o;c>u?c>t&&(u=u*t/c,c=t):u>r&&(c=c*r/u,u=r),a.width=c,a.height=u,s==null||s.drawImage(o,0,0,c,u),a.toBlob(d=>{if(d){const f=new File([d],e.name,{type:e.type,lastModified:Date.now()});i(f)}else i(e)},e.type,n)},o.src=URL.createObjectURL(e)}),GQe=e=>["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(e.type)?e.size>10485760?{isValid:!1,error:"A imagem deve ter no máximo 10MB"}:{isValid:!0}:{isValid:!1,error:"Por favor, selecione um arquivo de imagem válido (JPEG, PNG, GIF ou WebP)"},KQe=e=>new Promise((t,r)=>{const n=new FileReader;n.onload=i=>{var a;(a=i.target)!=null&&a.result?t(i.target.result):r(new Error("Erro ao gerar preview da imagem"))},n.onerror=()=>r(new Error("Erro ao ler arquivo")),n.readAsDataURL(e)}),YQe=`
  .line-clamp-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
`,Gie=({className:e=""})=>{const{currentUser:t,isSuperAdmin:r,userPermissions:n}=Mr(),i=r||n["notice-board-edit"],[a,s]=b.useState([]),[o,c]=b.useState(!1),[u,d]=b.useState(!1),[f,h]=b.useState(null),[m,g]=b.useState(!1),[p,v]=b.useState(null),[y,x]=b.useState(null),w=b.useRef(null);b.useEffect(()=>{if(!document.querySelector("#line-clamp-styles")){const D=document.createElement("style");D.id="line-clamp-styles",D.textContent=YQe,document.head.appendChild(D)}},[]),b.useEffect(()=>{let D;return D=HQe(B=>{s(B)}),()=>{D&&D()}},[]);const[N,E]=b.useState({type:"text",title:"",content:"",priority:"medium",isActive:!0}),T=async()=>{if(!(!t||!N.title)){g(!0);try{await UQe({type:N.type||"text",title:N.title,content:N.content??"",imageFile:N.imageFile,priority:N.priority||"medium",expiresAt:N.expiresAt,isActive:!0,createdBy:t.email||"admin"}),I()}catch(D){console.error("Erro ao criar aviso:",D)}finally{g(!1)}}},S=D=>{h(D),E({...D,expiresAt:D.expiresAt?new Date(D.expiresAt):void 0}),d(!0)},A=async()=>{if(!(!f||!t)){g(!0);try{await zQe(f.id,{...N,imageFile:N.imageFile,updatedBy:t.email||"admin"}),I()}catch(D){console.error("Erro ao atualizar aviso:",D)}finally{g(!1)}}},C=async D=>{if(t)try{await WQe(D)}catch(B){console.error("Erro ao excluir aviso:",B)}},j=async D=>{var z;const B=(z=D.target.files)==null?void 0:z[0];if(!B)return;const ee=GQe(B);if(!ee.isValid){alert(ee.error);return}try{g(!0);const V=await qQe(B,800,600,.8),U=await KQe(V);E(se=>({...se,imageFile:V})),v(U)}catch(V){console.error("Erro ao processar imagem:",V),alert("Erro ao processar a imagem. Tente novamente.")}finally{g(!1)}},I=()=>{h(null),E({type:"text",title:"",content:"",priority:"medium",isActive:!0}),d(!1),v(null),w.current&&(w.current.value="")},O=D=>{switch(D){case"high":return"bg-red-100 text-red-800 border-red-200";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"low":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},k=D=>{switch(D){case"high":return l.jsx(r5,{className:"w-4 h-4"});case"medium":return l.jsx(Zn,{className:"w-4 h-4"});default:return null}};return l.jsxs("div",{className:Re("w-full bg-gradient-to-br from-white via-purple-50 to-gray-50 rounded-3xl shadow-2xl border-2 p-7 mb-8 transform transition-all duration-300 hover:shadow-3xl hover:-translate-y-1",e),children:[i&&l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h2",{className:"text-2xl font-extrabold bg-gradient-to-r from-eccos-purple to-sidebar bg-clip-text text-transparent flex items-center gap-2 mb-4",children:"Quadro de Avisos"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(me,{onClick:()=>c(!o),variant:"outline",size:"sm",className:"border-eccos-purple text-eccos-purple hover:bg-eccos-purple hover:text-white",children:[l.jsx(Vy,{className:"w-4 h-4 mr-1"}),o?"Finalizar":"Gerenciar"]}),a.length<4&&l.jsxs(me,{onClick:()=>d(!0),size:"sm",className:"bg-eccos-purple hover:bg-sidebar text-white",children:[l.jsx(aE,{className:"w-4 h-4 mr-1"}),"Adicionar"]})]})]}),a.length>0?l.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:a.map(D=>l.jsxs(Qe,{className:"bg-white border border-gray-100 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 relative group overflow-hidden cursor-pointer",onClick:()=>x(D),children:[i&&o&&l.jsxs("div",{className:"absolute top-3 left-3 z-10 flex gap-1",children:[l.jsx(me,{onClick:B=>{B.stopPropagation(),S(D)},size:"sm",variant:"outline",className:"w-8 h-8 p-0 bg-white/90 hover:bg-white border-gray-300",children:l.jsx(Vy,{className:"w-3 h-3"})}),l.jsx(me,{onClick:B=>{B.stopPropagation(),C(D.id)},size:"sm",variant:"outline",className:"w-8 h-8 p-0 bg-white/90 hover:bg-red-50 border-gray-300 hover:border-red-300 hover:text-red-600",title:"Excluir permanentemente",children:l.jsx(Rs,{className:"w-3 h-3"})})]}),l.jsxs(nt,{className:"p-0",children:[l.jsx("div",{className:"px-4 pt-4 flex justify-end",children:l.jsx(Se,{className:`${O(D.priority)} border text-xs`,children:l.jsxs("span",{className:"flex items-center gap-1",children:[k(D.priority),D.priority==="high"?"Urgente":D.priority==="medium"?"Importante":"Normal"]})})}),D.type==="image"&&D.imageUrl&&l.jsx("div",{className:"relative w-full h-48 rounded-t-2xl overflow-hidden bg-gray-100",children:l.jsx("img",{src:D.imageUrl,alt:D.title,className:"w-full h-full object-contain bg-white",onError:B=>{const ee=B.target;ee.style.display="none"}})}),l.jsxs("div",{className:"p-4",children:[l.jsx("h3",{className:"font-semibold text-gray-800 mb-2 text-sm leading-tight",children:D.title}),D.content&&l.jsx("p",{className:"text-gray-600 text-xs leading-relaxed line-clamp-3",children:D.content}),l.jsx("div",{className:"mt-3 pt-2 border-t border-gray-100",children:l.jsx("span",{className:"text-xs text-gray-500",children:new Date(D.createdAt).toLocaleDateString("pt-BR")})})]})]})]},D.id))}):l.jsx(Qe,{className:"bg-gradient-to-br from-eccos-purple/5 to-sidebar/5 border border-gray-200 rounded-2xl",children:l.jsxs(nt,{className:"p-8 text-center",children:[l.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-gradient-to-br from-eccos-purple to-sidebar text-white mb-4",children:l.jsx(Kc,{className:"w-8 h-8"})}),l.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Seja bem-vindo(a)!"}),l.jsx("p",{className:"text-gray-600 mb-6 text-lg",children:i?"Adicione avisos importantes para compartilhar informações com a equipe.":"Estamos felizes em tê-lo(a) aqui. Fique atento(a) para futuros avisos!"}),i&&l.jsxs(me,{onClick:()=>d(!0),className:"bg-gradient-to-br from-eccos-purple to-sidebar hover:from-eccos-purple/90 hover:to-sidebar/90 text-white",size:"lg",children:[l.jsx(aE,{className:"w-5 h-5 mr-1"}),"Criar Primeiro Aviso"]})]})}),i&&u&&l.jsx(Qe,{className:"bg-white border border-gray-200 rounded-2xl shadow-lg mb-6",children:l.jsxs(nt,{className:"p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:f?"Editar Aviso":"Novo Aviso"}),l.jsx(me,{onClick:I,variant:"ghost",size:"sm",children:l.jsx(go,{className:"w-4 h-4"})})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo de Aviso"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(me,{onClick:()=>E(D=>({...D,type:"text",imageFile:void 0})),variant:N.type==="text"?"default":"outline",size:"sm",className:N.type==="text"?"bg-eccos-purple hover:bg-sidebar":"",children:[l.jsx(Efe,{className:"w-4 h-4 mr-1"})," Texto"]}),l.jsxs(me,{onClick:()=>E(D=>({...D,type:"image"})),variant:N.type==="image"?"default":"outline",size:"sm",className:N.type==="image"?"bg-eccos-purple hover:bg-sidebar":"",children:[l.jsx(AO,{className:"w-4 h-4 mr-1"})," Imagem"]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Título"}),l.jsx("input",{type:"text",value:N.title||"",onChange:D=>E(B=>({...B,title:D.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-eccos-purple focus:border-transparent",placeholder:"Digite o título do aviso"})]}),N.type==="image"&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Imagem"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("input",{ref:w,type:"file",accept:"image/*",onChange:j,className:"hidden"}),l.jsxs(me,{type:"button",onClick:()=>{var D;return(D=w.current)==null?void 0:D.click()},variant:"outline",size:"sm",className:"flex items-center gap-2",disabled:m,children:[l.jsx(bP,{className:"w-4 h-4"}),m?"Processando...":"Selecionar Imagem"]}),N.imageFile&&l.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[l.jsx(i5,{className:"w-4 h-4"}),l.jsx("span",{children:N.imageFile.name}),l.jsx(me,{type:"button",onClick:()=>{E(D=>({...D,imageFile:void 0})),v(null),w.current&&(w.current.value="")},variant:"ghost",size:"sm",className:"w-6 h-6 p-0 text-gray-400 hover:text-red-600",children:l.jsx(go,{className:"w-3 h-3"})})]}),f&&f.imageUrl&&!N.imageFile&&l.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[l.jsx(i5,{className:"w-4 h-4"}),l.jsx("span",{children:"Imagem atual"})]})]}),p&&l.jsx("div",{className:"border border-gray-200 rounded-lg p-2",children:l.jsx("img",{src:p,alt:"Preview",className:"w-full h-32 object-cover rounded-md"})}),f&&f.imageUrl&&!p&&l.jsxs("div",{className:"border border-gray-200 rounded-lg p-2",children:[l.jsx("img",{src:f.imageUrl,alt:"Imagem atual",className:"w-full h-32 object-cover rounded-md"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Imagem atual"})]}),l.jsx("p",{className:"text-xs text-gray-500",children:"Formatos aceitos: JPEG, PNG, GIF, WebP. Tamanho máximo: 10MB (será otimizada automaticamente)"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Conteúdo"}),l.jsx("textarea",{value:N.content||"",onChange:D=>E(B=>({...B,content:D.target.value})),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-eccos-purple focus:border-transparent resize-none",placeholder:"Digite o conteúdo do aviso"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prioridade"}),l.jsx("div",{className:"flex gap-2",children:[{value:"low",label:"Normal",color:"bg-blue-600 hover:bg-blue-700"},{value:"medium",label:"Importante",color:"bg-yellow-600 hover:bg-yellow-700"},{value:"high",label:"Urgente",color:"bg-red-600 hover:bg-red-700"}].map(D=>l.jsx(me,{onClick:()=>E(B=>({...B,priority:D.value})),variant:N.priority===D.value?"default":"outline",size:"sm",className:N.priority===D.value?D.color:"",children:D.label},D.value))})]}),l.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t border-gray-100",children:[l.jsx(me,{onClick:I,variant:"outline",disabled:m,children:"Cancelar"}),l.jsx(me,{onClick:f?A:T,className:"bg-eccos-purple hover:bg-sidebar text-white",disabled:!N.title||m,children:m?l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Enviando..."]}):`${f?"Atualizar":"Adicionar"} Aviso`})]})]})]})}),y&&l.jsx(mn,{open:!0,onOpenChange:()=>x(null),children:l.jsxs(on,{className:"max-w-4xl max-h-[95vh] p-0 overflow-hidden gap-0",children:[l.jsxs(xJ,{children:[l.jsx(ln,{children:y.title}),l.jsx(gn,{children:y.content||"Sem conteúdo disponível."})]}),l.jsxs("div",{className:"flex flex-col max-h-[95vh] overflow-hidden",children:[l.jsxs("div",{className:"sticky top-0 z-20 bg-white border-b border-gray-200 px-6 py-4 flex justify-between items-start gap-4",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsxs("div",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-sm font-medium border ${y.priority==="high"?"bg-red-50 text-red-700 border-red-200":y.priority==="medium"?"bg-yellow-50 text-yellow-700 border-yellow-200":"bg-blue-50 text-blue-700 border-blue-200"}`,children:[y.priority==="high"&&l.jsx(r5,{className:"w-4 h-4"}),y.priority==="medium"&&l.jsx(Zn,{className:"w-4 h-4"}),y.priority==="low"&&l.jsx(Zn,{className:"w-4 h-4"}),y.priority==="high"?"Urgente":y.priority==="medium"?"Importante":"Normal"]}),l.jsx("div",{className:"inline-flex items-center gap-1.5 px-2 py-1 rounded-md text-xs font-medium bg-gray-100 text-gray-600",children:y.type==="image"?"🖼️ Imagem":"📝 Texto"})]}),l.jsx("h1",{className:"text-xl md:text-2xl font-bold text-gray-900 leading-tight pr-4",children:y.title})]}),l.jsx("button",{onClick:()=>x(null),className:"flex-shrink-0 p-2 rounded-full hover:bg-gray-100 transition-colors duration-200 group","aria-label":"Fechar modal",children:l.jsx(go,{className:"w-5 h-5 text-gray-500 group-hover:text-gray-700"})})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto",children:[y.type==="image"&&y.imageUrl&&l.jsx("div",{className:"bg-gray-50 border-b border-gray-200",children:l.jsx("div",{className:"max-w-4xl mx-auto",children:l.jsx("img",{src:y.imageUrl,alt:y.title,className:"w-full max-h-[60vh] object-contain bg-white",onError:D=>{const ee=D.target.parentElement;ee&&(ee.innerHTML=`
                              <div class="flex items-center justify-center h-64 bg-gray-100 text-gray-500">
                                <div class="text-center">
                                  <div class="text-4xl mb-2">🖼️</div>
                                  <p>Imagem não pôde ser carregada</p>
                                </div>
                              </div>
                            `)}})})}),l.jsxs("div",{className:"px-6 py-6",children:[y.content&&l.jsx("div",{className:"mb-8",children:l.jsx("div",{className:"prose prose-lg max-w-none",children:l.jsx("p",{className:"text-gray-700 leading-relaxed whitespace-pre-line text-base md:text-lg",children:y.content})})}),l.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[l.jsx("h3",{className:"text-sm font-semibold text-gray-900 uppercase tracking-wide mb-4",children:"Informações do Aviso"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{className:"flex items-start gap-3 p-4 bg-gray-50 rounded-lg",children:[l.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:l.jsx(Zn,{className:"w-4 h-4 text-blue-600"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"font-medium text-gray-900",children:"Publicado em"}),l.jsx("p",{className:"text-gray-600 mt-1",children:new Date(y.createdAt).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})})]})]}),l.jsxs("div",{className:"flex items-start gap-3 p-4 bg-gray-50 rounded-lg",children:[l.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:l.jsx(Kc,{className:"w-4 h-4 text-green-600"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"font-medium text-gray-900",children:"Criado por"}),l.jsx("p",{className:"text-gray-600 mt-1 truncate",children:y.createdBy||"Sistema"})]})]}),y.updatedAt&&l.jsxs("div",{className:"flex items-start gap-3 p-4 bg-gray-50 rounded-lg",children:[l.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center",children:l.jsx(fu,{className:"w-4 h-4 text-orange-600"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"font-medium text-gray-900",children:"Atualizado em"}),l.jsx("p",{className:"text-gray-600 mt-1",children:new Date(y.updatedAt).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}),y.updatedBy&&l.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["por ",y.updatedBy]})]})]}),y.expiresAt&&l.jsxs("div",{className:"flex items-start gap-3 p-4 bg-gray-50 rounded-lg",children:[l.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-red-100 rounded-full flex items-center justify-center",children:l.jsx(sE,{className:"w-4 h-4 text-red-600"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"font-medium text-gray-900",children:"Expira em"}),l.jsx("p",{className:"text-gray-600 mt-1",children:new Date(y.expiresAt).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"})}),new Date(y.expiresAt)<new Date&&l.jsx("p",{className:"text-xs text-red-600 font-medium mt-1",children:"Este aviso expirou"})]})]})]})]})]})]})]})]})})]})};var C_=(e=>(e.pending="pending",e.approved="approved",e.rejected="rejected",e["in-progress"]="in-progress",e.completed="completed",e))(C_||{});const Kie=()=>{const{currentUser:e}=Mr(),t=im(),r=g=>{g.preventDefault(),g.stopPropagation(),t("/minhas-solicitacoes")},n=g=>p=>{p.preventDefault(),p.stopPropagation(),t(`/nova-solicitacao/${g}`)},i=g=>{try{if(!g)return null;const p=x=>x instanceof Ot?x.toDate():x!=null&&x.seconds?new Date(x.seconds*1e3):x instanceof Date?x:new Date(x);let v=(g.status||"").toLowerCase().trim();return v={hprongress:"in-progress",inprogress:"in-progress","in progress":"in-progress","em andamento":"in-progress",pendente:"pending",aguardando:"pending",aprovada:"approved",aprovado:"approved",rejeitada:"rejected",rejeitado:"rejected",negado:"rejected",denied:"rejected",concluida:"completed",concluído:"completed",finalizado:"completed",done:"completed"}[v]||v,Object.values(C_).includes(v)||(v="pending"),{id:g.id||`temp-${Math.random().toString(36).substring(2,11)}`,type:(g.type||"").toLowerCase().trim(),status:v,createdAt:p(g.createdAt),userName:g.userName||"Usuário não identificado",userEmail:(g.userEmail||"").toLowerCase(),userId:g.userId||g.uid,location:g.location,category:g.category,description:g.description,deviceInfo:g.deviceInfo,priority:g.priority,unit:g.unit,date:g.date?p(g.date):void 0,endTime:g.endTime,equipmentIds:Array.isArray(g.equipmentIds)?g.equipmentIds:[],purpose:g.purpose,startTime:g.startTime,itemName:g.itemName,justification:g.justification,quantity:Number(g.quantity)||0,unitPrice:Number(g.unitPrice)||0,urgency:g.urgency}}catch(p){return console.error("Erro ao converter solicitação:",p,g),null}},{data:a=[],isLoading:s,isError:o,refetch:c}=ua({queryKey:["userRequests",e==null?void 0:e.uid],queryFn:async()=>{if(!e)return[];try{return(await XRe(e.uid,e.email)).map(p=>i(p)).filter(Boolean)}catch(g){throw g}},enabled:!!e});b.useEffect(()=>{const g=new IntersectionObserver(v=>{v.forEach(y=>{y.isIntersecting&&y.target.classList.add("visible")})},{threshold:.1}),p=document.querySelectorAll(".fade-up");return p.forEach(v=>g.observe(v)),()=>{p.forEach(v=>g.unobserve(v)),g.disconnect()}},[]);const u={pending:"Pendentes",approved:"Aprovadas",rejected:"Reprovadas","in-progress":"Em Progresso",completed:"Concluídas"},d=Object.values(C_).reduce((g,p)=>(g[p]=a.filter(v=>v.status===p).length,g),{}),f=a.reduce((g,p)=>(g[p.type]=(g[p.type]||0)+1,g),{}),h=[{name:"Pendentes",value:d.pending,color:"#eab308"},{name:"Aprovadas",value:d.approved,color:"#22c55e"},{name:"Em Progresso",value:d["in-progress"],color:"#3b82f6"}],m=[{name:"Reservas",value:f.reservation||0,color:"#3b82f6"},{name:"Compras",value:f.purchase||0,color:"#8b5cf6"},{name:"Suporte",value:f.support||0,color:"#ec4899"}];return l.jsx(sn,{children:l.jsxs("div",{className:"min-h-screen bg-white relative",children:[l.jsxs("div",{className:"absolute inset-0 -z-10",children:[l.jsx("div",{className:"absolute left-1/4 top-1/4 h-96 w-96 rounded-full bg-sidebar blur-3xl opacity-5"}),l.jsx("div",{className:"absolute right-1/4 bottom-1/4 h-80 w-80 rounded-full bg-eccos-purple blur-3xl opacity-5"})]}),l.jsxs("div",{className:"relative z-10 p-6 md:p-12",children:[l.jsx("div",{className:"mb-8 fade-up",children:l.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2 bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:[l.jsx(D2,{className:"text-eccos-purple",size:35}),"Dashboard"]})}),l.jsx("div",{className:"fade-up mb-8",children:l.jsx(Gie,{})}),l.jsx(Wie,{isLoading:s,isError:o}),!s&&!o&&l.jsx(l.Fragment,{children:a.length===0?l.jsxs("div",{className:"p-8 bg-white border border-gray-100 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 text-center fade-up",children:[l.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-eccos-purple/10 text-eccos-purple mb-4",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:l.jsx("path",{d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),l.jsx("h3",{className:"text-2xl font-bold mb-2 bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:"Nenhuma solicitação encontrada"}),l.jsx("p",{className:"text-gray-600 mb-6 max-w-md mx-auto leading-relaxed",children:"Parece que você ainda não fez nenhuma solicitação. Escolha o tipo de solicitação abaixo para começar!"}),l.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-3",children:[l.jsxs(me,{type:"button",onClick:n("reserva"),className:"inline-flex items-center justify-center gap-2 px-4 py-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-all shadow-md hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 min-w-[160px] cursor-pointer",children:[l.jsx("span",{className:"flex items-center justify-center w-5 h-5",children:l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),l.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),l.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),l.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]})}),"Reserva"]}),l.jsxs(me,{type:"button",onClick:n("compra"),className:"inline-flex items-center justify-center gap-2 px-4 py-2.5 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition-all shadow-md hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 min-w-[160px] cursor-pointer",children:[l.jsx("span",{className:"flex items-center justify-center w-5 h-5",children:l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("circle",{cx:"9",cy:"21",r:"1"}),l.jsx("circle",{cx:"20",cy:"21",r:"1"}),l.jsx("path",{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.74a2 2 0 0 0 2-1.61L23 6H6"})]})}),"Compra"]}),l.jsxs(me,{type:"button",onClick:n("suporte"),className:"inline-flex items-center justify-center gap-2 px-4 py-2.5 bg-pink-600 hover:bg-pink-700 text-white rounded-lg transition-all shadow-md hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-pink-500 focus:ring-offset-2 min-w-[160px] cursor-pointer",children:[l.jsx("span",{className:"flex items-center justify-center w-5 h-5",children:l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("circle",{cx:"12",cy:"12",r:"10"}),l.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),l.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]})}),"Suporte"]})]})]}):l.jsxs("div",{className:"space-y-8 fade-up",children:[l.jsx("div",{className:"grid gap-4 grid-cols-2 sm:grid-cols-2 lg:grid-cols-4",children:Object.values(C_).map(g=>l.jsxs(Qe,{className:"bg-white border border-gray-100 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 relative group overflow-hidden cursor-pointer",onClick:r,role:"button",tabIndex:0,onKeyDown:p=>{(p.key==="Enter"||p.key===" ")&&(p.preventDefault(),r(p))},children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none"}),l.jsx(Rt,{className:"pb-2",children:l.jsx(kt,{className:"text-sm font-medium text-gray-600",children:u[g]})}),l.jsxs(nt,{children:[l.jsx("div",{className:"text-2xl font-bold bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:d[g]}),l.jsx(Se,{variant:"outline",className:"mt-2 border-eccos-purple text-eccos-purple",children:"Solicitações"})]})]},g))}),l.jsx("div",{children:l.jsx(zie,{requestStatusData:h,requestTypeData:m,chartWrapperClass:"bg-white border border-gray-100 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300",headerClass:"text-lg font-semibold text-gray-600",hideOtherCharts:!0,darkMode:!1})})]})})]}),l.jsx("footer",{className:"relative z-10 bg-gray-50 py-10 px-4 md:px-12 fade-up",children:l.jsx("div",{className:"max-w-6xl mx-auto",children:l.jsx("div",{className:"text-center",children:l.jsx("p",{className:"text-gray-500 text-sm",children:"© 2025 Colégio ECCOS - Todos os direitos reservados"})})})})]})})},Yie=()=>{const{currentUser:e,userPermissions:t,isSuperAdmin:r}=Mr(),n=im(),i=r||t.dashboard,a=t.userdashboard;if(!i&&!a)return l.jsx(sn,{children:l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsxs("div",{className:"text-center p-8 bg-white rounded-lg shadow-lg",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Acesso negado"}),l.jsx("p",{className:"text-gray-600",children:"Você não tem permissão para acessar esta página."})]})})});if(!i&&a)return l.jsx(Kie,{});const{data:s=[],isLoading:o,isError:c,refetch:u}=ua({queryKey:["adminAllRequests"],queryFn:()=>Pu(!0),enabled:i,retry:2}),{data:d=[],isLoading:f,isError:h,refetch:m}=ua({queryKey:["adminAllUsers"],queryFn:q1,enabled:i,retry:2}),{data:g=[],isLoading:p,isError:v,refetch:y}=ua({queryKey:["adminAllEquipment"],queryFn:Cte,enabled:i,retry:2});b.useEffect(()=>{i&&!o&&!c&&s.length===0&&u(),i&&!f&&!h&&d.length===0&&m(),i&&!p&&!v&&g.length===0&&y()},[i,s.length,o,c,d.length,f,h,g.length,p,v]),b.useEffect(()=>{const U=new IntersectionObserver(se=>{se.forEach(ne=>{ne.isIntersecting&&ne.target.classList.add("visible")})},{threshold:.1});return document.querySelectorAll(".fade-up").forEach(se=>U.observe(se)),()=>U.disconnect()},[]);const x=o||f||p,w=c||h||v,N=s.length>0&&d.length>0&&g.length>0,E=d.filter(U=>!U.blocked).length,T=s.filter(U=>U.status==="pending").length,S=s.filter(U=>U.status==="approved").length,A=s.filter(U=>U.status==="in-progress").length,C=g.filter(U=>U.type==="Chromebook").length,j=g.filter(U=>U.type==="iPad").length,I=s.filter(U=>U.type==="reservation").length,O=s.filter(U=>U.type==="purchase").length,k=s.filter(U=>U.type==="support").length,D=[{name:"Pendentes",value:T,color:"#eab308"},{name:"Aprovadas",value:S,color:"#22c55e"},{name:"Em Progresso",value:A,color:"#3b82f6"}],B=[{name:"Chromebooks",value:C,color:"#3b82f6"},{name:"iPads",value:j,color:"#8b5cf6"}],ee=[{name:"Reservas",value:I,color:"#3b82f6"},{name:"Compras",value:O,color:"#8b5cf6"},{name:"Suporte",value:k,color:"#ec4899"}],z=s.reduce((U,se)=>{const ne=se.userId||"unknown";return U[ne]||(U[ne]={userId:ne,userName:se.userName||"Usuário Desconhecido",requestCount:0}),U[ne].requestCount++,U},{}),V=Object.values(z).sort((U,se)=>se.requestCount-U.requestCount).slice(0,5).map(U=>({userId:U.userId,userName:U.userName,requestCount:U.requestCount}));return l.jsx(sn,{children:l.jsxs("div",{className:"min-h-screen bg-white overflow-hidden relative",children:[l.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[l.jsx("div",{className:"absolute left-1/4 top-1/4 h-96 w-96 rounded-full bg-sidebar blur-3xl opacity-5"}),l.jsx("div",{className:"absolute right-1/4 bottom-1/4 h-80 w-80 rounded-full bg-eccos-purple blur-3xl opacity-5"})]}),l.jsxs("div",{className:"relative z-10 space-y-8 p-6 md:p-12 fade-up",children:[l.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2 bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:[l.jsx(D2,{className:"text-eccos-purple",size:35}),"Dashboard Administrativo"]}),l.jsx("div",{className:"fade-up",children:l.jsx(Gie,{})}),l.jsx(Wie,{isLoading:x,isError:w}),!x&&!w&&s.length===0?l.jsxs("div",{className:"p-8 bg-white border border-gray-100 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 text-center fade-up",children:[l.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-eccos-purple/10 text-eccos-purple mb-4",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:l.jsx("path",{d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),l.jsx("h3",{className:"text-2xl font-bold mb-2 bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:"Nenhuma solicitação no sistema"}),l.jsx("p",{className:"text-gray-600 mb-6 max-w-md mx-auto leading-relaxed",children:"O sistema ainda não possui solicitações cadastradas. Como administrador, você pode gerenciar todas as solicitações que forem criadas pelos usuários."}),l.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-3",children:[l.jsxs(me,{onClick:()=>n("/gerenciar-solicitacoes"),className:"inline-flex items-center justify-center gap-2 px-4 py-2.5 bg-eccos-purple hover:bg-sidebar text-white rounded-lg transition-all shadow-md hover:shadow-lg focus:outline-none min-w-[200px]",children:[l.jsx("span",{className:"flex items-center justify-center w-5 h-5",children:l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M9 12l2 2 4-4"}),l.jsx("path",{d:"M21 12c-1 0-3-1-3-3s2-3 3-3 3 1 3 3-2 3-3 3"}),l.jsx("path",{d:"M3 12c1 0 3-1 3-3s-2-3-3-3-3 1-3 3 2 3 3 3"}),l.jsx("path",{d:"M21 12c-1 0-3 1-3 3s2 3 3 3 3-1 3-3-2-3-3-3"}),l.jsx("path",{d:"M3 12c1 0 3 1 3 3s-2 3-3 3-3-1-3-3 2-3 3-3"})]})}),"Gerenciar Solicitações"]}),l.jsxs(me,{onClick:()=>n("/usuarios"),className:"inline-flex items-center justify-center gap-2 px-4 py-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-all shadow-md hover:shadow-lg focus:outline-none min-w-[200px]",children:[l.jsx("span",{className:"flex items-center justify-center w-5 h-5",children:l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),l.jsx("circle",{cx:"9",cy:"7",r:"4"}),l.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),l.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})}),"Gerenciar Usuários"]}),l.jsxs(me,{onClick:()=>n("/equipamentos"),className:"inline-flex items-center justify-center gap-2 px-4 py-2.5 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition-all shadow-md hover:shadow-lg focus:outline-none min-w-[200px]",children:[l.jsx("span",{className:"flex items-center justify-center w-5 h-5",children:l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",ry:"2"}),l.jsx("line",{x1:"8",y1:"21",x2:"16",y2:"21"}),l.jsx("line",{x1:"12",y1:"17",x2:"12",y2:"21"})]})}),"Gerenciar Equipamentos"]})]})]}):!x&&!w&&N&&l.jsxs("div",{className:"space-y-8 fade-up",children:[l.jsxs("div",{className:"grid gap-4 grid-cols-2 sm:grid-cols-2 lg:grid-cols-4",children:[l.jsxs(Qe,{className:"bg-white border border-gray-100 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 relative group overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),l.jsx(Rt,{className:"pb-2",children:l.jsx(kt,{className:"text-sm font-medium text-gray-600",children:"Usuários Ativos"})}),l.jsxs(nt,{children:[l.jsx("div",{className:"text-2xl font-bold bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:E}),l.jsx(Se,{variant:"outline",className:"mt-2 border-eccos-purple text-eccos-purple",children:"Contas"})]})]}),l.jsxs(Qe,{className:"bg-white border border-gray-100 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 relative group overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),l.jsx(Rt,{className:"pb-2",children:l.jsx(kt,{className:"text-sm font-medium text-gray-600",children:"Solicitações Pendentes"})}),l.jsxs(nt,{children:[l.jsx("div",{className:"text-2xl font-bold bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:T}),l.jsx(Se,{variant:"outline",className:"mt-2 border-eccos-purple text-eccos-purple",children:"Pendências"})]})]}),l.jsxs(Qe,{className:"bg-white border border-gray-100 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 relative group overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),l.jsx(Rt,{className:"pb-2",children:l.jsx(kt,{className:"text-sm font-medium text-gray-600",children:"Solicitações Aprovadas"})}),l.jsxs(nt,{children:[l.jsx("div",{className:"text-2xl font-bold bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:S}),l.jsx(Se,{variant:"outline",className:"mt-2 border-eccos-purple text-eccos-purple",children:"Concluídas"})]})]}),l.jsxs(Qe,{className:"bg-white border border-gray-100 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 relative group overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),l.jsx(Rt,{className:"pb-2",children:l.jsx(kt,{className:"text-sm font-medium text-gray-600",children:"Em Progresso"})}),l.jsxs(nt,{children:[l.jsx("div",{className:"text-2xl font-bold bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:A}),l.jsx(Se,{variant:"outline",className:"mt-2 border-eccos-purple text-eccos-purple",children:"Processando"})]})]})]}),l.jsx("div",{className:"fade-up",children:l.jsx(zie,{requestStatusData:D,equipmentTypeData:B,requestTypeData:ee,topUsersData:V,requests:s})})]}),!x&&!w&&!N&&s.length>0&&l.jsxs("div",{className:"bg-white border border-gray-100 rounded-2xl shadow-lg p-8 text-center",children:[l.jsx("p",{className:"text-lg text-gray-500 mb-4",children:"Não há dados suficientes para exibir o dashboard completo."}),l.jsx(me,{onClick:()=>{u(),m(),y()},className:"bg-eccos-purple hover:bg-sidebar text-white",children:"Recarregar dados"})]})]}),l.jsx("footer",{className:"relative z-10 bg-gray-50 py-10 px-4 md:px-12 fade-up",children:l.jsx("div",{className:"max-w-6xl mx-auto",children:l.jsx("div",{className:"text-center",children:l.jsx("p",{className:"text-gray-500 text-sm",children:"© 2025 Colégio ECCOS - Todos os direitos reservados"})})})})]})})},Xie=()=>l.jsxs("div",{className:"min-h-screen bg-white overflow-hidden",children:[l.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[l.jsx(xa.div,{initial:{opacity:0,scale:.8},animate:{opacity:.05,scale:1},transition:{duration:1.5},className:"absolute left-1/4 top-1/4 h-96 w-96 rounded-full bg-sidebar blur-3xl"}),l.jsx(xa.div,{initial:{opacity:0,scale:.8},animate:{opacity:.05,scale:1},transition:{duration:1.5,delay:.3},className:"absolute right-1/4 bottom-1/4 h-80 w-80 rounded-full bg-eccos-purple blur-3xl"})]}),l.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[...Array(10)].map((e,t)=>l.jsx(xa.div,{initial:{x:Math.random()*window.innerWidth,y:Math.random()*window.innerHeight,opacity:0},animate:{y:[Math.random()*window.innerHeight,Math.random()*window.innerHeight],opacity:[0,.3,0]},transition:{repeat:1/0,duration:15+Math.random()*10,ease:"easeInOut",delay:t*1.5},className:`absolute h-${Math.floor(Math.random()*6)+4} w-${Math.floor(Math.random()*6)+4} rounded-full bg-${t%2===0?"sidebar":"eccos-purple"} blur-lg`},t))}),l.jsx(xa.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"relative z-10 flex flex-col items-center justify-center min-h-screen px-4",children:l.jsxs("div",{className:"w-full max-w-md mx-auto text-center space-y-8",children:[l.jsx("div",{className:"bg-gray-100 p-6 rounded-full w-fit mx-auto",children:l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-sidebar",children:[l.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),l.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"}),l.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"15"})]})}),l.jsx("h1",{className:"text-4xl md:text-5xl font-bold bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:"Acesso Não Autorizado"}),l.jsx("p",{className:"text-gray-700 text-lg max-w-lg mx-auto",children:"Você não tem permissão para acessar esta página. Se acredita que isso é um erro, entre em contato com o administrador do sistema."}),l.jsx(me,{asChild:!0,className:"bg-gradient-to-r from-sidebar to-eccos-purple hover:from-sidebar/90 hover:to-eccos-purple/90 text-white font-medium py-3 px-6 rounded-xl shadow-md transition-all duration-300 hover:shadow-lg",children:l.jsx(Ih,{to:"/",children:"Voltar ao Início"})})]})})]}),XQe=()=>{const e=ls();return b.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),l.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),l.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})};function dr(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Os(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function bi(e,t){const r=dr(e);return isNaN(t)?Os(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function ml(e,t){const r=dr(e);if(isNaN(t))return Os(e,NaN);if(!t)return r;const n=r.getDate(),i=Os(e,r.getTime());i.setMonth(r.getMonth()+t+1,0);const a=i.getDate();return n>=a?i:(r.setFullYear(i.getFullYear(),i.getMonth(),n),r)}const o3=6048e5,QQe=864e5;let ZQe={};function ib(){return ZQe}function pl(e,t){var o,c,u,d;const r=ib(),n=(t==null?void 0:t.weekStartsOn)??((c=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,i=dr(e),a=i.getDay(),s=(a<n?7:0)+a-n;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i}function zh(e){return pl(e,{weekStartsOn:1})}function Qie(e){const t=dr(e),r=t.getFullYear(),n=Os(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const i=zh(n),a=Os(e,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const s=zh(a);return t.getTime()>=i.getTime()?r+1:t.getTime()>=s.getTime()?r:r-1}function q0(e){const t=dr(e);return t.setHours(0,0,0,0),t}function BS(e){const t=dr(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Ul(e,t){const r=q0(e),n=q0(t),i=+r-BS(r),a=+n-BS(n);return Math.round((i-a)/QQe)}function JQe(e){const t=Qie(e),r=Os(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),zh(r)}function cI(e,t){const r=t*7;return bi(e,r)}function eZe(e,t){return ml(e,t*12)}function tZe(e){let t;return e.forEach(function(r){const n=dr(r);(t===void 0||t<n||isNaN(Number(n)))&&(t=n)}),t||new Date(NaN)}function rZe(e){let t;return e.forEach(r=>{const n=dr(r);(!t||t>n||isNaN(+n))&&(t=n)}),t||new Date(NaN)}function mi(e,t){const r=q0(e),n=q0(t);return+r==+n}function l3(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function nZe(e){if(!l3(e)&&typeof e!="number")return!1;const t=dr(e);return!isNaN(Number(t))}function Gx(e,t){const r=dr(e),n=dr(t),i=r.getFullYear()-n.getFullYear(),a=r.getMonth()-n.getMonth();return i*12+a}function iZe(e,t,r){const n=pl(e,r),i=pl(t,r),a=+n-BS(n),s=+i-BS(i);return Math.round((a-s)/o3)}function c3(e){const t=dr(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function rs(e){const t=dr(e);return t.setDate(1),t.setHours(0,0,0,0),t}function Zie(e){const t=dr(e),r=Os(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function u3(e,t){var o,c,u,d;const r=ib(),n=(t==null?void 0:t.weekStartsOn)??((c=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,i=dr(e),a=i.getDay(),s=(a<n?-7:0)+6-(a-n);return i.setDate(i.getDate()+s),i.setHours(23,59,59,999),i}function Jie(e){return u3(e,{weekStartsOn:1})}const aZe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},sZe=(e,t,r)=>{let n;const i=aZe[e];return typeof i=="string"?n=i:t===1?n=i.one:n=i.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Dp(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const oZe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},lZe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},cZe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},uZe={date:Dp({formats:oZe,defaultWidth:"full"}),time:Dp({formats:lZe,defaultWidth:"full"}),dateTime:Dp({formats:cZe,defaultWidth:"full"})},dZe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},fZe=(e,t,r,n)=>dZe[e];function Ll(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let i;if(n==="formatting"&&e.formattingValues){const s=e.defaultFormattingWidth||e.defaultWidth,o=r!=null&&r.width?String(r.width):s;i=e.formattingValues[o]||e.formattingValues[s]}else{const s=e.defaultWidth,o=r!=null&&r.width?String(r.width):e.defaultWidth;i=e.values[o]||e.values[s]}const a=e.argumentCallback?e.argumentCallback(t):t;return i[a]}}const hZe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},mZe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},pZe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},gZe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},vZe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},yZe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},xZe=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},bZe={ordinalNumber:xZe,era:Ll({values:hZe,defaultWidth:"wide"}),quarter:Ll({values:mZe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Ll({values:pZe,defaultWidth:"wide"}),day:Ll({values:gZe,defaultWidth:"wide"}),dayPeriod:Ll({values:vZe,defaultWidth:"wide",formattingValues:yZe,defaultFormattingWidth:"wide"})};function Fl(e){return(t,r={})=>{const n=r.width,i=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;const s=a[0],o=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(o)?_Ze(o,f=>f.test(s)):wZe(o,f=>f.test(s));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(s.length);return{value:u,rest:d}}}function wZe(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function _Ze(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function eae(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const i=n[0],a=t.match(e.parsePattern);if(!a)return null;let s=e.valueCallback?e.valueCallback(a[0]):a[0];s=r.valueCallback?r.valueCallback(s):s;const o=t.slice(i.length);return{value:s,rest:o}}}const EZe=/^(\d+)(th|st|nd|rd)?/i,SZe=/\d+/i,TZe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},NZe={any:[/^b/i,/^(a|c)/i]},AZe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},CZe={any:[/1/i,/2/i,/3/i,/4/i]},jZe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},PZe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},RZe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},kZe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},IZe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},OZe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},DZe={ordinalNumber:eae({matchPattern:EZe,parsePattern:SZe,valueCallback:e=>parseInt(e,10)}),era:Fl({matchPatterns:TZe,defaultMatchWidth:"wide",parsePatterns:NZe,defaultParseWidth:"any"}),quarter:Fl({matchPatterns:AZe,defaultMatchWidth:"wide",parsePatterns:CZe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Fl({matchPatterns:jZe,defaultMatchWidth:"wide",parsePatterns:PZe,defaultParseWidth:"any"}),day:Fl({matchPatterns:RZe,defaultMatchWidth:"wide",parsePatterns:kZe,defaultParseWidth:"any"}),dayPeriod:Fl({matchPatterns:IZe,defaultMatchWidth:"any",parsePatterns:OZe,defaultParseWidth:"any"})},tae={code:"en-US",formatDistance:sZe,formatLong:uZe,formatRelative:fZe,localize:bZe,match:DZe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function MZe(e){const t=dr(e);return Ul(t,Zie(t))+1}function rae(e){const t=dr(e),r=+zh(t)-+JQe(t);return Math.round(r/o3)+1}function nae(e,t){var d,f,h,m;const r=dr(e),n=r.getFullYear(),i=ib(),a=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??i.firstWeekContainsDate??((m=(h=i.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,s=Os(e,0);s.setFullYear(n+1,0,a),s.setHours(0,0,0,0);const o=pl(s,t),c=Os(e,0);c.setFullYear(n,0,a),c.setHours(0,0,0,0);const u=pl(c,t);return r.getTime()>=o.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function LZe(e,t){var o,c,u,d;const r=ib(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,i=nae(e,t),a=Os(e,0);return a.setFullYear(i,0,n),a.setHours(0,0,0,0),pl(a,t)}function iae(e,t){const r=dr(e),n=+pl(r,t)-+LZe(r,t);return Math.round(n/o3)+1}function Ar(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Vu={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Ar(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Ar(r+1,2)},d(e,t){return Ar(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Ar(e.getHours()%12||12,t.length)},H(e,t){return Ar(e.getHours(),t.length)},m(e,t){return Ar(e.getMinutes(),t.length)},s(e,t){return Ar(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return Ar(i,t.length)}},Im={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},n7={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return Vu.y(e,t)},Y:function(e,t,r,n){const i=nae(e,n),a=i>0?i:1-i;if(t==="YY"){const s=a%100;return Ar(s,2)}return t==="Yo"?r.ordinalNumber(a,{unit:"year"}):Ar(a,t.length)},R:function(e,t){const r=Qie(e);return Ar(r,t.length)},u:function(e,t){const r=e.getFullYear();return Ar(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Ar(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Ar(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Vu.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Ar(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const i=iae(e,n);return t==="wo"?r.ordinalNumber(i,{unit:"week"}):Ar(i,t.length)},I:function(e,t,r){const n=rae(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Ar(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Vu.d(e,t)},D:function(e,t,r){const n=MZe(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Ar(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const i=e.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return Ar(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const i=e.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return Ar(a,t.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),i=n===0?7:n;switch(t){case"i":return String(i);case"ii":return Ar(i,t.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let i;switch(n===12?i=Im.noon:n===0?i=Im.midnight:i=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let i;switch(n>=17?i=Im.evening:n>=12?i=Im.afternoon:n>=4?i=Im.morning:i=Im.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Vu.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Vu.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Ar(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Ar(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Vu.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Vu.s(e,t)},S:function(e,t){return Vu.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return a7(n);case"XXXX":case"XX":return Uf(n);case"XXXXX":case"XXX":default:return Uf(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return a7(n);case"xxxx":case"xx":return Uf(n);case"xxxxx":case"xxx":default:return Uf(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+i7(n,":");case"OOOO":default:return"GMT"+Uf(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+i7(n,":");case"zzzz":default:return"GMT"+Uf(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return Ar(n,t.length)},T:function(e,t,r){const n=e.getTime();return Ar(n,t.length)}};function i7(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=Math.trunc(n/60),a=n%60;return a===0?r+String(i):r+String(i)+t+Ar(a,2)}function a7(e,t){return e%60===0?(e>0?"-":"+")+Ar(Math.abs(e)/60,2):Uf(e,t)}function Uf(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=Ar(Math.trunc(n/60),2),a=Ar(n%60,2);return r+i+t+a}const s7=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},aae=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},FZe=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return s7(e,t);let a;switch(n){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",s7(n,t)).replace("{{time}}",aae(i,t))},$Ze={p:aae,P:FZe},BZe=/^D+$/,VZe=/^Y+$/,UZe=["D","DD","YY","YYYY"];function zZe(e){return BZe.test(e)}function WZe(e){return VZe.test(e)}function HZe(e,t,r){const n=qZe(e,t,r);if(console.warn(n),UZe.includes(e))throw new RangeError(n)}function qZe(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const GZe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,KZe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,YZe=/^'([^]*?)'?$/,XZe=/''/g,QZe=/[a-zA-Z]/;function Gt(e,t,r){var d,f,h,m,g,p,v,y;const n=ib(),i=(r==null?void 0:r.locale)??n.locale??tae,a=(r==null?void 0:r.firstWeekContainsDate)??((f=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((m=(h=n.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,s=(r==null?void 0:r.weekStartsOn)??((p=(g=r==null?void 0:r.locale)==null?void 0:g.options)==null?void 0:p.weekStartsOn)??n.weekStartsOn??((y=(v=n.locale)==null?void 0:v.options)==null?void 0:y.weekStartsOn)??0,o=dr(e);if(!nZe(o))throw new RangeError("Invalid time value");let c=t.match(KZe).map(x=>{const w=x[0];if(w==="p"||w==="P"){const N=$Ze[w];return N(x,i.formatLong)}return x}).join("").match(GZe).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const w=x[0];if(w==="'")return{isToken:!1,value:ZZe(x)};if(n7[w])return{isToken:!0,value:x};if(w.match(QZe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:x}});i.localize.preprocessor&&(c=i.localize.preprocessor(o,c));const u={firstWeekContainsDate:a,weekStartsOn:s,locale:i};return c.map(x=>{if(!x.isToken)return x.value;const w=x.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&WZe(w)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&zZe(w))&&HZe(w,t,String(e));const N=n7[w[0]];return N(o,w,i.localize,u)}).join("")}function ZZe(e){const t=e.match(YZe);return t?t[1].replace(XZe,"'"):e}function JZe(e){const t=dr(e),r=t.getFullYear(),n=t.getMonth(),i=Os(e,0);return i.setFullYear(r,n+1,0),i.setHours(0,0,0,0),i.getDate()}function eJe(e){return Math.trunc(+dr(e)/1e3)}function tJe(e){const t=dr(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function rJe(e,t){return iZe(tJe(e),rs(e),t)+1}function uI(e,t){const r=dr(e),n=dr(t);return r.getTime()>n.getTime()}function sae(e,t){const r=dr(e),n=dr(t);return+r<+n}function d3(e,t){const r=dr(e),n=dr(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function nJe(e,t){const r=dr(e),n=dr(t);return r.getFullYear()===n.getFullYear()}function rj(e,t){return bi(e,-t)}function nj(e,t){const r=dr(e),n=r.getFullYear(),i=r.getDate(),a=Os(e,0);a.setFullYear(n,t,15),a.setHours(0,0,0,0);const s=JZe(a);return r.setMonth(t,Math.min(i,s)),r}function o7(e,t){const r=dr(e);return isNaN(+r)?Os(e,NaN):(r.setFullYear(t),r)}const iJe={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 mês",other:"cerca de {{count}} meses"},xMonths:{one:"1 mês",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},aJe=(e,t,r)=>{let n;const i=iJe[e];return typeof i=="string"?n=i:t===1?n=i.one:n=i.other.replace("{{count}}",String(t)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"em "+n:"há "+n:n},sJe={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},oJe={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},lJe={full:"{{date}} 'às' {{time}}",long:"{{date}} 'às' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},cJe={date:Dp({formats:sJe,defaultWidth:"full"}),time:Dp({formats:oJe,defaultWidth:"full"}),dateTime:Dp({formats:lJe,defaultWidth:"full"})},uJe={lastWeek:e=>{const t=e.getDay();return"'"+(t===0||t===6?"último":"última")+"' eeee 'às' p"},yesterday:"'ontem às' p",today:"'hoje às' p",tomorrow:"'amanhã às' p",nextWeek:"eeee 'às' p",other:"P"},dJe=(e,t,r,n)=>{const i=uJe[e];return typeof i=="function"?i(t):i},fJe={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},hJe={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},mJe={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},pJe={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","terça","quarta","quinta","sexta","sábado"],wide:["domingo","segunda-feira","terça-feira","quarta-feira","quinta-feira","sexta-feira","sábado"]},gJe={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"}},vJe={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},yJe=(e,t)=>{const r=Number(e);return(t==null?void 0:t.unit)==="week"?r+"ª":r+"º"},xJe={ordinalNumber:yJe,era:Ll({values:fJe,defaultWidth:"wide"}),quarter:Ll({values:hJe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Ll({values:mJe,defaultWidth:"wide"}),day:Ll({values:pJe,defaultWidth:"wide"}),dayPeriod:Ll({values:gJe,defaultWidth:"wide",formattingValues:vJe,defaultFormattingWidth:"wide"})},bJe=/^(\d+)[ºªo]?/i,wJe=/\d+/i,_Je={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},EJe={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},SJe={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},TJe={any:[/1/i,/2/i,/3/i,/4/i]},NJe={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|março|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},AJe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},CJe={narrow:/^(dom|[23456]ª?|s[aá]b)/i,short:/^(dom|[23456]ª?|s[aá]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[aá]b)/i,wide:/^(domingo|(segunda|ter[cç]a|quarta|quinta|sexta)([- ]feira)?|s[aá]bado)/i},jJe={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[aá]b/i]},PJe={narrow:/^(a|p|mn|md|(da) (manhã|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manhã|tarde|noite))/i},RJe={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manhã/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},kJe={ordinalNumber:eae({matchPattern:bJe,parsePattern:wJe,valueCallback:e=>parseInt(e,10)}),era:Fl({matchPatterns:_Je,defaultMatchWidth:"wide",parsePatterns:EJe,defaultParseWidth:"any"}),quarter:Fl({matchPatterns:SJe,defaultMatchWidth:"wide",parsePatterns:TJe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Fl({matchPatterns:NJe,defaultMatchWidth:"wide",parsePatterns:AJe,defaultParseWidth:"any"}),day:Fl({matchPatterns:CJe,defaultMatchWidth:"wide",parsePatterns:jJe,defaultParseWidth:"any"}),dayPeriod:Fl({matchPatterns:PJe,defaultMatchWidth:"any",parsePatterns:RJe,defaultParseWidth:"any"})},Gr={code:"pt-BR",formatDistance:aJe,formatLong:cJe,formatRelative:dJe,localize:xJe,match:kJe,options:{weekStartsOn:0,firstWeekContainsDate:1}},El=b.forwardRef(({className:e,...t},r)=>l.jsx("div",{className:"relative w-full overflow-auto",children:l.jsx("table",{ref:r,className:Re("w-full caption-bottom text-sm",e),...t})}));El.displayName="Table";const Sl=b.forwardRef(({className:e,...t},r)=>l.jsx("thead",{ref:r,className:Re("[&_tr]:border-b",e),...t}));Sl.displayName="TableHeader";const Tl=b.forwardRef(({className:e,...t},r)=>l.jsx("tbody",{ref:r,className:Re("[&_tr:last-child]:border-0",e),...t}));Tl.displayName="TableBody";const IJe=b.forwardRef(({className:e,...t},r)=>l.jsx("tfoot",{ref:r,className:Re("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));IJe.displayName="TableFooter";const En=b.forwardRef(({className:e,...t},r)=>l.jsx("tr",{ref:r,className:Re("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));En.displayName="TableRow";const Lt=b.forwardRef(({className:e,...t},r)=>l.jsx("th",{ref:r,className:Re("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Lt.displayName="TableHead";const Dt=b.forwardRef(({className:e,...t},r)=>l.jsx("td",{ref:r,className:Re("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Dt.displayName="TableCell";const OJe=b.forwardRef(({className:e,...t},r)=>l.jsx("caption",{ref:r,className:Re("mt-4 text-sm text-muted-foreground",e),...t}));OJe.displayName="TableCaption";var DJe=b.useLayoutEffect,MJe=function(t){var r=te.useRef(t);return DJe(function(){r.current=t}),r},l7=function(t,r){if(typeof t=="function"){t(r);return}t.current=r},LJe=function(t,r){var n=te.useRef();return te.useCallback(function(i){t.current=i,n.current&&l7(n.current,null),n.current=r,r&&l7(r,i)},[r])},c7={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},FJe=function(t){Object.keys(c7).forEach(function(r){t.style.setProperty(r,c7[r],"important")})},u7=FJe,ga=null,d7=function(t,r){var n=t.scrollHeight;return r.sizingStyle.boxSizing==="border-box"?n+r.borderSize:n-r.paddingSize};function $Je(e,t,r,n){r===void 0&&(r=1),n===void 0&&(n=1/0),ga||(ga=document.createElement("textarea"),ga.setAttribute("tabindex","-1"),ga.setAttribute("aria-hidden","true"),u7(ga)),ga.parentNode===null&&document.body.appendChild(ga);var i=e.paddingSize,a=e.borderSize,s=e.sizingStyle,o=s.boxSizing;Object.keys(s).forEach(function(h){var m=h;ga.style[m]=s[m]}),u7(ga),ga.value=t;var c=d7(ga,e);ga.value=t,c=d7(ga,e),ga.value="x";var u=ga.scrollHeight-i,d=u*r;o==="border-box"&&(d=d+i+a),c=Math.max(d,c);var f=u*n;return o==="border-box"&&(f=f+i+a),c=Math.min(f,c),[c,u]}var f7=function(){},BJe=function(t,r){return t.reduce(function(n,i){return n[i]=r[i],n},{})},VJe=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak","wordSpacing","scrollbarGutter"],UJe=!!document.documentElement.currentStyle,zJe=function(t){var r=window.getComputedStyle(t);if(r===null)return null;var n=BJe(VJe,r),i=n.boxSizing;if(i==="")return null;UJe&&i==="border-box"&&(n.width=parseFloat(n.width)+parseFloat(n.borderRightWidth)+parseFloat(n.borderLeftWidth)+parseFloat(n.paddingRight)+parseFloat(n.paddingLeft)+"px");var a=parseFloat(n.paddingBottom)+parseFloat(n.paddingTop),s=parseFloat(n.borderBottomWidth)+parseFloat(n.borderTopWidth);return{sizingStyle:n,paddingSize:a,borderSize:s}},WJe=zJe;function f3(e,t,r){var n=MJe(r);b.useLayoutEffect(function(){var i=function(s){return n.current(s)};if(e)return e.addEventListener(t,i),function(){return e.removeEventListener(t,i)}},[])}var HJe=function(t,r){f3(document.body,"reset",function(n){t.current.form===n.target&&r(n)})},qJe=function(t){f3(window,"resize",t)},GJe=function(t){f3(document.fonts,"loadingdone",t)},KJe=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],YJe=function(t,r){var n=t.cacheMeasurements,i=t.maxRows,a=t.minRows,s=t.onChange,o=s===void 0?f7:s,c=t.onHeightChange,u=c===void 0?f7:c,d=Hqe(t,KJe),f=d.value!==void 0,h=b.useRef(null),m=LJe(h,r),g=b.useRef(0),p=b.useRef(),v=function(){var w=h.current,N=n&&p.current?p.current:WJe(w);if(N){p.current=N;var E=$Je(N,w.value||w.placeholder||"x",a,i),T=E[0],S=E[1];g.current!==T&&(g.current=T,w.style.setProperty("height",T+"px","important"),u(T,{rowHeight:S}))}},y=function(w){f||v(),o(w)};return b.useLayoutEffect(v),HJe(h,function(){if(!f){var x=h.current.value;requestAnimationFrame(function(){var w=h.current;w&&x!==w.value&&v()})}}),qJe(v),GJe(v),b.createElement("textarea",Wk({},d,{onChange:y,ref:m}))},dI=b.forwardRef(YJe);const XJe=({request:e,isOpen:t,onOpenChange:r,onMessageSent:n,onMessagesRead:i})=>{const{currentUser:a}=Mr(),[s,o]=b.useState(""),[c,u]=b.useState([]),[d,f]=b.useState(!0),[h,m]=b.useState(null),[g,p]=b.useState(0),[v,y]=b.useState(null),[x,w]=b.useState(""),[N,E]=b.useState(!1),T=b.useRef(null),S=b.useRef(null),[A,C]=b.useState(Notification.permission);b.useEffect(()=>{if(!e||!t)return;let P=!0,J=c.length;const oe=vT(xt(Ze,e.collectionName,e.id),ae=>{if(ae.exists()){const ie=ae.data().messages||[];if(!P&&ie.length>J&&(E(!0),!t&&A==="granted")){const fe=ie[ie.length-1];fe&&a&&fe.userId!==a.uid&&j("Nova mensagem",`${fe.userName}: ${fe.message||"Arquivo enviado"}`)}u(ie),J=ie.length,f(!1),P=!1}});return()=>oe()},[e,t,A,c.length]),b.useEffect(()=>{Notification.permission!=="granted"&&Notification.permission!=="denied"&&Notification.requestPermission().then(P=>{C(P)})},[]);const j=(P,J)=>{if(A==="granted"){const oe=new Notification(P,{body:J,icon:"/favicon.ico",requireInteraction:!1});new Audio("/sounds/Notification.mp3").play().catch(K=>{console.warn("Erro ao reproduzir som de notificação:",K)}),setTimeout(()=>{oe.close()},5e3)}};b.useEffect(()=>{t&&E(!1)},[t]),b.useEffect(()=>{var P;(P=S.current)==null||P.scrollIntoView({behavior:"smooth"})},[c]),b.useEffect(()=>{e&&t&&a&&(async()=>{try{await Ate(e.id,e.collectionName,a.uid,!1),i&&i(e.id)}catch(J){console.error("Erro ao marcar mensagens como lidas:",J)}})()},[e,t,a,i]);const I=()=>{if(!c.length)return[];const P=new Set;return c.forEach(J=>{J.userName&&!J.isDeleted&&P.add(J.userName)}),Array.from(P)},O=P=>{var oe;const J=(oe=P.target.files)==null?void 0:oe[0];if(J){if(J.size>10*1024*1024){$e.error("Arquivo muito grande. Máximo 10MB permitido.");return}m(J)}},k=()=>{m(null),T.current&&(T.current.value="")},D=async()=>{if(!(!e||!s.trim()&&!h))try{f(!0);let P;h&&(p(0),P=await Ete(h,e.id),p(100)),await Ste(e.id,s||(h?`Arquivo enviado: ${h.name}`:""),!1,e.collectionName,(a==null?void 0:a.displayName)||"Usuário",a.uid,P),o(""),m(null),p(0),T.current&&(T.current.value=""),$e.success("Mensagem enviada"),n()}catch(P){$e.error("Erro ao enviar mensagem"),console.error("Error:",P)}finally{f(!1)}},B=P=>{y(P.id),w(P.message)},ee=()=>{y(null),w("")},z=async P=>{if(!(!e||!x.trim()))try{await Tte(e.id,e.collectionName,P,x,(a==null?void 0:a.uid)||""),y(null),w(""),$e.success("Mensagem editada")}catch(J){$e.error("Erro ao editar mensagem"),console.error("Error:",J)}},V=async P=>{if(e)try{await Nte(e.id,e.collectionName,P,(a==null?void 0:a.uid)||""),$e.success("Mensagem apagada")}catch(J){$e.error("Erro ao apagar mensagem"),console.error("Error:",J)}},U=P=>a&&P.userId===a.uid&&!P.isDeleted,se=P=>{if(P===0)return"0 Bytes";const J=1024,oe=["Bytes","KB","MB","GB"],ae=Math.floor(Math.log(P)/Math.log(J));return parseFloat((P/Math.pow(J,ae)).toFixed(2))+" "+oe[ae]},ne=P=>P.startsWith("image/")?l.jsx(AO,{className:"h-4 w-4"}):l.jsx(Oi,{className:"h-4 w-4"}),M=P=>{if(!P.isAdmin){if(P.read&&P.readBy&&P.readBy.length>0)return l.jsx(k2,{className:"h-4 w-4 text-blue-500"});if(P.delivered)return l.jsx(tm,{className:"h-4 w-4 text-gray-400"})}return null},W=P=>{P.key==="Enter"&&!P.shiftKey&&(P.preventDefault(),D())},G=(P,J)=>{P.key==="Enter"&&!P.shiftKey&&(P.preventDefault(),z(J))};return l.jsx(mn,{open:t,onOpenChange:r,children:l.jsxs(on,{className:"max-w-2xl",children:[l.jsx(pn,{children:l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs("div",{children:[l.jsxs(ln,{className:"flex items-center gap-2",children:["Chat da Solicitação",N&&l.jsx(Se,{variant:"destructive",className:"text-xs",children:"Nova mensagem"})]}),e&&l.jsxs(gn,{children:[QJe(e.type)," -"," ",Gt(new Date(e.createdAt.toMillis()),"dd/MM/yyyy",{locale:Gr}),I().length>0&&l.jsxs("span",{className:"ml-2",children:["| Participantes: ",I().join(", ")]})]})]})})}),l.jsxs("div",{className:"space-y-4",children:[d?l.jsx("div",{className:"flex justify-center items-center h-32",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary"})}):l.jsxs("div",{className:"space-y-4 max-h-[400px] overflow-y-auto p-2 border rounded-md",children:[c.length>0?c.map((P,J)=>l.jsxs("div",{className:`relative group p-3 rounded-lg ${P.isDeleted?"bg-gray-100 text-gray-500 italic":P.isAdmin?"bg-primary text-primary-foreground ml-8":"bg-muted mr-8"}`,children:[U(P)&&l.jsx("div",{className:"absolute top-1 right-1 opacity-0 group-hover:opacity-100 transition-opacity",children:l.jsxs(ei,{children:[l.jsx(ti,{asChild:!0,children:l.jsx(me,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",children:l.jsx(Uq,{className:"h-3 w-3"})})}),l.jsxs(zn,{children:[l.jsxs(wo,{onClick:()=>B(P),children:[l.jsx(Kq,{className:"h-3 w-3 mr-2"})," Editar"]}),l.jsxs(wo,{onClick:()=>V(P.id),className:"text-red-600",children:[l.jsx(Rs,{className:"h-3 w-3 mr-2"})," Apagar"]})]})]})}),l.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[l.jsx("span",{className:"font-medium",children:P.userName}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("span",{children:Gt(new Date(P.timestamp.toMillis()),"dd/MM HH:mm",{locale:Gr})}),M(P)]})]}),P.attachment&&!P.isDeleted&&l.jsxs("div",{className:"mb-2 p-2 bg-black/5 rounded border border-black/10",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[ne(P.attachment.type),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium truncate",children:P.attachment.name}),l.jsx("p",{className:"text-xs opacity-75",children:se(P.attachment.size)})]}),l.jsx(me,{size:"sm",variant:"ghost",onClick:()=>window.open(P.attachment.url,"_blank"),className:"h-8 w-8 p-0",children:l.jsx(Ps,{className:"h-3 w-3"})})]}),P.attachment.type.startsWith("image/")&&l.jsx("div",{className:"mt-2",children:l.jsx("img",{src:P.attachment.url,alt:P.attachment.name,className:"max-w-full h-auto rounded cursor-pointer",style:{maxHeight:"200px"},onClick:()=>window.open(P.attachment.url,"_blank")})})]}),v===P.id?l.jsxs("div",{className:"space-y-2",children:[l.jsx(Oa,{value:x,onChange:oe=>w(oe.target.value),onKeyDown:oe=>G(oe,P.id),className:"min-h-[60px] resize-none",placeholder:"Edite sua mensagem..."}),l.jsxs("div",{className:"flex gap-2 justify-end",children:[l.jsxs(me,{size:"sm",variant:"outline",onClick:ee,children:[l.jsx(Vc,{className:"h-3 w-3 mr-1"})," Cancelar"]}),l.jsxs(me,{size:"sm",onClick:()=>z(P.id),children:[l.jsx(M2,{className:"h-3 w-3 mr-1"})," Salvar"]})]})]}):P.message&&l.jsx("p",{children:P.message})]},P.id||J)):l.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Nenhuma mensagem ainda"}),l.jsx("div",{ref:S})]}),h&&l.jsxs("div",{className:"flex items-center gap-2 p-2 bg-muted rounded border",children:[ne(h.type),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium truncate",children:h.name}),l.jsx("p",{className:"text-xs text-muted-foreground",children:se(h.size)})]}),l.jsx(me,{size:"sm",variant:"ghost",onClick:k,className:"h-8 w-8 p-0",children:l.jsx(go,{className:"h-4 w-4"})})]}),g>0&&g<100&&l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:l.jsx("div",{className:"bg-primary h-2 rounded-full transition-all duration-300",style:{width:`${g}%`}})}),l.jsxs("div",{className:"flex gap-2 items-end",children:[l.jsx("div",{className:"flex-1 pl-3",children:l.jsx(dI,{placeholder:"Digite sua mensagem...",value:s,onChange:P=>o(P.target.value),onKeyDown:W,disabled:d,minRows:1,maxRows:3,className:"w-full min-h-[40px] resize-none rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"})}),l.jsxs("div",{className:"flex gap-2 mb-1.5 mr-2",children:[l.jsx("input",{ref:T,type:"file",onChange:O,className:"hidden",accept:"*/*"}),l.jsx(me,{variant:"outline",size:"sm",onClick:()=>{var P;return(P=T.current)==null?void 0:P.click()},disabled:d,className:"flex-shrink-0",children:l.jsx(Gq,{className:"h-4 w-4"})}),l.jsx(me,{onClick:D,className:"flex-shrink-0",disabled:d||!s.trim()&&!h,children:l.jsx(Yq,{className:"h-4 w-4"})})]})]})]})]})})},QJe=e=>{switch(e){case"reservation":return"Reserva";case"purchase":return"Compra";case"support":return"Suporte";default:return e}},ZJe=async e=>{try{return{id:(await xu(qr(Ze,"estoque"),{...e,createdAt:new Date})).id,...e}}catch(t){throw console.error("Erro ao adicionar item ao estoque:",t),t}},ij=e=>{switch(e){case"reservation":return l.jsx(Zn,{className:"h-4 w-4 text-blue-500"});case"purchase":return l.jsx(wn,{className:"h-4 w-4 text-purple-500"});case"support":return l.jsx(ql,{className:"h-4 w-4 text-pink-500"});default:return l.jsx(Zn,{className:"h-4 w-4"})}},aj=e=>{switch(e){case"pending":return l.jsxs(Se,{className:"bg-amber-50 text-amber-600 border-amber-100",children:[l.jsx(fu,{className:"h-4 w-4 mr-1 hidden sm:inline-block"}),"Pendente"]});case"analyzing":return l.jsxs(Se,{className:"bg-amber-50 text-amber-600 border-amber-100",children:[l.jsx(fu,{className:"h-4 w-4 mr-1 hidden sm:inline-block"}),"Em Análise"]});case"approved":return l.jsxs(Se,{className:"bg-green-50 text-green-600 border-green-100",children:[l.jsx(ph,{className:"h-4 w-4 mr-1 hidden sm:inline-block"}),"Aprovado"]});case"rejected":return l.jsxs(Se,{variant:"destructive",children:[l.jsx(Vc,{className:"h-4 w-4 mr-1 hidden sm:inline-block"}),"Reprovado"]});case"waitingDelivery":return l.jsxs(Se,{className:"bg-blue-50 text-blue-600 border-blue-100",children:[l.jsx(_fe,{className:"h-4 w-4 mr-1 hidden sm:inline-block"}),"Aguardando entrega"]});case"delivered":return l.jsxs(Se,{className:"bg-indigo-50 text-indigo-600 border-indigo-100",children:[l.jsx(Hq,{className:"h-4 w-4 mr-1 hidden sm:inline-block"}),"Recebido"]});case"completed":return l.jsxs(Se,{className:"bg-slate-100 text-slate-600 border-slate-200",children:[l.jsx(ph,{className:"h-4 w-4 mr-1 hidden sm:inline-block"}),"Concluído"]});case"canceled":return l.jsxs(Se,{className:"bg-red-50 text-red-600 border-red-100",children:[l.jsx(sE,{className:"h-4 w-4 mr-1 hidden sm:inline-block"}),"Cancelado"]});case"in-progress":return l.jsxs(Se,{className:"bg-orange-50 text-orange-600 border-orange-100",children:[l.jsx(s0,{className:"h-4 w-4 mr-1 hidden sm:inline-block"}),"Em andamento"]});default:return console.warn("Status desconhecido:",e),l.jsxs(Se,{variant:"outline",children:[l.jsx(sE,{className:"h-4 w-4 mr-1 hidden sm:inline-block"}),"Desconhecido"]})}},Pw=e=>{switch(e){case"reservation":return"Reserva";case"purchase":return"Compra";case"support":return"Suporte";default:return"Desconhecido"}},h7=e=>{if(!e)return l.jsx(Se,{variant:"outline",children:"Não especificado"});const t={labels:{critical:"Crítica",high:"Alta",medium:"Média",low:"Baixa"},colors:{critical:"bg-red-100 text-red-600 border-red-200",high:"bg-orange-100 text-orange-600 border-orange-200",medium:"bg-amber-100 text-amber-600 border-amber-200",low:"bg-green-100 text-green-600 border-green-200"}},r=e.toLowerCase();return l.jsx(Se,{className:Re("border",t.colors[r]),children:t.labels[r]||e})};function JJe(){var st;const e=im(),{currentUser:t}=Mr(),[r,n]=b.useState(""),[i,a]=b.useState(["reservation","purchase","support"]),[s,o]=b.useState(["pending","analyzing","approved","in-progress","waitingDelivery","delivered"]),[c,u]=b.useState(null),[d,f]=b.useState(!1),[h,m]=b.useState(null),[g,p]=b.useState(!1),[v,y]=b.useState({ipads:0,chromebooks:0,others:0}),[x,w]=b.useState({}),[N,E]=b.useState({}),[T,S]=b.useState(()=>{const _e=typeof window<"u"?localStorage.getItem("viewedRequests"):null;return _e?new Set(JSON.parse(_e)):new Set}),[A,C]=b.useState(null),[j,I]=b.useState(!1),[O,k]=b.useState(!1),[D,B]=b.useState(null),[ee,z]=b.useState(!1),[V,U]=b.useState("local"),se={"Berçário e Educação Infantil":["Recepção","Sala de reuniões","Cozinha","Pátio","Sala de música","Sala de science","Berçário 2","Berçário 3","Refeitório","Sala de movimento","Pátio integral","Infantil 1","Infantil 2"],Fundamental:["Recepção","Secretaria","Sala de atendimento","Sala de atendimento (Laranja)","Sala de auxiliar de coordenação fundamental 1","Sala de oficinas","Sala de música","Sala de science","Integral","4º Ano","Patio (Cantina)","Refeitório","Biblioteca (Inferior)","3º Ano","2º Ano","1º Ano","Sala dos professores","Sala de Linguas","Coordenação de linguas/Fundamental 2","Sala de artes","Coordenação Fundamental 1 / Coordenação de matemática","8º ano","7º Ano","Apoio pedagógico","Orientação educacional","TI","Sala de oficinas (Piso superior)","5º Ano","6º Ano","Biblioteca (Superior)","Sala de convivência","9º Ano"],Anexo:["Sala de manutenção","Sala de reuniões","Refeitório","Cozinha","Nutrição","Controladoria","Financeiro","Operacional","Mantenedoria"]},{data:ne=[],isLoading:M,isError:W,refetch:G}=ua({queryKey:["userRequests",t==null?void 0:t.email],queryFn:()=>Pu(!1),staleTime:1e3*60*5}),P=b.useMemo(()=>ne.filter(_e=>_e.userEmail===(t==null?void 0:t.email)).filter(_e=>_e.status!=="canceled"),[ne,t==null?void 0:t.email]),J=b.useMemo(()=>P.filter(_e=>{var ce,he,Pe,ke,Le;const Q=r.toLowerCase();return(((ce=_e.userName)==null?void 0:ce.toLowerCase().includes(Q))||((he=_e.userEmail)==null?void 0:he.toLowerCase().includes(Q))||((Pe=_e.purpose)==null?void 0:Pe.toLowerCase().includes(Q))||((ke=_e.itemName)==null?void 0:ke.toLowerCase().includes(Q))||((Le=_e.location)==null?void 0:Le.toLowerCase().includes(Q)))&&i.includes(_e.type)&&s.includes(_e.status)}),[P,r,i,s]);b.useEffect(()=>{(async()=>{const Q=ne.filter(ce=>ce.type==="reservation"&&ce.equipmentIds).flatMap(ce=>ce.equipmentIds).filter((ce,he,Pe)=>Pe.indexOf(ce)===he);if(Q.length>0)try{const ce=await Promise.all(Q.map(Pe=>ts(xt(Ze,"equipment",Pe)))),he={...x};ce.forEach((Pe,ke)=>{Pe.exists()&&(he[Q[ke]]={type:Pe.data().type})}),w(he)}catch(ce){console.error("Error pre-fetching equipment:",ce)}})()},[ne]),b.useEffect(()=>{(()=>{const Q={};P.forEach(ce=>{var Pe;const he=(Pe=ce.messages)==null?void 0:Pe.filter(ke=>ke.isAdmin&&!T.has(`${ce.id}-${ke.timestamp.toMillis()}`)).length;he>0&&(Q[ce.id]=he)}),JSON.stringify(Q)!==JSON.stringify(N)&&E(Q)})()},[P,T]);const oe=b.useCallback(async(_e=[])=>{const Q={ipads:0,chromebooks:0,others:0},ce=[];if(_e.forEach(he=>{if(x[he]){const Pe=x[he].type.toLowerCase();Pe.includes("ipad")?Q.ipads++:Pe.includes("chromebook")?Q.chromebooks++:Q.others++}else ce.push(he)}),ce.length>0)try{const he=await Promise.all(ce.map(ke=>ts(xt(Ze,"equipment",ke)))),Pe={...x};he.forEach((ke,Le)=>{if(ke.exists()){const Ve=ke.data();Pe[ce[Le]]={type:Ve.type};const ct=Ve.type.toLowerCase();ct.includes("ipad")?Q.ipads++:ct.includes("chromebook")?Q.chromebooks++:Q.others++}}),w(Pe)}catch(he){console.error("Error fetching equipment:",he)}return Q},[x]),ae=b.useCallback(async _e=>{try{const Q=await wu(_e.id,_e.collectionName);if(u(Q),S(ce=>{const he=new Set(ce);return he.add(_e.id),localStorage.setItem("viewedRequests",JSON.stringify(Array.from(he))),he}),E(ce=>{const he={...ce};return delete he[_e.id],he}),Q.type==="reservation"&&Q.equipmentIds){const ce=await oe(Q.equipmentIds);y(ce)}f(!0)}catch(Q){$e.error("Erro ao carregar detalhes"),console.error("Error:",Q)}},[oe]),K=async _e=>{try{const Q=await wu(_e.id,_e.collectionName);C(Q),S(ce=>{var Pe;const he=new Set(ce);return(Pe=Q.messages)==null||Pe.forEach(ke=>{ke.isAdmin&&he.add(`${Q.id}-${ke.timestamp.toMillis()}`)}),localStorage.setItem("viewedRequests",JSON.stringify(Array.from(he))),he}),E(ce=>{const he={...ce};return delete he[Q.id],he}),I(!0)}catch(Q){$e.error("Erro ao abrir chat"),console.error("Error:",Q)}},ie=_e=>{m({id:_e.id,collectionName:_e.collectionName,userEmail:_e.userEmail}),p(!0)},fe=async()=>{if(h)try{const _e=xt(Ze,h.collectionName,h.id);await ur(_e,{status:"canceled"}),await Ra({title:"Solicitação Cancelada",message:"Sua solicitação foi cancelada.",link:"minhas-solicitacoes",createdAt:new Date,readBy:[],recipients:[h.userEmail],isBatch:!1}),$e.success("Solicitação cancelada"),p(!1),m(null),d&&f(!1),G()}catch(_e){$e.error("Erro ao cancelar"),console.error("Error:",_e)}},le=()=>{const{ipads:_e,chromebooks:Q,others:ce}=v,he=[];return _e>0&&he.push(l.jsxs("li",{children:["iPad",_e!==1?"s":"",": ",_e]},"ipads")),Q>0&&he.push(l.jsxs("li",{children:["Chromebook",Q!==1?"s":"",": ",Q]},"chromebooks")),ce>0&&he.push(l.jsxs("li",{children:["Outro",ce!==1?"s":"",": ",ce]},"others")),he.length>0?l.jsx("ul",{className:"list-disc pl-5",children:he}):l.jsx("p",{children:"Nenhum equipamento selecionado"})},Be=async()=>{if(c)try{const _e=xt(Ze,c.collectionName,c.id);await ur(_e,{status:"delivered"}),await Ra({title:"Entrega Recebida",message:"Você marcou a solicitação como entregue.",link:"minhas-solicitacoes",createdAt:new Date,readBy:[],recipients:[c.userEmail],isBatch:!1}),$e.success("Status atualizado para Recebido"),B({nome:c.itemName||"Item sem nome",quantidade:c.quantity||1,valorUnitario:c.unitPrice||0,descricao:c.justification||`Compra aprovada em ${new Date().toLocaleDateString()}`,categoria:"TI",unidade:"Fundamental",localizacao:"TI",estado:"Bom",responsavel:"",dataRecebimento:"",notaFiscal:"",numeroPedido:""}),U("local"),k(!0),f(!1),G()}catch(_e){$e.error("Erro ao atualizar status"),console.error("Error:",_e)}},Oe=async()=>{if(c)try{const _e=xt(Ze,c.collectionName,c.id);await ur(_e,{status:"completed"}),await Ra({title:"Solicitação Concluída",message:"Sua solicitação foi marcada como concluída.",link:"minhas-solicitacoes",createdAt:new Date,readBy:[],recipients:[c.userEmail],isBatch:!1}),$e.success("Solicitação marcada como concluída"),f(!1),G()}catch(_e){$e.error("Erro ao atualizar status"),console.error("Error:",_e)}},vt=async()=>{if(D){z(!0);try{await ZJe(D),$e.success("Item adicionado ao estoque com sucesso!"),k(!1)}catch(_e){$e.error("Erro ao adicionar item ao estoque"),console.error(_e)}finally{z(!1)}}},mt=b.useMemo(()=>({reservation:["pending","approved","in-progress","completed","canceled","rejected"],purchase:["pending","analyzing","approved","rejected","waitingDelivery","delivered","completed"],support:["pending","in-progress","completed","canceled"]}),[]),ge=c?["purchase","support"].includes(c.type)&&!["canceled","rejected","completed"].includes(c.status):!1;return l.jsx(sn,{children:l.jsxs("div",{className:"relative z-10 space-y-8 p-6 md:p-12 fade-up",children:[l.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2 bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:[l.jsx(Oi,{className:"text-eccos-purple",size:35}),"Minhas Solicitações"]}),l.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[l.jsxs("div",{className:"relative flex-1 max-w-md",children:[l.jsx(gc,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),l.jsx(Bt,{placeholder:"Pesquisar por nome, email, finalidade ou local...",value:r,onChange:_e=>n(_e.target.value),className:"pl-10 rounded-xl border-gray-200 focus-visible:ring-eccos-purple"})]}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsxs(me,{variant:"outline",onClick:()=>{n(""),a(["reservation","purchase","support"]),o(["pending","analyzing","approved","in-progress","waitingDelivery","delivered"])},className:"flex items-center gap-2 border-gray-200 hover:bg-gray-50 text-gray-600",children:[l.jsx(s0,{className:"h-4 w-4 mr-1"}),"Limpar Filtros"]}),l.jsxs(ei,{children:[l.jsx(ti,{asChild:!0,children:l.jsxs(me,{variant:"outline",className:"flex items-center gap-2 border-gray-200 hover:bg-gray-50",children:[l.jsx(cc,{className:"h-4 w-4 text-eccos-purple"}),"Categoria",l.jsx(lc,{className:"h-4 w-4"})]})}),l.jsx(zn,{align:"end",className:"bg-background",children:["reservation","purchase","support"].map(_e=>l.jsxs(_o,{checked:i.includes(_e),onCheckedChange:Q=>{a(Q?[...i,_e]:i.filter(ce=>ce!==_e))},className:"flex items-center gap-2",children:[ij(_e),Pw(_e)]},_e))})]}),l.jsxs(ei,{children:[l.jsx(ti,{asChild:!0,children:l.jsxs(me,{variant:"outline",className:"flex items-center gap-2 border-gray-200 hover:bg-gray-50",children:[l.jsx(cc,{className:"h-4 w-4 text-eccos-purple"}),"Status",l.jsx(lc,{className:"h-4 w-4"})]})}),l.jsx(zn,{align:"end",className:"bg-background max-h-80 overflow-y-auto",children:Object.entries(mt).map(([_e,Q])=>i.includes(_e)?l.jsxs(te.Fragment,{children:[l.jsx("div",{className:"px-2 py-1 text-xs font-semibold text-gray-500",children:Pw(_e)}),Q.map(ce=>l.jsx(_o,{checked:s.includes(ce),onCheckedChange:he=>{o(he?[...s,ce]:s.filter(Pe=>Pe!==ce))},className:"flex items-center gap-2",children:aj(ce)},ce)),l.jsx(m4,{})]},_e):null)})]})]})]}),M?l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-eccos-purple"})}):W?l.jsx("div",{className:"text-center text-destructive p-4 border border-destructive rounded-md bg-red-50",children:"Erro ao carregar solicitações"}):J.length===0?l.jsxs("div",{className:"p-8 bg-white border border-gray-100 rounded-2xl shadow-lg text-center",children:[l.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-eccos-purple/10 text-eccos-purple mb-4",children:l.jsx(Oi,{className:"h-8 w-8"})}),l.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Nenhuma solicitação encontrada"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Parece que você ainda não fez nenhuma solicitação."}),l.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-3",children:[l.jsx(me,{onClick:()=>e("/nova-solicitacao/reserva"),className:"bg-eccos-purple hover:bg-sidebar text-white",children:"Nova Reserva"}),l.jsx(me,{onClick:()=>e("/nova-solicitacao/compra"),className:"bg-purple-600 hover:bg-purple-700 text-white",children:"Nova Compra"}),l.jsx(me,{onClick:()=>e("/nova-solicitacao/suporte"),className:"bg-pink-600 hover:bg-pink-700 text-white",children:"Novo Suporte"})]})]}):l.jsx("div",{className:"rounded-md border border-gray-100 overflow-hidden bg-white shadow-lg hover:shadow-xl transition-all duration-300",children:l.jsxs(El,{children:[l.jsx(Sl,{className:"bg-gray-50",children:l.jsxs(En,{children:[l.jsx(Lt,{className:"text-center font-medium text-gray-600 w-[35%]",children:"Tipo"}),l.jsx(Lt,{className:"text-center font-medium text-gray-600 w-[35%]",children:"Status"}),l.jsx(Lt,{className:"text-center font-medium text-gray-600 w-[30%]",children:"Ações"})]})}),l.jsx(Tl,{children:J.map(_e=>l.jsxs(En,{className:"hover:bg-gray-50 transition-colors",children:[l.jsx(Dt,{className:"text-center align-middle",children:l.jsxs("div",{className:"flex items-center justify-center gap-2",children:[ij(_e.type),l.jsx("span",{className:"font-medium",children:Pw(_e.type)})]})}),l.jsx(Dt,{className:"text-center align-middle",children:l.jsx("div",{className:"flex justify-center",children:aj(_e.status)})}),l.jsx(Dt,{className:"text-center align-middle",children:l.jsxs("div",{className:"flex justify-center items-center space-x-2",children:[l.jsx(me,{variant:"ghost",size:"icon",className:"h-8 w-8 text-gray-600 hover:bg-gray-100",onClick:()=>ae(_e),title:"Detalhes",children:l.jsx(pfe,{className:"h-4 w-4"})}),l.jsxs(me,{variant:"ghost",size:"icon",className:"h-8 w-8 text-gray-600 hover:bg-gray-100 relative",onClick:()=>K(_e),title:"Chat",children:[l.jsx(rm,{className:"h-4 w-4"}),N[_e.id]>0&&l.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:N[_e.id]})]})]})})]},`${_e.collectionName}-${_e.id}`))})]})}),l.jsx(mn,{open:d,onOpenChange:f,children:l.jsx(on,{className:"max-w-full sm:max-w-3xl border-gray-100 p-0",children:c&&l.jsxs(l.Fragment,{children:[l.jsxs(pn,{className:"p-4 border-b bg-white sticky top-0 z-10",children:[l.jsxs(ln,{className:"flex items-center gap-2",children:[ij(c.type),l.jsxs("span",{className:"bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:[Pw(c.type)," -"," ",c.userName||c.userEmail]})]}),l.jsx(gn,{asChild:!0,children:l.jsxs("div",{className:"flex items-center justify-between text-gray-500 text-xs px-1 mt-1",children:[l.jsx("div",{children:Gt(new Date(c.createdAt.toMillis()),"dd 'de' MMMM 'de' yyyy 'às' HH:mm",{locale:Gr})}),l.jsx("div",{children:aj(c.status)})]})})]}),l.jsx("div",{className:"p-4 overflow-y-auto max-h-[70vh]",children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-4 border-b pb-4",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-800",children:"Detalhes da Solicitação"}),c.type==="reservation"&&l.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Data"}),l.jsx("p",{className:"text-sm text-gray-700",children:Gt(new Date(c.date.toMillis()),"dd/MM/yyyy",{locale:Gr})})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Horário"}),l.jsxs("p",{className:"text-sm text-gray-700",children:[c.startTime," - ",c.endTime]})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Local"}),l.jsx("p",{className:"text-sm text-gray-700",children:c.location})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Finalidade"}),l.jsx("p",{className:"text-sm text-gray-700",children:c.purpose})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Equipamentos"}),le()]})]}),c.type==="purchase"&&l.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Item Solicitado"}),l.jsx("p",{className:"text-sm text-gray-700",children:c.itemName})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Quantidade"}),l.jsx("p",{className:"text-sm text-gray-700",children:c.quantity})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Valor Unitário"}),l.jsx("p",{className:"text-sm text-gray-700",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(c.unitPrice||0)})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Valor Total"}),l.jsx("div",{className:"bg-eccos-purple/10 p-2 rounded-md",children:l.jsx("p",{className:"text-sm font-semibold text-eccos-purple",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format((c.quantity||0)*(c.unitPrice||0))})})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Urgência"}),l.jsx("div",{className:"flex items-center gap-2",children:h7(c.urgency)})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Justificativa"}),l.jsx("p",{className:"text-sm text-gray-700",children:c.justification})]})]}),c.type==="support"&&l.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Unidade"}),l.jsx("p",{className:"text-sm text-gray-700",children:c.unit})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Localização"}),l.jsx("p",{className:"text-sm text-gray-700",children:c.location})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Categoria"}),l.jsx("p",{className:"text-sm text-gray-700",children:c.category})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Prioridade"}),l.jsx("div",{className:"flex items-center gap-2",children:h7(c.priority)})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Descrição"}),l.jsx("pre",{className:"whitespace-pre-wrap break-words bg-gray-50 p-3 rounded-md text-sm text-gray-700",children:c.description||"Nenhuma descrição"})]})]})]}),c.status==="rejected"&&c.rejectionReason&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Motivo da Rejeição"}),l.jsx("div",{className:"bg-red-50 p-4 rounded-xl border border-red-100",children:l.jsx("p",{className:"text-red-700 whitespace-pre-wrap break-words",children:c.rejectionReason})})]})]})}),l.jsxs(ii,{className:"p-4 border-t bg-white sticky bottom-0 z-10 flex-row gap-2 justify-end",children:[c.type==="purchase"&&c.status==="waitingDelivery"&&l.jsxs(me,{variant:"outline",onClick:Be,className:"w-full sm:w-auto bg-indigo-600 hover:bg-indigo-700 text-white",children:[l.jsx(Hq,{className:"h-4 w-4 mr-2"}),"Entrega Recebida"]}),ge&&l.jsxs(me,{variant:"secondary",onClick:Oe,className:"w-full sm:w-auto bg-green-600 hover:bg-green-700 text-white",children:[l.jsx(ph,{className:"h-4 w-4 mr-2"}),"Concluir"]}),l.jsxs(me,{variant:"destructive",onClick:()=>ie(c),disabled:c.status==="canceled",className:"w-full sm:w-auto",children:[l.jsx(Rs,{className:"h-4 w-4 mr-2"}),"Cancelar Solicitação"]})]})]})})}),l.jsx(XJe,{request:A,isOpen:j,onOpenChange:I,onMessageSent:G}),l.jsx(To,{open:g,onOpenChange:p,children:l.jsxs(Bs,{className:"border-gray-100",children:[l.jsx(Vs,{children:l.jsx(Us,{className:"text-gray-800",children:"Confirmar cancelamento"})}),l.jsx("div",{className:"py-4 text-gray-600",children:"Tem certeza que deseja cancelar esta solicitação?"}),l.jsxs(wl,{className:"gap-2",children:[l.jsx(Co,{className:"border-gray-200 text-gray-700",children:"Voltar"}),l.jsx(Ao,{onClick:fe,className:"bg-red-600 hover:bg-red-700 text-white",children:"Confirmar Cancelamento"})]})]})}),l.jsx(mn,{open:O,onOpenChange:k,children:l.jsx(on,{className:"max-w-2xl w-full bg-white border border-gray-100 rounded-2xl overflow-hidden",children:l.jsxs("div",{className:"flex flex-col h-[80vh] max-h-[80vh]",children:[l.jsxs(pn,{className:"p-6 pb-2 border-b border-gray-100 bg-white sticky top-0 z-10 shadow-sm",children:[l.jsxs(ln,{className:"flex items-center gap-2",children:[l.jsx(qq,{className:"h-5 w-5 text-purple-500"}),l.jsx("span",{className:"bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:"Adicionar ao Estoque"})]}),l.jsx(gn,{asChild:!0,children:l.jsxs("div",{className:"text-sm text-gray-500 mt-2",children:["Campos marcados com ",l.jsx("span",{className:"text-destructive",children:"*"})," são obrigatórios"]})})]}),l.jsx("div",{className:"flex-1 overflow-y-auto p-6 pb-16",children:l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs(_t,{children:["Nome do Item ",l.jsx("span",{className:"text-destructive",children:"*"})]}),l.jsx(Bt,{placeholder:"Ex: Computador",value:(D==null?void 0:D.nome)||"",onChange:_e=>B(Q=>({...Q,nome:_e.target.value})),className:"focus:ring-2 focus:ring-eccos-purple focus:border-eccos-purple outline-none transition-all"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(_t,{children:["Quantidade ",l.jsx("span",{className:"text-destructive",children:"*"})]}),l.jsx(Bt,{type:"number",min:"0",step:"1",value:(D==null?void 0:D.quantidade)||0,onChange:_e=>B(Q=>({...Q,quantidade:Number(_e.target.value)})),className:"focus:ring-2 focus:ring-eccos-purple focus:border-eccos-purple outline-none transition-all"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(_t,{children:"Valor Unitário (R$)"}),l.jsx(Bt,{type:"number",step:"0.01",min:"0",value:(D==null?void 0:D.valorUnitario)||0,onChange:_e=>B(Q=>({...Q,valorUnitario:Number(_e.target.value)})),className:"focus:ring-2 focus:ring-eccos-purple focus:border-eccos-purple outline-none transition-all"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(_t,{children:"Data de Recebimento"}),l.jsx(Bt,{type:"date",value:(D==null?void 0:D.dataRecebimento)||"",onChange:_e=>B(Q=>({...Q,dataRecebimento:_e.target.value})),className:"focus:ring-2 focus:ring-eccos-purple focus:border-eccos-purple outline-none transition-all"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(_t,{children:"Nota Fiscal"}),l.jsx(Bt,{placeholder:"Número da nota fiscal",value:(D==null?void 0:D.notaFiscal)||"",onChange:_e=>B(Q=>({...Q,notaFiscal:_e.target.value})),className:"focus:ring-2 focus:ring-eccos-purple focus:border-eccos-purple outline-none transition-all"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(_t,{children:"Número do Pedido"}),l.jsx(Bt,{placeholder:"Número do pedido",value:(D==null?void 0:D.numeroPedido)||"",onChange:_e=>B(Q=>({...Q,numeroPedido:_e.target.value})),className:"focus:ring-2 focus:ring-eccos-purple focus:border-eccos-purple outline-none transition-all"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(_t,{children:["Estado ",l.jsx("span",{className:"text-destructive",children:"*"})]}),l.jsxs("select",{value:(D==null?void 0:D.estado)||"Bom",onChange:_e=>B(Q=>({...Q,estado:_e.target.value})),className:"w-full h-10 rounded-md border px-3 focus:ring-2 focus:ring-eccos-purple focus:border-eccos-purple outline-none transition-all",children:[l.jsx("option",{value:"Ótimo",children:"Ótimo"}),l.jsx("option",{value:"Bom",children:"Bom"}),l.jsx("option",{value:"Razoável",children:"Razoável"}),l.jsx("option",{value:"Ruim",children:"Ruim"}),l.jsx("option",{value:"Péssimo",children:"Péssimo"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(_t,{children:["Categoria ",l.jsx("span",{className:"text-destructive",children:"*"})]}),l.jsxs("select",{value:(D==null?void 0:D.categoria)||"",onChange:_e=>B(Q=>({...Q,categoria:_e.target.value})),className:"w-full h-10 rounded-md border px-3 focus:ring-2 focus:ring-eccos-purple focus:border-eccos-purple outline-none transition-all",children:[l.jsx("option",{value:"",children:"Selecione uma categoria"}),l.jsx("option",{value:"TI",children:"TI"}),l.jsx("option",{value:"Administrativo",children:"Administrativo"}),l.jsx("option",{value:"Limpeza",children:"Limpeza"}),l.jsx("option",{value:"Manutenção",children:"Manutenção"})]})]}),l.jsxs("div",{className:"col-span-1 sm:col-span-2 space-y-2",children:[l.jsx(_t,{children:"Descrição"}),l.jsx(Oa,{placeholder:"Descreva o item (opcional)",value:(D==null?void 0:D.descricao)||"",onChange:_e=>B(Q=>({...Q,descricao:_e.target.value})),className:"w-full h-20 focus:ring-2 focus:ring-eccos-purple focus:border-eccos-purple outline-none transition-all"})]}),l.jsxs("div",{className:"col-span-1 sm:col-span-2 space-y-4",children:[l.jsxs("div",{className:"flex gap-2 mb-2",children:[l.jsx(me,{type:"button",variant:V==="local"?"default":"outline",onClick:()=>U("local"),className:"flex-1",children:"Local"}),l.jsx(me,{type:"button",variant:V==="responsible"?"default":"outline",onClick:()=>U("responsible"),className:"flex-1",children:"Responsável"})]}),V==="responsible"?l.jsxs("div",{className:"space-y-2",children:[l.jsxs(_t,{children:["Nome do Responsável ",l.jsx("span",{className:"text-destructive",children:"*"})]}),l.jsx(Bt,{placeholder:"Ex: João Silva",value:(D==null?void 0:D.responsavel)||"",onChange:_e=>B(Q=>({...Q,responsavel:_e.target.value})),className:"focus:ring-2 focus:ring-eccos-purple focus:border-eccos-purple outline-none transition-all"})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs(_t,{children:["Unidade ",l.jsx("span",{className:"text-destructive",children:"*"})]}),l.jsxs("select",{value:(D==null?void 0:D.unidade)||"",onChange:_e=>B(Q=>({...Q,unidade:_e.target.value})),className:"w-full h-10 rounded-md border px-3 focus:ring-2 focus:ring-eccos-purple focus:border-eccos-purple outline-none transition-all",children:[l.jsx("option",{value:"",children:"Selecione uma unidade"}),Object.keys(se).map(_e=>l.jsx("option",{value:_e,children:_e},_e))]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(_t,{children:["Localização ",l.jsx("span",{className:"text-destructive",children:"*"})]}),l.jsxs("select",{value:(D==null?void 0:D.localizacao)||"",onChange:_e=>B(Q=>({...Q,localizacao:_e.target.value})),disabled:!(D!=null&&D.unidade),className:`w-full h-10 rounded-md border px-3 focus:ring-2 focus:ring-eccos-purple focus:border-eccos-purple outline-none transition-all ${D!=null&&D.unidade?"":"bg-gray-50 text-gray-400 cursor-not-allowed"}`,children:[l.jsx("option",{value:"",children:"Selecione uma localização"}),(D==null?void 0:D.unidade)&&((st=se[D.unidade])==null?void 0:st.map(_e=>l.jsx("option",{value:_e,children:_e},_e)))]})]})]})]})]})}),l.jsx(ii,{className:"p-6 border-t border-gray-100 bg-white sticky bottom-0 z-10",children:l.jsxs("div",{className:"flex flex-col-reverse sm:flex-row gap-2 justify-end w-full",children:[l.jsx(me,{variant:"outline",onClick:()=>k(!1),className:"w-full sm:w-auto",children:"Cancelar"}),l.jsx(me,{onClick:vt,disabled:ee,className:"w-full sm:w-auto bg-eccos-purple hover:bg-sidebar text-white",children:ee?"Adicionando...":"Adicionar ao Estoque"})]})})]})})})]})})}function oae(e){const t=b.useRef({value:e,previous:e});return b.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var DN="Checkbox",[eet,Sft]=$s(DN),[tet,h3]=eet(DN);function ret(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:i,disabled:a,form:s,name:o,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=e,[h,m]=du({prop:r,defaultProp:i??!1,onChange:c,caller:DN}),[g,p]=b.useState(null),[v,y]=b.useState(null),x=b.useRef(!1),w=g?!!s||!!g.closest("form"):!0,N={checked:h,disabled:a,setChecked:m,control:g,setControl:p,name:o,form:s,value:d,hasConsumerStoppedPropagationRef:x,required:u,defaultChecked:Id(i)?!1:i,isFormControl:w,bubbleInput:v,setBubbleInput:y};return l.jsx(tet,{scope:t,...N,children:net(f)?f(N):n})}var lae="CheckboxTrigger",cae=b.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},i)=>{const{control:a,value:s,disabled:o,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:h,isFormControl:m,bubbleInput:g}=h3(lae,e),p=Jt(i,d),v=b.useRef(c);return b.useEffect(()=>{const y=a==null?void 0:a.form;if(y){const x=()=>f(v.current);return y.addEventListener("reset",x),()=>y.removeEventListener("reset",x)}},[a,f]),l.jsx(wt.button,{type:"button",role:"checkbox","aria-checked":Id(c)?"mixed":c,"aria-required":u,"data-state":mae(c),"data-disabled":o?"":void 0,disabled:o,value:s,...n,ref:p,onKeyDown:Ye(t,y=>{y.key==="Enter"&&y.preventDefault()}),onClick:Ye(r,y=>{f(x=>Id(x)?!0:!x),g&&m&&(h.current=y.isPropagationStopped(),h.current||y.stopPropagation())})})});cae.displayName=lae;var m3=b.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:i,defaultChecked:a,required:s,disabled:o,value:c,onCheckedChange:u,form:d,...f}=e;return l.jsx(ret,{__scopeCheckbox:r,checked:i,defaultChecked:a,disabled:o,required:s,onCheckedChange:u,name:n,form:d,value:c,internal_do_not_use_render:({isFormControl:h})=>l.jsxs(l.Fragment,{children:[l.jsx(cae,{...f,ref:t,__scopeCheckbox:r}),h&&l.jsx(hae,{__scopeCheckbox:r})]})})});m3.displayName=DN;var uae="CheckboxIndicator",dae=b.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...i}=e,a=h3(uae,r);return l.jsx(os,{present:n||Id(a.checked)||a.checked===!0,children:l.jsx(wt.span,{"data-state":mae(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...e.style}})})});dae.displayName=uae;var fae="CheckboxBubbleInput",hae=b.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:i,checked:a,defaultChecked:s,required:o,disabled:c,name:u,value:d,form:f,bubbleInput:h,setBubbleInput:m}=h3(fae,e),g=Jt(r,m),p=oae(a),v=xG(n);b.useEffect(()=>{const x=h;if(!x)return;const w=window.HTMLInputElement.prototype,E=Object.getOwnPropertyDescriptor(w,"checked").set,T=!i.current;if(p!==a&&E){const S=new Event("click",{bubbles:T});x.indeterminate=Id(a),E.call(x,Id(a)?!1:a),x.dispatchEvent(S)}},[h,p,a,i]);const y=b.useRef(Id(a)?!1:a);return l.jsx(wt.input,{type:"checkbox","aria-hidden":!0,defaultChecked:s??y.current,required:o,disabled:c,name:u,value:d,form:f,...t,tabIndex:-1,ref:g,style:{...t.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});hae.displayName=fae;function net(e){return typeof e=="function"}function Id(e){return e==="indeterminate"}function mae(e){return Id(e)?"indeterminate":e?"checked":"unchecked"}const Kx=b.forwardRef(({className:e,...t},r)=>{const n=b.useCallback(i=>{},[]);return l.jsx(m3,{ref:r,className:Re("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),onClick:n,...t,children:l.jsx(dae,{className:Re("flex items-center justify-center text-current"),children:l.jsx(tm,{className:"h-4 w-4"})})})});Kx.displayName=m3.displayName;/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var VS={};VS.version="0.18.5";var pae=1252,iet=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],gae=function(e){iet.indexOf(e)!=-1&&(pae=e)};function aet(){gae(1252)}var Yx=function(e){gae(e)};function set(){Yx(1200),aet()}var Rw=function(t){return String.fromCharCode(t)},m7=function(t){return String.fromCharCode(t)},US,vd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Xx(e){for(var t="",r=0,n=0,i=0,a=0,s=0,o=0,c=0,u=0;u<e.length;)r=e.charCodeAt(u++),a=r>>2,n=e.charCodeAt(u++),s=(r&3)<<4|n>>4,i=e.charCodeAt(u++),o=(n&15)<<2|i>>6,c=i&63,isNaN(n)?o=c=64:isNaN(i)&&(c=64),t+=vd.charAt(a)+vd.charAt(s)+vd.charAt(o)+vd.charAt(c);return t}function Tu(e){var t="",r=0,n=0,i=0,a=0,s=0,o=0,c=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<e.length;)a=vd.indexOf(e.charAt(u++)),s=vd.indexOf(e.charAt(u++)),r=a<<2|s>>4,t+=String.fromCharCode(r),o=vd.indexOf(e.charAt(u++)),n=(s&15)<<4|o>>2,o!==64&&(t+=String.fromCharCode(n)),c=vd.indexOf(e.charAt(u++)),i=(o&3)<<6|c,c!==64&&(t+=String.fromCharCode(i));return t}var xr=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Ou=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function Wh(e){return xr?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function p7(e){return xr?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var Zo=function(t){return xr?Ou(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function MN(e){if(typeof ArrayBuffer>"u")return Zo(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n!=e.length;++n)r[n]=e.charCodeAt(n)&255;return t}function ab(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function oet(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}var Fi=xr?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:Ou(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),i=0;for(t=0,r=0;t<e.length;r+=i,++t)if(i=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(a){return Array.isArray(a)?a:[].slice.call(a)}))};function cet(e){for(var t=[],r=0,n=e.length+250,i=Wh(e.length+255),a=0;a<e.length;++a){var s=e.charCodeAt(a);if(s<128)i[r++]=s;else if(s<2048)i[r++]=192|s>>6&31,i[r++]=128|s&63;else if(s>=55296&&s<57344){s=(s&1023)+64;var o=e.charCodeAt(++a)&1023;i[r++]=240|s>>8&7,i[r++]=128|s>>2&63,i[r++]=128|o>>6&15|(s&3)<<4,i[r++]=128|o&63}else i[r++]=224|s>>12&15,i[r++]=128|s>>6&63,i[r++]=128|s&63;r>n&&(t.push(i.slice(0,r)),r=0,i=Wh(65535),n=65530)}return t.push(i.slice(0,r)),Fi(t)}var py=/\u0000/g,kw=/[\u0001-\u0006]/g;function Mp(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function il(e,t){var r=""+e;return r.length>=t?r:In("0",t-r.length)+r}function p3(e,t){var r=""+e;return r.length>=t?r:In(" ",t-r.length)+r}function zS(e,t){var r=""+e;return r.length>=t?r:r+In(" ",t-r.length)}function uet(e,t){var r=""+Math.round(e);return r.length>=t?r:In("0",t-r.length)+r}function det(e,t){var r=""+e;return r.length>=t?r:In("0",t-r.length)+r}var g7=Math.pow(2,32);function Om(e,t){if(e>g7||e<-g7)return uet(e,t);var r=Math.round(e);return det(r,t)}function WS(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var v7=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],sj=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function fet(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"上午/下午 "hh"時"mm"分"ss"秒 "',e}var Mn={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"上午/下午 "hh"時"mm"分"ss"秒 "'},y7={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},het={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function HS(e,t,r){for(var n=e<0?-1:1,i=e*n,a=0,s=1,o=0,c=1,u=0,d=0,f=Math.floor(i);u<t&&(f=Math.floor(i),o=f*s+a,d=f*u+c,!(i-f<5e-8));)i=1/(i-f),a=s,s=o,c=u,u=d;if(d>t&&(u>t?(d=c,o=a):(d=u,o=s)),!r)return[0,n*o,d];var h=Math.floor(n*o/d);return[h,n*o-h*d,d]}function Iw(e,t,r){if(e>2958465||e<0)return null;var n=e|0,i=Math.floor(86400*(e-n)),a=0,s=[],o={D:n,T:i,u:86400*(e-n)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),t&&t.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++i==86400&&(o.T=i=0,++n,++o.D)),n===60)s=r?[1317,10,29]:[1900,2,29],a=3;else if(n===0)s=r?[1317,8,29]:[1900,1,0],a=6;else{n>60&&--n;var c=new Date(1900,0,1);c.setDate(c.getDate()+n-1),s=[c.getFullYear(),c.getMonth()+1,c.getDate()],a=c.getDay(),n<60&&(a=(a+6)%7),r&&(a=bet(c,s))}return o.y=s[0],o.m=s[1],o.d=s[2],o.S=i%60,i=Math.floor(i/60),o.M=i%60,i=Math.floor(i/60),o.H=i,o.q=a,o}var vae=new Date(1899,11,31,0,0,0),met=vae.getTime(),pet=new Date(1900,2,1,0,0,0);function yae(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=pet&&(r+=24*60*60*1e3),(r-(met+(e.getTimezoneOffset()-vae.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function g3(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function get(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function vet(e){var t=e<0?12:11,r=g3(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function yet(e){var t=g3(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function xet(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=vet(e):t===10?r=e.toFixed(10).substr(0,12):r=yet(e),g3(get(r.toUpperCase()))}function fI(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):xet(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return Jd(14,yae(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function bet(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function wet(e,t,r,n){var i="",a=0,s=0,o=r.y,c,u=0;switch(e){case 98:o=r.y+543;case 121:switch(t.length){case 1:case 2:c=o%100,u=2;break;default:c=o%1e4,u=4;break}break;case 109:switch(t.length){case 1:case 2:c=r.m,u=t.length;break;case 3:return sj[r.m-1][1];case 5:return sj[r.m-1][0];default:return sj[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=r.d,u=t.length;break;case 3:return v7[r.q][0];default:return v7[r.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(r.H+11)%12,u=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=r.H,u=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=r.M,u=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?il(r.S,t.length):(n>=2?s=n===3?1e3:100:s=n===1?10:1,a=Math.round(s*(r.S+r.u)),a>=60*s&&(a=0),t==="s"?a===0?"0":""+a/s:(i=il(a,2+n),t==="ss"?i.substr(0,2):"."+i.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":c=r.D*24+r.H;break;case"[m]":case"[mm]":c=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":c=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}u=t.length===3?1:2;break;case 101:c=o,u=1;break}var d=u>0?il(c,u):"";return d}function yd(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var xae=/%/g;function _et(e,t,r){var n=t.replace(xae,""),i=t.length-n.length;return ru(e,n,r*Math.pow(10,2*i))+In("%",i)}function Eet(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return ru(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function bae(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+bae(e,-t);var i=e.indexOf(".");i===-1&&(i=e.indexOf("E"));var a=Math.floor(Math.log(t)*Math.LOG10E)%i;if(a<0&&(a+=i),r=(t/Math.pow(10,a)).toPrecision(n+1+(i+a)%i),r.indexOf("e")===-1){var s=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+a):r+="E+"+(s-a);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,i)+"."+r.substr(2+i),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,c,u,d){return c+u+d.substr(0,(i+a)%i)+"."+d.substr(a)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var wae=/# (\?+)( ?)\/( ?)(\d+)/;function Tet(e,t,r){var n=parseInt(e[4],10),i=Math.round(t*n),a=Math.floor(i/n),s=i-a*n,o=n;return r+(a===0?"":""+a)+" "+(s===0?In(" ",e[1].length+1+e[4].length):p3(s,e[1].length)+e[2]+"/"+e[3]+il(o,e[4].length))}function Net(e,t,r){return r+(t===0?"":""+t)+In(" ",e[1].length+2+e[4].length)}var _ae=/^#*0*\.([0#]+)/,Eae=/\).*[0#]/,Sae=/\(###\) ###\\?-####/;function _a(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function x7(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function b7(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function Aet(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function Cet(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function Qs(e,t,r){if(e.charCodeAt(0)===40&&!t.match(Eae)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Qs("n",n,r):"("+Qs("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return Eet(e,t,r);if(t.indexOf("%")!==-1)return _et(e,t,r);if(t.indexOf("E")!==-1)return bae(t,r);if(t.charCodeAt(0)===36)return"$"+Qs(e,t.substr(t.charAt(1)==" "?2:1),r);var i,a,s,o,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+Om(c,t.length);if(t.match(/^[#?]+$/))return i=Om(r,0),i==="0"&&(i=""),i.length>t.length?i:_a(t.substr(0,t.length-i.length))+i;if(a=t.match(wae))return Tet(a,c,u);if(t.match(/^#+0+$/))return u+Om(c,t.length-t.indexOf("0"));if(a=t.match(_ae))return i=x7(r,a[1].length).replace(/^([^\.]+)$/,"$1."+_a(a[1])).replace(/\.$/,"."+_a(a[1])).replace(/\.(\d*)$/,function(g,p){return"."+p+In("0",_a(a[1]).length-p.length)}),t.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),a=t.match(/^(0*)\.(#*)$/))return u+x7(c,a[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=t.match(/^#{1,3},##0(\.?)$/))return u+yd(Om(c,0));if(a=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Qs(e,t,-r):yd(""+(Math.floor(r)+Aet(r,a[1].length)))+"."+il(b7(r,a[1].length),a[1].length);if(a=t.match(/^#,#*,#0/))return Qs(e,t.replace(/^#,#*,/,""),r);if(a=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Mp(Qs(e,t.replace(/[\\-]/g,""),r)),s=0,Mp(Mp(t.replace(/\\/g,"")).replace(/[0#]/g,function(g){return s<i.length?i.charAt(s++):g==="0"?"0":""}));if(t.match(Sae))return i=Qs(e,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var d="";if(a=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(a[4].length,7),o=HS(c,Math.pow(10,s)-1,!1),i=""+u,d=ru("n",a[1],o[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),i+=d+a[2]+"/"+a[3],d=zS(o[2],s),d.length<a[4].length&&(d=_a(a[4].substr(a[4].length-d.length))+d),i+=d,i;if(a=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(a[1].length,a[4].length),7),o=HS(c,Math.pow(10,s)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?p3(o[1],s)+a[2]+"/"+a[3]+zS(o[2],s):In(" ",2*s+1+a[2].length+a[3].length));if(a=t.match(/^[#0?]+$/))return i=Om(r,0),t.length<=i.length?i:_a(t.substr(0,t.length-i.length))+i;if(a=t.match(/^([#0?]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),s=i.indexOf(".");var f=t.indexOf(".")-s,h=t.length-i.length-f;return _a(t.substr(0,f)+i+t.substr(t.length-h))}if(a=t.match(/^00,000\.([#0]*0)$/))return s=b7(r,a[1].length),r<0?"-"+Qs(e,t,-r):yd(Cet(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?il(0,3-g.length):"")+g})+"."+il(s,a[1].length);switch(t){case"###,##0.00":return Qs(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var m=yd(Om(c,0));return m!=="0"?u+m:"";case"###,###.00":return Qs(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Qs(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function jet(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return ru(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function Pet(e,t,r){var n=t.replace(xae,""),i=t.length-n.length;return ru(e,n,r*Math.pow(10,2*i))+In("%",i)}function Tae(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+Tae(e,-t);var i=e.indexOf(".");i===-1&&(i=e.indexOf("E"));var a=Math.floor(Math.log(t)*Math.LOG10E)%i;if(a<0&&(a+=i),r=(t/Math.pow(10,a)).toPrecision(n+1+(i+a)%i),!r.match(/[Ee]/)){var s=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+a):r+="E+"+(s-a),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,c,u,d){return c+u+d.substr(0,(i+a)%i)+"."+d.substr(a)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Cl(e,t,r){if(e.charCodeAt(0)===40&&!t.match(Eae)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Cl("n",n,r):"("+Cl("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return jet(e,t,r);if(t.indexOf("%")!==-1)return Pet(e,t,r);if(t.indexOf("E")!==-1)return Tae(t,r);if(t.charCodeAt(0)===36)return"$"+Cl(e,t.substr(t.charAt(1)==" "?2:1),r);var i,a,s,o,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+il(c,t.length);if(t.match(/^[#?]+$/))return i=""+r,r===0&&(i=""),i.length>t.length?i:_a(t.substr(0,t.length-i.length))+i;if(a=t.match(wae))return Net(a,c,u);if(t.match(/^#+0+$/))return u+il(c,t.length-t.indexOf("0"));if(a=t.match(_ae))return i=(""+r).replace(/^([^\.]+)$/,"$1."+_a(a[1])).replace(/\.$/,"."+_a(a[1])),i=i.replace(/\.(\d*)$/,function(g,p){return"."+p+In("0",_a(a[1]).length-p.length)}),t.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),a=t.match(/^(0*)\.(#*)$/))return u+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=t.match(/^#{1,3},##0(\.?)$/))return u+yd(""+c);if(a=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Cl(e,t,-r):yd(""+r)+"."+In("0",a[1].length);if(a=t.match(/^#,#*,#0/))return Cl(e,t.replace(/^#,#*,/,""),r);if(a=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Mp(Cl(e,t.replace(/[\\-]/g,""),r)),s=0,Mp(Mp(t.replace(/\\/g,"")).replace(/[0#]/g,function(g){return s<i.length?i.charAt(s++):g==="0"?"0":""}));if(t.match(Sae))return i=Cl(e,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var d="";if(a=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(a[4].length,7),o=HS(c,Math.pow(10,s)-1,!1),i=""+u,d=ru("n",a[1],o[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),i+=d+a[2]+"/"+a[3],d=zS(o[2],s),d.length<a[4].length&&(d=_a(a[4].substr(a[4].length-d.length))+d),i+=d,i;if(a=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(a[1].length,a[4].length),7),o=HS(c,Math.pow(10,s)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?p3(o[1],s)+a[2]+"/"+a[3]+zS(o[2],s):In(" ",2*s+1+a[2].length+a[3].length));if(a=t.match(/^[#0?]+$/))return i=""+r,t.length<=i.length?i:_a(t.substr(0,t.length-i.length))+i;if(a=t.match(/^([#0]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),s=i.indexOf(".");var f=t.indexOf(".")-s,h=t.length-i.length-f;return _a(t.substr(0,f)+i+t.substr(t.length-h))}if(a=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Cl(e,t,-r):yd(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?il(0,3-g.length):"")+g})+"."+il(0,a[1].length);switch(t){case"###,###":case"##,###":case"#,###":var m=yd(""+c);return m!=="0"?u+m:"";default:if(t.match(/\.[0#?]*$/))return Cl(e,t.slice(0,t.lastIndexOf(".")),r)+_a(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function ru(e,t,r){return(r|0)===r?Cl(e,t,r):Qs(e,t,r)}function Ret(e){for(var t=[],r=!1,n=0,i=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(i,n-i),i=n+1}if(t[t.length]=e.substr(i),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var Nae=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Aae(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":WS(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"上":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="上午/下午")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(Nae))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function ket(e,t,r,n){for(var i=[],a="",s=0,o="",c="t",u,d,f,h="H";s<e.length;)switch(o=e.charAt(s)){case"G":if(!WS(e,s))throw new Error("unrecognized character "+o+" in "+e);i[i.length]={t:"G",v:"General"},s+=7;break;case'"':for(a="";(f=e.charCodeAt(++s))!==34&&s<e.length;)a+=String.fromCharCode(f);i[i.length]={t:"t",v:a},++s;break;case"\\":var m=e.charAt(++s),g=m==="("||m===")"?m:"t";i[i.length]={t:g,v:m},++s;break;case"_":i[i.length]={t:"t",v:" "},s+=2;break;case"@":i[i.length]={t:"T",v:t},++s;break;case"B":case"b":if(e.charAt(s+1)==="1"||e.charAt(s+1)==="2"){if(u==null&&(u=Iw(t,r,e.charAt(s+1)==="2"),u==null))return"";i[i.length]={t:"X",v:e.substr(s,2)},c=o,s+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||u==null&&(u=Iw(t,r),u==null))return"";for(a=o;++s<e.length&&e.charAt(s).toLowerCase()===o;)a+=o;o==="m"&&c.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=h),i[i.length]={t:o,v:a},c=o;break;case"A":case"a":case"上":var p={t:o,v:o};if(u==null&&(u=Iw(t,r)),e.substr(s,3).toUpperCase()==="A/P"?(u!=null&&(p.v=u.H>=12?"P":"A"),p.t="T",h="h",s+=3):e.substr(s,5).toUpperCase()==="AM/PM"?(u!=null&&(p.v=u.H>=12?"PM":"AM"),p.t="T",s+=5,h="h"):e.substr(s,5).toUpperCase()==="上午/下午"?(u!=null&&(p.v=u.H>=12?"下午":"上午"),p.t="T",s+=5,h="h"):(p.t="t",++s),u==null&&p.t==="T")return"";i[i.length]=p,c=o;break;case"[":for(a=o;e.charAt(s++)!=="]"&&s<e.length;)a+=e.charAt(s);if(a.slice(-1)!=="]")throw'unterminated "[" block: |'+a+"|";if(a.match(Nae)){if(u==null&&(u=Iw(t,r),u==null))return"";i[i.length]={t:"Z",v:a.toLowerCase()},c=a.charAt(1)}else a.indexOf("$")>-1&&(a=(a.match(/\$([^-\[\]]*)/)||[])[1]||"$",Aae(e)||(i[i.length]={t:"t",v:a}));break;case".":if(u!=null){for(a=o;++s<e.length&&(o=e.charAt(s))==="0";)a+=o;i[i.length]={t:"s",v:a};break}case"0":case"#":for(a=o;++s<e.length&&"0#?.,E+-%".indexOf(o=e.charAt(s))>-1;)a+=o;i[i.length]={t:"n",v:a};break;case"?":for(a=o;e.charAt(++s)===o;)a+=o;i[i.length]={t:o,v:a},c=o;break;case"*":++s,(e.charAt(s)==" "||e.charAt(s)=="*")&&++s;break;case"(":case")":i[i.length]={t:n===1?"t":o,v:o},++s;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(a=o;s<e.length&&"0123456789".indexOf(e.charAt(++s))>-1;)a+=e.charAt(s);i[i.length]={t:"D",v:a};break;case" ":i[i.length]={t:o,v:o},++s;break;case"$":i[i.length]={t:"t",v:"$"},++s;break;default:if(",$-+/():!^&'~{}<>=€acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+e);i[i.length]={t:"t",v:o},++s;break}var v=0,y=0,x;for(s=i.length-1,c="t";s>=0;--s)switch(i[s].t){case"h":case"H":i[s].t=h,c="h",v<1&&(v=1);break;case"s":(x=i[s].v.match(/\.0+$/))&&(y=Math.max(y,x[0].length-1)),v<3&&(v=3);case"d":case"y":case"M":case"e":c=i[s].t;break;case"m":c==="s"&&(i[s].t="M",v<2&&(v=2));break;case"X":break;case"Z":v<1&&i[s].v.match(/[Hh]/)&&(v=1),v<2&&i[s].v.match(/[Mm]/)&&(v=2),v<3&&i[s].v.match(/[Ss]/)&&(v=3)}switch(v){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var w="",N;for(s=0;s<i.length;++s)switch(i[s].t){case"t":case"T":case" ":case"D":break;case"X":i[s].v="",i[s].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[s].v=wet(i[s].t.charCodeAt(0),i[s].v,u,y),i[s].t="t";break;case"n":case"?":for(N=s+1;i[N]!=null&&((o=i[N].t)==="?"||o==="D"||(o===" "||o==="t")&&i[N+1]!=null&&(i[N+1].t==="?"||i[N+1].t==="t"&&i[N+1].v==="/")||i[s].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(i[N].v==="/"||i[N].v===" "&&i[N+1]!=null&&i[N+1].t=="?"));)i[s].v+=i[N].v,i[N]={v:"",t:";"},++N;w+=i[s].v,s=N-1;break;case"G":i[s].t="t",i[s].v=fI(t,r);break}var E="",T,S;if(w.length>0){w.charCodeAt(0)==40?(T=t<0&&w.charCodeAt(0)===45?-t:t,S=ru("n",w,T)):(T=t<0&&n>1?-t:t,S=ru("n",w,T),T<0&&i[0]&&i[0].t=="t"&&(S=S.substr(1),i[0].v="-"+i[0].v)),N=S.length-1;var A=i.length;for(s=0;s<i.length;++s)if(i[s]!=null&&i[s].t!="t"&&i[s].v.indexOf(".")>-1){A=s;break}var C=i.length;if(A===i.length&&S.indexOf("E")===-1){for(s=i.length-1;s>=0;--s)i[s]==null||"n?".indexOf(i[s].t)===-1||(N>=i[s].v.length-1?(N-=i[s].v.length,i[s].v=S.substr(N+1,i[s].v.length)):N<0?i[s].v="":(i[s].v=S.substr(0,N+1),N=-1),i[s].t="t",C=s);N>=0&&C<i.length&&(i[C].v=S.substr(0,N+1)+i[C].v)}else if(A!==i.length&&S.indexOf("E")===-1){for(N=S.indexOf(".")-1,s=A;s>=0;--s)if(!(i[s]==null||"n?".indexOf(i[s].t)===-1)){for(d=i[s].v.indexOf(".")>-1&&s===A?i[s].v.indexOf(".")-1:i[s].v.length-1,E=i[s].v.substr(d+1);d>=0;--d)N>=0&&(i[s].v.charAt(d)==="0"||i[s].v.charAt(d)==="#")&&(E=S.charAt(N--)+E);i[s].v=E,i[s].t="t",C=s}for(N>=0&&C<i.length&&(i[C].v=S.substr(0,N+1)+i[C].v),N=S.indexOf(".")+1,s=A;s<i.length;++s)if(!(i[s]==null||"n?(".indexOf(i[s].t)===-1&&s!==A)){for(d=i[s].v.indexOf(".")>-1&&s===A?i[s].v.indexOf(".")+1:0,E=i[s].v.substr(0,d);d<i[s].v.length;++d)N<S.length&&(E+=S.charAt(N++));i[s].v=E,i[s].t="t",C=s}}}for(s=0;s<i.length;++s)i[s]!=null&&"n?".indexOf(i[s].t)>-1&&(T=n>1&&t<0&&s>0&&i[s-1].v==="-"?-t:t,i[s].v=ru(i[s].t,i[s].v,T),i[s].t="t");var j="";for(s=0;s!==i.length;++s)i[s]!=null&&(j+=i[s].v);return j}var w7=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function _7(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function Iet(e,t){var r=Ret(e),n=r.length,i=r[n-1].indexOf("@");if(n<4&&i>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||i>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=i>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=i>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=i>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var a=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,a];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var s=r[0].match(w7),o=r[1].match(w7);return _7(t,s)?[n,r[0]]:_7(t,o)?[n,r[1]]:[n,r[s!=null&&o!=null?2:1]]}return[n,a]}function Jd(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:Mn)[e],n==null&&(n=r.table&&r.table[y7[e]]||Mn[y7[e]]),n==null&&(n=het[e]||"General");break}if(WS(n,0))return fI(t,r);t instanceof Date&&(t=yae(t,r.date1904));var i=Iet(n,t);if(WS(i[1]))return fI(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return ket(i[1],t,r,i[0])}function Cae(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(Mn[r]==null){t<0&&(t=r);continue}if(Mn[r]==e){t=r;break}}t<0&&(t=391)}return Mn[t]=e,t}function LN(e){for(var t=0;t!=392;++t)e[t]!==void 0&&Cae(e[t],t)}function FN(){Mn=fet()}var jae=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function Oet(e){var t=typeof e=="number"?Mn[e]:e;return t=t.replace(jae,"(\\d+)"),new RegExp("^"+t+"$")}function Det(e,t,r){var n=-1,i=-1,a=-1,s=-1,o=-1,c=-1;(t.match(jae)||[]).forEach(function(f,h){var m=parseInt(r[h+1],10);switch(f.toLowerCase().charAt(0)){case"y":n=m;break;case"d":a=m;break;case"h":s=m;break;case"s":c=m;break;case"m":s>=0?o=m:i=m;break}}),c>=0&&o==-1&&i>=0&&(o=i,i=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(a>=1?a:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var d=("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return s==-1&&o==-1&&c==-1?u:n==-1&&i==-1&&a==-1?d:u+"T"+d}var Met=function(){var e={};e.version="1.2.0";function t(){for(var S=0,A=new Array(256),C=0;C!=256;++C)S=C,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,A[C]=S;return typeof Int32Array<"u"?new Int32Array(A):A}var r=t();function n(S){var A=0,C=0,j=0,I=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(j=0;j!=256;++j)I[j]=S[j];for(j=0;j!=256;++j)for(C=S[j],A=256+j;A<4096;A+=256)C=I[A]=C>>>8^S[C&255];var O=[];for(j=1;j!=16;++j)O[j-1]=typeof Int32Array<"u"?I.subarray(j*256,j*256+256):I.slice(j*256,j*256+256);return O}var i=n(r),a=i[0],s=i[1],o=i[2],c=i[3],u=i[4],d=i[5],f=i[6],h=i[7],m=i[8],g=i[9],p=i[10],v=i[11],y=i[12],x=i[13],w=i[14];function N(S,A){for(var C=A^-1,j=0,I=S.length;j<I;)C=C>>>8^r[(C^S.charCodeAt(j++))&255];return~C}function E(S,A){for(var C=A^-1,j=S.length-15,I=0;I<j;)C=w[S[I++]^C&255]^x[S[I++]^C>>8&255]^y[S[I++]^C>>16&255]^v[S[I++]^C>>>24]^p[S[I++]]^g[S[I++]]^m[S[I++]]^h[S[I++]]^f[S[I++]]^d[S[I++]]^u[S[I++]]^c[S[I++]]^o[S[I++]]^s[S[I++]]^a[S[I++]]^r[S[I++]];for(j+=15;I<j;)C=C>>>8^r[(C^S[I++])&255];return~C}function T(S,A){for(var C=A^-1,j=0,I=S.length,O=0,k=0;j<I;)O=S.charCodeAt(j++),O<128?C=C>>>8^r[(C^O)&255]:O<2048?(C=C>>>8^r[(C^(192|O>>6&31))&255],C=C>>>8^r[(C^(128|O&63))&255]):O>=55296&&O<57344?(O=(O&1023)+64,k=S.charCodeAt(j++)&1023,C=C>>>8^r[(C^(240|O>>8&7))&255],C=C>>>8^r[(C^(128|O>>2&63))&255],C=C>>>8^r[(C^(128|k>>6&15|(O&3)<<4))&255],C=C>>>8^r[(C^(128|k&63))&255]):(C=C>>>8^r[(C^(224|O>>12&15))&255],C=C>>>8^r[(C^(128|O>>6&63))&255],C=C>>>8^r[(C^(128|O&63))&255]);return~C}return e.table=r,e.bstr=N,e.buf=E,e.str=T,e}(),Dr=function(){var t={};t.version="1.2.1";function r(F,Y){for(var H=F.split("/"),q=Y.split("/"),Z=0,re=0,xe=Math.min(H.length,q.length);Z<xe;++Z){if(re=H[Z].length-q[Z].length)return re;if(H[Z]!=q[Z])return H[Z]<q[Z]?-1:1}return H.length-q.length}function n(F){if(F.charAt(F.length-1)=="/")return F.slice(0,-1).indexOf("/")===-1?F:n(F.slice(0,-1));var Y=F.lastIndexOf("/");return Y===-1?F:F.slice(0,Y+1)}function i(F){if(F.charAt(F.length-1)=="/")return i(F.slice(0,-1));var Y=F.lastIndexOf("/");return Y===-1?F:F.slice(Y+1)}function a(F,Y){typeof Y=="string"&&(Y=new Date(Y));var H=Y.getHours();H=H<<6|Y.getMinutes(),H=H<<5|Y.getSeconds()>>>1,F.write_shift(2,H);var q=Y.getFullYear()-1980;q=q<<4|Y.getMonth()+1,q=q<<5|Y.getDate(),F.write_shift(2,q)}function s(F){var Y=F.read_shift(2)&65535,H=F.read_shift(2)&65535,q=new Date,Z=H&31;H>>>=5;var re=H&15;H>>>=4,q.setMilliseconds(0),q.setFullYear(H+1980),q.setMonth(re-1),q.setDate(Z);var xe=Y&31;Y>>>=5;var Te=Y&63;return Y>>>=6,q.setHours(Y),q.setMinutes(Te),q.setSeconds(xe<<1),q}function o(F){vs(F,0);for(var Y={},H=0;F.l<=F.length-4;){var q=F.read_shift(2),Z=F.read_shift(2),re=F.l+Z,xe={};switch(q){case 21589:H=F.read_shift(1),H&1&&(xe.mtime=F.read_shift(4)),Z>5&&(H&2&&(xe.atime=F.read_shift(4)),H&4&&(xe.ctime=F.read_shift(4))),xe.mtime&&(xe.mt=new Date(xe.mtime*1e3));break}F.l=re,Y[q]=xe}return Y}var c;function u(){return c||(c={})}function d(F,Y){if(F[0]==80&&F[1]==75)return Nl(F,Y);if((F[0]|32)==109&&(F[1]|32)==105)return pe(F,Y);if(F.length<512)throw new Error("CFB file size "+F.length+" < 512");var H=3,q=512,Z=0,re=0,xe=0,Te=0,ve=0,ye=[],Ee=F.slice(0,512);vs(Ee,0);var Fe=f(Ee);switch(H=Fe[0],H){case 3:q=512;break;case 4:q=4096;break;case 0:if(Fe[1]==0)return Nl(F,Y);default:throw new Error("Major Version: Expected 3 or 4 saw "+H)}q!==512&&(Ee=F.slice(0,q),vs(Ee,28));var He=F.slice(0,q);h(Ee,H);var Je=Ee.read_shift(4,"i");if(H===3&&Je!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Je);Ee.l+=4,xe=Ee.read_shift(4,"i"),Ee.l+=4,Ee.chk("00100000","Mini Stream Cutoff Size: "),Te=Ee.read_shift(4,"i"),Z=Ee.read_shift(4,"i"),ve=Ee.read_shift(4,"i"),re=Ee.read_shift(4,"i");for(var ze=-1,Xe=0;Xe<109&&(ze=Ee.read_shift(4,"i"),!(ze<0));++Xe)ye[Xe]=ze;var St=m(F,q);v(ve,re,St,q,ye);var hr=x(St,xe,ye,q);hr[xe].name="!Directory",Z>0&&Te!==k&&(hr[Te].name="!MiniFAT"),hr[ye[0]].name="!FAT",hr.fat_addrs=ye,hr.ssz=q;var sr={},Nt=[],Br=[],qs=[];w(xe,hr,St,Nt,Z,sr,Br,Te),g(Br,qs,Nt),Nt.shift();var $a={FileIndex:Br,FullPaths:qs};return Y&&Y.raw&&($a.raw={header:He,sectors:St}),$a}function f(F){if(F[F.l]==80&&F[F.l+1]==75)return[0,0];F.chk(D,"Header Signature: "),F.l+=16;var Y=F.read_shift(2,"u");return[F.read_shift(2,"u"),Y]}function h(F,Y){var H=9;switch(F.l+=2,H=F.read_shift(2)){case 9:if(Y!=3)throw new Error("Sector Shift: Expected 9 saw "+H);break;case 12:if(Y!=4)throw new Error("Sector Shift: Expected 12 saw "+H);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+H)}F.chk("0600","Mini Sector Shift: "),F.chk("000000000000","Reserved: ")}function m(F,Y){for(var H=Math.ceil(F.length/Y)-1,q=[],Z=1;Z<H;++Z)q[Z-1]=F.slice(Z*Y,(Z+1)*Y);return q[H-1]=F.slice(H*Y),q}function g(F,Y,H){for(var q=0,Z=0,re=0,xe=0,Te=0,ve=H.length,ye=[],Ee=[];q<ve;++q)ye[q]=Ee[q]=q,Y[q]=H[q];for(;Te<Ee.length;++Te)q=Ee[Te],Z=F[q].L,re=F[q].R,xe=F[q].C,ye[q]===q&&(Z!==-1&&ye[Z]!==Z&&(ye[q]=ye[Z]),re!==-1&&ye[re]!==re&&(ye[q]=ye[re])),xe!==-1&&(ye[xe]=q),Z!==-1&&q!=ye[q]&&(ye[Z]=ye[q],Ee.lastIndexOf(Z)<Te&&Ee.push(Z)),re!==-1&&q!=ye[q]&&(ye[re]=ye[q],Ee.lastIndexOf(re)<Te&&Ee.push(re));for(q=1;q<ve;++q)ye[q]===q&&(re!==-1&&ye[re]!==re?ye[q]=ye[re]:Z!==-1&&ye[Z]!==Z&&(ye[q]=ye[Z]));for(q=1;q<ve;++q)if(F[q].type!==0){if(Te=q,Te!=ye[Te])do Te=ye[Te],Y[q]=Y[Te]+"/"+Y[q];while(Te!==0&&ye[Te]!==-1&&Te!=ye[Te]);ye[q]=-1}for(Y[0]+="/",q=1;q<ve;++q)F[q].type!==2&&(Y[q]+="/")}function p(F,Y,H){for(var q=F.start,Z=F.size,re=[],xe=q;H&&Z>0&&xe>=0;)re.push(Y.slice(xe*O,xe*O+O)),Z-=O,xe=Hf(H,xe*4);return re.length===0?Ae(0):Fi(re).slice(0,F.size)}function v(F,Y,H,q,Z){var re=k;if(F===k){if(Y!==0)throw new Error("DIFAT chain shorter than expected")}else if(F!==-1){var xe=H[F],Te=(q>>>2)-1;if(!xe)return;for(var ve=0;ve<Te&&(re=Hf(xe,ve*4))!==k;++ve)Z.push(re);v(Hf(xe,q-4),Y-1,H,q,Z)}}function y(F,Y,H,q,Z){var re=[],xe=[];Z||(Z=[]);var Te=q-1,ve=0,ye=0;for(ve=Y;ve>=0;){Z[ve]=!0,re[re.length]=ve,xe.push(F[ve]);var Ee=H[Math.floor(ve*4/q)];if(ye=ve*4&Te,q<4+ye)throw new Error("FAT boundary crossed: "+ve+" 4 "+q);if(!F[Ee])break;ve=Hf(F[Ee],ye)}return{nodes:re,data:P7([xe])}}function x(F,Y,H,q){var Z=F.length,re=[],xe=[],Te=[],ve=[],ye=q-1,Ee=0,Fe=0,He=0,Je=0;for(Ee=0;Ee<Z;++Ee)if(Te=[],He=Ee+Y,He>=Z&&(He-=Z),!xe[He]){ve=[];var ze=[];for(Fe=He;Fe>=0;){ze[Fe]=!0,xe[Fe]=!0,Te[Te.length]=Fe,ve.push(F[Fe]);var Xe=H[Math.floor(Fe*4/q)];if(Je=Fe*4&ye,q<4+Je)throw new Error("FAT boundary crossed: "+Fe+" 4 "+q);if(!F[Xe]||(Fe=Hf(F[Xe],Je),ze[Fe]))break}re[He]={nodes:Te,data:P7([ve])}}return re}function w(F,Y,H,q,Z,re,xe,Te){for(var ve=0,ye=q.length?2:0,Ee=Y[F].data,Fe=0,He=0,Je;Fe<Ee.length;Fe+=128){var ze=Ee.slice(Fe,Fe+128);vs(ze,64),He=ze.read_shift(2),Je=w3(ze,0,He-ye),q.push(Je);var Xe={name:Je,type:ze.read_shift(1),color:ze.read_shift(1),L:ze.read_shift(4,"i"),R:ze.read_shift(4,"i"),C:ze.read_shift(4,"i"),clsid:ze.read_shift(16),state:ze.read_shift(4,"i"),start:0,size:0},St=ze.read_shift(2)+ze.read_shift(2)+ze.read_shift(2)+ze.read_shift(2);St!==0&&(Xe.ct=N(ze,ze.l-8));var hr=ze.read_shift(2)+ze.read_shift(2)+ze.read_shift(2)+ze.read_shift(2);hr!==0&&(Xe.mt=N(ze,ze.l-8)),Xe.start=ze.read_shift(4,"i"),Xe.size=ze.read_shift(4,"i"),Xe.size<0&&Xe.start<0&&(Xe.size=Xe.type=0,Xe.start=k,Xe.name=""),Xe.type===5?(ve=Xe.start,Z>0&&ve!==k&&(Y[ve].name="!StreamData")):Xe.size>=4096?(Xe.storage="fat",Y[Xe.start]===void 0&&(Y[Xe.start]=y(H,Xe.start,Y.fat_addrs,Y.ssz)),Y[Xe.start].name=Xe.name,Xe.content=Y[Xe.start].data.slice(0,Xe.size)):(Xe.storage="minifat",Xe.size<0?Xe.size=0:ve!==k&&Xe.start!==k&&Y[ve]&&(Xe.content=p(Xe,Y[ve].data,(Y[Te]||{}).data))),Xe.content&&vs(Xe.content,0),re[Je]=Xe,xe.push(Xe)}}function N(F,Y){return new Date((ws(F,Y+4)/1e7*Math.pow(2,32)+ws(F,Y)/1e7-11644473600)*1e3)}function E(F,Y){return u(),d(c.readFileSync(F),Y)}function T(F,Y){var H=Y&&Y.type;switch(H||xr&&Buffer.isBuffer(F)&&(H="buffer"),H||"base64"){case"file":return E(F,Y);case"base64":return d(Zo(Tu(F)),Y);case"binary":return d(Zo(F),Y)}return d(F,Y)}function S(F,Y){var H=Y||{},q=H.root||"Root Entry";if(F.FullPaths||(F.FullPaths=[]),F.FileIndex||(F.FileIndex=[]),F.FullPaths.length!==F.FileIndex.length)throw new Error("inconsistent CFB structure");F.FullPaths.length===0&&(F.FullPaths[0]=q+"/",F.FileIndex[0]={name:q,type:5}),H.CLSID&&(F.FileIndex[0].clsid=H.CLSID),A(F)}function A(F){var Y="Sh33tJ5";if(!Dr.find(F,"/"+Y)){var H=Ae(4);H[0]=55,H[1]=H[3]=50,H[2]=54,F.FileIndex.push({name:Y,type:2,content:H,size:4,L:69,R:69,C:69}),F.FullPaths.push(F.FullPaths[0]+Y),C(F)}}function C(F,Y){S(F);for(var H=!1,q=!1,Z=F.FullPaths.length-1;Z>=0;--Z){var re=F.FileIndex[Z];switch(re.type){case 0:q?H=!0:(F.FileIndex.pop(),F.FullPaths.pop());break;case 1:case 2:case 5:q=!0,isNaN(re.R*re.L*re.C)&&(H=!0),re.R>-1&&re.L>-1&&re.R==re.L&&(H=!0);break;default:H=!0;break}}if(!(!H&&!Y)){var xe=new Date(1987,1,19),Te=0,ve=Object.create?Object.create(null):{},ye=[];for(Z=0;Z<F.FullPaths.length;++Z)ve[F.FullPaths[Z]]=!0,F.FileIndex[Z].type!==0&&ye.push([F.FullPaths[Z],F.FileIndex[Z]]);for(Z=0;Z<ye.length;++Z){var Ee=n(ye[Z][0]);q=ve[Ee],q||(ye.push([Ee,{name:i(Ee).replace("/",""),type:1,clsid:ee,ct:xe,mt:xe,content:null}]),ve[Ee]=!0)}for(ye.sort(function(Je,ze){return r(Je[0],ze[0])}),F.FullPaths=[],F.FileIndex=[],Z=0;Z<ye.length;++Z)F.FullPaths[Z]=ye[Z][0],F.FileIndex[Z]=ye[Z][1];for(Z=0;Z<ye.length;++Z){var Fe=F.FileIndex[Z],He=F.FullPaths[Z];if(Fe.name=i(He).replace("/",""),Fe.L=Fe.R=Fe.C=-(Fe.color=1),Fe.size=Fe.content?Fe.content.length:0,Fe.start=0,Fe.clsid=Fe.clsid||ee,Z===0)Fe.C=ye.length>1?1:-1,Fe.size=0,Fe.type=5;else if(He.slice(-1)=="/"){for(Te=Z+1;Te<ye.length&&n(F.FullPaths[Te])!=He;++Te);for(Fe.C=Te>=ye.length?-1:Te,Te=Z+1;Te<ye.length&&n(F.FullPaths[Te])!=n(He);++Te);Fe.R=Te>=ye.length?-1:Te,Fe.type=1}else n(F.FullPaths[Z+1]||"")==n(He)&&(Fe.R=Z+1),Fe.type=2}}}function j(F,Y){var H=Y||{};if(H.fileType=="mad")return we(F,H);switch(C(F),H.fileType){case"zip":return Io(F,H)}var q=function(Je){for(var ze=0,Xe=0,St=0;St<Je.FileIndex.length;++St){var hr=Je.FileIndex[St];if(hr.content){var sr=hr.content.length;sr>0&&(sr<4096?ze+=sr+63>>6:Xe+=sr+511>>9)}}for(var Nt=Je.FullPaths.length+3>>2,Br=ze+7>>3,qs=ze+127>>7,$a=Br+Xe+Nt+qs,br=$a+127>>7,Oo=br<=109?0:Math.ceil((br-109)/127);$a+br+Oo+127>>7>br;)Oo=++br<=109?0:Math.ceil((br-109)/127);var Qi=[1,Oo,br,qs,Nt,Xe,ze,0];return Je.FileIndex[0].size=ze<<6,Qi[7]=(Je.FileIndex[0].start=Qi[0]+Qi[1]+Qi[2]+Qi[3]+Qi[4]+Qi[5])+(Qi[6]+7>>3),Qi}(F),Z=Ae(q[7]<<9),re=0,xe=0;{for(re=0;re<8;++re)Z.write_shift(1,B[re]);for(re=0;re<8;++re)Z.write_shift(2,0);for(Z.write_shift(2,62),Z.write_shift(2,3),Z.write_shift(2,65534),Z.write_shift(2,9),Z.write_shift(2,6),re=0;re<3;++re)Z.write_shift(2,0);for(Z.write_shift(4,0),Z.write_shift(4,q[2]),Z.write_shift(4,q[0]+q[1]+q[2]+q[3]-1),Z.write_shift(4,0),Z.write_shift(4,4096),Z.write_shift(4,q[3]?q[0]+q[1]+q[2]-1:k),Z.write_shift(4,q[3]),Z.write_shift(-4,q[1]?q[0]-1:k),Z.write_shift(4,q[1]),re=0;re<109;++re)Z.write_shift(-4,re<q[2]?q[1]+re:-1)}if(q[1])for(xe=0;xe<q[1];++xe){for(;re<236+xe*127;++re)Z.write_shift(-4,re<q[2]?q[1]+re:-1);Z.write_shift(-4,xe===q[1]-1?k:xe+1)}var Te=function(Je){for(xe+=Je;re<xe-1;++re)Z.write_shift(-4,re+1);Je&&(++re,Z.write_shift(-4,k))};for(xe=re=0,xe+=q[1];re<xe;++re)Z.write_shift(-4,z.DIFSECT);for(xe+=q[2];re<xe;++re)Z.write_shift(-4,z.FATSECT);Te(q[3]),Te(q[4]);for(var ve=0,ye=0,Ee=F.FileIndex[0];ve<F.FileIndex.length;++ve)Ee=F.FileIndex[ve],Ee.content&&(ye=Ee.content.length,!(ye<4096)&&(Ee.start=xe,Te(ye+511>>9)));for(Te(q[6]+7>>3);Z.l&511;)Z.write_shift(-4,z.ENDOFCHAIN);for(xe=re=0,ve=0;ve<F.FileIndex.length;++ve)Ee=F.FileIndex[ve],Ee.content&&(ye=Ee.content.length,!(!ye||ye>=4096)&&(Ee.start=xe,Te(ye+63>>6)));for(;Z.l&511;)Z.write_shift(-4,z.ENDOFCHAIN);for(re=0;re<q[4]<<2;++re){var Fe=F.FullPaths[re];if(!Fe||Fe.length===0){for(ve=0;ve<17;++ve)Z.write_shift(4,0);for(ve=0;ve<3;++ve)Z.write_shift(4,-1);for(ve=0;ve<12;++ve)Z.write_shift(4,0);continue}Ee=F.FileIndex[re],re===0&&(Ee.start=Ee.size?Ee.start-1:k);var He=re===0&&H.root||Ee.name;if(ye=2*(He.length+1),Z.write_shift(64,He,"utf16le"),Z.write_shift(2,ye),Z.write_shift(1,Ee.type),Z.write_shift(1,Ee.color),Z.write_shift(-4,Ee.L),Z.write_shift(-4,Ee.R),Z.write_shift(-4,Ee.C),Ee.clsid)Z.write_shift(16,Ee.clsid,"hex");else for(ve=0;ve<4;++ve)Z.write_shift(4,0);Z.write_shift(4,Ee.state||0),Z.write_shift(4,0),Z.write_shift(4,0),Z.write_shift(4,0),Z.write_shift(4,0),Z.write_shift(4,Ee.start),Z.write_shift(4,Ee.size),Z.write_shift(4,0)}for(re=1;re<F.FileIndex.length;++re)if(Ee=F.FileIndex[re],Ee.size>=4096)if(Z.l=Ee.start+1<<9,xr&&Buffer.isBuffer(Ee.content))Ee.content.copy(Z,Z.l,0,Ee.size),Z.l+=Ee.size+511&-512;else{for(ve=0;ve<Ee.size;++ve)Z.write_shift(1,Ee.content[ve]);for(;ve&511;++ve)Z.write_shift(1,0)}for(re=1;re<F.FileIndex.length;++re)if(Ee=F.FileIndex[re],Ee.size>0&&Ee.size<4096)if(xr&&Buffer.isBuffer(Ee.content))Ee.content.copy(Z,Z.l,0,Ee.size),Z.l+=Ee.size+63&-64;else{for(ve=0;ve<Ee.size;++ve)Z.write_shift(1,Ee.content[ve]);for(;ve&63;++ve)Z.write_shift(1,0)}if(xr)Z.l=Z.length;else for(;Z.l<Z.length;)Z.write_shift(1,0);return Z}function I(F,Y){var H=F.FullPaths.map(function(ve){return ve.toUpperCase()}),q=H.map(function(ve){var ye=ve.split("/");return ye[ye.length-(ve.slice(-1)=="/"?2:1)]}),Z=!1;Y.charCodeAt(0)===47?(Z=!0,Y=H[0].slice(0,-1)+Y):Z=Y.indexOf("/")!==-1;var re=Y.toUpperCase(),xe=Z===!0?H.indexOf(re):q.indexOf(re);if(xe!==-1)return F.FileIndex[xe];var Te=!re.match(kw);for(re=re.replace(py,""),Te&&(re=re.replace(kw,"!")),xe=0;xe<H.length;++xe)if((Te?H[xe].replace(kw,"!"):H[xe]).replace(py,"")==re||(Te?q[xe].replace(kw,"!"):q[xe]).replace(py,"")==re)return F.FileIndex[xe];return null}var O=64,k=-2,D="d0cf11e0a1b11ae1",B=[208,207,17,224,161,177,26,225],ee="00000000000000000000000000000000",z={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:k,FREESECT:-1,HEADER_SIGNATURE:D,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:ee,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function V(F,Y,H){u();var q=j(F,H);c.writeFileSync(Y,q)}function U(F){for(var Y=new Array(F.length),H=0;H<F.length;++H)Y[H]=String.fromCharCode(F[H]);return Y.join("")}function se(F,Y){var H=j(F,Y);switch(Y&&Y.type||"buffer"){case"file":return u(),c.writeFileSync(Y.filename,H),H;case"binary":return typeof H=="string"?H:U(H);case"base64":return Xx(typeof H=="string"?H:U(H));case"buffer":if(xr)return Buffer.isBuffer(H)?H:Ou(H);case"array":return typeof H=="string"?Zo(H):H}return H}var ne;function M(F){try{var Y=F.InflateRaw,H=new Y;if(H._processChunk(new Uint8Array([3,0]),H._finishFlushFlag),H.bytesRead)ne=F;else throw new Error("zlib does not expose bytesRead")}catch(q){console.error("cannot use native zlib: "+(q.message||q))}}function W(F,Y){if(!ne)return Fa(F,Y);var H=ne.InflateRaw,q=new H,Z=q._processChunk(F.slice(F.l),q._finishFlushFlag);return F.l+=q.bytesRead,Z}function G(F){return ne?ne.deflateRawSync(F):Ni(F)}var P=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],J=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],oe=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ae(F){var Y=(F<<1|F<<11)&139536|(F<<5|F<<15)&558144;return(Y>>16|Y>>8|Y)&255}for(var K=typeof Uint8Array<"u",ie=K?new Uint8Array(256):[],fe=0;fe<256;++fe)ie[fe]=ae(fe);function le(F,Y){var H=ie[F&255];return Y<=8?H>>>8-Y:(H=H<<8|ie[F>>8&255],Y<=16?H>>>16-Y:(H=H<<8|ie[F>>16&255],H>>>24-Y))}function Be(F,Y){var H=Y&7,q=Y>>>3;return(F[q]|(H<=6?0:F[q+1]<<8))>>>H&3}function Oe(F,Y){var H=Y&7,q=Y>>>3;return(F[q]|(H<=5?0:F[q+1]<<8))>>>H&7}function vt(F,Y){var H=Y&7,q=Y>>>3;return(F[q]|(H<=4?0:F[q+1]<<8))>>>H&15}function mt(F,Y){var H=Y&7,q=Y>>>3;return(F[q]|(H<=3?0:F[q+1]<<8))>>>H&31}function ge(F,Y){var H=Y&7,q=Y>>>3;return(F[q]|(H<=1?0:F[q+1]<<8))>>>H&127}function st(F,Y,H){var q=Y&7,Z=Y>>>3,re=(1<<H)-1,xe=F[Z]>>>q;return H<8-q||(xe|=F[Z+1]<<8-q,H<16-q)||(xe|=F[Z+2]<<16-q,H<24-q)||(xe|=F[Z+3]<<24-q),xe&re}function _e(F,Y,H){var q=Y&7,Z=Y>>>3;return q<=5?F[Z]|=(H&7)<<q:(F[Z]|=H<<q&255,F[Z+1]=(H&7)>>8-q),Y+3}function Q(F,Y,H){var q=Y&7,Z=Y>>>3;return H=(H&1)<<q,F[Z]|=H,Y+1}function ce(F,Y,H){var q=Y&7,Z=Y>>>3;return H<<=q,F[Z]|=H&255,H>>>=8,F[Z+1]=H,Y+8}function he(F,Y,H){var q=Y&7,Z=Y>>>3;return H<<=q,F[Z]|=H&255,H>>>=8,F[Z+1]=H&255,F[Z+2]=H>>>8,Y+16}function Pe(F,Y){var H=F.length,q=2*H>Y?2*H:Y+5,Z=0;if(H>=Y)return F;if(xr){var re=p7(q);if(F.copy)F.copy(re);else for(;Z<F.length;++Z)re[Z]=F[Z];return re}else if(K){var xe=new Uint8Array(q);if(xe.set)xe.set(F);else for(;Z<H;++Z)xe[Z]=F[Z];return xe}return F.length=q,F}function ke(F){for(var Y=new Array(F),H=0;H<F;++H)Y[H]=0;return Y}function Le(F,Y,H){var q=1,Z=0,re=0,xe=0,Te=0,ve=F.length,ye=K?new Uint16Array(32):ke(32);for(re=0;re<32;++re)ye[re]=0;for(re=ve;re<H;++re)F[re]=0;ve=F.length;var Ee=K?new Uint16Array(ve):ke(ve);for(re=0;re<ve;++re)ye[Z=F[re]]++,q<Z&&(q=Z),Ee[re]=0;for(ye[0]=0,re=1;re<=q;++re)ye[re+16]=Te=Te+ye[re-1]<<1;for(re=0;re<ve;++re)Te=F[re],Te!=0&&(Ee[re]=ye[Te+16]++);var Fe=0;for(re=0;re<ve;++re)if(Fe=F[re],Fe!=0)for(Te=le(Ee[re],q)>>q-Fe,xe=(1<<q+4-Fe)-1;xe>=0;--xe)Y[Te|xe<<Fe]=Fe&15|re<<4;return q}var Ve=K?new Uint16Array(512):ke(512),ct=K?new Uint16Array(32):ke(32);if(!K){for(var $t=0;$t<512;++$t)Ve[$t]=0;for($t=0;$t<32;++$t)ct[$t]=0}(function(){for(var F=[],Y=0;Y<32;Y++)F.push(5);Le(F,ct,32);var H=[];for(Y=0;Y<=143;Y++)H.push(8);for(;Y<=255;Y++)H.push(9);for(;Y<=279;Y++)H.push(7);for(;Y<=287;Y++)H.push(8);Le(H,Ve,288)})();var vn=function(){for(var Y=K?new Uint8Array(32768):[],H=0,q=0;H<oe.length-1;++H)for(;q<oe[H+1];++q)Y[q]=H;for(;q<32768;++q)Y[q]=29;var Z=K?new Uint8Array(259):[];for(H=0,q=0;H<J.length-1;++H)for(;q<J[H+1];++q)Z[q]=H;function re(Te,ve){for(var ye=0;ye<Te.length;){var Ee=Math.min(65535,Te.length-ye),Fe=ye+Ee==Te.length;for(ve.write_shift(1,+Fe),ve.write_shift(2,Ee),ve.write_shift(2,~Ee&65535);Ee-- >0;)ve[ve.l++]=Te[ye++]}return ve.l}function xe(Te,ve){for(var ye=0,Ee=0,Fe=K?new Uint16Array(32768):[];Ee<Te.length;){var He=Math.min(65535,Te.length-Ee);if(He<10){for(ye=_e(ve,ye,+(Ee+He==Te.length)),ye&7&&(ye+=8-(ye&7)),ve.l=ye/8|0,ve.write_shift(2,He),ve.write_shift(2,~He&65535);He-- >0;)ve[ve.l++]=Te[Ee++];ye=ve.l*8;continue}ye=_e(ve,ye,+(Ee+He==Te.length)+2);for(var Je=0;He-- >0;){var ze=Te[Ee];Je=(Je<<5^ze)&32767;var Xe=-1,St=0;if((Xe=Fe[Je])&&(Xe|=Ee&-32768,Xe>Ee&&(Xe-=32768),Xe<Ee))for(;Te[Xe+St]==Te[Ee+St]&&St<250;)++St;if(St>2){ze=Z[St],ze<=22?ye=ce(ve,ye,ie[ze+1]>>1)-1:(ce(ve,ye,3),ye+=5,ce(ve,ye,ie[ze-23]>>5),ye+=3);var hr=ze<8?0:ze-4>>2;hr>0&&(he(ve,ye,St-J[ze]),ye+=hr),ze=Y[Ee-Xe],ye=ce(ve,ye,ie[ze]>>3),ye-=3;var sr=ze<4?0:ze-2>>1;sr>0&&(he(ve,ye,Ee-Xe-oe[ze]),ye+=sr);for(var Nt=0;Nt<St;++Nt)Fe[Je]=Ee&32767,Je=(Je<<5^Te[Ee])&32767,++Ee;He-=St-1}else ze<=143?ze=ze+48:ye=Q(ve,ye,1),ye=ce(ve,ye,ie[ze]),Fe[Je]=Ee&32767,++Ee}ye=ce(ve,ye,0)-1}return ve.l=(ye+7)/8|0,ve.l}return function(ve,ye){return ve.length<8?re(ve,ye):xe(ve,ye)}}();function Ni(F){var Y=Ae(50+Math.floor(F.length*1.1)),H=vn(F,Y);return Y.slice(0,H)}var un=K?new Uint16Array(32768):ke(32768),Gi=K?new Uint16Array(32768):ke(32768),Ki=K?new Uint16Array(128):ke(128),si=1,ds=1;function Yi(F,Y){var H=mt(F,Y)+257;Y+=5;var q=mt(F,Y)+1;Y+=5;var Z=vt(F,Y)+4;Y+=4;for(var re=0,xe=K?new Uint8Array(19):ke(19),Te=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],ve=1,ye=K?new Uint8Array(8):ke(8),Ee=K?new Uint8Array(8):ke(8),Fe=xe.length,He=0;He<Z;++He)xe[P[He]]=re=Oe(F,Y),ve<re&&(ve=re),ye[re]++,Y+=3;var Je=0;for(ye[0]=0,He=1;He<=ve;++He)Ee[He]=Je=Je+ye[He-1]<<1;for(He=0;He<Fe;++He)(Je=xe[He])!=0&&(Te[He]=Ee[Je]++);var ze=0;for(He=0;He<Fe;++He)if(ze=xe[He],ze!=0){Je=ie[Te[He]]>>8-ze;for(var Xe=(1<<7-ze)-1;Xe>=0;--Xe)Ki[Je|Xe<<ze]=ze&7|He<<3}var St=[];for(ve=1;St.length<H+q;)switch(Je=Ki[ge(F,Y)],Y+=Je&7,Je>>>=3){case 16:for(re=3+Be(F,Y),Y+=2,Je=St[St.length-1];re-- >0;)St.push(Je);break;case 17:for(re=3+Oe(F,Y),Y+=3;re-- >0;)St.push(0);break;case 18:for(re=11+ge(F,Y),Y+=7;re-- >0;)St.push(0);break;default:St.push(Je),ve<Je&&(ve=Je);break}var hr=St.slice(0,H),sr=St.slice(H);for(He=H;He<286;++He)hr[He]=0;for(He=q;He<30;++He)sr[He]=0;return si=Le(hr,un,286),ds=Le(sr,Gi,30),Y}function zs(F,Y){if(F[0]==3&&!(F[1]&3))return[Wh(Y),2];for(var H=0,q=0,Z=p7(Y||1<<18),re=0,xe=Z.length>>>0,Te=0,ve=0;!(q&1);){if(q=Oe(F,H),H+=3,q>>>1)q>>1==1?(Te=9,ve=5):(H=Yi(F,H),Te=si,ve=ds);else{H&7&&(H+=8-(H&7));var ye=F[H>>>3]|F[(H>>>3)+1]<<8;if(H+=32,ye>0)for(!Y&&xe<re+ye&&(Z=Pe(Z,re+ye),xe=Z.length);ye-- >0;)Z[re++]=F[H>>>3],H+=8;continue}for(;;){!Y&&xe<re+32767&&(Z=Pe(Z,re+32767),xe=Z.length);var Ee=st(F,H,Te),Fe=q>>>1==1?Ve[Ee]:un[Ee];if(H+=Fe&15,Fe>>>=4,!(Fe>>>8&255))Z[re++]=Fe;else{if(Fe==256)break;Fe-=257;var He=Fe<8?0:Fe-4>>2;He>5&&(He=0);var Je=re+J[Fe];He>0&&(Je+=st(F,H,He),H+=He),Ee=st(F,H,ve),Fe=q>>>1==1?ct[Ee]:Gi[Ee],H+=Fe&15,Fe>>>=4;var ze=Fe<4?0:Fe-2>>1,Xe=oe[Fe];for(ze>0&&(Xe+=st(F,H,ze),H+=ze),!Y&&xe<Je&&(Z=Pe(Z,Je+100),xe=Z.length);re<Je;)Z[re]=Z[re-Xe],++re}}}return Y?[Z,H+7>>>3]:[Z.slice(0,re),H+7>>>3]}function Fa(F,Y){var H=F.slice(F.l||0),q=zs(H,Y);return F.l+=q[1],q[0]}function Ws(F,Y){if(F)typeof console<"u"&&console.error(Y);else throw new Error(Y)}function Nl(F,Y){var H=F;vs(H,0);var q=[],Z=[],re={FileIndex:q,FullPaths:Z};S(re,{root:Y.root});for(var xe=H.length-4;(H[xe]!=80||H[xe+1]!=75||H[xe+2]!=5||H[xe+3]!=6)&&xe>=0;)--xe;H.l=xe+4,H.l+=4;var Te=H.read_shift(2);H.l+=6;var ve=H.read_shift(4);for(H.l=ve,xe=0;xe<Te;++xe){H.l+=20;var ye=H.read_shift(4),Ee=H.read_shift(4),Fe=H.read_shift(2),He=H.read_shift(2),Je=H.read_shift(2);H.l+=8;var ze=H.read_shift(4),Xe=o(H.slice(H.l+Fe,H.l+Fe+He));H.l+=Fe+He+Je;var St=H.l;H.l=ze+4,Hs(H,ye,Ee,re,Xe),H.l=St}return re}function Hs(F,Y,H,q,Z){F.l+=2;var re=F.read_shift(2),xe=F.read_shift(2),Te=s(F);if(re&8257)throw new Error("Unsupported ZIP encryption");for(var ve=F.read_shift(4),ye=F.read_shift(4),Ee=F.read_shift(4),Fe=F.read_shift(2),He=F.read_shift(2),Je="",ze=0;ze<Fe;++ze)Je+=String.fromCharCode(F[F.l++]);if(He){var Xe=o(F.slice(F.l,F.l+He));(Xe[21589]||{}).mt&&(Te=Xe[21589].mt),((Z||{})[21589]||{}).mt&&(Te=Z[21589].mt)}F.l+=He;var St=F.slice(F.l,F.l+ye);switch(xe){case 8:St=W(F,Ee);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+xe)}var hr=!1;re&8&&(ve=F.read_shift(4),ve==134695760&&(ve=F.read_shift(4),hr=!0),ye=F.read_shift(4),Ee=F.read_shift(4)),ye!=Y&&Ws(hr,"Bad compressed size: "+Y+" != "+ye),Ee!=H&&Ws(hr,"Bad uncompressed size: "+H+" != "+Ee),Ue(q,Je,St,{unsafe:!0,mt:Te})}function Io(F,Y){var H=Y||{},q=[],Z=[],re=Ae(1),xe=H.compression?8:0,Te=0,ve=0,ye=0,Ee=0,Fe=0,He=F.FullPaths[0],Je=He,ze=F.FileIndex[0],Xe=[],St=0;for(ve=1;ve<F.FullPaths.length;++ve)if(Je=F.FullPaths[ve].slice(He.length),ze=F.FileIndex[ve],!(!ze.size||!ze.content||Je=="Sh33tJ5")){var hr=Ee,sr=Ae(Je.length);for(ye=0;ye<Je.length;++ye)sr.write_shift(1,Je.charCodeAt(ye)&127);sr=sr.slice(0,sr.l),Xe[Fe]=Met.buf(ze.content,0);var Nt=ze.content;xe==8&&(Nt=G(Nt)),re=Ae(30),re.write_shift(4,67324752),re.write_shift(2,20),re.write_shift(2,Te),re.write_shift(2,xe),ze.mt?a(re,ze.mt):re.write_shift(4,0),re.write_shift(-4,Xe[Fe]),re.write_shift(4,Nt.length),re.write_shift(4,ze.content.length),re.write_shift(2,sr.length),re.write_shift(2,0),Ee+=re.length,q.push(re),Ee+=sr.length,q.push(sr),Ee+=Nt.length,q.push(Nt),re=Ae(46),re.write_shift(4,33639248),re.write_shift(2,0),re.write_shift(2,20),re.write_shift(2,Te),re.write_shift(2,xe),re.write_shift(4,0),re.write_shift(-4,Xe[Fe]),re.write_shift(4,Nt.length),re.write_shift(4,ze.content.length),re.write_shift(2,sr.length),re.write_shift(2,0),re.write_shift(2,0),re.write_shift(2,0),re.write_shift(2,0),re.write_shift(4,0),re.write_shift(4,hr),St+=re.l,Z.push(re),St+=sr.length,Z.push(sr),++Fe}return re=Ae(22),re.write_shift(4,101010256),re.write_shift(2,0),re.write_shift(2,0),re.write_shift(2,Fe),re.write_shift(2,Fe),re.write_shift(4,St),re.write_shift(4,Ee),re.write_shift(2,0),Fi([Fi(q),Fi(Z),re])}var Hn={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Xi(F,Y){if(F.ctype)return F.ctype;var H=F.name||"",q=H.match(/\.([^\.]+)$/);return q&&Hn[q[1]]||Y&&(q=(H=Y).match(/[\.\\]([^\.\\])+$/),q&&Hn[q[1]])?Hn[q[1]]:"application/octet-stream"}function Tt(F){for(var Y=Xx(F),H=[],q=0;q<Y.length;q+=76)H.push(Y.slice(q,q+76));return H.join(`\r
`)+`\r
`}function Zt(F){var Y=F.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(ye){var Ee=ye.charCodeAt(0).toString(16).toUpperCase();return"="+(Ee.length==1?"0"+Ee:Ee)});Y=Y.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),Y.charAt(0)==`
`&&(Y="=0D"+Y.slice(1)),Y=Y.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var H=[],q=Y.split(`\r
`),Z=0;Z<q.length;++Z){var re=q[Z];if(re.length==0){H.push("");continue}for(var xe=0;xe<re.length;){var Te=76,ve=re.slice(xe,xe+Te);ve.charAt(Te-1)=="="?Te--:ve.charAt(Te-2)=="="?Te-=2:ve.charAt(Te-3)=="="&&(Te-=3),ve=re.slice(xe,xe+Te),xe+=Te,xe<re.length&&(ve+="="),H.push(ve)}}return H.join(`\r
`)}function yr(F){for(var Y=[],H=0;H<F.length;++H){for(var q=F[H];H<=F.length&&q.charAt(q.length-1)=="=";)q=q.slice(0,q.length-1)+F[++H];Y.push(q)}for(var Z=0;Z<Y.length;++Z)Y[Z]=Y[Z].replace(/[=][0-9A-Fa-f]{2}/g,function(re){return String.fromCharCode(parseInt(re.slice(1),16))});return Zo(Y.join(`\r
`))}function ue(F,Y,H){for(var q="",Z="",re="",xe,Te=0;Te<10;++Te){var ve=Y[Te];if(!ve||ve.match(/^\s*$/))break;var ye=ve.match(/^(.*?):\s*([^\s].*)$/);if(ye)switch(ye[1].toLowerCase()){case"content-location":q=ye[2].trim();break;case"content-type":re=ye[2].trim();break;case"content-transfer-encoding":Z=ye[2].trim();break}}switch(++Te,Z.toLowerCase()){case"base64":xe=Zo(Tu(Y.slice(Te).join("")));break;case"quoted-printable":xe=yr(Y.slice(Te));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+Z)}var Ee=Ue(F,q.slice(H.length),xe,{unsafe:!0});re&&(Ee.ctype=re)}function pe(F,Y){if(U(F.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var H=Y&&Y.root||"",q=(xr&&Buffer.isBuffer(F)?F.toString("binary"):U(F)).split(`\r
`),Z=0,re="";for(Z=0;Z<q.length;++Z)if(re=q[Z],!!/^Content-Location:/i.test(re)&&(re=re.slice(re.indexOf("file")),H||(H=re.slice(0,re.lastIndexOf("/")+1)),re.slice(0,H.length)!=H))for(;H.length>0&&(H=H.slice(0,H.length-1),H=H.slice(0,H.lastIndexOf("/")+1),re.slice(0,H.length)!=H););var xe=(q[1]||"").match(/boundary="(.*?)"/);if(!xe)throw new Error("MAD cannot find boundary");var Te="--"+(xe[1]||""),ve=[],ye=[],Ee={FileIndex:ve,FullPaths:ye};S(Ee);var Fe,He=0;for(Z=0;Z<q.length;++Z){var Je=q[Z];Je!==Te&&Je!==Te+"--"||(He++&&ue(Ee,q.slice(Fe,Z),H),Fe=Z)}return Ee}function we(F,Y){var H=Y||{},q=H.boundary||"SheetJS";q="------="+q;for(var Z=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+q.slice(2)+'"',"","",""],re=F.FullPaths[0],xe=re,Te=F.FileIndex[0],ve=1;ve<F.FullPaths.length;++ve)if(xe=F.FullPaths[ve].slice(re.length),Te=F.FileIndex[ve],!(!Te.size||!Te.content||xe=="Sh33tJ5")){xe=xe.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(St){return"_x"+St.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(St){return"_u"+St.charCodeAt(0).toString(16)+"_"});for(var ye=Te.content,Ee=xr&&Buffer.isBuffer(ye)?ye.toString("binary"):U(ye),Fe=0,He=Math.min(1024,Ee.length),Je=0,ze=0;ze<=He;++ze)(Je=Ee.charCodeAt(ze))>=32&&Je<128&&++Fe;var Xe=Fe>=He*4/5;Z.push(q),Z.push("Content-Location: "+(H.root||"file:///C:/SheetJS/")+xe),Z.push("Content-Transfer-Encoding: "+(Xe?"quoted-printable":"base64")),Z.push("Content-Type: "+Xi(Te,xe)),Z.push(""),Z.push(Xe?Zt(Ee):Tt(Ee))}return Z.push(q+`--\r
`),Z.join(`\r
`)}function Me(F){var Y={};return S(Y,F),Y}function Ue(F,Y,H,q){var Z=q&&q.unsafe;Z||S(F);var re=!Z&&Dr.find(F,Y);if(!re){var xe=F.FullPaths[0];Y.slice(0,xe.length)==xe?xe=Y:(xe.slice(-1)!="/"&&(xe+="/"),xe=(xe+Y).replace("//","/")),re={name:i(Y),type:2},F.FileIndex.push(re),F.FullPaths.push(xe),Z||Dr.utils.cfb_gc(F)}return re.content=H,re.size=H?H.length:0,q&&(q.CLSID&&(re.clsid=q.CLSID),q.mt&&(re.mt=q.mt),q.ct&&(re.ct=q.ct)),re}function at(F,Y){S(F);var H=Dr.find(F,Y);if(H){for(var q=0;q<F.FileIndex.length;++q)if(F.FileIndex[q]==H)return F.FileIndex.splice(q,1),F.FullPaths.splice(q,1),!0}return!1}function bt(F,Y,H){S(F);var q=Dr.find(F,Y);if(q){for(var Z=0;Z<F.FileIndex.length;++Z)if(F.FileIndex[Z]==q)return F.FileIndex[Z].name=i(H),F.FullPaths[Z]=H,!0}return!1}function pt(F){C(F,!0)}return t.find=I,t.read=T,t.parse=d,t.write=se,t.writeFile=V,t.utils={cfb_new:Me,cfb_add:Ue,cfb_del:at,cfb_mov:bt,cfb_gc:pt,ReadShift:vy,CheckField:Gae,prep_blob:vs,bconcat:Fi,use_zlib:M,_deflateRaw:Ni,_inflateRaw:Fa,consts:z},t}();function Let(e){return typeof e=="string"?MN(e):Array.isArray(e)?oet(e):e}function sb(e,t,r){if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=MN(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var n=r=="utf8"?Zx(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,e);if(typeof Blob<"u"){var i=new Blob([Let(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,e);if(typeof saveAs<"u")return saveAs(i,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var a=URL.createObjectURL(i);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),chrome.downloads.download({url:a,filename:e,saveAs:!0});var s=document.createElement("a");if(s.download!=null)return s.download=e,s.href=a,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),a}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var o=File(e);return o.open("w"),o.encoding="binary",Array.isArray(t)&&(t=ab(t)),o.write(t),o.close(),t}catch(c){if(!c.message||!c.message.match(/onstruct/))throw c}throw new Error("cannot save file "+e)}function qi(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function E7(e,t){for(var r=[],n=qi(e),i=0;i!==n.length;++i)r[e[n[i]][t]]==null&&(r[e[n[i]][t]]=n[i]);return r}function v3(e){for(var t=[],r=qi(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}function $N(e){for(var t=[],r=qi(e),n=0;n!==r.length;++n)t[e[r[n]]]=parseInt(r[n],10);return t}function Fet(e){for(var t=[],r=qi(e),n=0;n!==r.length;++n)t[e[r[n]]]==null&&(t[e[r[n]]]=[]),t[e[r[n]]].push(r[n]);return t}var qS=new Date(1899,11,30,0,0,0);function as(e,t){var r=e.getTime(),n=qS.getTime()+(e.getTimezoneOffset()-qS.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var Pae=new Date,$et=qS.getTime()+(Pae.getTimezoneOffset()-qS.getTimezoneOffset())*6e4,S7=Pae.getTimezoneOffset();function Rae(e){var t=new Date;return t.setTime(e*24*60*60*1e3+$et),t.getTimezoneOffset()!==S7&&t.setTime(t.getTime()+(t.getTimezoneOffset()-S7)*6e4),t}var T7=new Date("2017-02-19T19:06:09.000Z"),kae=isNaN(T7.getFullYear())?new Date("2/19/17"):T7,Bet=kae.getFullYear()==2017;function ka(e,t){var r=new Date(e);if(Bet)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(kae.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var i=e.match(/\d+/g)||["2017","2","19","0","0","0"],a=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return e.indexOf("Z")>-1&&(a=new Date(a.getTime()-a.getTimezoneOffset()*60*1e3)),a}function BN(e,t){if(xr&&Buffer.isBuffer(e))return e.toString("binary");if(typeof TextDecoder<"u")try{var r={"€":"","‚":"",ƒ:"","„":"","…":"","†":"","‡":"","ˆ":"","‰":"",Š:"","‹":"",Œ:"",Ž:"","‘":"","’":"","“":"","”":"","•":"","–":"","—":"","˜":"","™":"",š:"","›":"",œ:"",ž:"",Ÿ:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[€‚ƒ„…†‡ˆ‰Š‹ŒŽ‘’“”•–—˜™š›œžŸ]/g,function(a){return r[a]||a})}catch{}for(var n=[],i=0;i!=e.length;++i)n.push(String.fromCharCode(e[i]));return n.join("")}function ss(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=ss(e[r]));return t}function In(e,t){for(var r="";r.length<t;)r+=e;return r}function nu(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(i,a){return r=-r,a}),!isNaN(t=Number(n)))?t/r:t}var Vet=["january","february","march","april","may","june","july","august","september","october","november","december"];function Qx(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),i=t.getMonth(),a=t.getDate();if(isNaN(a))return r;var s=e.toLowerCase();if(s.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(s=s.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),s.length>3&&Vet.indexOf(s)==-1)return r}else if(s.match(/[a-z]/))return r;return n<0||n>8099?r:(i>0||a>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}function qt(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return xr?n=Ou(r):n=cet(r),Dr.utils.cfb_add(e,t,n)}Dr.utils.cfb_add(e,t,r)}else e.file(t,r)}function y3(){return Dr.utils.cfb_new()}var ai=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,Uet={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},x3=v3(Uet),b3=/[&<>'"]/g,zet=/[\u0000-\u0008\u000b-\u001f]/g;function jr(e){var t=e+"";return t.replace(b3,function(r){return x3[r]}).replace(zet,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function N7(e){return jr(e).replace(/ /g,"_x0020_")}var Iae=/[\u0000-\u001f]/g;function Wet(e){var t=e+"";return t.replace(b3,function(r){return x3[r]}).replace(/\n/g,"<br/>").replace(Iae,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function Het(e){var t=e+"";return t.replace(b3,function(r){return x3[r]}).replace(Iae,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}function qet(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function Get(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function oj(e){for(var t="",r=0,n=0,i=0,a=0,s=0,o=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(i=e.charCodeAt(r++),n>191&&n<224){s=(n&31)<<6,s|=i&63,t+=String.fromCharCode(s);continue}if(a=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(i&63)<<6|a&63);continue}s=e.charCodeAt(r++),o=((n&7)<<18|(i&63)<<12|(a&63)<<6|s&63)-65536,t+=String.fromCharCode(55296+(o>>>10&1023)),t+=String.fromCharCode(56320+(o&1023))}return t}function A7(e){var t=Wh(2*e.length),r,n,i=1,a=0,s=0,o;for(n=0;n<e.length;n+=i)i=1,(o=e.charCodeAt(n))<128?r=o:o<224?(r=(o&31)*64+(e.charCodeAt(n+1)&63),i=2):o<240?(r=(o&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),i=3):(i=4,r=(o&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,s=55296+(r>>>10&1023),r=56320+(r&1023)),s!==0&&(t[a++]=s&255,t[a++]=s>>>8,s=0),t[a++]=r%256,t[a++]=r>>>8;return t.slice(0,a).toString("ucs2")}function C7(e){return Ou(e,"binary").toString("utf8")}var Ow="foo bar bazâð£",gy=xr&&(C7(Ow)==oj(Ow)&&C7||A7(Ow)==oj(Ow)&&A7)||oj,Zx=xr?function(e){return Ou(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,i=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,i=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(i>>18&7))),t.push(String.fromCharCode(144+(i>>12&63))),t.push(String.fromCharCode(128+(i>>6&63))),t.push(String.fromCharCode(128+(i&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},Ket=function(){var e=[["nbsp"," "],["middot","·"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<e.length;++i)n=n.replace(e[i][0],e[i][1]);return n}}(),Oae=/(^\s|\s$|\n)/;function $i(e,t){return"<"+e+(t.match(Oae)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function Jx(e){return qi(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function Ge(e,t,r){return"<"+e+(r!=null?Jx(r):"")+(t!=null?(t.match(Oae)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function hI(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function Yet(e,t){switch(typeof e){case"string":var r=Ge("vt:lpwstr",jr(e));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return Ge((e|0)==e?"vt:i4":"vt:r8",jr(String(e)));case"boolean":return Ge("vt:bool",e?"true":"false")}if(e instanceof Date)return Ge("vt:filetime",hI(e));throw new Error("Unable to serialize "+e)}var wi={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Rg=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],bs={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function Xet(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),i=e[t+6]&15,a=5;a>=0;--a)i=i*256+e[t+a];return n==2047?i==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,i+=Math.pow(2,52)),r*Math.pow(2,n-52)*i)}function Qet(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,i=0,a=0,s=n?-t:t;isFinite(s)?s==0?i=a=0:(i=Math.floor(Math.log(s)/Math.LN2),a=s*Math.pow(2,52-i),i<=-1023&&(!isFinite(a)||a<Math.pow(2,52))?i=-1022:(a-=Math.pow(2,52),i+=1023)):(i=2047,a=isNaN(t)?26985:0);for(var o=0;o<=5;++o,a/=256)e[r+o]=a&255;e[r+6]=(i&15)<<4|a&15,e[r+7]=i>>4|n}var j7=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var i=0,a=e[0][n].length;i<a;i+=r)t.push.apply(t,e[0][n].slice(i,i+r));return t},P7=xr?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:Ou(t)})):j7(e)}:j7,R7=function(e,t,r){for(var n=[],i=t;i<r;i+=2)n.push(String.fromCharCode(Lv(e,i)));return n.join("").replace(py,"")},w3=xr?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(py,""):R7(e,t,r)}:R7,k7=function(e,t,r){for(var n=[],i=t;i<t+r;++i)n.push(("0"+e[i].toString(16)).slice(-2));return n.join("")},Dae=xr?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):k7(e,t,r)}:k7,I7=function(e,t,r){for(var n=[],i=t;i<r;i++)n.push(String.fromCharCode(qm(e,i)));return n.join("")},ob=xr?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):I7(t,r,n)}:I7,Mae=function(e,t){var r=ws(e,t);return r>0?ob(e,t+4,t+4+r-1):""},Lae=Mae,Fae=function(e,t){var r=ws(e,t);return r>0?ob(e,t+4,t+4+r-1):""},$ae=Fae,Bae=function(e,t){var r=2*ws(e,t);return r>0?ob(e,t+4,t+4+r-1):""},Vae=Bae,Uae=function(t,r){var n=ws(t,r);return n>0?w3(t,r+4,r+4+n):""},zae=Uae,Wae=function(e,t){var r=ws(e,t);return r>0?ob(e,t+4,t+4+r):""},Hae=Wae,qae=function(e,t){return Xet(e,t)},GS=qae,_3=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};xr&&(Lae=function(t,r){if(!Buffer.isBuffer(t))return Mae(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},$ae=function(t,r){if(!Buffer.isBuffer(t))return Fae(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},Vae=function(t,r){if(!Buffer.isBuffer(t))return Bae(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},zae=function(t,r){if(!Buffer.isBuffer(t))return Uae(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},Hae=function(t,r){if(!Buffer.isBuffer(t))return Wae(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},GS=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):qae(t,r)},_3=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var qm=function(e,t){return e[t]},Lv=function(e,t){return e[t+1]*256+e[t]},Zet=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},ws=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},Hf=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},Jet=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function vy(e,t){var r="",n,i,a=[],s,o,c,u;switch(t){case"dbcs":if(u=this.l,xr&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(c=0;c<e;++c)r+=String.fromCharCode(Lv(this,u)),u+=2;e*=2;break;case"utf8":r=ob(this,this.l,this.l+e);break;case"utf16le":e*=2,r=w3(this,this.l,this.l+e);break;case"wstr":return vy.call(this,e,"dbcs");case"lpstr-ansi":r=Lae(this,this.l),e=4+ws(this,this.l);break;case"lpstr-cp":r=$ae(this,this.l),e=4+ws(this,this.l);break;case"lpwstr":r=Vae(this,this.l),e=4+2*ws(this,this.l);break;case"lpp4":e=4+ws(this,this.l),r=zae(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+ws(this,this.l),r=Hae(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(s=qm(this,this.l+e++))!==0;)a.push(Rw(s));r=a.join("");break;case"_wstr":for(e=0,r="";(s=Lv(this,this.l+e))!==0;)a.push(Rw(s)),e+=2;e+=2,r=a.join("");break;case"dbcs-cont":for(r="",u=this.l,c=0;c<e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return s=qm(this,u),this.l=u+1,o=vy.call(this,e-c,s?"dbcs-cont":"sbcs-cont"),a.join("")+o;a.push(Rw(Lv(this,u))),u+=2}r=a.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",u=this.l,c=0;c!=e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return s=qm(this,u),this.l=u+1,o=vy.call(this,e-c,s?"dbcs-cont":"sbcs-cont"),a.join("")+o;a.push(Rw(qm(this,u))),u+=1}r=a.join("");break;default:switch(e){case 1:return n=qm(this,this.l),this.l++,n;case 2:return n=(t==="i"?Zet:Lv)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(n=(e>0?Hf:Jet)(this,this.l),this.l+=4,n):(i=ws(this,this.l),this.l+=4,i);case 8:case-8:if(t==="f")return e==8?i=GS(this,this.l):i=GS([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;e=8;case 16:r=Dae(this,this.l,e);break}}return this.l+=e,r}var ett=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},ttt=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},rtt=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function ntt(e,t,r){var n=0,i=0;if(r==="dbcs"){for(i=0;i!=t.length;++i)rtt(this,t.charCodeAt(i),this.l+2*i);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=t.length;++i)this[this.l+i]=t.charCodeAt(i)&255;n=t.length}else if(r==="hex"){for(;i<e;++i)this[this.l++]=parseInt(t.slice(2*i,2*i+2),16)||0;return this}else if(r==="utf16le"){var a=Math.min(this.l+e,this.length);for(i=0;i<Math.min(t.length,e);++i){var s=t.charCodeAt(i);this[this.l++]=s&255,this[this.l++]=s>>8}for(;this.l<a;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,ett(this,t,this.l);break;case 8:if(n=8,r==="f"){Qet(this,t,this.l);break}case 16:break;case-4:n=4,ttt(this,t,this.l);break}return this.l+=n,this}function Gae(e,t){var r=Dae(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function vs(e,t){e.l=t,e.read_shift=vy,e.chk=Gae,e.write_shift=ntt}function pc(e,t){e.l+=t}function Ae(e){var t=Wh(e);return vs(t,0),t}function ns(){var e=[],t=xr?256:2048,r=function(u){var d=Ae(u);return vs(d,0),d},n=r(t),i=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},a=function(u){return n&&u<n.length-n.l?n:(i(),n=r(Math.max(u+1,t)))},s=function(){return i(),Fi(e)},o=function(u){i(),n=u,n.l==null&&(n.l=n.length),a(t)};return{next:a,push:o,end:s,_bufs:e}}function De(e,t,r,n){var i=+t,a;if(!isNaN(i)){n||(n=Xst[i].p||(r||[]).length||0),a=1+(i>=128?1:0)+1,n>=128&&++a,n>=16384&&++a,n>=2097152&&++a;var s=e.next(a);i<=127?s.write_shift(1,i):(s.write_shift(1,(i&127)+128),s.write_shift(1,i>>7));for(var o=0;o!=4;++o)if(n>=128)s.write_shift(1,(n&127)+128),n>>=7;else{s.write_shift(1,n);break}n>0&&_3(r)&&e.push(r)}}function yy(e,t,r){var n=ss(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function O7(e,t,r){var n=ss(e);return n.s=yy(n.s,t.s,r),n.e=yy(n.e,t.s,r),n}function xy(e,t){if(e.cRel&&e.c<0)for(e=ss(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=ss(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=Rr(e);return!e.cRel&&e.cRel!=null&&(r=stt(r)),!e.rRel&&e.rRel!=null&&(r=itt(r)),r}function lj(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+da(e.s.c)+":"+(e.e.cRel?"":"$")+da(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Ui(e.s.r)+":"+(e.e.rRel?"":"$")+Ui(e.e.r):xy(e.s,t.biff)+":"+xy(e.e,t.biff)}function E3(e){return parseInt(att(e),10)-1}function Ui(e){return""+(e+1)}function itt(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function att(e){return e.replace(/\$(\d+)$/,"$1")}function S3(e){for(var t=ott(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function da(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function stt(e){return e.replace(/^([A-Z])/,"$$$1")}function ott(e){return e.replace(/^\$([A-Z])/,"$1")}function ltt(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function _i(e){for(var t=0,r=0,n=0;n<e.length;++n){var i=e.charCodeAt(n);i>=48&&i<=57?t=10*t+(i-48):i>=65&&i<=90&&(r=26*r+(i-64))}return{c:r-1,r:t-1}}function Rr(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function Ds(e){var t=e.indexOf(":");return t==-1?{s:_i(e),e:_i(e)}:{s:_i(e.slice(0,t)),e:_i(e.slice(t+1))}}function ni(e,t){return typeof t>"u"||typeof t=="number"?ni(e.s,e.e):(typeof e!="string"&&(e=Rr(e)),typeof t!="string"&&(t=Rr(t)),e==t?e:e+":"+t)}function cn(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,i=0,a=e.length;for(r=0;n<a&&!((i=e.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(t.s.c=--r,r=0;n<a&&!((i=e.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;if(t.s.r=--r,n===a||i!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=a&&!((i=e.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(t.e.c=--r,r=0;n!=a&&!((i=e.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;return t.e.r=--r,t}function D7(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=Jd(e.z,r?as(t):t)}catch{}try{return e.w=Jd((e.XF||{}).numFmtId||(r?14:0),r?as(t):t)}catch{return""+t}}function Nu(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?lb[e.v]||e.v:t==null?D7(e,e.v):D7(e,t))}function vm(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function Kae(e,t,r){var n=r||{},i=e?Array.isArray(e):n.dense,a=e||(i?[]:{}),s=0,o=0;if(a&&n.origin!=null){if(typeof n.origin=="number")s=n.origin;else{var c=typeof n.origin=="string"?_i(n.origin):n.origin;s=c.r,o=c.c}a["!ref"]||(a["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(a["!ref"]){var d=cn(a["!ref"]);u.s.c=d.s.c,u.s.r=d.s.r,u.e.c=Math.max(u.e.c,d.e.c),u.e.r=Math.max(u.e.r,d.e.r),s==-1&&(u.e.r=s=d.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=t[f].length;++h)if(!(typeof t[f][h]>"u")){var m={v:t[f][h]},g=s+f,p=o+h;if(u.s.r>g&&(u.s.r=g),u.s.c>p&&(u.s.c=p),u.e.r<g&&(u.e.r=g),u.e.c<p&&(u.e.c=p),t[f][h]&&typeof t[f][h]=="object"&&!Array.isArray(t[f][h])&&!(t[f][h]instanceof Date))m=t[f][h];else if(Array.isArray(m.v)&&(m.f=t[f][h][1],m.v=m.v[0]),m.v===null)if(m.f)m.t="n";else if(n.nullError)m.t="e",m.v=0;else if(n.sheetStubs)m.t="z";else continue;else typeof m.v=="number"?m.t="n":typeof m.v=="boolean"?m.t="b":m.v instanceof Date?(m.z=n.dateNF||Mn[14],n.cellDates?(m.t="d",m.w=Jd(m.z,as(m.v))):(m.t="n",m.v=as(m.v),m.w=Jd(m.z,m.v))):m.t="s";if(i)a[g]||(a[g]=[]),a[g][p]&&a[g][p].z&&(m.z=a[g][p].z),a[g][p]=m;else{var v=Rr({c:p,r:g});a[v]&&a[v].z&&(m.z=a[v].z),a[v]=m}}}return u.s.c<1e7&&(a["!ref"]=ni(u)),a}function kg(e,t){return Kae(null,e,t)}function ctt(e){return e.read_shift(4,"i")}function cl(e,t){return t||(t=Ae(4)),t.write_shift(4,e),t}function fa(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function Ei(e,t){var r=!1;return t==null&&(r=!0,t=Ae(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function utt(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function dtt(e,t){return t||(t=Ae(4)),t.write_shift(2,0),t.write_shift(2,0),t}function T3(e,t){var r=e.l,n=e.read_shift(1),i=fa(e),a=[],s={t:i,h:i};if(n&1){for(var o=e.read_shift(4),c=0;c!=o;++c)a.push(utt(e));s.r=a}else s.r=[{ich:0,ifnt:0}];return e.l=r+t,s}function ftt(e,t){var r=!1;return t==null&&(r=!0,t=Ae(15+4*e.t.length)),t.write_shift(1,0),Ei(e.t,t),r?t.slice(0,t.l):t}var htt=T3;function mtt(e,t){var r=!1;return t==null&&(r=!0,t=Ae(23+4*e.t.length)),t.write_shift(1,1),Ei(e.t,t),t.write_shift(4,1),dtt({},t),r?t.slice(0,t.l):t}function Ro(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function ym(e,t){return t==null&&(t=Ae(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function xm(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function bm(e,t){return t==null&&(t=Ae(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var ptt=fa,Yae=Ei;function N3(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function KS(e,t){var r=!1;return t==null&&(r=!0,t=Ae(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var gtt=fa,mI=N3,A3=KS;function Xae(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var i=n===0?GS([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):Hf(t,0)>>2;return r?i/100:i}function Qae(e,t){t==null&&(t=Ae(4));var r=0,n=0,i=e*100;if(e==(e|0)&&e>=-536870912&&e<1<<29?n=1:i==(i|0)&&i>=-536870912&&i<1<<29&&(n=1,r=1),n)t.write_shift(-4,((r?i:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function Zae(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function vtt(e,t){return t||(t=Ae(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var wm=Zae,Ig=vtt;function Og(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function Hh(e,t){return(t||Ae(8)).write_shift(8,e,"f")}function ytt(e){var t={},r=e.read_shift(1),n=r>>>1,i=e.read_shift(1),a=e.read_shift(2,"i"),s=e.read_shift(1),o=e.read_shift(1),c=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=i;var u=Att[i];u&&(t.rgb=q7(u));break;case 2:t.rgb=q7([s,o,c]);break;case 3:t.theme=i;break}return a!=0&&(t.tint=a>0?a/32767:a/32768),t}function YS(e,t){if(t||(t=Ae(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var n=e.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),t.write_shift(1,parseInt(n.slice(0,2),16)),t.write_shift(1,parseInt(n.slice(2,4),16)),t.write_shift(1,parseInt(n.slice(4,6),16)),t.write_shift(1,255)}return t}function xtt(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function btt(e,t){t||(t=Ae(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}var Jae=2,ms=3,Dw=11,XS=19,Mw=64,wtt=65,_tt=71,Ett=4108,Stt=4126,ki=80,M7={1:{n:"CodePage",t:Jae},2:{n:"Category",t:ki},3:{n:"PresentationFormat",t:ki},4:{n:"ByteCount",t:ms},5:{n:"LineCount",t:ms},6:{n:"ParagraphCount",t:ms},7:{n:"SlideCount",t:ms},8:{n:"NoteCount",t:ms},9:{n:"HiddenCount",t:ms},10:{n:"MultimediaClipCount",t:ms},11:{n:"ScaleCrop",t:Dw},12:{n:"HeadingPairs",t:Ett},13:{n:"TitlesOfParts",t:Stt},14:{n:"Manager",t:ki},15:{n:"Company",t:ki},16:{n:"LinksUpToDate",t:Dw},17:{n:"CharacterCount",t:ms},19:{n:"SharedDoc",t:Dw},22:{n:"HyperlinksChanged",t:Dw},23:{n:"AppVersion",t:ms,p:"version"},24:{n:"DigSig",t:wtt},26:{n:"ContentType",t:ki},27:{n:"ContentStatus",t:ki},28:{n:"Language",t:ki},29:{n:"Version",t:ki},255:{},2147483648:{n:"Locale",t:XS},2147483651:{n:"Behavior",t:XS},1919054434:{}},L7={1:{n:"CodePage",t:Jae},2:{n:"Title",t:ki},3:{n:"Subject",t:ki},4:{n:"Author",t:ki},5:{n:"Keywords",t:ki},6:{n:"Comments",t:ki},7:{n:"Template",t:ki},8:{n:"LastAuthor",t:ki},9:{n:"RevNumber",t:ki},10:{n:"EditTime",t:Mw},11:{n:"LastPrinted",t:Mw},12:{n:"CreatedDate",t:Mw},13:{n:"ModifiedDate",t:Mw},14:{n:"PageCount",t:ms},15:{n:"WordCount",t:ms},16:{n:"CharCount",t:ms},17:{n:"Thumbnail",t:_tt},18:{n:"Application",t:ki},19:{n:"DocSecurity",t:ms},255:{},2147483648:{n:"Locale",t:XS},2147483651:{n:"Behavior",t:XS},1919054434:{}};function Ttt(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var Ntt=Ttt([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Att=ss(Ntt),lb={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},Ctt={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Lw={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function ese(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function tse(e,t){var r=Fet(Ctt),n=[],i;n[n.length]=ai,n[n.length]=Ge("Types",null,{xmlns:wi.CT,"xmlns:xsd":wi.xsd,"xmlns:xsi":wi.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(c){return Ge("Default",null,{Extension:c[0],ContentType:c[1]})}));var a=function(c){e[c]&&e[c].length>0&&(i=e[c][0],n[n.length]=Ge("Override",null,{PartName:(i[0]=="/"?"":"/")+i,ContentType:Lw[c][t.bookType]||Lw[c].xlsx}))},s=function(c){(e[c]||[]).forEach(function(u){n[n.length]=Ge("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:Lw[c][t.bookType]||Lw[c].xlsx})})},o=function(c){(e[c]||[]).forEach(function(u){n[n.length]=Ge("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:r[c][0]})})};return a("workbooks"),s("sheets"),s("charts"),o("themes"),["strs","styles"].forEach(a),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),s("metadata"),o("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var pr={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function rse(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function Lp(e){var t=[ai,Ge("Relationships",null,{xmlns:wi.RELS})];return qi(e["!id"]).forEach(function(r){t[t.length]=Ge("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function Cr(e,t,r,n,i,a){if(i||(i={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,i.Id="rId"+t,i.Type=n,i.Target=r,[pr.HLINK,pr.XPATH,pr.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),e["!id"][i.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][i.Id]=i,e[("/"+i.Target).replace("//","/")]=i,t}function jtt(e){var t=[ai];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function F7(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function Ptt(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function Rtt(e){var t=[ai];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(F7(e[r][0],e[r][1])),t.push(Ptt("",e[r][0]));return t.push(F7("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function nse(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+VS.version+"</meta:generator></office:meta></office:document-meta>"}var Sh=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function cj(e,t,r,n,i){i[e]!=null||t==null||t===""||(i[e]=t,t=jr(t),n[n.length]=r?Ge(e,t,r):$i(e,t))}function ise(e,t){var r=t||{},n=[ai,Ge("cp:coreProperties",null,{"xmlns:cp":wi.CORE_PROPS,"xmlns:dc":wi.dc,"xmlns:dcterms":wi.dcterms,"xmlns:dcmitype":wi.dcmitype,"xmlns:xsi":wi.xsi})],i={};if(!e&&!r.Props)return n.join("");e&&(e.CreatedDate!=null&&cj("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:hI(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,i),e.ModifiedDate!=null&&cj("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:hI(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,i));for(var a=0;a!=Sh.length;++a){var s=Sh[a],o=r.Props&&r.Props[s[1]]!=null?r.Props[s[1]]:e?e[s[1]]:null;o===!0?o="1":o===!1?o="0":typeof o=="number"&&(o=String(o)),o!=null&&cj(s[0],o,null,n,i)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var Fp=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],ase=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function sse(e){var t=[],r=Ge;return e||(e={}),e.Application="SheetJS",t[t.length]=ai,t[t.length]=Ge("Properties",null,{xmlns:wi.EXT_PROPS,"xmlns:vt":wi.vt}),Fp.forEach(function(n){if(e[n[1]]!==void 0){var i;switch(n[2]){case"string":i=jr(String(e[n[1]]));break;case"bool":i=e[n[1]]?"true":"false";break}i!==void 0&&(t[t.length]=r(n[0],i))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(n){return"<vt:lpstr>"+jr(n)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}function ose(e){var t=[ai,Ge("Properties",null,{xmlns:wi.CUST_PROPS,"xmlns:vt":wi.vt})];if(!e)return t.join("");var r=1;return qi(e).forEach(function(i){++r,t[t.length]=Ge("property",Yet(e[i]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:jr(i)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var $7={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function ktt(e,t){var r=[];return qi($7).map(function(n){for(var i=0;i<Sh.length;++i)if(Sh[i][1]==n)return Sh[i];for(i=0;i<Fp.length;++i)if(Fp[i][1]==n)return Fp[i];throw n}).forEach(function(n){if(e[n[1]]!=null){var i=t&&t.Props&&t.Props[n[1]]!=null?t.Props[n[1]]:e[n[1]];switch(n[2]){case"date":i=new Date(i).toISOString().replace(/\.\d*Z/,"Z");break}typeof i=="number"?i=String(i):i===!0||i===!1?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),r.push($i($7[n[1]]||n[1],i))}}),Ge("DocumentProperties",r.join(""),{xmlns:bs.o})}function Itt(e,t){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",i=[];return e&&qi(e).forEach(function(a){if(Object.prototype.hasOwnProperty.call(e,a)){for(var s=0;s<Sh.length;++s)if(a==Sh[s][1])return;for(s=0;s<Fp.length;++s)if(a==Fp[s][1])return;for(s=0;s<r.length;++s)if(a==r[s])return;var o=e[a],c="string";typeof o=="number"?(c="float",o=String(o)):o===!0||o===!1?(c="boolean",o=o?"1":"0"):o=String(o),i.push(Ge(N7(a),o,{"dt:dt":c}))}}),t&&qi(t).forEach(function(a){if(Object.prototype.hasOwnProperty.call(t,a)&&!(e&&Object.prototype.hasOwnProperty.call(e,a))){var s=t[a],o="string";typeof s=="number"?(o="float",s=String(s)):s===!0||s===!1?(o="boolean",s=s?"1":"0"):s instanceof Date?(o="dateTime.tz",s=s.toISOString()):s=String(s),i.push(Ge(N7(a),s,{"dt:dt":o}))}}),"<"+n+' xmlns="'+bs.o+'">'+i.join("")+"</"+n+">"}function Ott(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,n=r%Math.pow(2,32),i=(r-n)/Math.pow(2,32);n*=1e7,i*=1e7;var a=n/Math.pow(2,32)|0;a>0&&(n=n%Math.pow(2,32),i+=a);var s=Ae(8);return s.write_shift(4,n),s.write_shift(4,i),s}function B7(e,t){var r=Ae(4),n=Ae(4);switch(r.write_shift(4,e==80?31:e),e){case 3:n.write_shift(-4,t);break;case 5:n=Ae(8),n.write_shift(8,t,"f");break;case 11:n.write_shift(4,t?1:0);break;case 64:n=Ott(t);break;case 31:case 80:for(n=Ae(4+2*(t.length+1)+(t.length%2?0:2)),n.write_shift(4,t.length+1),n.write_shift(0,t,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return Fi([r,n])}var lse=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function Dtt(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function V7(e,t,r){var n=Ae(8),i=[],a=[],s=8,o=0,c=Ae(8),u=Ae(8);if(c.write_shift(4,2),c.write_shift(4,1200),u.write_shift(4,1),a.push(c),i.push(u),s+=8+c.length,!t){u=Ae(8),u.write_shift(4,0),i.unshift(u);var d=[Ae(4)];for(d[0].write_shift(4,e.length),o=0;o<e.length;++o){var f=e[o][0];for(c=Ae(8+2*(f.length+1)+(f.length%2?0:2)),c.write_shift(4,o+2),c.write_shift(4,f.length+1),c.write_shift(0,f,"dbcs");c.l!=c.length;)c.write_shift(1,0);d.push(c)}c=Fi(d),a.unshift(c),s+=8+c.length}for(o=0;o<e.length;++o)if(!(t&&!t[e[o][0]])&&!(lse.indexOf(e[o][0])>-1||ase.indexOf(e[o][0])>-1)&&e[o][1]!=null){var h=e[o][1],m=0;if(t){m=+t[e[o][0]];var g=r[m];if(g.p=="version"&&typeof h=="string"){var p=h.split(".");h=(+p[0]<<16)+(+p[1]||0)}c=B7(g.t,h)}else{var v=Dtt(h);v==-1&&(v=31,h=String(h)),c=B7(v,h)}a.push(c),u=Ae(8),u.write_shift(4,t?m:2+o),i.push(u),s+=8+c.length}var y=8*(a.length+1);for(o=0;o<a.length;++o)i[o].write_shift(4,y),y+=a[o].length;return n.write_shift(4,s),n.write_shift(4,a.length),Fi([n].concat(i).concat(a))}function U7(e,t,r,n,i,a){var s=Ae(i?68:48),o=[s];s.write_shift(2,65534),s.write_shift(2,0),s.write_shift(4,842412599),s.write_shift(16,Dr.utils.consts.HEADER_CLSID,"hex"),s.write_shift(4,i?2:1),s.write_shift(16,t,"hex"),s.write_shift(4,i?68:48);var c=V7(e,r,n);if(o.push(c),i){var u=V7(i,null,null);s.write_shift(16,a,"hex"),s.write_shift(4,68+c.length),o.push(u)}return Fi(o)}function Mtt(e,t){t||(t=Ae(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function Ltt(e,t){return e.read_shift(t)===1}function Ea(e,t){return t||(t=Ae(2)),t.write_shift(2,+!!e),t}function cse(e){return e.read_shift(2,"u")}function ro(e,t){return t||(t=Ae(2)),t.write_shift(2,e),t}function use(e,t,r){return r||(r=Ae(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function dse(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),i="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var a=e.read_shift(1);a&&(i="dbcs-cont")}else r.biff==12&&(i="wstr");r.biff>=2&&r.biff<=5&&(i="cpstr");var s=n?e.read_shift(n,i):"";return s}function Ftt(e){var t=e.t||"",r=Ae(3);r.write_shift(2,t.length),r.write_shift(1,1);var n=Ae(2*t.length);n.write_shift(2*t.length,t,"utf16le");var i=[r,n];return Fi(i)}function $tt(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var i=e.read_shift(1);return i===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function Btt(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):$tt(e,n,r)}function Vtt(e,t,r){if(r.biff>5)return Btt(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function fse(e,t,r){return r||(r=Ae(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function z7(e,t){t||(t=Ae(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function Utt(e){var t=Ae(512),r=0,n=e.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var i=n.indexOf("#"),a=i>-1?31:23;switch(n.charAt(0)){case"#":a=28;break;case".":a&=-3;break}t.write_shift(4,2),t.write_shift(4,a);var s=[8,6815827,6619237,4849780,83];for(r=0;r<s.length;++r)t.write_shift(4,s[r]);if(a==28)n=n.slice(1),z7(n,t);else if(a&2){for(s="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<s.length;++r)t.write_shift(1,parseInt(s[r],16));var o=i>-1?n.slice(0,i):n;for(t.write_shift(4,2*(o.length+1)),r=0;r<o.length;++r)t.write_shift(2,o.charCodeAt(r));t.write_shift(2,0),a&8&&z7(i>-1?n.slice(i+1):"",t)}else{for(s="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<s.length;++r)t.write_shift(1,parseInt(s[r],16));for(var c=0;n.slice(c*3,c*3+3)=="../"||n.slice(c*3,c*3+3)=="..\\";)++c;for(t.write_shift(2,c),t.write_shift(4,n.length-3*c+1),r=0;r<n.length-3*c;++r)t.write_shift(1,n.charCodeAt(r+3*c)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function qh(e,t,r,n){return n||(n=Ae(6)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,r||0),n}function ztt(e,t,r){var n=r.biff>8?4:2,i=e.read_shift(n),a=e.read_shift(n,"i"),s=e.read_shift(n,"i");return[i,a,s]}function Wtt(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),i=e.read_shift(2);return{s:{c:n,r:t},e:{c:i,r}}}function hse(e,t){return t||(t=Ae(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function C3(e,t,r){var n=1536,i=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,i=8;break;case"biff4":n=4,i=6;break;case"biff3":n=3,i=6;break;case"biff2":n=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var a=Ae(i);return a.write_shift(2,n),a.write_shift(2,t),i>4&&a.write_shift(2,29282),i>6&&a.write_shift(2,1997),i>8&&(a.write_shift(2,49161),a.write_shift(2,1),a.write_shift(2,1798),a.write_shift(2,0)),a}function Htt(e,t){var r=!t||t.biff==8,n=Ae(r?112:54);for(n.write_shift(t.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function qtt(e,t){var r=!t||t.biff>=8?2:1,n=Ae(8+r*e.name.length);n.write_shift(4,e.pos),n.write_shift(1,e.hs||0),n.write_shift(1,e.dt),n.write_shift(1,e.name.length),t.biff>=8&&n.write_shift(1,1),n.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var i=n.slice(0,n.l);return i.l=n.l,i}function Gtt(e,t){var r=Ae(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var n=[],i=0;i<e.length;++i)n[i]=Ftt(e[i]);var a=Fi([r].concat(n));return a.parts=[r.length].concat(n.map(function(s){return s.length})),a}function Ktt(){var e=Ae(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function Ytt(e){var t=Ae(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function Xtt(e,t){var r=e.name||"Arial",n=t&&t.biff==5,i=n?15+r.length:16+2*r.length,a=Ae(i);return a.write_shift(2,e.sz*20),a.write_shift(4,0),a.write_shift(2,400),a.write_shift(4,0),a.write_shift(2,0),a.write_shift(1,r.length),n||a.write_shift(1,1),a.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),a}function Qtt(e,t,r,n){var i=Ae(10);return qh(e,t,n,i),i.write_shift(4,r),i}function Ztt(e,t,r,n,i){var a=!i||i.biff==8,s=Ae(8+ +a+(1+a)*r.length);return qh(e,t,n,s),s.write_shift(2,r.length),a&&s.write_shift(1,1),s.write_shift((1+a)*r.length,r,a?"utf16le":"sbcs"),s}function Jtt(e,t,r,n){var i=r&&r.biff==5;n||(n=Ae(i?3+t.length:5+2*t.length)),n.write_shift(2,e),n.write_shift(i?1:2,t.length),i||n.write_shift(1,1),n.write_shift((i?1:2)*t.length,t,i?"sbcs":"utf16le");var a=n.length>n.l?n.slice(0,n.l):n;return a.l==null&&(a.l=a.length),a}function ert(e,t){var r=t.biff==8||!t.biff?4:2,n=Ae(2*r+6);return n.write_shift(r,e.s.r),n.write_shift(r,e.e.r+1),n.write_shift(2,e.s.c),n.write_shift(2,e.e.c+1),n.write_shift(2,0),n}function W7(e,t,r,n){var i=r&&r.biff==5;n||(n=Ae(i?16:20)),n.write_shift(2,0),e.style?(n.write_shift(2,e.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,e.numFmtId||0),n.write_shift(2,t<<4));var a=0;return e.numFmtId>0&&i&&(a|=1024),n.write_shift(4,a),n.write_shift(4,0),i||n.write_shift(4,0),n.write_shift(2,0),n}function trt(e){var t=Ae(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function rrt(e,t,r,n,i,a){var s=Ae(8);return qh(e,t,n,s),use(r,a,s),s}function nrt(e,t,r,n){var i=Ae(14);return qh(e,t,n,i),Hh(r,i),i}function irt(e,t,r){if(r.biff<8)return art(e,t,r);for(var n=[],i=e.l+t,a=e.read_shift(r.biff>8?4:2);a--!==0;)n.push(ztt(e,r.biff>8?12:6,r));if(e.l!=i)throw new Error("Bad ExternSheet: "+e.l+" != "+i);return n}function art(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=dse(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function srt(e){var t=Ae(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)hse(e[r],t);return t}function ort(e){var t=Ae(24),r=_i(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)t.write_shift(1,parseInt(n[i],16));return Fi([t,Utt(e[1])])}function lrt(e){var t=e[1].Tooltip,r=Ae(10+2*(t.length+1));r.write_shift(2,2048);var n=_i(e[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var i=0;i<t.length;++i)r.write_shift(2,t.charCodeAt(i));return r.write_shift(2,0),r}function crt(e){return e||(e=Ae(4)),e.write_shift(2,1),e.write_shift(2,1),e}function urt(e,t,r){if(!r.cellStyles)return pc(e,t);var n=r&&r.biff>=12?4:2,i=e.read_shift(n),a=e.read_shift(n),s=e.read_shift(n),o=e.read_shift(n),c=e.read_shift(2);n==2&&(e.l+=2);var u={s:i,e:a,w:s,ixfe:o,flags:c};return(r.biff>=5||!r.biff)&&(u.level=c>>8&7),u}function drt(e,t){var r=Ae(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var n=0;return e.hidden&&(n|=1),r.write_shift(1,n),n=e.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function frt(e){for(var t=Ae(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}function hrt(e,t,r){var n=Ae(15);return ub(n,e,t),n.write_shift(8,r,"f"),n}function mrt(e,t,r){var n=Ae(9);return ub(n,e,t),n.write_shift(2,r),n}var prt=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=v3({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(o,c){var u=[],d=Wh(1);switch(c.type){case"base64":d=Zo(Tu(o));break;case"binary":d=Zo(o);break;case"buffer":case"array":d=o;break}vs(d,0);var f=d.read_shift(1),h=!!(f&136),m=!1,g=!1;switch(f){case 2:break;case 3:break;case 48:m=!0,h=!0;break;case 49:m=!0,h=!0;break;case 131:break;case 139:break;case 140:g=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var p=0,v=521;f==2&&(p=d.read_shift(2)),d.l+=3,f!=2&&(p=d.read_shift(4)),p>1048576&&(p=1e6),f!=2&&(v=d.read_shift(2));var y=d.read_shift(2),x=c.codepage||1252;f!=2&&(d.l+=16,d.read_shift(1),d[d.l]!==0&&(x=e[d[d.l]]),d.l+=1,d.l+=2),g&&(d.l+=36);for(var w=[],N={},E=Math.min(d.length,f==2?521:v-10-(m?264:0)),T=g?32:11;d.l<E&&d[d.l]!=13;)switch(N={},N.name=US.utils.decode(x,d.slice(d.l,d.l+T)).replace(/[\u0000\r\n].*$/g,""),d.l+=T,N.type=String.fromCharCode(d.read_shift(1)),f!=2&&!g&&(N.offset=d.read_shift(4)),N.len=d.read_shift(1),f==2&&(N.offset=d.read_shift(2)),N.dec=d.read_shift(1),N.name.length&&w.push(N),f!=2&&(d.l+=g?13:14),N.type){case"B":(!m||N.len!=8)&&c.WTF&&console.log("Skipping "+N.name+":"+N.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+N.name+":"+N.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+N.type)}if(d[d.l]!==13&&(d.l=v-1),d.read_shift(1)!==13)throw new Error("DBF Terminator not found "+d.l+" "+d[d.l]);d.l=v;var S=0,A=0;for(u[0]=[],A=0;A!=w.length;++A)u[0][A]=w[A].name;for(;p-- >0;){if(d[d.l]===42){d.l+=y;continue}for(++d.l,u[++S]=[],A=0,A=0;A!=w.length;++A){var C=d.slice(d.l,d.l+w[A].len);d.l+=w[A].len,vs(C,0);var j=US.utils.decode(x,C);switch(w[A].type){case"C":j.trim().length&&(u[S][A]=j.replace(/\s+$/,""));break;case"D":j.length===8?u[S][A]=new Date(+j.slice(0,4),+j.slice(4,6)-1,+j.slice(6,8)):u[S][A]=j;break;case"F":u[S][A]=parseFloat(j.trim());break;case"+":case"I":u[S][A]=g?C.read_shift(-4,"i")^2147483648:C.read_shift(4,"i");break;case"L":switch(j.trim().toUpperCase()){case"Y":case"T":u[S][A]=!0;break;case"N":case"F":u[S][A]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+j+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));u[S][A]="##MEMO##"+(g?parseInt(j.trim(),10):C.read_shift(4));break;case"N":j=j.replace(/\u0000/g,"").trim(),j&&j!="."&&(u[S][A]=+j||0);break;case"@":u[S][A]=new Date(C.read_shift(-8,"f")-621356832e5);break;case"T":u[S][A]=new Date((C.read_shift(4)-2440588)*864e5+C.read_shift(4));break;case"Y":u[S][A]=C.read_shift(4,"i")/1e4+C.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[S][A]=-C.read_shift(-8,"f");break;case"B":if(m&&w[A].len==8){u[S][A]=C.read_shift(8,"f");break}case"G":case"P":C.l+=w[A].len;break;case"0":if(w[A].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+w[A].type)}}}if(f!=2&&d.l<d.length&&d[d.l++]!=26)throw new Error("DBF EOF Marker missing "+(d.l-1)+" of "+d.length+" "+d[d.l-1].toString(16));return c&&c.sheetRows&&(u=u.slice(0,c.sheetRows)),c.DBF=w,u}function n(o,c){var u=c||{};u.dateNF||(u.dateNF="yyyymmdd");var d=kg(r(o,u),u);return d["!cols"]=u.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete u.DBF,d}function i(o,c){try{return vm(n(o,c),c)}catch(u){if(c&&c.WTF)throw u}return{SheetNames:[],Sheets:{}}}var a={B:8,C:250,L:1,D:8,"?":0,"":0};function s(o,c){var u=c||{};if(+u.codepage>=0&&Yx(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var d=ns(),f=t2(o,{header:1,raw:!0,cellDates:!0}),h=f[0],m=f.slice(1),g=o["!cols"]||[],p=0,v=0,y=0,x=1;for(p=0;p<h.length;++p){if(((g[p]||{}).DBF||{}).name){h[p]=g[p].DBF.name,++y;continue}if(h[p]!=null){if(++y,typeof h[p]=="number"&&(h[p]=h[p].toString(10)),typeof h[p]!="string")throw new Error("DBF Invalid column name "+h[p]+" |"+typeof h[p]+"|");if(h.indexOf(h[p])!==p){for(v=0;v<1024;++v)if(h.indexOf(h[p]+"_"+v)==-1){h[p]+="_"+v;break}}}}var w=cn(o["!ref"]),N=[],E=[],T=[];for(p=0;p<=w.e.c-w.s.c;++p){var S="",A="",C=0,j=[];for(v=0;v<m.length;++v)m[v][p]!=null&&j.push(m[v][p]);if(j.length==0||h[p]==null){N[p]="?";continue}for(v=0;v<j.length;++v){switch(typeof j[v]){case"number":A="B";break;case"string":A="C";break;case"boolean":A="L";break;case"object":A=j[v]instanceof Date?"D":"C";break;default:A="C"}C=Math.max(C,String(j[v]).length),S=S&&S!=A?"C":A}C>250&&(C=250),A=((g[p]||{}).DBF||{}).type,A=="C"&&g[p].DBF.len>C&&(C=g[p].DBF.len),S=="B"&&A=="N"&&(S="N",T[p]=g[p].DBF.dec,C=g[p].DBF.len),E[p]=S=="C"||A=="N"?C:a[S]||0,x+=E[p],N[p]=S}var I=d.next(32);for(I.write_shift(4,318902576),I.write_shift(4,m.length),I.write_shift(2,296+32*y),I.write_shift(2,x),p=0;p<4;++p)I.write_shift(4,0);for(I.write_shift(4,0|(+t[pae]||3)<<8),p=0,v=0;p<h.length;++p)if(h[p]!=null){var O=d.next(32),k=(h[p].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);O.write_shift(1,k,"sbcs"),O.write_shift(1,N[p]=="?"?"C":N[p],"sbcs"),O.write_shift(4,v),O.write_shift(1,E[p]||a[N[p]]||0),O.write_shift(1,T[p]||0),O.write_shift(1,2),O.write_shift(4,0),O.write_shift(1,0),O.write_shift(4,0),O.write_shift(4,0),v+=E[p]||a[N[p]]||0}var D=d.next(264);for(D.write_shift(4,13),p=0;p<65;++p)D.write_shift(4,0);for(p=0;p<m.length;++p){var B=d.next(x);for(B.write_shift(1,0),v=0;v<h.length;++v)if(h[v]!=null)switch(N[v]){case"L":B.write_shift(1,m[p][v]==null?63:m[p][v]?84:70);break;case"B":B.write_shift(8,m[p][v]||0,"f");break;case"N":var ee="0";for(typeof m[p][v]=="number"&&(ee=m[p][v].toFixed(T[v]||0)),y=0;y<E[v]-ee.length;++y)B.write_shift(1,32);B.write_shift(1,ee,"sbcs");break;case"D":m[p][v]?(B.write_shift(4,("0000"+m[p][v].getFullYear()).slice(-4),"sbcs"),B.write_shift(2,("00"+(m[p][v].getMonth()+1)).slice(-2),"sbcs"),B.write_shift(2,("00"+m[p][v].getDate()).slice(-2),"sbcs")):B.write_shift(8,"00000000","sbcs");break;case"C":var z=String(m[p][v]!=null?m[p][v]:"").slice(0,E[v]);for(B.write_shift(1,z,"sbcs"),y=0;y<E[v]-z.length;++y)B.write_shift(1,32);break}}return d.next(1).write_shift(1,26),d.end()}return{to_workbook:i,to_sheet:n,from_sheet:s}}(),grt=function(){var e={AA:"À",BA:"Á",CA:"Â",DA:195,HA:"Ä",JA:197,AE:"È",BE:"É",CE:"Ê",HE:"Ë",AI:"Ì",BI:"Í",CI:"Î",HI:"Ï",AO:"Ò",BO:"Ó",CO:"Ô",DO:213,HO:"Ö",AU:"Ù",BU:"Ú",CU:"Û",HU:"Ü",Aa:"à",Ba:"á",Ca:"â",Da:227,Ha:"ä",Ja:229,Ae:"è",Be:"é",Ce:"ê",He:"ë",Ai:"ì",Bi:"í",Ci:"î",Hi:"ï",Ao:"ò",Bo:"ó",Co:"ô",Do:245,Ho:"ö",Au:"ù",Bu:"ú",Cu:"û",Hu:"ü",KC:"Ç",Kc:"ç",q:"æ",z:"œ",a:"Æ",j:"Œ",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+qi(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(h,m){var g=e[m];return typeof g=="number"?m7(g):g},n=function(h,m,g){var p=m.charCodeAt(0)-32<<4|g.charCodeAt(0)-48;return p==59?h:m7(p)};e["|"]=254;function i(h,m){switch(m.type){case"base64":return a(Tu(h),m);case"binary":return a(h,m);case"buffer":return a(xr&&Buffer.isBuffer(h)?h.toString("binary"):ab(h),m);case"array":return a(BN(h),m)}throw new Error("Unrecognized type "+m.type)}function a(h,m){var g=h.split(/[\n\r]+/),p=-1,v=-1,y=0,x=0,w=[],N=[],E=null,T={},S=[],A=[],C=[],j=0,I;for(+m.codepage>=0&&Yx(+m.codepage);y!==g.length;++y){j=0;var O=g[y].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),k=O.replace(/;;/g,"\0").split(";").map(function(P){return P.replace(/\u0000/g,";")}),D=k[0],B;if(O.length>0)switch(D){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":k[1].charAt(0)=="P"&&N.push(O.slice(3).replace(/;;/g,";"));break;case"C":var ee=!1,z=!1,V=!1,U=!1,se=-1,ne=-1;for(x=1;x<k.length;++x)switch(k[x].charAt(0)){case"A":break;case"X":v=parseInt(k[x].slice(1))-1,z=!0;break;case"Y":for(p=parseInt(k[x].slice(1))-1,z||(v=0),I=w.length;I<=p;++I)w[I]=[];break;case"K":B=k[x].slice(1),B.charAt(0)==='"'?B=B.slice(1,B.length-1):B==="TRUE"?B=!0:B==="FALSE"?B=!1:isNaN(nu(B))?isNaN(Qx(B).getDate())||(B=ka(B)):(B=nu(B),E!==null&&Aae(E)&&(B=Rae(B))),ee=!0;break;case"E":U=!0;var M=mnt(k[x].slice(1),{r:p,c:v});w[p][v]=[w[p][v],M];break;case"S":V=!0,w[p][v]=[w[p][v],"S5S"];break;case"G":break;case"R":se=parseInt(k[x].slice(1))-1;break;case"C":ne=parseInt(k[x].slice(1))-1;break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+O)}if(ee&&(w[p][v]&&w[p][v].length==2?w[p][v][0]=B:w[p][v]=B,E=null),V){if(U)throw new Error("SYLK shared formula cannot have own formula");var W=se>-1&&w[se][ne];if(!W||!W[1])throw new Error("SYLK shared formula cannot find base");w[p][v][1]=pnt(W[1],{r:p-se,c:v-ne})}break;case"F":var G=0;for(x=1;x<k.length;++x)switch(k[x].charAt(0)){case"X":v=parseInt(k[x].slice(1))-1,++G;break;case"Y":for(p=parseInt(k[x].slice(1))-1,I=w.length;I<=p;++I)w[I]=[];break;case"M":j=parseInt(k[x].slice(1))/20;break;case"F":break;case"G":break;case"P":E=N[parseInt(k[x].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(C=k[x].slice(1).split(" "),I=parseInt(C[0],10);I<=parseInt(C[1],10);++I)j=parseInt(C[2],10),A[I-1]=j===0?{hidden:!0}:{wch:j},j3(A[I-1]);break;case"C":v=parseInt(k[x].slice(1))-1,A[v]||(A[v]={});break;case"R":p=parseInt(k[x].slice(1))-1,S[p]||(S[p]={}),j>0?(S[p].hpt=j,S[p].hpx=yse(j)):j===0&&(S[p].hidden=!0);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+O)}G<1&&(E=null);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+O)}}return S.length>0&&(T["!rows"]=S),A.length>0&&(T["!cols"]=A),m&&m.sheetRows&&(w=w.slice(0,m.sheetRows)),[w,T]}function s(h,m){var g=i(h,m),p=g[0],v=g[1],y=kg(p,m);return qi(v).forEach(function(x){y[x]=v[x]}),y}function o(h,m){return vm(s(h,m),m)}function c(h,m,g,p){var v="C;Y"+(g+1)+";X"+(p+1)+";K";switch(h.t){case"n":v+=h.v||0,h.f&&!h.F&&(v+=";E"+R3(h.f,{r:g,c:p}));break;case"b":v+=h.v?"TRUE":"FALSE";break;case"e":v+=h.w||h.v;break;case"d":v+='"'+(h.w||h.v)+'"';break;case"s":v+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return v}function u(h,m){m.forEach(function(g,p){var v="F;W"+(p+1)+" "+(p+1)+" ";g.hidden?v+="0":(typeof g.width=="number"&&!g.wpx&&(g.wpx=QS(g.width)),typeof g.wpx=="number"&&!g.wch&&(g.wch=ZS(g.wpx)),typeof g.wch=="number"&&(v+=Math.round(g.wch))),v.charAt(v.length-1)!=" "&&h.push(v)})}function d(h,m){m.forEach(function(g,p){var v="F;";g.hidden?v+="M0;":g.hpt?v+="M"+20*g.hpt+";":g.hpx&&(v+="M"+20*JS(g.hpx)+";"),v.length>2&&h.push(v+"R"+(p+1))})}function f(h,m){var g=["ID;PWXL;N;E"],p=[],v=cn(h["!ref"]),y,x=Array.isArray(h),w=`\r
`;g.push("P;PGeneral"),g.push("F;P0;DG0G8;M255"),h["!cols"]&&u(g,h["!cols"]),h["!rows"]&&d(g,h["!rows"]),g.push("B;Y"+(v.e.r-v.s.r+1)+";X"+(v.e.c-v.s.c+1)+";D"+[v.s.c,v.s.r,v.e.c,v.e.r].join(" "));for(var N=v.s.r;N<=v.e.r;++N)for(var E=v.s.c;E<=v.e.c;++E){var T=Rr({r:N,c:E});y=x?(h[N]||[])[E]:h[T],!(!y||y.v==null&&(!y.f||y.F))&&p.push(c(y,h,N,E))}return g.join(w)+w+p.join(w)+w+"E"+w}return{to_workbook:o,to_sheet:s,from_sheet:f}}(),vrt=function(){function e(a,s){switch(s.type){case"base64":return t(Tu(a),s);case"binary":return t(a,s);case"buffer":return t(xr&&Buffer.isBuffer(a)?a.toString("binary"):ab(a),s);case"array":return t(BN(a),s)}throw new Error("Unrecognized type "+s.type)}function t(a,s){for(var o=a.split(`
`),c=-1,u=-1,d=0,f=[];d!==o.length;++d){if(o[d].trim()==="BOT"){f[++c]=[],u=0;continue}if(!(c<0)){var h=o[d].trim().split(","),m=h[0],g=h[1];++d;for(var p=o[d]||"";(p.match(/["]/g)||[]).length&1&&d<o.length-1;)p+=`
`+o[++d];switch(p=p.trim(),+m){case-1:if(p==="BOT"){f[++c]=[],u=0;continue}else if(p!=="EOD")throw new Error("Unrecognized DIF special command "+p);break;case 0:p==="TRUE"?f[c][u]=!0:p==="FALSE"?f[c][u]=!1:isNaN(nu(g))?isNaN(Qx(g).getDate())?f[c][u]=g:f[c][u]=ka(g):f[c][u]=nu(g),++u;break;case 1:p=p.slice(1,p.length-1),p=p.replace(/""/g,'"'),p&&p.match(/^=".*"$/)&&(p=p.slice(2,-1)),f[c][u++]=p!==""?p:null;break}if(p==="EOD")break}}return s&&s.sheetRows&&(f=f.slice(0,s.sheetRows)),f}function r(a,s){return kg(e(a,s),s)}function n(a,s){return vm(r(a,s),s)}var i=function(){var a=function(c,u,d,f,h){c.push(u),c.push(d+","+f),c.push('"'+h.replace(/"/g,'""')+'"')},s=function(c,u,d,f){c.push(u+","+d),c.push(u==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(c){var u=[],d=cn(c["!ref"]),f,h=Array.isArray(c);a(u,"TABLE",0,1,"sheetjs"),a(u,"VECTORS",0,d.e.r-d.s.r+1,""),a(u,"TUPLES",0,d.e.c-d.s.c+1,""),a(u,"DATA",0,0,"");for(var m=d.s.r;m<=d.e.r;++m){s(u,-1,0,"BOT");for(var g=d.s.c;g<=d.e.c;++g){var p=Rr({r:m,c:g});if(f=h?(c[m]||[])[g]:c[p],!f){s(u,1,0,"");continue}switch(f.t){case"n":var v=f.w;!v&&f.v!=null&&(v=f.v),v==null?f.f&&!f.F?s(u,1,0,"="+f.f):s(u,1,0,""):s(u,0,v,"V");break;case"b":s(u,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":s(u,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=Jd(f.z||Mn[14],as(ka(f.v)))),s(u,0,f.w,"V");break;default:s(u,1,0,"")}}}s(u,-1,0,"EOD");var y=`\r
`,x=u.join(y);return x}}();return{to_workbook:n,to_sheet:r,from_sheet:i}}(),mse=function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,h){for(var m=f.split(`
`),g=-1,p=-1,v=0,y=[];v!==m.length;++v){var x=m[v].trim().split(":");if(x[0]==="cell"){var w=_i(x[1]);if(y.length<=w.r)for(g=y.length;g<=w.r;++g)y[g]||(y[g]=[]);switch(g=w.r,p=w.c,x[2]){case"t":y[g][p]=e(x[3]);break;case"v":y[g][p]=+x[3];break;case"vtf":var N=x[x.length-1];case"vtc":switch(x[3]){case"nl":y[g][p]=!!+x[4];break;default:y[g][p]=+x[4];break}x[2]=="vtf"&&(y[g][p]=[y[g][p],N])}}}return h&&h.sheetRows&&(y=y.slice(0,h.sheetRows)),y}function n(f,h){return kg(r(f,h),h)}function i(f,h){return vm(n(f,h),h)}var a=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),s=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function u(f){if(!f||!f["!ref"])return"";for(var h=[],m=[],g,p="",v=Ds(f["!ref"]),y=Array.isArray(f),x=v.s.r;x<=v.e.r;++x)for(var w=v.s.c;w<=v.e.c;++w)if(p=Rr({r:x,c:w}),g=y?(f[x]||[])[w]:f[p],!(!g||g.v==null||g.t==="z")){switch(m=["cell",p,"t"],g.t){case"s":case"str":m.push(t(g.v));break;case"n":g.f?(m[2]="vtf",m[3]="n",m[4]=g.v,m[5]=t(g.f)):(m[2]="v",m[3]=g.v);break;case"b":m[2]="vt"+(g.f?"f":"c"),m[3]="nl",m[4]=g.v?"1":"0",m[5]=t(g.f||(g.v?"TRUE":"FALSE"));break;case"d":var N=as(ka(g.v));m[2]="vtc",m[3]="nd",m[4]=""+N,m[5]=g.w||Jd(g.z||Mn[14],N);break;case"e":continue}h.push(m.join(":"))}return h.push("sheet:c:"+(v.e.c-v.s.c+1)+":r:"+(v.e.r-v.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function d(f){return[a,s,o,s,u(f),c].join(`
`)}return{to_workbook:i,to_sheet:n,from_sheet:d}}(),yrt=function(){function e(d,f,h,m,g){g.raw?f[h][m]=d:d===""||(d==="TRUE"?f[h][m]=!0:d==="FALSE"?f[h][m]=!1:isNaN(nu(d))?isNaN(Qx(d).getDate())?f[h][m]=d:f[h][m]=ka(d):f[h][m]=nu(d))}function t(d,f){var h=f||{},m=[];if(!d||d.length===0)return m;for(var g=d.split(/[\r\n]/),p=g.length-1;p>=0&&g[p].length===0;)--p;for(var v=10,y=0,x=0;x<=p;++x)y=g[x].indexOf(" "),y==-1?y=g[x].length:y++,v=Math.max(v,y);for(x=0;x<=p;++x){m[x]=[];var w=0;for(e(g[x].slice(0,v).trim(),m,x,w,h),w=1;w<=(g[x].length-v)/10+1;++w)e(g[x].slice(v+(w-1)*10,v+w*10).trim(),m,x,w,h)}return h.sheetRows&&(m=m.slice(0,h.sheetRows)),m}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function i(d){for(var f={},h=!1,m=0,g=0;m<d.length;++m)(g=d.charCodeAt(m))==34?h=!h:!h&&g in r&&(f[g]=(f[g]||0)+1);g=[];for(m in f)Object.prototype.hasOwnProperty.call(f,m)&&g.push([f[m],m]);if(!g.length){f=n;for(m in f)Object.prototype.hasOwnProperty.call(f,m)&&g.push([f[m],m])}return g.sort(function(p,v){return p[0]-v[0]||n[p[1]]-n[v[1]]}),r[g.pop()[1]]||44}function a(d,f){var h=f||{},m="",g=h.dense?[]:{},p={s:{c:0,r:0},e:{c:0,r:0}};d.slice(0,4)=="sep="?d.charCodeAt(5)==13&&d.charCodeAt(6)==10?(m=d.charAt(4),d=d.slice(7)):d.charCodeAt(5)==13||d.charCodeAt(5)==10?(m=d.charAt(4),d=d.slice(6)):m=i(d.slice(0,1024)):h&&h.FS?m=h.FS:m=i(d.slice(0,1024));var v=0,y=0,x=0,w=0,N=0,E=m.charCodeAt(0),T=!1,S=0,A=d.charCodeAt(0);d=d.replace(/\r\n/mg,`
`);var C=h.dateNF!=null?Oet(h.dateNF):null;function j(){var I=d.slice(w,N),O={};if(I.charAt(0)=='"'&&I.charAt(I.length-1)=='"'&&(I=I.slice(1,-1).replace(/""/g,'"')),I.length===0)O.t="z";else if(h.raw)O.t="s",O.v=I;else if(I.trim().length===0)O.t="s",O.v=I;else if(I.charCodeAt(0)==61)I.charCodeAt(1)==34&&I.charCodeAt(I.length-1)==34?(O.t="s",O.v=I.slice(2,-1).replace(/""/g,'"')):gnt(I)?(O.t="n",O.f=I.slice(1)):(O.t="s",O.v=I);else if(I=="TRUE")O.t="b",O.v=!0;else if(I=="FALSE")O.t="b",O.v=!1;else if(!isNaN(x=nu(I)))O.t="n",h.cellText!==!1&&(O.w=I),O.v=x;else if(!isNaN(Qx(I).getDate())||C&&I.match(C)){O.z=h.dateNF||Mn[14];var k=0;C&&I.match(C)&&(I=Det(I,h.dateNF,I.match(C)||[]),k=1),h.cellDates?(O.t="d",O.v=ka(I,k)):(O.t="n",O.v=as(ka(I,k))),h.cellText!==!1&&(O.w=Jd(O.z,O.v instanceof Date?as(O.v):O.v)),h.cellNF||delete O.z}else O.t="s",O.v=I;if(O.t=="z"||(h.dense?(g[v]||(g[v]=[]),g[v][y]=O):g[Rr({c:y,r:v})]=O),w=N+1,A=d.charCodeAt(w),p.e.c<y&&(p.e.c=y),p.e.r<v&&(p.e.r=v),S==E)++y;else if(y=0,++v,h.sheetRows&&h.sheetRows<=v)return!0}e:for(;N<d.length;++N)switch(S=d.charCodeAt(N)){case 34:A===34&&(T=!T);break;case E:case 10:case 13:if(!T&&j())break e;break}return N-w>0&&j(),g["!ref"]=ni(p),g}function s(d,f){return!(f&&f.PRN)||f.FS||d.slice(0,4)=="sep="||d.indexOf("	")>=0||d.indexOf(",")>=0||d.indexOf(";")>=0?a(d,f):kg(t(d,f),f)}function o(d,f){var h="",m=f.type=="string"?[0,0,0,0]:Pot(d,f);switch(f.type){case"base64":h=Tu(d);break;case"binary":h=d;break;case"buffer":f.codepage==65001?h=d.toString("utf8"):f.codepage&&typeof US<"u"||(h=xr&&Buffer.isBuffer(d)?d.toString("binary"):ab(d));break;case"array":h=BN(d);break;case"string":h=d;break;default:throw new Error("Unrecognized type "+f.type)}return m[0]==239&&m[1]==187&&m[2]==191?h=gy(h.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?h=gy(h):f.type=="binary"&&typeof US<"u",h.slice(0,19)=="socialcalc:version:"?mse.to_sheet(f.type=="string"?h:gy(h),f):s(h,f)}function c(d,f){return vm(o(d,f),f)}function u(d){for(var f=[],h=cn(d["!ref"]),m,g=Array.isArray(d),p=h.s.r;p<=h.e.r;++p){for(var v=[],y=h.s.c;y<=h.e.c;++y){var x=Rr({r:p,c:y});if(m=g?(d[p]||[])[y]:d[x],!m||m.v==null){v.push("          ");continue}for(var w=(m.w||(Nu(m),m.w)||"").slice(0,10);w.length<10;)w+=" ";v.push(w+(y===0?" ":""))}f.push(v.join(""))}return f.join(`
`)}return{to_workbook:c,to_sheet:o,from_sheet:u}}(),H7=function(){function e(M,W,G){if(M){vs(M,M.l||0);for(var P=G.Enum||se;M.l<M.length;){var J=M.read_shift(2),oe=P[J]||P[65535],ae=M.read_shift(2),K=M.l+ae,ie=oe.f&&oe.f(M,ae,G);if(M.l=K,W(ie,oe,J))return}}}function t(M,W){switch(W.type){case"base64":return r(Zo(Tu(M)),W);case"binary":return r(Zo(M),W);case"buffer":case"array":return r(M,W)}throw"Unsupported type "+W.type}function r(M,W){if(!M)return M;var G=W||{},P=G.dense?[]:{},J="Sheet1",oe="",ae=0,K={},ie=[],fe=[],le={s:{r:0,c:0},e:{r:0,c:0}},Be=G.sheetRows||0;if(M[2]==0&&(M[3]==8||M[3]==9)&&M.length>=16&&M[14]==5&&M[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(M[2]==2)G.Enum=se,e(M,function(ge,st,_e){switch(_e){case 0:G.vers=ge,ge>=4096&&(G.qpro=!0);break;case 6:le=ge;break;case 204:ge&&(oe=ge);break;case 222:oe=ge;break;case 15:case 51:G.qpro||(ge[1].v=ge[1].v.slice(1));case 13:case 14:case 16:_e==14&&(ge[2]&112)==112&&(ge[2]&15)>1&&(ge[2]&15)<15&&(ge[1].z=G.dateNF||Mn[14],G.cellDates&&(ge[1].t="d",ge[1].v=Rae(ge[1].v))),G.qpro&&ge[3]>ae&&(P["!ref"]=ni(le),K[J]=P,ie.push(J),P=G.dense?[]:{},le={s:{r:0,c:0},e:{r:0,c:0}},ae=ge[3],J=oe||"Sheet"+(ae+1),oe="");var Q=G.dense?(P[ge[0].r]||[])[ge[0].c]:P[Rr(ge[0])];if(Q){Q.t=ge[1].t,Q.v=ge[1].v,ge[1].z!=null&&(Q.z=ge[1].z),ge[1].f!=null&&(Q.f=ge[1].f);break}G.dense?(P[ge[0].r]||(P[ge[0].r]=[]),P[ge[0].r][ge[0].c]=ge[1]):P[Rr(ge[0])]=ge[1];break}},G);else if(M[2]==26||M[2]==14)G.Enum=ne,M[2]==14&&(G.qpro=!0,M.l=0),e(M,function(ge,st,_e){switch(_e){case 204:J=ge;break;case 22:ge[1].v=ge[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(ge[3]>ae&&(P["!ref"]=ni(le),K[J]=P,ie.push(J),P=G.dense?[]:{},le={s:{r:0,c:0},e:{r:0,c:0}},ae=ge[3],J="Sheet"+(ae+1)),Be>0&&ge[0].r>=Be)break;G.dense?(P[ge[0].r]||(P[ge[0].r]=[]),P[ge[0].r][ge[0].c]=ge[1]):P[Rr(ge[0])]=ge[1],le.e.c<ge[0].c&&(le.e.c=ge[0].c),le.e.r<ge[0].r&&(le.e.r=ge[0].r);break;case 27:ge[14e3]&&(fe[ge[14e3][0]]=ge[14e3][1]);break;case 1537:fe[ge[0]]=ge[1],ge[0]==ae&&(J=ge[1]);break}},G);else throw new Error("Unrecognized LOTUS BOF "+M[2]);if(P["!ref"]=ni(le),K[oe||J]=P,ie.push(oe||J),!fe.length)return{SheetNames:ie,Sheets:K};for(var Oe={},vt=[],mt=0;mt<fe.length;++mt)K[ie[mt]]?(vt.push(fe[mt]||ie[mt]),Oe[fe[mt]]=K[fe[mt]]||K[ie[mt]]):(vt.push(fe[mt]),Oe[fe[mt]]={"!ref":"A1"});return{SheetNames:vt,Sheets:Oe}}function n(M,W){var G=W||{};if(+G.codepage>=0&&Yx(+G.codepage),G.type=="string")throw new Error("Cannot write WK1 to JS string");var P=ns(),J=cn(M["!ref"]),oe=Array.isArray(M),ae=[];Ke(P,0,a(1030)),Ke(P,6,c(J));for(var K=Math.min(J.e.r,8191),ie=J.s.r;ie<=K;++ie)for(var fe=Ui(ie),le=J.s.c;le<=J.e.c;++le){ie===J.s.r&&(ae[le]=da(le));var Be=ae[le]+fe,Oe=oe?(M[ie]||[])[le]:M[Be];if(!(!Oe||Oe.t=="z"))if(Oe.t=="n")(Oe.v|0)==Oe.v&&Oe.v>=-32768&&Oe.v<=32767?Ke(P,13,m(ie,le,Oe.v)):Ke(P,14,p(ie,le,Oe.v));else{var vt=Nu(Oe);Ke(P,15,f(ie,le,vt.slice(0,239)))}}return Ke(P,1),P.end()}function i(M,W){var G=W||{};if(+G.codepage>=0&&Yx(+G.codepage),G.type=="string")throw new Error("Cannot write WK3 to JS string");var P=ns();Ke(P,0,s(M));for(var J=0,oe=0;J<M.SheetNames.length;++J)(M.Sheets[M.SheetNames[J]]||{})["!ref"]&&Ke(P,27,U(M.SheetNames[J],oe++));var ae=0;for(J=0;J<M.SheetNames.length;++J){var K=M.Sheets[M.SheetNames[J]];if(!(!K||!K["!ref"])){for(var ie=cn(K["!ref"]),fe=Array.isArray(K),le=[],Be=Math.min(ie.e.r,8191),Oe=ie.s.r;Oe<=Be;++Oe)for(var vt=Ui(Oe),mt=ie.s.c;mt<=ie.e.c;++mt){Oe===ie.s.r&&(le[mt]=da(mt));var ge=le[mt]+vt,st=fe?(K[Oe]||[])[mt]:K[ge];if(!(!st||st.t=="z"))if(st.t=="n")Ke(P,23,j(Oe,mt,ae,st.v));else{var _e=Nu(st);Ke(P,22,S(Oe,mt,ae,_e.slice(0,239)))}}++ae}}return Ke(P,1),P.end()}function a(M){var W=Ae(2);return W.write_shift(2,M),W}function s(M){var W=Ae(26);W.write_shift(2,4096),W.write_shift(2,4),W.write_shift(4,0);for(var G=0,P=0,J=0,oe=0;oe<M.SheetNames.length;++oe){var ae=M.SheetNames[oe],K=M.Sheets[ae];if(!(!K||!K["!ref"])){++J;var ie=Ds(K["!ref"]);G<ie.e.r&&(G=ie.e.r),P<ie.e.c&&(P=ie.e.c)}}return G>8191&&(G=8191),W.write_shift(2,G),W.write_shift(1,J),W.write_shift(1,P),W.write_shift(2,0),W.write_shift(2,0),W.write_shift(1,1),W.write_shift(1,2),W.write_shift(4,0),W.write_shift(4,0),W}function o(M,W,G){var P={s:{c:0,r:0},e:{c:0,r:0}};return W==8&&G.qpro?(P.s.c=M.read_shift(1),M.l++,P.s.r=M.read_shift(2),P.e.c=M.read_shift(1),M.l++,P.e.r=M.read_shift(2),P):(P.s.c=M.read_shift(2),P.s.r=M.read_shift(2),W==12&&G.qpro&&(M.l+=2),P.e.c=M.read_shift(2),P.e.r=M.read_shift(2),W==12&&G.qpro&&(M.l+=2),P.s.c==65535&&(P.s.c=P.e.c=P.s.r=P.e.r=0),P)}function c(M){var W=Ae(8);return W.write_shift(2,M.s.c),W.write_shift(2,M.s.r),W.write_shift(2,M.e.c),W.write_shift(2,M.e.r),W}function u(M,W,G){var P=[{c:0,r:0},{t:"n",v:0},0,0];return G.qpro&&G.vers!=20768?(P[0].c=M.read_shift(1),P[3]=M.read_shift(1),P[0].r=M.read_shift(2),M.l+=2):(P[2]=M.read_shift(1),P[0].c=M.read_shift(2),P[0].r=M.read_shift(2)),P}function d(M,W,G){var P=M.l+W,J=u(M,W,G);if(J[1].t="s",G.vers==20768){M.l++;var oe=M.read_shift(1);return J[1].v=M.read_shift(oe,"utf8"),J}return G.qpro&&M.l++,J[1].v=M.read_shift(P-M.l,"cstr"),J}function f(M,W,G){var P=Ae(7+G.length);P.write_shift(1,255),P.write_shift(2,W),P.write_shift(2,M),P.write_shift(1,39);for(var J=0;J<P.length;++J){var oe=G.charCodeAt(J);P.write_shift(1,oe>=128?95:oe)}return P.write_shift(1,0),P}function h(M,W,G){var P=u(M,W,G);return P[1].v=M.read_shift(2,"i"),P}function m(M,W,G){var P=Ae(7);return P.write_shift(1,255),P.write_shift(2,W),P.write_shift(2,M),P.write_shift(2,G,"i"),P}function g(M,W,G){var P=u(M,W,G);return P[1].v=M.read_shift(8,"f"),P}function p(M,W,G){var P=Ae(13);return P.write_shift(1,255),P.write_shift(2,W),P.write_shift(2,M),P.write_shift(8,G,"f"),P}function v(M,W,G){var P=M.l+W,J=u(M,W,G);if(J[1].v=M.read_shift(8,"f"),G.qpro)M.l=P;else{var oe=M.read_shift(2);N(M.slice(M.l,M.l+oe),J),M.l+=oe}return J}function y(M,W,G){var P=W&32768;return W&=-32769,W=(P?M:0)+(W>=8192?W-16384:W),(P?"":"$")+(G?da(W):Ui(W))}var x={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},w=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function N(M,W){vs(M,0);for(var G=[],P=0,J="",oe="",ae="",K="";M.l<M.length;){var ie=M[M.l++];switch(ie){case 0:G.push(M.read_shift(8,"f"));break;case 1:oe=y(W[0].c,M.read_shift(2),!0),J=y(W[0].r,M.read_shift(2),!1),G.push(oe+J);break;case 2:{var fe=y(W[0].c,M.read_shift(2),!0),le=y(W[0].r,M.read_shift(2),!1);oe=y(W[0].c,M.read_shift(2),!0),J=y(W[0].r,M.read_shift(2),!1),G.push(fe+le+":"+oe+J)}break;case 3:if(M.l<M.length){console.error("WK1 premature formula end");return}break;case 4:G.push("("+G.pop()+")");break;case 5:G.push(M.read_shift(2));break;case 6:{for(var Be="";ie=M[M.l++];)Be+=String.fromCharCode(ie);G.push('"'+Be.replace(/"/g,'""')+'"')}break;case 8:G.push("-"+G.pop());break;case 23:G.push("+"+G.pop());break;case 22:G.push("NOT("+G.pop()+")");break;case 20:case 21:K=G.pop(),ae=G.pop(),G.push(["AND","OR"][ie-20]+"("+ae+","+K+")");break;default:if(ie<32&&w[ie])K=G.pop(),ae=G.pop(),G.push(ae+w[ie]+K);else if(x[ie]){if(P=x[ie][1],P==69&&(P=M[M.l++]),P>G.length){console.error("WK1 bad formula parse 0x"+ie.toString(16)+":|"+G.join("|")+"|");return}var Oe=G.slice(-P);G.length-=P,G.push(x[ie][0]+"("+Oe.join(",")+")")}else return ie<=7?console.error("WK1 invalid opcode "+ie.toString(16)):ie<=24?console.error("WK1 unsupported op "+ie.toString(16)):ie<=30?console.error("WK1 invalid opcode "+ie.toString(16)):ie<=115?console.error("WK1 unsupported function opcode "+ie.toString(16)):console.error("WK1 unrecognized opcode "+ie.toString(16))}}G.length==1?W[1].f=""+G[0]:console.error("WK1 bad formula parse |"+G.join("|")+"|")}function E(M){var W=[{c:0,r:0},{t:"n",v:0},0];return W[0].r=M.read_shift(2),W[3]=M[M.l++],W[0].c=M[M.l++],W}function T(M,W){var G=E(M);return G[1].t="s",G[1].v=M.read_shift(W-4,"cstr"),G}function S(M,W,G,P){var J=Ae(6+P.length);J.write_shift(2,M),J.write_shift(1,G),J.write_shift(1,W),J.write_shift(1,39);for(var oe=0;oe<P.length;++oe){var ae=P.charCodeAt(oe);J.write_shift(1,ae>=128?95:ae)}return J.write_shift(1,0),J}function A(M,W){var G=E(M);G[1].v=M.read_shift(2);var P=G[1].v>>1;if(G[1].v&1)switch(P&7){case 0:P=(P>>3)*5e3;break;case 1:P=(P>>3)*500;break;case 2:P=(P>>3)/20;break;case 3:P=(P>>3)/200;break;case 4:P=(P>>3)/2e3;break;case 5:P=(P>>3)/2e4;break;case 6:P=(P>>3)/16;break;case 7:P=(P>>3)/64;break}return G[1].v=P,G}function C(M,W){var G=E(M),P=M.read_shift(4),J=M.read_shift(4),oe=M.read_shift(2);if(oe==65535)return P===0&&J===3221225472?(G[1].t="e",G[1].v=15):P===0&&J===3489660928?(G[1].t="e",G[1].v=42):G[1].v=0,G;var ae=oe&32768;return oe=(oe&32767)-16446,G[1].v=(1-ae*2)*(J*Math.pow(2,oe+32)+P*Math.pow(2,oe)),G}function j(M,W,G,P){var J=Ae(14);if(J.write_shift(2,M),J.write_shift(1,G),J.write_shift(1,W),P==0)return J.write_shift(4,0),J.write_shift(4,0),J.write_shift(2,65535),J;var oe=0,ae=0,K=0,ie=0;return P<0&&(oe=1,P=-P),ae=Math.log2(P)|0,P/=Math.pow(2,ae-31),ie=P>>>0,ie&2147483648||(P/=2,++ae,ie=P>>>0),P-=ie,ie|=2147483648,ie>>>=0,P*=Math.pow(2,32),K=P>>>0,J.write_shift(4,K),J.write_shift(4,ie),ae+=16383+(oe?32768:0),J.write_shift(2,ae),J}function I(M,W){var G=C(M);return M.l+=W-14,G}function O(M,W){var G=E(M),P=M.read_shift(4);return G[1].v=P>>6,G}function k(M,W){var G=E(M),P=M.read_shift(8,"f");return G[1].v=P,G}function D(M,W){var G=k(M);return M.l+=W-10,G}function B(M,W){return M[M.l+W-1]==0?M.read_shift(W,"cstr"):""}function ee(M,W){var G=M[M.l++];G>W-1&&(G=W-1);for(var P="";P.length<G;)P+=String.fromCharCode(M[M.l++]);return P}function z(M,W,G){if(!(!G.qpro||W<21)){var P=M.read_shift(1);M.l+=17,M.l+=1,M.l+=2;var J=M.read_shift(W-21,"cstr");return[P,J]}}function V(M,W){for(var G={},P=M.l+W;M.l<P;){var J=M.read_shift(2);if(J==14e3){for(G[J]=[0,""],G[J][0]=M.read_shift(2);M[M.l];)G[J][1]+=String.fromCharCode(M[M.l]),M.l++;M.l++}}return G}function U(M,W){var G=Ae(5+M.length);G.write_shift(2,14e3),G.write_shift(2,W);for(var P=0;P<M.length;++P){var J=M.charCodeAt(P);G[G.l++]=J>127?95:J}return G[G.l++]=0,G}var se={0:{n:"BOF",f:cse},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:g},15:{n:"LABEL",f:d},16:{n:"FORMULA",f:v},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:d},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:B},222:{n:"SHEETNAMELP",f:ee},65535:{n:""}},ne={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:T},23:{n:"NUMBER17",f:C},24:{n:"NUMBER18",f:A},25:{n:"FORMULA19",f:I},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:V},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:O},38:{n:"??"},39:{n:"NUMBER27",f:k},40:{n:"FORMULA28",f:D},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:B},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:z},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:i,to_workbook:t}}(),xrt=/^\s|\s$|[\t\n\r]/;function pse(e,t){if(!t.bookSST)return"";var r=[ai];r[r.length]=Ge("sst",null,{xmlns:Rg[0],count:e.Count,uniqueCount:e.Unique});for(var n=0;n!=e.length;++n)if(e[n]!=null){var i=e[n],a="<si>";i.r?a+=i.r:(a+="<t",i.t||(i.t=""),i.t.match(xrt)&&(a+=' xml:space="preserve"'),a+=">"+jr(i.t)+"</t>"),a+="</si>",r[r.length]=a}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function brt(e){return[e.read_shift(4),e.read_shift(4)]}function wrt(e,t){return t||(t=Ae(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var _rt=ftt;function Ert(e){var t=ns();De(t,159,wrt(e));for(var r=0;r<e.length;++r)De(t,19,_rt(e[r]));return De(t,160),t.end()}function Srt(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function gse(e){var t=0,r,n=Srt(e),i=n.length+1,a,s,o,c,u;for(r=Wh(i),r[0]=n.length,a=1;a!=i;++a)r[a]=n[a-1];for(a=i-1;a>=0;--a)s=r[a],o=t&16384?1:0,c=t<<1&32767,u=o|c,t=u^s;return t^52811}var Trt=function(){function e(i,a){switch(a.type){case"base64":return t(Tu(i),a);case"binary":return t(i,a);case"buffer":return t(xr&&Buffer.isBuffer(i)?i.toString("binary"):ab(i),a);case"array":return t(BN(i),a)}throw new Error("Unrecognized type "+a.type)}function t(i,a){var s=a||{},o=s.dense?[]:{},c=i.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(d,f){Array.isArray(o)&&(o[f]=[]);for(var h=/\\\w+\b/g,m=0,g,p=-1;g=h.exec(d);){switch(g[0]){case"\\cell":var v=d.slice(m,h.lastIndex-g[0].length);if(v[0]==" "&&(v=v.slice(1)),++p,v.length){var y={v,t:"s"};Array.isArray(o)?o[f][p]=y:o[Rr({r:f,c:p})]=y}break}m=h.lastIndex}p>u.e.c&&(u.e.c=p)}),o["!ref"]=ni(u),o}function r(i,a){return vm(e(i,a),a)}function n(i){for(var a=["{\\rtf1\\ansi"],s=cn(i["!ref"]),o,c=Array.isArray(i),u=s.s.r;u<=s.e.r;++u){a.push("\\trowd\\trautofit1");for(var d=s.s.c;d<=s.e.c;++d)a.push("\\cellx"+(d+1));for(a.push("\\pard\\intbl"),d=s.s.c;d<=s.e.c;++d){var f=Rr({r:u,c:d});o=c?(i[u]||[])[d]:i[f],!(!o||o.v==null&&(!o.f||o.F))&&(a.push(" "+(o.w||(Nu(o),o.w))),a.push("\\cell"))}a.push("\\pard\\intbl\\row")}return a.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function q7(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}var Nrt=6,iu=Nrt;function QS(e){return Math.floor((e+Math.round(128/iu)/256)*iu)}function ZS(e){return Math.floor((e-5)/iu*100+.5)/100}function pI(e){return Math.round((e*iu+5)/iu*256)/256}function j3(e){e.width?(e.wpx=QS(e.width),e.wch=ZS(e.wpx),e.MDW=iu):e.wpx?(e.wch=ZS(e.wpx),e.width=pI(e.wch),e.MDW=iu):typeof e.wch=="number"&&(e.width=pI(e.wch),e.wpx=QS(e.width),e.MDW=iu),e.customWidth&&delete e.customWidth}var Art=96,vse=Art;function JS(e){return e*96/vse}function yse(e){return e*vse/96}function Crt(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)e[n]!=null&&(t[t.length]=Ge("numFmt",null,{numFmtId:n,formatCode:jr(e[n])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=Ge("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function jrt(e){var t=[];return t[t.length]=Ge("cellXfs",null),e.forEach(function(r){t[t.length]=Ge("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=Ge("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function xse(e,t){var r=[ai,Ge("styleSheet",null,{xmlns:Rg[0],"xmlns:vt":wi.vt})],n;return e.SSF&&(n=Crt(e.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=jrt(t.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function Prt(e,t){var r=e.read_shift(2),n=fa(e);return[r,n]}function Rrt(e,t,r){r||(r=Ae(6+4*t.length)),r.write_shift(2,e),Ei(t,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function krt(e,t,r){var n={};n.sz=e.read_shift(2)/20;var i=xtt(e);i.fItalic&&(n.italic=1),i.fCondense&&(n.condense=1),i.fExtend&&(n.extend=1),i.fShadow&&(n.shadow=1),i.fOutline&&(n.outline=1),i.fStrikeout&&(n.strike=1);var a=e.read_shift(2);switch(a===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var s=e.read_shift(1);s!=0&&(n.underline=s);var o=e.read_shift(1);o>0&&(n.family=o);var c=e.read_shift(1);switch(c>0&&(n.charset=c),e.l++,n.color=ytt(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=fa(e),n}function Irt(e,t){t||(t=Ae(25+4*32)),t.write_shift(2,e.sz*20),btt(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),YS(e.color,t);var n=0;return n=2,t.write_shift(1,n),Ei(e.name,t),t.length>t.l?t.slice(0,t.l):t}var Ort=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],uj,Drt=pc;function G7(e,t){t||(t=Ae(4*3+8*7+16*1)),uj||(uj=v3(Ort));var r=uj[e.patternType];r==null&&(r=40),t.write_shift(4,r);var n=0;if(r!=40)for(YS({auto:1},t),YS({auto:1},t);n<12;++n)t.write_shift(4,0);else{for(;n<4;++n)t.write_shift(4,0);for(;n<12;++n)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function Mrt(e,t){var r=e.l+t,n=e.read_shift(2),i=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:i}}function bse(e,t,r){r||(r=Ae(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function gv(e,t){return t||(t=Ae(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var Lrt=pc;function Frt(e,t){return t||(t=Ae(51)),t.write_shift(1,0),gv(null,t),gv(null,t),gv(null,t),gv(null,t),gv(null,t),t.length>t.l?t.slice(0,t.l):t}function $rt(e,t){return t||(t=Ae(12+4*10)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,0),t.write_shift(1,0),KS(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function Brt(e,t,r){var n=Ae(2052);return n.write_shift(4,e),KS(t,n),KS(r,n),n.length>n.l?n.slice(0,n.l):n}function Vrt(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)t[i]!=null&&++r}),r!=0&&(De(e,615,cl(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)t[i]!=null&&De(e,44,Rrt(i,t[i]))}),De(e,616))}}function Urt(e){var t=1;De(e,611,cl(t)),De(e,43,Irt({sz:12,color:{theme:1},name:"Calibri",family:2})),De(e,612)}function zrt(e){var t=2;De(e,603,cl(t)),De(e,45,G7({patternType:"none"})),De(e,45,G7({patternType:"gray125"})),De(e,604)}function Wrt(e){var t=1;De(e,613,cl(t)),De(e,46,Frt()),De(e,614)}function Hrt(e){var t=1;De(e,626,cl(t)),De(e,47,bse({numFmtId:0},65535)),De(e,627)}function qrt(e,t){De(e,617,cl(t.length)),t.forEach(function(r){De(e,47,bse(r,0))}),De(e,618)}function Grt(e){var t=1;De(e,619,cl(t)),De(e,48,$rt({xfId:0,name:"Normal"})),De(e,620)}function Krt(e){var t=0;De(e,505,cl(t)),De(e,506)}function Yrt(e){var t=0;De(e,508,Brt(t,"TableStyleMedium9","PivotStyleMedium4")),De(e,509)}function Xrt(e,t){var r=ns();return De(r,278),Vrt(r,e.SSF),Urt(r),zrt(r),Wrt(r),Hrt(r),qrt(r,t.cellXfs),Grt(r),Krt(r),Yrt(r),De(r,279),r.end()}function wse(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[ai];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function Qrt(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:fa(e)}}function Zrt(e){var t=Ae(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),Ei(e.name,t),t.slice(0,t.l)}function Jrt(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function ent(e){var t=Ae(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function tnt(e,t){var r=Ae(8+2*t.length);return r.write_shift(4,e),Ei(t,r),r.slice(0,r.l)}function rnt(e){return e.l+=4,e.read_shift(4)!=0}function nnt(e,t){var r=Ae(8);return r.write_shift(4,e),r.write_shift(4,1),r}function int(){var e=ns();return De(e,332),De(e,334,cl(1)),De(e,335,Zrt({name:"XLDAPR",version:12e4,flags:3496657072})),De(e,336),De(e,339,tnt(1,"XLDAPR")),De(e,52),De(e,35,cl(514)),De(e,4096,cl(0)),De(e,4097,ro(1)),De(e,36),De(e,53),De(e,340),De(e,337,nnt(1)),De(e,51,ent([[1,0]])),De(e,338),De(e,333),e.end()}function _se(){var e=[ai];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function ant(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=Rr(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}var pp=1024;function Ese(e,t){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),i=[Ge("xml",null,{"xmlns:v":bs.v,"xmlns:o":bs.o,"xmlns:x":bs.x,"xmlns:mv":bs.mv}).replace(/\/>/,">"),Ge("o:shapelayout",Ge("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),Ge("v:shapetype",[Ge("v:stroke",null,{joinstyle:"miter"}),Ge("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];pp<e*1e3;)pp+=1e3;return t.forEach(function(a){var s=_i(a[0]),o={color2:"#BEFF82",type:"gradient"};o.type=="gradient"&&(o.angle="-180");var c=o.type=="gradient"?Ge("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,u=Ge("v:fill",c,o),d={on:"t",obscured:"t"};++pp,i=i.concat(["<v:shape"+Jx({id:"_x0000_s"+pp,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(a[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",u,Ge("v:shadow",null,d),Ge("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",$i("x:Anchor",[s.c+1,0,s.r+1,0,s.c+3,20,s.r+5,20].join(",")),$i("x:AutoFill","False"),$i("x:Row",String(s.r)),$i("x:Column",String(s.c)),a[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function Sse(e){var t=[ai,Ge("comments",null,{xmlns:Rg[0]})],r=[];return t.push("<authors>"),e.forEach(function(n){n[1].forEach(function(i){var a=jr(i.a);r.indexOf(a)==-1&&(r.push(a),t.push("<author>"+a+"</author>")),i.T&&i.ID&&r.indexOf("tc="+i.ID)==-1&&(r.push("tc="+i.ID),t.push("<author>tc="+i.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(n){var i=0,a=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?i=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(c){c.a&&(i=r.indexOf(jr(c.a))),a.push(c.t||"")}),t.push('<comment ref="'+n[0]+'" authorId="'+i+'"><text>'),a.length<=1)t.push($i("t",jr(a[0]||"")));else{for(var s=`Comment:
    `+a[0]+`
`,o=1;o<a.length;++o)s+=`Reply:
    `+a[o]+`
`;t.push($i("t",jr(s)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function snt(e,t,r){var n=[ai,Ge("ThreadedComments",null,{xmlns:wi.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(i){var a="";(i[1]||[]).forEach(function(s,o){if(!s.T){delete s.ID;return}s.a&&t.indexOf(s.a)==-1&&t.push(s.a);var c={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};o==0?a=c.id:c.parentId=a,s.ID=c.id,s.a&&(c.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(s.a)).slice(-12)+"}"),n.push(Ge("threadedComment",$i("text",s.t||""),c))})}),n.push("</ThreadedComments>"),n.join("")}function ont(e){var t=[ai,Ge("personList",null,{xmlns:wi.TCMNT,"xmlns:x":Rg[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,n){t.push(Ge("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function lnt(e){var t={};t.iauthor=e.read_shift(4);var r=wm(e);return t.rfx=r.s,t.ref=Rr(r.s),e.l+=16,t}function cnt(e,t){return t==null&&(t=Ae(36)),t.write_shift(4,e[1].iauthor),Ig(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var unt=fa;function dnt(e){return Ei(e.slice(0,54))}function fnt(e){var t=ns(),r=[];return De(t,628),De(t,630),e.forEach(function(n){n[1].forEach(function(i){r.indexOf(i.a)>-1||(r.push(i.a.slice(0,54)),De(t,632,dnt(i.a)))})}),De(t,631),De(t,633),e.forEach(function(n){n[1].forEach(function(i){i.iauthor=r.indexOf(i.a);var a={s:_i(n[0]),e:_i(n[0])};De(t,635,cnt([a,i])),i.t&&i.t.length>0&&De(t,637,mtt(i)),De(t,636),delete i.iauthor})}),De(t,634),De(t,629),t.end()}function hnt(e,t){t.FullPaths.forEach(function(r,n){if(n!=0){var i=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");i.slice(-1)!=="/"&&Dr.utils.cfb_add(e,i,t.FileIndex[n].content)}})}var Tse=["xlsb","xlsm","xlam","biff8","xla"],mnt=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,i,a,s){var o=!1,c=!1;a.length==0?c=!0:a.charAt(0)=="["&&(c=!0,a=a.slice(1,-1)),s.length==0?o=!0:s.charAt(0)=="["&&(o=!0,s=s.slice(1,-1));var u=a.length>0?parseInt(a,10)|0:0,d=s.length>0?parseInt(s,10)|0:0;return o?d+=t.c:--d,c?u+=t.r:--u,i+(o?"":"$")+da(d)+(c?"":"$")+Ui(u)}return function(i,a){return t=a,i.replace(e,r)}}(),P3=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,R3=function(){return function(t,r){return t.replace(P3,function(n,i,a,s,o,c){var u=S3(s)-(a?0:r.c),d=E3(c)-(o?0:r.r),f=d==0?"":o?d+1:"["+d+"]",h=u==0?"":a?u+1:"["+u+"]";return i+"R"+f+"C"+h})}}();function pnt(e,t){return e.replace(P3,function(r,n,i,a,s,o){return n+(i=="$"?i+a:da(S3(a)+t.c))+(s=="$"?s+o:Ui(E3(o)+t.r))})}function gnt(e){return e.length!=1}function qn(e){e.l+=1}function ef(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function Nse(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return Ase(e);r.biff==12&&(n=4)}var i=e.read_shift(n),a=e.read_shift(n),s=ef(e),o=ef(e);return{s:{r:i,c:s[0],cRel:s[1],rRel:s[2]},e:{r:a,c:o[0],cRel:o[1],rRel:o[2]}}}function Ase(e){var t=ef(e),r=ef(e),n=e.read_shift(1),i=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:i,cRel:r[1],rRel:r[2]}}}function vnt(e,t,r){if(r.biff<8)return Ase(e);var n=e.read_shift(r.biff==12?4:2),i=e.read_shift(r.biff==12?4:2),a=ef(e),s=ef(e);return{s:{r:n,c:a[0],cRel:a[1],rRel:a[2]},e:{r:i,c:s[0],cRel:s[1],rRel:s[2]}}}function Cse(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return ynt(e);var n=e.read_shift(r&&r.biff==12?4:2),i=ef(e);return{r:n,c:i[0],cRel:i[1],rRel:i[2]}}function ynt(e){var t=ef(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function xnt(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function bnt(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return wnt(e);var i=e.read_shift(n>=12?4:2),a=e.read_shift(2),s=(a&16384)>>14,o=(a&32768)>>15;if(a&=16383,o==1)for(;i>524287;)i-=1048576;if(s==1)for(;a>8191;)a=a-16384;return{r:i,c:a,cRel:s,rRel:o}}function wnt(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,i=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),i==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:i,rRel:n}}function _nt(e,t,r){var n=(e[e.l++]&96)>>5,i=Nse(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,i]}function Ent(e,t,r){var n=(e[e.l++]&96)>>5,i=e.read_shift(2,"i"),a=8;if(r)switch(r.biff){case 5:e.l+=12,a=6;break;case 12:a=12;break}var s=Nse(e,a,r);return[n,i,s]}function Snt(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function Tnt(e,t,r){var n=(e[e.l++]&96)>>5,i=e.read_shift(2),a=8;if(r)switch(r.biff){case 5:e.l+=12,a=6;break;case 12:a=12;break}return e.l+=a,[n,i]}function Nnt(e,t,r){var n=(e[e.l++]&96)>>5,i=vnt(e,t-1,r);return[n,i]}function Ant(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function K7(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function Cnt(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),i=[],a=0;a<=n;++a)i.push(e.read_shift(r&&r.biff==2?1:2));return i}function jnt(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function Pnt(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function Rnt(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function knt(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function jse(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function Int(e){return e.read_shift(2),jse(e)}function Ont(e){return e.read_shift(2),jse(e)}function Dnt(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var i=Cse(e,0,r);return[n,i]}function Mnt(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var i=bnt(e,0,r);return[n,i]}function Lnt(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var i=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var a=Cse(e,0,r);return[n,i,a]}function Fnt(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var i=e.read_shift(r&&r.biff<=3?1:2);return[Fit[i],kse[i],n]}function $nt(e,t,r){var n=e[e.l++],i=e.read_shift(1),a=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:Bnt(e);return[i,(a[0]===0?kse:Lit)[a[1]]]}function Bnt(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function Vnt(e,t,r){e.l+=r&&r.biff==2?3:4}function Unt(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),i=e.read_shift(r&&r.biff==2?1:2);return[n,i]}function znt(e){return e.l++,lb[e.read_shift(1)]}function Wnt(e){return e.l++,e.read_shift(2)}function Hnt(e){return e.l++,e.read_shift(1)!==0}function qnt(e){return e.l++,Og(e)}function Gnt(e,t,r){return e.l++,dse(e,t-1,r)}function Knt(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=Ltt(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=lb[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=Og(e);break;case 2:r[1]=Vtt(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function Ynt(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),i=[],a=0;a!=n;++a)i.push((r.biff==12?wm:Wtt)(e));return i}function Xnt(e,t,r){var n=0,i=0;r.biff==12?(n=e.read_shift(4),i=e.read_shift(4)):(i=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--i==0&&(i=256));for(var a=0,s=[];a!=n&&(s[a]=[]);++a)for(var o=0;o!=i;++o)s[a][o]=Knt(e,r.biff);return s}function Qnt(e,t,r){var n=e.read_shift(1)>>>5&3,i=!r||r.biff>=8?4:2,a=e.read_shift(i);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,a]}function Znt(e,t,r){if(r.biff==5)return Jnt(e);var n=e.read_shift(1)>>>5&3,i=e.read_shift(2),a=e.read_shift(4);return[n,i,a]}function Jnt(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function eit(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var i=e.read_shift(r&&r.biff==2?1:2);return[n,i]}function tit(e,t,r){var n=e.read_shift(1)>>>5&3,i=e.read_shift(r&&r.biff==2?1:2);return[n,i]}function rit(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function nit(e,t,r){var n=(e[e.l++]&96)>>5,i=e.read_shift(2),a=4;if(r)switch(r.biff){case 5:a=15;break;case 12:a=6;break}return e.l+=a,[n,i]}var iit=pc,ait=pc,sit=pc;function cb(e,t,r){return e.l+=2,[xnt(e)]}function k3(e){return e.l+=6,[]}var oit=cb,lit=k3,cit=k3,uit=cb;function Pse(e){return e.l+=2,[cse(e),e.read_shift(2)&1]}var dit=cb,fit=Pse,hit=k3,mit=cb,pit=cb,git=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function vit(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),i=e.read_shift(2),a=e.read_shift(2),s=git[r>>2&31];return{ixti:t,coltype:r&3,rt:s,idx:n,c:i,C:a}}function yit(e){return e.l+=2,[e.read_shift(4)]}function xit(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function bit(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function wit(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function _it(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function Eit(e){return e.l+=4,[0,0]}var Y7={1:{n:"PtgExp",f:Unt},2:{n:"PtgTbl",f:sit},3:{n:"PtgAdd",f:qn},4:{n:"PtgSub",f:qn},5:{n:"PtgMul",f:qn},6:{n:"PtgDiv",f:qn},7:{n:"PtgPower",f:qn},8:{n:"PtgConcat",f:qn},9:{n:"PtgLt",f:qn},10:{n:"PtgLe",f:qn},11:{n:"PtgEq",f:qn},12:{n:"PtgGe",f:qn},13:{n:"PtgGt",f:qn},14:{n:"PtgNe",f:qn},15:{n:"PtgIsect",f:qn},16:{n:"PtgUnion",f:qn},17:{n:"PtgRange",f:qn},18:{n:"PtgUplus",f:qn},19:{n:"PtgUminus",f:qn},20:{n:"PtgPercent",f:qn},21:{n:"PtgParen",f:qn},22:{n:"PtgMissArg",f:qn},23:{n:"PtgStr",f:Gnt},26:{n:"PtgSheet",f:xit},27:{n:"PtgEndSheet",f:bit},28:{n:"PtgErr",f:znt},29:{n:"PtgBool",f:Hnt},30:{n:"PtgInt",f:Wnt},31:{n:"PtgNum",f:qnt},32:{n:"PtgArray",f:Ant},33:{n:"PtgFunc",f:Fnt},34:{n:"PtgFuncVar",f:$nt},35:{n:"PtgName",f:Qnt},36:{n:"PtgRef",f:Dnt},37:{n:"PtgArea",f:_nt},38:{n:"PtgMemArea",f:eit},39:{n:"PtgMemErr",f:iit},40:{n:"PtgMemNoMem",f:ait},41:{n:"PtgMemFunc",f:tit},42:{n:"PtgRefErr",f:rit},43:{n:"PtgAreaErr",f:Snt},44:{n:"PtgRefN",f:Mnt},45:{n:"PtgAreaN",f:Nnt},46:{n:"PtgMemAreaN",f:wit},47:{n:"PtgMemNoMemN",f:_it},57:{n:"PtgNameX",f:Znt},58:{n:"PtgRef3d",f:Lnt},59:{n:"PtgArea3d",f:Ent},60:{n:"PtgRefErr3d",f:nit},61:{n:"PtgAreaErr3d",f:Tnt},255:{}},Sit={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},Tit={1:{n:"PtgElfLel",f:Pse},2:{n:"PtgElfRw",f:mit},3:{n:"PtgElfCol",f:oit},6:{n:"PtgElfRwV",f:pit},7:{n:"PtgElfColV",f:uit},10:{n:"PtgElfRadical",f:dit},11:{n:"PtgElfRadicalS",f:hit},13:{n:"PtgElfColS",f:lit},15:{n:"PtgElfColSV",f:cit},16:{n:"PtgElfRadicalLel",f:fit},25:{n:"PtgList",f:vit},29:{n:"PtgSxName",f:yit},255:{}},Nit={0:{n:"PtgAttrNoop",f:Eit},1:{n:"PtgAttrSemi",f:knt},2:{n:"PtgAttrIf",f:Pnt},4:{n:"PtgAttrChoose",f:Cnt},8:{n:"PtgAttrGoto",f:jnt},16:{n:"PtgAttrSum",f:Vnt},32:{n:"PtgAttrBaxcel",f:K7},33:{n:"PtgAttrBaxcel",f:K7},64:{n:"PtgAttrSpace",f:Int},65:{n:"PtgAttrSpaceSemi",f:Ont},128:{n:"PtgAttrIfError",f:Rnt},255:{}};function Ait(e,t,r,n){if(n.biff<8)return pc(e,t);for(var i=e.l+t,a=[],s=0;s!==r.length;++s)switch(r[s][0]){case"PtgArray":r[s][1]=Xnt(e,0,n),a.push(r[s][1]);break;case"PtgMemArea":r[s][2]=Ynt(e,r[s][1],n),a.push(r[s][2]);break;case"PtgExp":n&&n.biff==12&&(r[s][1][1]=e.read_shift(4),a.push(r[s][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[s][0]}return t=i-e.l,t!==0&&a.push(pc(e,t)),a}function Cit(e,t,r){for(var n=e.l+t,i,a,s=[];n!=e.l;)t=n-e.l,a=e[e.l],i=Y7[a]||Y7[Sit[a]],(a===24||a===25)&&(i=(a===24?Tit:Nit)[e[e.l+1]]),!i||!i.f?pc(e,t):s.push([i.n,i.f(e,t,r)]);return s}function jit(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],i=[],a=0;a<n.length;++a){var s=n[a];if(s)switch(s[0]){case 2:i.push('"'+s[1].replace(/"/g,'""')+'"');break;default:i.push(s[1])}else i.push("")}t.push(i.join(","))}return t.join(";")}var Pit={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function Rit(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function Rse(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var i="";if(r.biff>8)switch(e[n[0]][0]){case 357:return i=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?i:i+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return i=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?i:i+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(a){return a.Name}).join(";;");default:return e[n[0]][0][3]?(i=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?i:i+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function X7(e,t,r){var n=Rse(e,t,r);return n=="#REF"?n:Rit(n,r)}function G0(e,t,r,n,i){var a=i&&i.biff||8,s={s:{c:0,r:0}},o=[],c,u,d,f=0,h=0,m,g="";if(!e[0]||!e[0][0])return"";for(var p=-1,v="",y=0,x=e[0].length;y<x;++y){var w=e[0][y];switch(w[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=o.pop(),u=o.pop(),p>=0){switch(e[0][p][1][0]){case 0:v=In(" ",e[0][p][1][1]);break;case 1:v=In("\r",e[0][p][1][1]);break;default:if(v="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][p][1][0])}u=u+v,p=-1}o.push(u+Pit[w[0]]+c);break;case"PtgIsect":c=o.pop(),u=o.pop(),o.push(u+" "+c);break;case"PtgUnion":c=o.pop(),u=o.pop(),o.push(u+","+c);break;case"PtgRange":c=o.pop(),u=o.pop(),o.push(u+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":d=yy(w[1][1],s,i),o.push(xy(d,a));break;case"PtgRefN":d=r?yy(w[1][1],r,i):w[1][1],o.push(xy(d,a));break;case"PtgRef3d":f=w[1][1],d=yy(w[1][2],s,i),g=X7(n,f,i),o.push(g+"!"+xy(d,a));break;case"PtgFunc":case"PtgFuncVar":var N=w[1][0],E=w[1][1];N||(N=0),N&=127;var T=N==0?[]:o.slice(-N);o.length-=N,E==="User"&&(E=T.shift()),o.push(E+"("+T.join(",")+")");break;case"PtgBool":o.push(w[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(w[1]);break;case"PtgNum":o.push(String(w[1]));break;case"PtgStr":o.push('"'+w[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(w[1]);break;case"PtgAreaN":m=O7(w[1][1],r?{s:r}:s,i),o.push(lj(m,i));break;case"PtgArea":m=O7(w[1][1],s,i),o.push(lj(m,i));break;case"PtgArea3d":f=w[1][1],m=w[1][2],g=X7(n,f,i),o.push(g+"!"+lj(m,i));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=w[1][2];var S=(n.names||[])[h-1]||(n[0]||[])[h],A=S?S.Name:"SH33TJSNAME"+String(h);A&&A.slice(0,6)=="_xlfn."&&!i.xlfn&&(A=A.slice(6)),o.push(A);break;case"PtgNameX":var C=w[1][1];h=w[1][2];var j;if(i.biff<=5)C<0&&(C=-C),n[C]&&(j=n[C][h]);else{var I="";if(((n[C]||[])[0]||[])[0]==14849||(((n[C]||[])[0]||[])[0]==1025?n[C][h]&&n[C][h].itab>0&&(I=n.SheetNames[n[C][h].itab-1]+"!"):I=n.SheetNames[h-1]+"!"),n[C]&&n[C][h])I+=n[C][h].Name;else if(n[0]&&n[0][h])I+=n[0][h].Name;else{var O=(Rse(n,C,i)||"").split(";;");O[h-1]?I=O[h-1]:I+="SH33TJSERRX"}o.push(I);break}j||(j={Name:"SH33TJSERRY"}),o.push(j.Name);break;case"PtgParen":var k="(",D=")";if(p>=0){switch(v="",e[0][p][1][0]){case 2:k=In(" ",e[0][p][1][1])+k;break;case 3:k=In("\r",e[0][p][1][1])+k;break;case 4:D=In(" ",e[0][p][1][1])+D;break;case 5:D=In("\r",e[0][p][1][1])+D;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][p][1][0])}p=-1}o.push(k+o.pop()+D);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":d={c:w[1][1],r:w[1][0]};var B={c:r.c,r:r.r};if(n.sharedf[Rr(d)]){var ee=n.sharedf[Rr(d)];o.push(G0(ee,s,B,n,i))}else{var z=!1;for(c=0;c!=n.arrayf.length;++c)if(u=n.arrayf[c],!(d.c<u[0].s.c||d.c>u[0].e.c)&&!(d.r<u[0].s.r||d.r>u[0].e.r)){o.push(G0(u[1],s,B,n,i)),z=!0;break}z||o.push(w[1])}break;case"PtgArray":o.push("{"+jit(w[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":p=y;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+w[1].idx+"[#"+w[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(w));default:throw new Error("Unrecognized Formula Token: "+String(w))}var V=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&p>=0&&V.indexOf(e[0][y][0])==-1){w=e[0][p];var U=!0;switch(w[1][0]){case 4:U=!1;case 0:v=In(" ",w[1][1]);break;case 5:U=!1;case 1:v=In("\r",w[1][1]);break;default:if(v="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+w[1][0])}o.push((U?v:"")+o.pop()+(U?"":v)),p=-1}}if(o.length>1&&i.WTF)throw new Error("bad formula stack");return o[0]}function kit(e){if(e==null){var t=Ae(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return Hh(e);return Hh(0)}function Iit(e,t,r,n,i){var a=qh(t,r,i),s=kit(e.v),o=Ae(6),c=33;o.write_shift(2,c),o.write_shift(4,0);for(var u=Ae(e.bf.length),d=0;d<e.bf.length;++d)u[d]=e.bf[d];var f=Fi([a,s,o,u]);return f}function VN(e,t,r){var n=e.read_shift(4),i=Cit(e,n,r),a=e.read_shift(4),s=a>0?Ait(e,a,i,r):null;return[i,s]}var Oit=VN,UN=VN,Dit=VN,Mit=VN,Lit={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},kse={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},Fit={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function $it(e){var t="of:="+e.replace(P3,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function Bit(e){return e.replace(/\./,"!")}var by=typeof Map<"u";function I3(e,t,r){var n=0,i=e.length;if(r){if(by?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var a=by?r.get(t):r[t];n<a.length;++n)if(e[a[n]].t===t)return e.Count++,a[n]}}else for(;n<i;++n)if(e[n].t===t)return e.Count++,n;return e[i]={t},e.Count++,e.Unique++,r&&(by?(r.has(t)||r.set(t,[]),r.get(t).push(i)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(i))),i}function zN(e,t){var r={min:e+1,max:e+1},n=-1;return t.MDW&&(iu=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?n=ZS(t.wpx):t.wch!=null&&(n=t.wch),n>-1?(r.width=pI(n),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function Ise(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function Tf(e,t,r){var n=r.revssf[t.z!=null?t.z:"General"],i=60,a=e.length;if(n==null&&r.ssf){for(;i<392;++i)if(r.ssf[i]==null){Cae(t.z,i),r.ssf[i]=t.z,r.revssf[t.z]=n=i;break}}for(i=0;i!=a;++i)if(e[i].numFmtId===n)return i;return e[a]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},a}function Vit(e,t,r){if(e&&e["!ref"]){var n=cn(e["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function Uit(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+ni(e[r])+'"/>';return t+"</mergeCells>"}function zit(e,t,r,n,i){var a=!1,s={},o=null;if(n.bookType!=="xlsx"&&t.vbaraw){var c=t.SheetNames[r];try{t.Workbook&&(c=t.Workbook.Sheets[r].CodeName||c)}catch{}a=!0,s.codeName=Zx(jr(c))}if(e&&e["!outline"]){var u={summaryBelow:1,summaryRight:1};e["!outline"].above&&(u.summaryBelow=0),e["!outline"].left&&(u.summaryRight=0),o=(o||"")+Ge("outlinePr",null,u)}!a&&!o||(i[i.length]=Ge("sheetPr",o,s))}var Wit=["objects","scenarios","selectLockedCells","selectUnlockedCells"],Hit=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function qit(e){var t={sheet:1};return Wit.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),Hit.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=gse(e.password).toString(16).toUpperCase()),Ge("sheetProtection",null,t)}function Git(e){return Ise(e),Ge("pageMargins",null,e)}function Kit(e,t){for(var r=["<cols>"],n,i=0;i!=t.length;++i)(n=t[i])&&(r[r.length]=Ge("col",null,zN(i,n)));return r[r.length]="</cols>",r.join("")}function Yit(e,t,r,n){var i=typeof e.ref=="string"?e.ref:ni(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var a=r.Workbook.Names,s=Ds(i);s.s.r==s.e.r&&(s.e.r=Ds(t["!ref"]).e.r,i=ni(s));for(var o=0;o<a.length;++o){var c=a[o];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==n){c.Ref="'"+r.SheetNames[n]+"'!"+i;break}}return o==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),Ge("autoFilter",null,{ref:i})}function Xit(e,t,r,n){var i={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),Ge("sheetViews",Ge("sheetView",null,i),{})}function Qit(e,t,r,n){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var i="",a=e.t,s=e.v;if(e.t!=="z")switch(e.t){case"b":i=e.v?"1":"0";break;case"n":i=""+e.v;break;case"e":i=lb[e.v];break;case"d":n&&n.cellDates?i=ka(e.v,-1).toISOString():(e=ss(e),e.t="n",i=""+(e.v=as(ka(e.v)))),typeof e.z>"u"&&(e.z=Mn[14]);break;default:i=e.v;break}var o=$i("v",jr(i)),c={r:t},u=Tf(n.cellXfs,e,n);switch(u!==0&&(c.s=u),e.t){case"n":break;case"d":c.t="d";break;case"b":c.t="b";break;case"e":c.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){o=$i("v",""+I3(n.Strings,e.v,n.revStrings)),c.t="s";break}c.t="str";break}if(e.t!=a&&(e.t=a,e.v=s),typeof e.f=="string"&&e.f){var d=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;o=Ge("f",jr(e.f),d)+(e.v!=null?o:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(c.cm=1),Ge("c",o,c)}function Zit(e,t,r,n){var i=[],a=[],s=cn(e["!ref"]),o="",c,u="",d=[],f=0,h=0,m=e["!rows"],g=Array.isArray(e),p={r:u},v,y=-1;for(h=s.s.c;h<=s.e.c;++h)d[h]=da(h);for(f=s.s.r;f<=s.e.r;++f){for(a=[],u=Ui(f),h=s.s.c;h<=s.e.c;++h){c=d[h]+u;var x=g?(e[f]||[])[h]:e[c];x!==void 0&&(o=Qit(x,c,e,t))!=null&&a.push(o)}(a.length>0||m&&m[f])&&(p={r:u},m&&m[f]&&(v=m[f],v.hidden&&(p.hidden=1),y=-1,v.hpx?y=JS(v.hpx):v.hpt&&(y=v.hpt),y>-1&&(p.ht=y,p.customHeight=1),v.level&&(p.outlineLevel=v.level)),i[i.length]=Ge("row",a.join(""),p))}if(m)for(;f<m.length;++f)m&&m[f]&&(p={r:f+1},v=m[f],v.hidden&&(p.hidden=1),y=-1,v.hpx?y=JS(v.hpx):v.hpt&&(y=v.hpt),y>-1&&(p.ht=y,p.customHeight=1),v.level&&(p.outlineLevel=v.level),i[i.length]=Ge("row","",p));return i.join("")}function Ose(e,t,r,n){var i=[ai,Ge("worksheet",null,{xmlns:Rg[0],"xmlns:r":wi.r})],a=r.SheetNames[e],s=0,o="",c=r.Sheets[a];c==null&&(c={});var u=c["!ref"]||"A1",d=cn(u);if(d.e.c>16383||d.e.r>1048575){if(t.WTF)throw new Error("Range "+u+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575),u=ni(d)}n||(n={}),c["!comments"]=[];var f=[];zit(c,r,e,t,i),i[i.length]=Ge("dimension",null,{ref:u}),i[i.length]=Xit(c,t,e,r),t.sheetFormat&&(i[i.length]=Ge("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),c["!cols"]!=null&&c["!cols"].length>0&&(i[i.length]=Kit(c,c["!cols"])),i[s=i.length]="<sheetData/>",c["!links"]=[],c["!ref"]!=null&&(o=Zit(c,t),o.length>0&&(i[i.length]=o)),i.length>s+1&&(i[i.length]="</sheetData>",i[s]=i[s].replace("/>",">")),c["!protect"]&&(i[i.length]=qit(c["!protect"])),c["!autofilter"]!=null&&(i[i.length]=Yit(c["!autofilter"],c,r,e)),c["!merges"]!=null&&c["!merges"].length>0&&(i[i.length]=Uit(c["!merges"]));var h=-1,m,g=-1;return c["!links"].length>0&&(i[i.length]="<hyperlinks>",c["!links"].forEach(function(p){p[1].Target&&(m={ref:p[0]},p[1].Target.charAt(0)!="#"&&(g=Cr(n,-1,jr(p[1].Target).replace(/#.*$/,""),pr.HLINK),m["r:id"]="rId"+g),(h=p[1].Target.indexOf("#"))>-1&&(m.location=jr(p[1].Target.slice(h+1))),p[1].Tooltip&&(m.tooltip=jr(p[1].Tooltip)),i[i.length]=Ge("hyperlink",null,m))}),i[i.length]="</hyperlinks>"),delete c["!links"],c["!margins"]!=null&&(i[i.length]=Git(c["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(i[i.length]=$i("ignoredErrors",Ge("ignoredError",null,{numberStoredAsText:1,sqref:u}))),f.length>0&&(g=Cr(n,-1,"../drawings/drawing"+(e+1)+".xml",pr.DRAW),i[i.length]=Ge("drawing",null,{"r:id":"rId"+g}),c["!drawing"]=f),c["!comments"].length>0&&(g=Cr(n,-1,"../drawings/vmlDrawing"+(e+1)+".vml",pr.VML),i[i.length]=Ge("legacyDrawing",null,{"r:id":"rId"+g}),c["!legacy"]=g),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function Jit(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var i=e.read_shift(2);e.l+=1;var a=e.read_shift(1);return e.l=n,a&7&&(r.level=a&7),a&16&&(r.hidden=!0),a&32&&(r.hpt=i/20),r}function eat(e,t,r){var n=Ae(145),i=(r["!rows"]||[])[e]||{};n.write_shift(4,e),n.write_shift(4,0);var a=320;i.hpx?a=JS(i.hpx)*20:i.hpt&&(a=i.hpt*20),n.write_shift(2,a),n.write_shift(1,0);var s=0;i.level&&(s|=i.level),i.hidden&&(s|=16),(i.hpx||i.hpt)&&(s|=32),n.write_shift(1,s),n.write_shift(1,0);var o=0,c=n.l;n.l+=4;for(var u={r:e,c:0},d=0;d<16;++d)if(!(t.s.c>d+1<<10||t.e.c<d<<10)){for(var f=-1,h=-1,m=d<<10;m<d+1<<10;++m){u.c=m;var g=Array.isArray(r)?(r[u.r]||[])[u.c]:r[Rr(u)];g&&(f<0&&(f=m),h=m)}f<0||(++o,n.write_shift(4,f),n.write_shift(4,h))}var p=n.l;return n.l=c,n.write_shift(4,o),n.l=p,n.length>n.l?n.slice(0,n.l):n}function tat(e,t,r,n){var i=eat(n,r,t);(i.length>17||(t["!rows"]||[])[n])&&De(e,0,i)}var rat=wm,nat=Ig;function iat(){}function aat(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=ptt(e),r}function sat(e,t,r){r==null&&(r=Ae(84+4*e.length));var n=192;t&&(t.above&&(n&=-65),t.left&&(n&=-129)),r.write_shift(1,n);for(var i=1;i<3;++i)r.write_shift(1,0);return YS({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),Yae(e,r),r.slice(0,r.l)}function oat(e){var t=Ro(e);return[t]}function lat(e,t,r){return r==null&&(r=Ae(8)),ym(t,r)}function cat(e){var t=xm(e);return[t]}function uat(e,t,r){return r==null&&(r=Ae(4)),bm(t,r)}function dat(e){var t=Ro(e),r=e.read_shift(1);return[t,r,"b"]}function fat(e,t,r){return r==null&&(r=Ae(9)),ym(t,r),r.write_shift(1,e.v?1:0),r}function hat(e){var t=xm(e),r=e.read_shift(1);return[t,r,"b"]}function mat(e,t,r){return r==null&&(r=Ae(5)),bm(t,r),r.write_shift(1,e.v?1:0),r}function pat(e){var t=Ro(e),r=e.read_shift(1);return[t,r,"e"]}function gat(e,t,r){return r==null&&(r=Ae(9)),ym(t,r),r.write_shift(1,e.v),r}function vat(e){var t=xm(e),r=e.read_shift(1);return[t,r,"e"]}function yat(e,t,r){return r==null&&(r=Ae(8)),bm(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function xat(e){var t=Ro(e),r=e.read_shift(4);return[t,r,"s"]}function bat(e,t,r){return r==null&&(r=Ae(12)),ym(t,r),r.write_shift(4,t.v),r}function wat(e){var t=xm(e),r=e.read_shift(4);return[t,r,"s"]}function _at(e,t,r){return r==null&&(r=Ae(8)),bm(t,r),r.write_shift(4,t.v),r}function Eat(e){var t=Ro(e),r=Og(e);return[t,r,"n"]}function Sat(e,t,r){return r==null&&(r=Ae(16)),ym(t,r),Hh(e.v,r),r}function Tat(e){var t=xm(e),r=Og(e);return[t,r,"n"]}function Nat(e,t,r){return r==null&&(r=Ae(12)),bm(t,r),Hh(e.v,r),r}function Aat(e){var t=Ro(e),r=Xae(e);return[t,r,"n"]}function Cat(e,t,r){return r==null&&(r=Ae(12)),ym(t,r),Qae(e.v,r),r}function jat(e){var t=xm(e),r=Xae(e);return[t,r,"n"]}function Pat(e,t,r){return r==null&&(r=Ae(8)),bm(t,r),Qae(e.v,r),r}function Rat(e){var t=Ro(e),r=T3(e);return[t,r,"is"]}function kat(e){var t=Ro(e),r=fa(e);return[t,r,"str"]}function Iat(e,t,r){return r==null&&(r=Ae(12+4*e.v.length)),ym(t,r),Ei(e.v,r),r.length>r.l?r.slice(0,r.l):r}function Oat(e){var t=xm(e),r=fa(e);return[t,r,"str"]}function Dat(e,t,r){return r==null&&(r=Ae(8+4*e.v.length)),bm(t,r),Ei(e.v,r),r.length>r.l?r.slice(0,r.l):r}function Mat(e,t,r){var n=e.l+t,i=Ro(e);i.r=r["!row"];var a=e.read_shift(1),s=[i,a,"b"];if(r.cellFormula){e.l+=2;var o=UN(e,n-e.l,r);s[3]=G0(o,null,i,r.supbooks,r)}else e.l=n;return s}function Lat(e,t,r){var n=e.l+t,i=Ro(e);i.r=r["!row"];var a=e.read_shift(1),s=[i,a,"e"];if(r.cellFormula){e.l+=2;var o=UN(e,n-e.l,r);s[3]=G0(o,null,i,r.supbooks,r)}else e.l=n;return s}function Fat(e,t,r){var n=e.l+t,i=Ro(e);i.r=r["!row"];var a=Og(e),s=[i,a,"n"];if(r.cellFormula){e.l+=2;var o=UN(e,n-e.l,r);s[3]=G0(o,null,i,r.supbooks,r)}else e.l=n;return s}function $at(e,t,r){var n=e.l+t,i=Ro(e);i.r=r["!row"];var a=fa(e),s=[i,a,"str"];if(r.cellFormula){e.l+=2;var o=UN(e,n-e.l,r);s[3]=G0(o,null,i,r.supbooks,r)}else e.l=n;return s}var Bat=wm,Vat=Ig;function Uat(e,t){return t==null&&(t=Ae(4)),t.write_shift(4,e),t}function zat(e,t){var r=e.l+t,n=wm(e),i=N3(e),a=fa(e),s=fa(e),o=fa(e);e.l=r;var c={rfx:n,relId:i,loc:a,display:o};return s&&(c.Tooltip=s),c}function Wat(e,t){var r=Ae(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));Ig({s:_i(e[0]),e:_i(e[0])},r),A3("rId"+t,r);var n=e[1].Target.indexOf("#"),i=n==-1?"":e[1].Target.slice(n+1);return Ei(i||"",r),Ei(e[1].Tooltip||"",r),Ei("",r),r.slice(0,r.l)}function Hat(){}function qat(e,t,r){var n=e.l+t,i=Zae(e),a=e.read_shift(1),s=[i];if(s[2]=a,r.cellFormula){var o=Oit(e,n-e.l,r);s[1]=o}else e.l=n;return s}function Gat(e,t,r){var n=e.l+t,i=wm(e),a=[i];if(r.cellFormula){var s=Mit(e,n-e.l,r);a[1]=s,e.l=n}else e.l=n;return a}function Kat(e,t,r){r==null&&(r=Ae(18));var n=zN(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var i=0;return t.hidden&&(i|=1),typeof n.width=="number"&&(i|=2),t.level&&(i|=t.level<<8),r.write_shift(2,i),r}var Dse=["left","right","top","bottom","header","footer"];function Yat(e){var t={};return Dse.forEach(function(r){t[r]=Og(e)}),t}function Xat(e,t){return t==null&&(t=Ae(6*8)),Ise(e),Dse.forEach(function(r){Hh(e[r],t)}),t}function Qat(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function Zat(e,t,r){r==null&&(r=Ae(30));var n=924;return(((t||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function Jat(e){var t=Ae(24);return t.write_shift(4,4),t.write_shift(4,1),Ig(e,t),t}function est(e,t){return t==null&&(t=Ae(16*4+2)),t.write_shift(2,e.password?gse(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function tst(){}function rst(){}function nst(e,t,r,n,i,a,s){if(t.v===void 0)return!1;var o="";switch(t.t){case"b":o=t.v?"1":"0";break;case"d":t=ss(t),t.z=t.z||Mn[14],t.v=as(ka(t.v)),t.t="n";break;case"n":case"e":o=""+t.v;break;default:o=t.v;break}var c={r,c:n};switch(c.s=Tf(i.cellXfs,t,i),t.l&&a["!links"].push([Rr(c),t.l]),t.c&&a["!comments"].push([Rr(c),t.c]),t.t){case"s":case"str":return i.bookSST?(o=I3(i.Strings,t.v,i.revStrings),c.t="s",c.v=o,s?De(e,18,_at(t,c)):De(e,7,bat(t,c))):(c.t="str",s?De(e,17,Dat(t,c)):De(e,6,Iat(t,c))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?s?De(e,13,Pat(t,c)):De(e,2,Cat(t,c)):s?De(e,16,Nat(t,c)):De(e,5,Sat(t,c)),!0;case"b":return c.t="b",s?De(e,15,mat(t,c)):De(e,4,fat(t,c)),!0;case"e":return c.t="e",s?De(e,14,yat(t,c)):De(e,3,gat(t,c)),!0}return s?De(e,12,uat(t,c)):De(e,1,lat(t,c)),!0}function ist(e,t,r,n){var i=cn(t["!ref"]||"A1"),a,s="",o=[];De(e,145);var c=Array.isArray(t),u=i.e.r;t["!rows"]&&(u=Math.max(i.e.r,t["!rows"].length-1));for(var d=i.s.r;d<=u;++d){s=Ui(d),tat(e,t,i,d);var f=!1;if(d<=i.e.r)for(var h=i.s.c;h<=i.e.c;++h){d===i.s.r&&(o[h]=da(h)),a=o[h]+s;var m=c?(t[d]||[])[h]:t[a];if(!m){f=!1;continue}f=nst(e,m,d,h,n,t,f)}}De(e,146)}function ast(e,t){!t||!t["!merges"]||(De(e,177,Uat(t["!merges"].length)),t["!merges"].forEach(function(r){De(e,176,Vat(r))}),De(e,178))}function sst(e,t){!t||!t["!cols"]||(De(e,390),t["!cols"].forEach(function(r,n){r&&De(e,60,Kat(n,r))}),De(e,391))}function ost(e,t){!t||!t["!ref"]||(De(e,648),De(e,649,Jat(cn(t["!ref"]))),De(e,650))}function lst(e,t,r){t["!links"].forEach(function(n){if(n[1].Target){var i=Cr(r,-1,n[1].Target.replace(/#.*$/,""),pr.HLINK);De(e,494,Wat(n,i))}}),delete t["!links"]}function cst(e,t,r,n){if(t["!comments"].length>0){var i=Cr(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",pr.VML);De(e,551,A3("rId"+i)),t["!legacy"]=i}}function ust(e,t,r,n){if(t["!autofilter"]){var i=t["!autofilter"],a=typeof i.ref=="string"?i.ref:ni(i.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var s=r.Workbook.Names,o=Ds(a);o.s.r==o.e.r&&(o.e.r=Ds(t["!ref"]).e.r,a=ni(o));for(var c=0;c<s.length;++c){var u=s[c];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==n){u.Ref="'"+r.SheetNames[n]+"'!"+a;break}}c==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+a}),De(e,161,Ig(cn(a))),De(e,162)}}function dst(e,t,r){De(e,133),De(e,137,Zat(t,r)),De(e,138),De(e,134)}function fst(e,t){t["!protect"]&&De(e,535,est(t["!protect"]))}function hst(e,t,r,n){var i=ns(),a=r.SheetNames[e],s=r.Sheets[a]||{},o=a;try{r&&r.Workbook&&(o=r.Workbook.Sheets[e].CodeName||o)}catch{}var c=cn(s["!ref"]||"A1");if(c.e.c>16383||c.e.r>1048575){if(t.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575)}return s["!links"]=[],s["!comments"]=[],De(i,129),(r.vbaraw||s["!outline"])&&De(i,147,sat(o,s["!outline"])),De(i,148,nat(c)),dst(i,s,r.Workbook),sst(i,s),ist(i,s,e,t),fst(i,s),ust(i,s,r,e),ast(i,s),lst(i,s,n),s["!margins"]&&De(i,476,Xat(s["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&ost(i,s),cst(i,s,e,n),De(i,130),i.end()}function mst(e,t){e.l+=10;var r=fa(e);return{name:r}}var pst=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function gst(e){return!e.Workbook||!e.Workbook.WBProps?"false":Get(e.Workbook.WBProps.date1904)?"true":"false"}var vst="][*?/\\".split("");function Mse(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return vst.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function yst(e,t,r){e.forEach(function(n,i){Mse(n);for(var a=0;a<i;++a)if(n==e[a])throw new Error("Duplicate Sheet Name: "+n);if(r){var s=t&&t[i]&&t[i].CodeName||n;if(s.charCodeAt(0)==95&&s.length>22)throw new Error("Bad Code Name: Worksheet"+s)}})}function xst(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];yst(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)Vit(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}function Lse(e){var t=[ai];t[t.length]=Ge("workbook",null,{xmlns:Rg[0],"xmlns:r":wi.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(pst.forEach(function(o){e.Workbook.WBProps[o[0]]!=null&&e.Workbook.WBProps[o[0]]!=o[1]&&(n[o[0]]=e.Workbook.WBProps[o[0]])}),e.Workbook.WBProps.CodeName&&(n.codeName=e.Workbook.WBProps.CodeName,delete n.CodeName)),t[t.length]=Ge("workbookPr",null,n);var i=e.Workbook&&e.Workbook.Sheets||[],a=0;if(i&&i[0]&&i[0].Hidden){for(t[t.length]="<bookViews>",a=0;a!=e.SheetNames.length&&!(!i[a]||!i[a].Hidden);++a);a==e.SheetNames.length&&(a=0),t[t.length]='<workbookView firstSheet="'+a+'" activeTab="'+a+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",a=0;a!=e.SheetNames.length;++a){var s={name:jr(e.SheetNames[a].slice(0,31))};if(s.sheetId=""+(a+1),s["r:id"]="rId"+(a+1),i[a])switch(i[a].Hidden){case 1:s.state="hidden";break;case 2:s.state="veryHidden";break}t[t.length]=Ge("sheet",null,s)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(o){var c={name:o.Name};o.Comment&&(c.comment=o.Comment),o.Sheet!=null&&(c.localSheetId=""+o.Sheet),o.Hidden&&(c.hidden="1"),o.Ref&&(t[t.length]=Ge("definedName",jr(o.Ref),c))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function bst(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=mI(e),r.name=fa(e),r}function wst(e,t){return t||(t=Ae(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),A3(e.strRelID,t),Ei(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function _st(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var i=t>8?fa(e):"";return i.length>0&&(r.CodeName=i),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function Est(e,t){t||(t=Ae(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),Yae(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function Sst(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var i=e.read_shift(4),a=gtt(e),s=Dit(e,0,r),o=N3(e);e.l=n;var c={Name:a,Ptg:s};return i<268435455&&(c.Sheet=i),o&&(c.Comment=o),c}function Tst(e,t){De(e,143);for(var r=0;r!=t.SheetNames.length;++r){var n=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,i={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};De(e,156,wst(i))}De(e,144)}function Nst(e,t){t||(t=Ae(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return Ei("SheetJS",t),Ei(VS.version,t),Ei(VS.version,t),Ei("7262",t),t.length>t.l?t.slice(0,t.l):t}function Ast(e,t){t||(t=Ae(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function Cst(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,n=0,i=-1,a=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&i==-1?i=n:r[n].Hidden==1&&a==-1&&(a=n);a>i||(De(e,135),De(e,158,Ast(i)),De(e,136))}}function jst(e,t){var r=ns();return De(r,131),De(r,128,Nst()),De(r,153,Est(e.Workbook&&e.Workbook.WBProps||null)),Cst(r,e),Tst(r,e),De(r,132),r.end()}function Pst(e,t,r){return(t.slice(-4)===".bin"?jst:Lse)(e)}function Rst(e,t,r,n,i){return(t.slice(-4)===".bin"?hst:Ose)(e,r,n,i)}function kst(e,t,r){return(t.slice(-4)===".bin"?Xrt:xse)(e,r)}function Ist(e,t,r){return(t.slice(-4)===".bin"?Ert:pse)(e,r)}function Ost(e,t,r){return(t.slice(-4)===".bin"?fnt:Sse)(e)}function Dst(e){return(e.slice(-4)===".bin"?int:_se)()}function Mst(e,t){var r=[];return e.Props&&r.push(ktt(e.Props,t)),e.Custprops&&r.push(Itt(e.Props,e.Custprops)),r.join("")}function Lst(){return""}function Fst(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(n,i){var a=[];a.push(Ge("NumberFormat",null,{"ss:Format":jr(Mn[n.numFmtId])}));var s={"ss:ID":"s"+(21+i)};r.push(Ge("Style",a.join(""),s))}),Ge("Styles",r.join(""))}function Fse(e){return Ge("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+R3(e.Ref,{r:0,c:0})})}function $st(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],n=0;n<t.length;++n){var i=t[n];i.Sheet==null&&(i.Name.match(/^_xlfn\./)||r.push(Fse(i)))}return Ge("Names",r.join(""))}function Bst(e,t,r,n){if(!e||!((n||{}).Workbook||{}).Names)return"";for(var i=n.Workbook.Names,a=[],s=0;s<i.length;++s){var o=i[s];o.Sheet==r&&(o.Name.match(/^_xlfn\./)||a.push(Fse(o)))}return a.join("")}function Vst(e,t,r,n){if(!e)return"";var i=[];if(e["!margins"]&&(i.push("<PageSetup>"),e["!margins"].header&&i.push(Ge("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&i.push(Ge("Footer",null,{"x:Margin":e["!margins"].footer})),i.push(Ge("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),i.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)i.push(Ge("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var a=0;a<r&&!(n.Workbook.Sheets[a]&&!n.Workbook.Sheets[a].Hidden);++a);a==r&&i.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),e["!protect"]&&(i.push($i("ProtectContents","True")),e["!protect"].objects&&i.push($i("ProtectObjects","True")),e["!protect"].scenarios&&i.push($i("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?i.push($i("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&i.push($i("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(s){e["!protect"][s[0]]&&i.push("<"+s[1]+"/>")})),i.length==0?"":Ge("WorksheetOptions",i.join(""),{xmlns:bs.x})}function Ust(e){return e.map(function(t){var r=qet(t.t||""),n=Ge("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return Ge("Comment",n,{"ss:Author":t.a})}).join("")}function zst(e,t,r,n,i,a,s){if(!e||e.v==null&&e.f==null)return"";var o={};if(e.f&&(o["ss:Formula"]="="+jr(R3(e.f,s))),e.F&&e.F.slice(0,t.length)==t){var c=_i(e.F.slice(t.length+1));o["ss:ArrayRange"]="RC:R"+(c.r==s.r?"":"["+(c.r-s.r)+"]")+"C"+(c.c==s.c?"":"["+(c.c-s.c)+"]")}if(e.l&&e.l.Target&&(o["ss:HRef"]=jr(e.l.Target),e.l.Tooltip&&(o["x:HRefScreenTip"]=jr(e.l.Tooltip))),r["!merges"])for(var u=r["!merges"],d=0;d!=u.length;++d)u[d].s.c!=s.c||u[d].s.r!=s.r||(u[d].e.c>u[d].s.c&&(o["ss:MergeAcross"]=u[d].e.c-u[d].s.c),u[d].e.r>u[d].s.r&&(o["ss:MergeDown"]=u[d].e.r-u[d].s.r));var f="",h="";switch(e.t){case"z":if(!n.sheetStubs)return"";break;case"n":f="Number",h=String(e.v);break;case"b":f="Boolean",h=e.v?"1":"0";break;case"e":f="Error",h=lb[e.v];break;case"d":f="DateTime",h=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||Mn[14]);break;case"s":f="String",h=Het(e.v||"");break}var m=Tf(n.cellXfs,e,n);o["ss:StyleID"]="s"+(21+m),o["ss:Index"]=s.c+1;var g=e.v!=null?h:"",p=e.t=="z"?"":'<Data ss:Type="'+f+'">'+g+"</Data>";return(e.c||[]).length>0&&(p+=Ust(e.c)),Ge("Cell",p,o)}function Wst(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=yse(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function Hst(e,t,r,n){if(!e["!ref"])return"";var i=cn(e["!ref"]),a=e["!merges"]||[],s=0,o=[];e["!cols"]&&e["!cols"].forEach(function(v,y){j3(v);var x=!!v.width,w=zN(y,v),N={"ss:Index":y+1};x&&(N["ss:Width"]=QS(w.width)),v.hidden&&(N["ss:Hidden"]="1"),o.push(Ge("Column",null,N))});for(var c=Array.isArray(e),u=i.s.r;u<=i.e.r;++u){for(var d=[Wst(u,(e["!rows"]||[])[u])],f=i.s.c;f<=i.e.c;++f){var h=!1;for(s=0;s!=a.length;++s)if(!(a[s].s.c>f)&&!(a[s].s.r>u)&&!(a[s].e.c<f)&&!(a[s].e.r<u)){(a[s].s.c!=f||a[s].s.r!=u)&&(h=!0);break}if(!h){var m={r:u,c:f},g=Rr(m),p=c?(e[u]||[])[f]:e[g];d.push(zst(p,g,e,t,r,n,m))}}d.push("</Row>"),d.length>2&&o.push(d.join(""))}return o.join("")}function qst(e,t,r){var n=[],i=r.SheetNames[e],a=r.Sheets[i],s=a?Bst(a,t,e,r):"";return s.length>0&&n.push("<Names>"+s+"</Names>"),s=a?Hst(a,t,e,r):"",s.length>0&&n.push("<Table>"+s+"</Table>"),n.push(Vst(a,t,e,r)),n.join("")}function Gst(e,t){t||(t={}),e.SSF||(e.SSF=ss(Mn)),e.SSF&&(FN(),LN(e.SSF),t.revssf=$N(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],Tf(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(Mst(e,t)),r.push(Lst()),r.push(""),r.push("");for(var n=0;n<e.SheetNames.length;++n)r.push(Ge("Worksheet",qst(n,t,e),{"ss:Name":jr(e.SheetNames[n])}));return r[2]=Fst(e,t),r[3]=$st(e),ai+Ge("Workbook",r.join(""),{xmlns:bs.ss,"xmlns:o":bs.o,"xmlns:x":bs.x,"xmlns:ss":bs.ss,"xmlns:dt":bs.dt,"xmlns:html":bs.html})}var dj={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function Kst(e,t){var r=[],n=[],i=[],a=0,s,o=E7(M7,"n"),c=E7(L7,"n");if(e.Props)for(s=qi(e.Props),a=0;a<s.length;++a)(Object.prototype.hasOwnProperty.call(o,s[a])?r:Object.prototype.hasOwnProperty.call(c,s[a])?n:i).push([s[a],e.Props[s[a]]]);if(e.Custprops)for(s=qi(e.Custprops),a=0;a<s.length;++a)Object.prototype.hasOwnProperty.call(e.Props||{},s[a])||(Object.prototype.hasOwnProperty.call(o,s[a])?r:Object.prototype.hasOwnProperty.call(c,s[a])?n:i).push([s[a],e.Custprops[s[a]]]);var u=[];for(a=0;a<i.length;++a)lse.indexOf(i[a][0])>-1||ase.indexOf(i[a][0])>-1||i[a][1]!=null&&u.push(i[a]);n.length&&Dr.utils.cfb_add(t,"/SummaryInformation",U7(n,dj.SI,c,L7)),(r.length||u.length)&&Dr.utils.cfb_add(t,"/DocumentSummaryInformation",U7(r,dj.DSI,o,M7,u.length?u:null,dj.UDI))}function Yst(e,t){var r=t||{},n=Dr.utils.cfb_new({root:"R"}),i="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":i="/Workbook",r.biff=8;break;case"biff5":i="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return Dr.utils.cfb_add(n,i,$se(e,r)),r.biff==8&&(e.Props||e.Custprops)&&Kst(e,n),r.biff==8&&e.vbaraw&&hnt(n,Dr.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),n}var Xst={0:{f:Jit},1:{f:oat},2:{f:Aat},3:{f:pat},4:{f:dat},5:{f:Eat},6:{f:kat},7:{f:xat},8:{f:$at},9:{f:Fat},10:{f:Mat},11:{f:Lat},12:{f:cat},13:{f:jat},14:{f:vat},15:{f:hat},16:{f:Tat},17:{f:Oat},18:{f:wat},19:{f:T3},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:Sst},40:{},42:{},43:{f:krt},44:{f:Prt},45:{f:Drt},46:{f:Lrt},47:{f:Mrt},48:{},49:{f:ctt},50:{},51:{f:Jrt},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:urt},62:{f:Rat},63:{f:ant},64:{f:tst},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:pc,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:Qat},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:aat},148:{f:rat,p:16},151:{f:Hat},152:{},153:{f:_st},154:{},155:{},156:{f:bst},157:{},158:{},159:{T:1,f:brt},160:{T:-1},161:{T:1,f:wm},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:Bat},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:Qrt},336:{T:-1},337:{f:rnt,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:mI},357:{},358:{},359:{},360:{T:1},361:{},362:{f:irt},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:qat},427:{f:Gat},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:Yat},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:iat},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:zat},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:mI},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:unt},633:{T:1},634:{T:-1},635:{T:1,f:lnt},636:{T:-1},637:{f:htt},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:mst},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:rst},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function Ke(e,t,r,n){var i=t;if(!isNaN(i)){var a=n||(r||[]).length||0,s=e.next(4);s.write_shift(2,i),s.write_shift(2,a),a>0&&_3(r)&&e.push(r)}}function Qst(e,t,r,n){var i=(r||[]).length||0;if(i<=8224)return Ke(e,t,r,i);var a=t;if(!isNaN(a)){for(var s=r.parts||[],o=0,c=0,u=0;u+(s[o]||8224)<=8224;)u+=s[o]||8224,o++;var d=e.next(4);for(d.write_shift(2,a),d.write_shift(2,u),e.push(r.slice(c,c+u)),c+=u;c<i;){for(d=e.next(4),d.write_shift(2,60),u=0;u+(s[o]||8224)<=8224;)u+=s[o]||8224,o++;d.write_shift(2,u),e.push(r.slice(c,c+u)),c+=u}}}function ub(e,t,r){return e||(e=Ae(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function Zst(e,t,r,n){var i=Ae(9);return ub(i,e,t),use(r,n||"b",i),i}function Jst(e,t,r){var n=Ae(8+2*r.length);return ub(n,e,t),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function eot(e,t,r,n){if(t.v!=null)switch(t.t){case"d":case"n":var i=t.t=="d"?as(ka(t.v)):t.v;i==(i|0)&&i>=0&&i<65536?Ke(e,2,mrt(r,n,i)):Ke(e,3,hrt(r,n,i));return;case"b":case"e":Ke(e,5,Zst(r,n,t.v,t.t));return;case"s":case"str":Ke(e,4,Jst(r,n,(t.v||"").slice(0,255)));return}Ke(e,1,ub(null,r,n))}function tot(e,t,r,n){var i=Array.isArray(t),a=cn(t["!ref"]||"A1"),s,o="",c=[];if(a.e.c>255||a.e.r>16383){if(n.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");a.e.c=Math.min(a.e.c,255),a.e.r=Math.min(a.e.c,16383),s=ni(a)}for(var u=a.s.r;u<=a.e.r;++u){o=Ui(u);for(var d=a.s.c;d<=a.e.c;++d){u===a.s.r&&(c[d]=da(d)),s=c[d]+o;var f=i?(t[u]||[])[d]:t[s];f&&eot(e,f,u,d)}}}function rot(e,t){for(var r=t||{},n=ns(),i=0,a=0;a<e.SheetNames.length;++a)e.SheetNames[a]==r.sheet&&(i=a);if(i==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return Ke(n,r.biff==4?1033:r.biff==3?521:9,C3(e,16,r)),tot(n,e.Sheets[e.SheetNames[i]],i,r),Ke(n,10),n.end()}function not(e,t,r){Ke(e,49,Xtt({sz:12,name:"Arial"},r))}function iot(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)t[i]!=null&&Ke(e,1054,Jtt(i,t[i],r))})}function aot(e,t){var r=Ae(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),Ke(e,2151,r),r=Ae(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),hse(cn(t["!ref"]||"A1"),r),r.write_shift(4,4),Ke(e,2152,r)}function sot(e,t){for(var r=0;r<16;++r)Ke(e,224,W7({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(n){Ke(e,224,W7(n,0,t))})}function oot(e,t){for(var r=0;r<t["!links"].length;++r){var n=t["!links"][r];Ke(e,440,ort(n)),n[1].Tooltip&&Ke(e,2048,lrt(n))}delete t["!links"]}function lot(e,t){if(t){var r=0;t.forEach(function(n,i){++r<=256&&n&&Ke(e,125,drt(zN(i,n),i))})}}function cot(e,t,r,n,i){var a=16+Tf(i.cellXfs,t,i);if(t.v==null&&!t.bf){Ke(e,513,qh(r,n,a));return}if(t.bf)Ke(e,6,Iit(t,r,n,i,a));else switch(t.t){case"d":case"n":var s=t.t=="d"?as(ka(t.v)):t.v;Ke(e,515,nrt(r,n,s,a));break;case"b":case"e":Ke(e,517,rrt(r,n,t.v,a,i,t.t));break;case"s":case"str":if(i.bookSST){var o=I3(i.Strings,t.v,i.revStrings);Ke(e,253,Qtt(r,n,o,a))}else Ke(e,516,Ztt(r,n,(t.v||"").slice(0,255),a,i));break;default:Ke(e,513,qh(r,n,a))}}function uot(e,t,r){var n=ns(),i=r.SheetNames[e],a=r.Sheets[i]||{},s=(r||{}).Workbook||{},o=(s.Sheets||[])[e]||{},c=Array.isArray(a),u=t.biff==8,d,f="",h=[],m=cn(a["!ref"]||"A1"),g=u?65536:16384;if(m.e.c>255||m.e.r>=g){if(t.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:IV16384");m.e.c=Math.min(m.e.c,255),m.e.r=Math.min(m.e.c,g-1)}Ke(n,2057,C3(r,16,t)),Ke(n,13,ro(1)),Ke(n,12,ro(100)),Ke(n,15,Ea(!0)),Ke(n,17,Ea(!1)),Ke(n,16,Hh(.001)),Ke(n,95,Ea(!0)),Ke(n,42,Ea(!1)),Ke(n,43,Ea(!1)),Ke(n,130,ro(1)),Ke(n,128,trt()),Ke(n,131,Ea(!1)),Ke(n,132,Ea(!1)),u&&lot(n,a["!cols"]),Ke(n,512,ert(m,t)),u&&(a["!links"]=[]);for(var p=m.s.r;p<=m.e.r;++p){f=Ui(p);for(var v=m.s.c;v<=m.e.c;++v){p===m.s.r&&(h[v]=da(v)),d=h[v]+f;var y=c?(a[p]||[])[v]:a[d];y&&(cot(n,y,p,v,t),u&&y.l&&a["!links"].push([d,y.l]))}}var x=o.CodeName||o.name||i;return u&&Ke(n,574,Ytt((s.Views||[])[0])),u&&(a["!merges"]||[]).length&&Ke(n,229,srt(a["!merges"])),u&&oot(n,a),Ke(n,442,fse(x)),u&&aot(n,a),Ke(n,10),n.end()}function dot(e,t,r){var n=ns(),i=(e||{}).Workbook||{},a=i.Sheets||[],s=i.WBProps||{},o=r.biff==8,c=r.biff==5;if(Ke(n,2057,C3(e,5,r)),r.bookType=="xla"&&Ke(n,135),Ke(n,225,o?ro(1200):null),Ke(n,193,Mtt(2)),c&&Ke(n,191),c&&Ke(n,192),Ke(n,226),Ke(n,92,Htt("SheetJS",r)),Ke(n,66,ro(o?1200:1252)),o&&Ke(n,353,ro(0)),o&&Ke(n,448),Ke(n,317,frt(e.SheetNames.length)),o&&e.vbaraw&&Ke(n,211),o&&e.vbaraw){var u=s.CodeName||"ThisWorkbook";Ke(n,442,fse(u))}Ke(n,156,ro(17)),Ke(n,25,Ea(!1)),Ke(n,18,Ea(!1)),Ke(n,19,ro(0)),o&&Ke(n,431,Ea(!1)),o&&Ke(n,444,ro(0)),Ke(n,61,Ktt()),Ke(n,64,Ea(!1)),Ke(n,141,ro(0)),Ke(n,34,Ea(gst(e)=="true")),Ke(n,14,Ea(!0)),o&&Ke(n,439,Ea(!1)),Ke(n,218,ro(0)),not(n,e,r),iot(n,e.SSF,r),sot(n,r),o&&Ke(n,352,Ea(!1));var d=n.end(),f=ns();o&&Ke(f,140,crt()),o&&r.Strings&&Qst(f,252,Gtt(r.Strings)),Ke(f,10);var h=f.end(),m=ns(),g=0,p=0;for(p=0;p<e.SheetNames.length;++p)g+=(o?12:11)+(o?2:1)*e.SheetNames[p].length;var v=d.length+g+h.length;for(p=0;p<e.SheetNames.length;++p){var y=a[p]||{};Ke(m,133,qtt({pos:v,hs:y.Hidden||0,dt:0,name:e.SheetNames[p]},r)),v+=t[p].length}var x=m.end();if(g!=x.length)throw new Error("BS8 "+g+" != "+x.length);var w=[];return d.length&&w.push(d),x.length&&w.push(x),h.length&&w.push(h),Fi(w)}function fot(e,t){var r=t||{},n=[];e&&!e.SSF&&(e.SSF=ss(Mn)),e&&e.SSF&&(FN(),LN(e.SSF),r.revssf=$N(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,O3(r),r.cellXfs=[],Tf(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var i=0;i<e.SheetNames.length;++i)n[n.length]=uot(i,r,e);return n.unshift(dot(e,n,r)),Fi(n)}function $se(e,t){for(var r=0;r<=e.SheetNames.length;++r){var n=e.Sheets[e.SheetNames[r]];if(!(!n||!n["!ref"])){var i=Ds(n["!ref"]);i.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var a=t||{};switch(a.biff||2){case 8:case 5:return fot(e,t);case 4:case 3:case 2:return rot(e,t)}throw new Error("invalid type "+a.bookType+" for BIFF")}function hot(e,t,r,n){for(var i=e["!merges"]||[],a=[],s=t.s.c;s<=t.e.c;++s){for(var o=0,c=0,u=0;u<i.length;++u)if(!(i[u].s.r>r||i[u].s.c>s)&&!(i[u].e.r<r||i[u].e.c<s)){if(i[u].s.r<r||i[u].s.c<s){o=-1;break}o=i[u].e.r-i[u].s.r+1,c=i[u].e.c-i[u].s.c+1;break}if(!(o<0)){var d=Rr({r,c:s}),f=n.dense?(e[r]||[])[s]:e[d],h=f&&f.v!=null&&(f.h||Wet(f.w||(Nu(f),f.w)||""))||"",m={};o>1&&(m.rowspan=o),c>1&&(m.colspan=c),n.editable?h='<span contenteditable="true">'+h+"</span>":f&&(m["data-t"]=f&&f.t||"z",f.v!=null&&(m["data-v"]=f.v),f.z!=null&&(m["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(h='<a href="'+f.l.Target+'">'+h+"</a>")),m.id=(n.id||"sjs")+"-"+d,a.push(Ge("td",h,m))}}var g="<tr>";return g+a.join("")+"</tr>"}var mot='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',pot="</body></html>";function got(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function Bse(e,t){var r=t||{},n=r.header!=null?r.header:mot,i=r.footer!=null?r.footer:pot,a=[n],s=Ds(e["!ref"]);r.dense=Array.isArray(e),a.push(got(e,s,r));for(var o=s.s.r;o<=s.e.r;++o)a.push(hot(e,s,o,r));return a.push("</table>"+i),a.join("")}function Vse(e,t,r){var n=r||{},i=0,a=0;if(n.origin!=null)if(typeof n.origin=="number")i=n.origin;else{var s=typeof n.origin=="string"?_i(n.origin):n.origin;i=s.r,a=s.c}var o=t.getElementsByTagName("tr"),c=Math.min(n.sheetRows||1e7,o.length),u={s:{r:0,c:0},e:{r:i,c:a}};if(e["!ref"]){var d=Ds(e["!ref"]);u.s.r=Math.min(u.s.r,d.s.r),u.s.c=Math.min(u.s.c,d.s.c),u.e.r=Math.max(u.e.r,d.e.r),u.e.c=Math.max(u.e.c,d.e.c),i==-1&&(u.e.r=i=d.e.r+1)}var f=[],h=0,m=e["!rows"]||(e["!rows"]=[]),g=0,p=0,v=0,y=0,x=0,w=0;for(e["!cols"]||(e["!cols"]=[]);g<o.length&&p<c;++g){var N=o[g];if(Q7(N)){if(n.display)continue;m[p]={hidden:!0}}var E=N.children;for(v=y=0;v<E.length;++v){var T=E[v];if(!(n.display&&Q7(T))){var S=T.hasAttribute("data-v")?T.getAttribute("data-v"):T.hasAttribute("v")?T.getAttribute("v"):Ket(T.innerHTML),A=T.getAttribute("data-z")||T.getAttribute("z");for(h=0;h<f.length;++h){var C=f[h];C.s.c==y+a&&C.s.r<p+i&&p+i<=C.e.r&&(y=C.e.c+1-a,h=-1)}w=+T.getAttribute("colspan")||1,((x=+T.getAttribute("rowspan")||1)>1||w>1)&&f.push({s:{r:p+i,c:y+a},e:{r:p+i+(x||1)-1,c:y+a+(w||1)-1}});var j={t:"s",v:S},I=T.getAttribute("data-t")||T.getAttribute("t")||"";S!=null&&(S.length==0?j.t=I||"z":n.raw||S.trim().length==0||I=="s"||(S==="TRUE"?j={t:"b",v:!0}:S==="FALSE"?j={t:"b",v:!1}:isNaN(nu(S))?isNaN(Qx(S).getDate())||(j={t:"d",v:ka(S)},n.cellDates||(j={t:"n",v:as(j.v)}),j.z=n.dateNF||Mn[14]):j={t:"n",v:nu(S)})),j.z===void 0&&A!=null&&(j.z=A);var O="",k=T.getElementsByTagName("A");if(k&&k.length)for(var D=0;D<k.length&&!(k[D].hasAttribute("href")&&(O=k[D].getAttribute("href"),O.charAt(0)!="#"));++D);O&&O.charAt(0)!="#"&&(j.l={Target:O}),n.dense?(e[p+i]||(e[p+i]=[]),e[p+i][y+a]=j):e[Rr({c:y+a,r:p+i})]=j,u.e.c<y+a&&(u.e.c=y+a),y+=w}}++p}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),u.e.r=Math.max(u.e.r,p-1+i),e["!ref"]=ni(u),p>=c&&(e["!fullref"]=ni((u.e.r=o.length-g+p-1+i,u))),e}function Use(e,t){var r=t||{},n=r.dense?[]:{};return Vse(n,e,t)}function vot(e,t){return vm(Use(e,t),t)}function Q7(e){var t="",r=yot(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function yot(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var xot=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+Jx({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return ai+t}}(),Z7=function(){var e=function(a){return jr(a).replace(/  +/g,function(s){return'<text:s text:c="'+s.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(a,s,o){var c=[];c.push('      <table:table table:name="'+jr(s.SheetNames[o])+`" table:style-name="ta1">
`);var u=0,d=0,f=Ds(a["!ref"]||"A1"),h=a["!merges"]||[],m=0,g=Array.isArray(a);if(a["!cols"])for(d=0;d<=f.e.c;++d)c.push("        <table:table-column"+(a["!cols"][d]?' table:style-name="co'+a["!cols"][d].ods+'"':"")+`></table:table-column>
`);var p="",v=a["!rows"]||[];for(u=0;u<f.s.r;++u)p=v[u]?' table:style-name="ro'+v[u].ods+'"':"",c.push("        <table:table-row"+p+`></table:table-row>
`);for(;u<=f.e.r;++u){for(p=v[u]?' table:style-name="ro'+v[u].ods+'"':"",c.push("        <table:table-row"+p+`>
`),d=0;d<f.s.c;++d)c.push(t);for(;d<=f.e.c;++d){var y=!1,x={},w="";for(m=0;m!=h.length;++m)if(!(h[m].s.c>d)&&!(h[m].s.r>u)&&!(h[m].e.c<d)&&!(h[m].e.r<u)){(h[m].s.c!=d||h[m].s.r!=u)&&(y=!0),x["table:number-columns-spanned"]=h[m].e.c-h[m].s.c+1,x["table:number-rows-spanned"]=h[m].e.r-h[m].s.r+1;break}if(y){c.push(r);continue}var N=Rr({r:u,c:d}),E=g?(a[u]||[])[d]:a[N];if(E&&E.f&&(x["table:formula"]=jr($it(E.f)),E.F&&E.F.slice(0,N.length)==N)){var T=Ds(E.F);x["table:number-matrix-columns-spanned"]=T.e.c-T.s.c+1,x["table:number-matrix-rows-spanned"]=T.e.r-T.s.r+1}if(!E){c.push(t);continue}switch(E.t){case"b":w=E.v?"TRUE":"FALSE",x["office:value-type"]="boolean",x["office:boolean-value"]=E.v?"true":"false";break;case"n":w=E.w||String(E.v||0),x["office:value-type"]="float",x["office:value"]=E.v||0;break;case"s":case"str":w=E.v==null?"":E.v,x["office:value-type"]="string";break;case"d":w=E.w||ka(E.v).toISOString(),x["office:value-type"]="date",x["office:date-value"]=ka(E.v).toISOString(),x["table:style-name"]="ce1";break;default:c.push(t);continue}var S=e(w);if(E.l&&E.l.Target){var A=E.l.Target;A=A.charAt(0)=="#"?"#"+Bit(A.slice(1)):A,A.charAt(0)!="#"&&!A.match(/^\w+:/)&&(A="../"+A),S=Ge("text:a",S,{"xlink:href":A.replace(/&/g,"&amp;")})}c.push("          "+Ge("table:table-cell",Ge("text:p",S,{}),x)+`
`)}c.push(`        </table:table-row>
`)}return c.push(`      </table:table>
`),c.join("")},i=function(a,s){a.push(` <office:automatic-styles>
`),a.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),a.push(`   <number:month number:style="long"/>
`),a.push(`   <number:text>/</number:text>
`),a.push(`   <number:day number:style="long"/>
`),a.push(`   <number:text>/</number:text>
`),a.push(`   <number:year/>
`),a.push(`  </number:date-style>
`);var o=0;s.SheetNames.map(function(u){return s.Sheets[u]}).forEach(function(u){if(u&&u["!cols"]){for(var d=0;d<u["!cols"].length;++d)if(u["!cols"][d]){var f=u["!cols"][d];if(f.width==null&&f.wpx==null&&f.wch==null)continue;j3(f),f.ods=o;var h=u["!cols"][d].wpx+"px";a.push('  <style:style style:name="co'+o+`" style:family="table-column">
`),a.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+h+`"/>
`),a.push(`  </style:style>
`),++o}}});var c=0;s.SheetNames.map(function(u){return s.Sheets[u]}).forEach(function(u){if(u&&u["!rows"]){for(var d=0;d<u["!rows"].length;++d)if(u["!rows"][d]){u["!rows"][d].ods=c;var f=u["!rows"][d].hpx+"px";a.push('  <style:style style:name="ro'+c+`" style:family="table-row">
`),a.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+f+`"/>
`),a.push(`  </style:style>
`),++c}}}),a.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),a.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),a.push(`  </style:style>
`),a.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),a.push(` </office:automatic-styles>
`)};return function(s,o){var c=[ai],u=Jx({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),d=Jx({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});o.bookType=="fods"?(c.push("<office:document"+u+d+`>
`),c.push(nse().replace(/office:document-meta/g,"office:meta"))):c.push("<office:document-content"+u+`>
`),i(c,s),c.push(`  <office:body>
`),c.push(`    <office:spreadsheet>
`);for(var f=0;f!=s.SheetNames.length;++f)c.push(n(s.Sheets[s.SheetNames[f]],s,f));return c.push(`    </office:spreadsheet>
`),c.push(`  </office:body>
`),o.bookType=="fods"?c.push("</office:document>"):c.push("</office:document-content>"),c.join("")}}();function zse(e,t){if(t.bookType=="fods")return Z7(e,t);var r=y3(),n="",i=[],a=[];return n="mimetype",qt(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",qt(r,n,Z7(e,t)),i.push([n,"text/xml"]),a.push([n,"ContentFile"]),n="styles.xml",qt(r,n,xot(e,t)),i.push([n,"text/xml"]),a.push([n,"StylesFile"]),n="meta.xml",qt(r,n,ai+nse()),i.push([n,"text/xml"]),a.push([n,"MetadataFile"]),n="manifest.rdf",qt(r,n,Rtt(a)),i.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",qt(r,n,jtt(i)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function e2(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function bot(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):Zo(Zx(e))}function wot(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var n=0;n<t.length;++n)if(e[r+n]!=t[n])continue e;return!0}return!1}function tf(e){var t=e.reduce(function(i,a){return i+a.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(i){r.set(i,n),n+=i.length}),r}function _ot(e,t,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,i=r/Math.pow(10,n-6176);e[t+15]|=n>>7,e[t+14]|=(n&127)<<1;for(var a=0;i>=1;++a,i/=256)e[t+a]=i&255;e[t+15]|=r>=0?0:128}function e1(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function Tr(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function $p(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function ci(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],i=e1(e,r),a=i&7;i=Math.floor(i/8);var s=0,o;if(i==0)break;switch(a){case 0:{for(var c=r[0];e[r[0]++]>=128;);o=e.slice(c,r[0])}break;case 5:s=4,o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 1:s=8,o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 2:s=e1(e,r),o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 3:case 4:default:throw new Error("PB Type ".concat(a," for Field ").concat(i," at offset ").concat(n))}var u={data:o,type:a};t[i]==null?t[i]=[u]:t[i].push(u)}return t}function Ci(e){var t=[];return e.forEach(function(r,n){r.forEach(function(i){i.data&&(t.push(Tr(n*8+i.type)),i.type==2&&t.push(Tr(i.data.length)),t.push(i.data))})}),tf(t)}function $o(e){for(var t,r=[],n=[0];n[0]<e.length;){var i=e1(e,n),a=ci(e.slice(n[0],n[0]+i));n[0]+=i;var s={id:$p(a[1][0].data),messages:[]};a[2].forEach(function(o){var c=ci(o.data),u=$p(c[3][0].data);s.messages.push({meta:c,data:e.slice(n[0],n[0]+u)}),n[0]+=u}),(t=a[3])!=null&&t[0]&&(s.merge=$p(a[3][0].data)>>>0>0),r.push(s)}return r}function Dm(e){var t=[];return e.forEach(function(r){var n=[];n[1]=[{data:Tr(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:Tr(+!!r.merge),type:0}]);var i=[];r.messages.forEach(function(s){i.push(s.data),s.meta[3]=[{type:0,data:Tr(s.data.length)}],n[2].push({data:Ci(s.meta),type:2})});var a=Ci(n);t.push(Tr(a.length)),t.push(a),i.forEach(function(s){return t.push(s)})}),tf(t)}function Eot(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=e1(t,r),i=[];r[0]<t.length;){var a=t[r[0]]&3;if(a==0){var s=t[r[0]++]>>2;if(s<60)++s;else{var o=s-59;s=t[r[0]],o>1&&(s|=t[r[0]+1]<<8),o>2&&(s|=t[r[0]+2]<<16),o>3&&(s|=t[r[0]+3]<<24),s>>>=0,s++,r[0]+=o}i.push(t.slice(r[0],r[0]+s)),r[0]+=s;continue}else{var c=0,u=0;if(a==1?(u=(t[r[0]]>>2&7)+4,c=(t[r[0]++]&224)<<3,c|=t[r[0]++]):(u=(t[r[0]++]>>2)+1,a==2?(c=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(c=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),i=[tf(i)],c==0)throw new Error("Invalid offset 0");if(c>i[0].length)throw new Error("Invalid offset beyond length");if(u>=c)for(i.push(i[0].slice(-c)),u-=c;u>=i[i.length-1].length;)i.push(i[i.length-1]),u-=i[i.length-1].length;i.push(i[0].slice(-c,-c+u))}}var d=tf(i);if(d.length!=n)throw new Error("Unexpected length: ".concat(d.length," != ").concat(n));return d}function Bo(e){for(var t=[],r=0;r<e.length;){var n=e[r++],i=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(Eot(n,e.slice(r,r+i))),r+=i}if(r!==e.length)throw new Error("data is not a valid framed stream!");return tf(t)}function Mm(e){for(var t=[],r=0;r<e.length;){var n=Math.min(e.length-r,268435455),i=new Uint8Array(4);t.push(i);var a=Tr(n),s=a.length;t.push(a),n<=60?(s++,t.push(new Uint8Array([n-1<<2]))):n<=256?(s+=2,t.push(new Uint8Array([240,n-1&255]))):n<=65536?(s+=3,t.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(s+=4,t.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(s+=5,t.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),t.push(e.slice(r,r+n)),s+=n,i[0]=0,i[1]=s&255,i[2]=s>>8&255,i[3]=s>>16&255,r+=n}return tf(t)}function fj(e,t){var r=new Uint8Array(32),n=e2(r),i=12,a=0;switch(r[0]=5,e.t){case"n":r[1]=2,_ot(r,i,e.v),a|=1,i+=16;break;case"b":r[1]=6,n.setFloat64(i,e.v?1:0,!0),a|=2,i+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,n.setUint32(i,t.indexOf(e.v),!0),a|=8,i+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(8,a,!0),r.slice(0,i)}function hj(e,t){var r=new Uint8Array(32),n=e2(r),i=12,a=0;switch(r[0]=3,e.t){case"n":r[2]=2,n.setFloat64(i,e.v,!0),a|=32,i+=8;break;case"b":r[2]=6,n.setFloat64(i,e.v?1:0,!0),a|=32,i+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,n.setUint32(i,t.indexOf(e.v),!0),a|=16,i+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(4,a,!0),r.slice(0,i)}function Uu(e){var t=ci(e);return e1(t[1][0].data)}function Sot(e,t,r){var n,i,a,s;if(!((n=e[6])!=null&&n[0])||!((i=e[7])!=null&&i[0]))throw"Mutation only works on post-BNC storages!";var o=((s=(a=e[8])==null?void 0:a[0])==null?void 0:s.data)&&$p(e[8][0].data)>0||!1;if(o)throw"Math only works with normal offsets";for(var c=0,u=e2(e[7][0].data),d=0,f=[],h=e2(e[4][0].data),m=0,g=[],p=0;p<t.length;++p){if(t[p]==null){u.setUint16(p*2,65535,!0),h.setUint16(p*2,65535);continue}u.setUint16(p*2,d,!0),h.setUint16(p*2,m,!0);var v,y;switch(typeof t[p]){case"string":v=fj({t:"s",v:t[p]},r),y=hj({t:"s",v:t[p]},r);break;case"number":v=fj({t:"n",v:t[p]},r),y=hj({t:"n",v:t[p]},r);break;case"boolean":v=fj({t:"b",v:t[p]},r),y=hj({t:"b",v:t[p]},r);break;default:throw new Error("Unsupported value "+t[p])}f.push(v),d+=v.length,g.push(y),m+=y.length,++c}for(e[2][0].data=Tr(c);p<e[7][0].data.length/2;++p)u.setUint16(p*2,65535,!0),h.setUint16(p*2,65535,!0);return e[6][0].data=tf(f),e[3][0].data=tf(g),c}function Tot(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=Ds(r["!ref"]);n.s.r=n.s.c=0;var i=!1;n.e.c>9&&(i=!0,n.e.c=9),n.e.r>49&&(i=!0,n.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(ni(n)));var a=t2(r,{range:n,header:1}),s=["~Sh33tJ5~"];a.forEach(function(W){return W.forEach(function(G){typeof G=="string"&&s.push(G)})});var o={},c=[],u=Dr.read(t.numbers,{type:"base64"});u.FileIndex.map(function(W,G){return[W,u.FullPaths[G]]}).forEach(function(W){var G=W[0],P=W[1];if(G.type==2&&G.name.match(/\.iwa/)){var J=G.content,oe=Bo(J),ae=$o(oe);ae.forEach(function(K){c.push(K.id),o[K.id]={deps:[],location:P,type:$p(K.messages[0].meta[1][0].data)}})}}),c.sort(function(W,G){return W-G});var d=c.filter(function(W){return W>1}).map(function(W){return[W,Tr(W)]});u.FileIndex.map(function(W,G){return[W,u.FullPaths[G]]}).forEach(function(W){var G=W[0];if(W[1],!!G.name.match(/\.iwa/)){var P=$o(Bo(G.content));P.forEach(function(J){J.messages.forEach(function(oe){d.forEach(function(ae){J.messages.some(function(K){return $p(K.meta[1][0].data)!=11006&&wot(K.data,ae[1])})&&o[ae[0]].deps.push(J.id)})})})}});for(var f=Dr.find(u,o[1].location),h=$o(Bo(f.content)),m,g=0;g<h.length;++g){var p=h[g];p.id==1&&(m=p)}var v=Uu(ci(m.messages[0].data)[1][0].data);for(f=Dr.find(u,o[v].location),h=$o(Bo(f.content)),g=0;g<h.length;++g)p=h[g],p.id==v&&(m=p);for(v=Uu(ci(m.messages[0].data)[2][0].data),f=Dr.find(u,o[v].location),h=$o(Bo(f.content)),g=0;g<h.length;++g)p=h[g],p.id==v&&(m=p);for(v=Uu(ci(m.messages[0].data)[2][0].data),f=Dr.find(u,o[v].location),h=$o(Bo(f.content)),g=0;g<h.length;++g)p=h[g],p.id==v&&(m=p);var y=ci(m.messages[0].data);{y[6][0].data=Tr(n.e.r+1),y[7][0].data=Tr(n.e.c+1);var x=Uu(y[46][0].data),w=Dr.find(u,o[x].location),N=$o(Bo(w.content));{for(var E=0;E<N.length&&N[E].id!=x;++E);if(N[E].id!=x)throw"Bad ColumnRowUIDMapArchive";var T=ci(N[E].messages[0].data);T[1]=[],T[2]=[],T[3]=[];for(var S=0;S<=n.e.c;++S){var A=[];A[1]=A[2]=[{type:0,data:Tr(S+420690)}],T[1].push({type:2,data:Ci(A)}),T[2].push({type:0,data:Tr(S)}),T[3].push({type:0,data:Tr(S)})}T[4]=[],T[5]=[],T[6]=[];for(var C=0;C<=n.e.r;++C)A=[],A[1]=A[2]=[{type:0,data:Tr(C+726270)}],T[4].push({type:2,data:Ci(A)}),T[5].push({type:0,data:Tr(C)}),T[6].push({type:0,data:Tr(C)});N[E].messages[0].data=Ci(T)}w.content=Mm(Dm(N)),w.size=w.content.length,delete y[46];var j=ci(y[4][0].data);{j[7][0].data=Tr(n.e.r+1);var I=ci(j[1][0].data),O=Uu(I[2][0].data);w=Dr.find(u,o[O].location),N=$o(Bo(w.content));{if(N[0].id!=O)throw"Bad HeaderStorageBucket";var k=ci(N[0].messages[0].data);for(C=0;C<a.length;++C){var D=ci(k[2][0].data);D[1][0].data=Tr(C),D[4][0].data=Tr(a[C].length),k[2][C]={type:k[2][0].type,data:Ci(D)}}N[0].messages[0].data=Ci(k)}w.content=Mm(Dm(N)),w.size=w.content.length;var B=Uu(j[2][0].data);w=Dr.find(u,o[B].location),N=$o(Bo(w.content));{if(N[0].id!=B)throw"Bad HeaderStorageBucket";for(k=ci(N[0].messages[0].data),S=0;S<=n.e.c;++S)D=ci(k[2][0].data),D[1][0].data=Tr(S),D[4][0].data=Tr(n.e.r+1),k[2][S]={type:k[2][0].type,data:Ci(D)};N[0].messages[0].data=Ci(k)}w.content=Mm(Dm(N)),w.size=w.content.length;var ee=Uu(j[4][0].data);(function(){for(var W=Dr.find(u,o[ee].location),G=$o(Bo(W.content)),P,J=0;J<G.length;++J){var oe=G[J];oe.id==ee&&(P=oe)}var ae=ci(P.messages[0].data);{ae[3]=[];var K=[];s.forEach(function(le,Be){K[1]=[{type:0,data:Tr(Be)}],K[2]=[{type:0,data:Tr(1)}],K[3]=[{type:2,data:bot(le)}],ae[3].push({type:2,data:Ci(K)})})}P.messages[0].data=Ci(ae);var ie=Dm(G),fe=Mm(ie);W.content=fe,W.size=W.content.length})();var z=ci(j[3][0].data);{var V=z[1][0];delete z[2];var U=ci(V.data);{var se=Uu(U[2][0].data);(function(){for(var W=Dr.find(u,o[se].location),G=$o(Bo(W.content)),P,J=0;J<G.length;++J){var oe=G[J];oe.id==se&&(P=oe)}var ae=ci(P.messages[0].data);{delete ae[6],delete z[7];var K=new Uint8Array(ae[5][0].data);ae[5]=[];for(var ie=0,fe=0;fe<=n.e.r;++fe){var le=ci(K);ie+=Sot(le,a[fe],s),le[1][0].data=Tr(fe),ae[5].push({data:Ci(le),type:2})}ae[1]=[{type:0,data:Tr(n.e.c+1)}],ae[2]=[{type:0,data:Tr(n.e.r+1)}],ae[3]=[{type:0,data:Tr(ie)}],ae[4]=[{type:0,data:Tr(n.e.r+1)}]}P.messages[0].data=Ci(ae);var Be=Dm(G),Oe=Mm(Be);W.content=Oe,W.size=W.content.length})()}V.data=Ci(U)}j[3][0].data=Ci(z)}y[4][0].data=Ci(j)}m.messages[0].data=Ci(y);var ne=Dm(h),M=Mm(ne);return f.content=M,f.size=f.content.length,u}function Not(e){return function(r){for(var n=0;n!=e.length;++n){var i=e[n];r[i[0]]===void 0&&(r[i[0]]=i[1]),i[2]==="n"&&(r[i[0]]=Number(r[i[0]]))}}}function O3(e){Not([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function Aot(e,t){return t.bookType=="ods"?zse(e,t):t.bookType=="numbers"?Tot(e,t):t.bookType=="xlsb"?Cot(e,t):jot(e,t)}function Cot(e,t){pp=1024,e&&!e.SSF&&(e.SSF=ss(Mn)),e&&e.SSF&&(FN(),LN(e.SSF),t.revssf=$N(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,by?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",n=Tse.indexOf(t.bookType)>-1,i=ese();O3(t=t||{});var a=y3(),s="",o=0;if(t.cellXfs=[],Tf(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),s="docProps/core.xml",qt(a,s,ise(e.Props,t)),i.coreprops.push(s),Cr(t.rels,2,s,pr.CORE_PROPS),s="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(e.SheetNames[u]);e.Props.SheetNames=c}for(e.Props.Worksheets=e.Props.SheetNames.length,qt(a,s,sse(e.Props)),i.extprops.push(s),Cr(t.rels,3,s,pr.EXT_PROPS),e.Custprops!==e.Props&&qi(e.Custprops||{}).length>0&&(s="docProps/custom.xml",qt(a,s,ose(e.Custprops)),i.custprops.push(s),Cr(t.rels,4,s,pr.CUST_PROPS)),o=1;o<=e.SheetNames.length;++o){var d={"!id":{}},f=e.Sheets[e.SheetNames[o-1]],h=(f||{})["!type"]||"sheet";switch(h){case"chart":default:s="xl/worksheets/sheet"+o+"."+r,qt(a,s,Rst(o-1,s,t,e,d)),i.sheets.push(s),Cr(t.wbrels,-1,"worksheets/sheet"+o+"."+r,pr.WS[0])}if(f){var m=f["!comments"],g=!1,p="";m&&m.length>0&&(p="xl/comments"+o+"."+r,qt(a,p,Ost(m,p)),i.comments.push(p),Cr(d,-1,"../comments"+o+"."+r,pr.CMNT),g=!0),f["!legacy"]&&g&&qt(a,"xl/drawings/vmlDrawing"+o+".vml",Ese(o,f["!comments"])),delete f["!comments"],delete f["!legacy"]}d["!id"].rId1&&qt(a,rse(s),Lp(d))}return t.Strings!=null&&t.Strings.length>0&&(s="xl/sharedStrings."+r,qt(a,s,Ist(t.Strings,s,t)),i.strs.push(s),Cr(t.wbrels,-1,"sharedStrings."+r,pr.SST)),s="xl/workbook."+r,qt(a,s,Pst(e,s)),i.workbooks.push(s),Cr(t.rels,1,s,pr.WB),s="xl/theme/theme1.xml",qt(a,s,wse(e.Themes,t)),i.themes.push(s),Cr(t.wbrels,-1,"theme/theme1.xml",pr.THEME),s="xl/styles."+r,qt(a,s,kst(e,s,t)),i.styles.push(s),Cr(t.wbrels,-1,"styles."+r,pr.STY),e.vbaraw&&n&&(s="xl/vbaProject.bin",qt(a,s,e.vbaraw),i.vba.push(s),Cr(t.wbrels,-1,"vbaProject.bin",pr.VBA)),s="xl/metadata."+r,qt(a,s,Dst(s)),i.metadata.push(s),Cr(t.wbrels,-1,"metadata."+r,pr.XLMETA),qt(a,"[Content_Types].xml",tse(i,t)),qt(a,"_rels/.rels",Lp(t.rels)),qt(a,"xl/_rels/workbook."+r+".rels",Lp(t.wbrels)),delete t.revssf,delete t.ssf,a}function jot(e,t){pp=1024,e&&!e.SSF&&(e.SSF=ss(Mn)),e&&e.SSF&&(FN(),LN(e.SSF),t.revssf=$N(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,by?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",n=Tse.indexOf(t.bookType)>-1,i=ese();O3(t=t||{});var a=y3(),s="",o=0;if(t.cellXfs=[],Tf(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),s="docProps/core.xml",qt(a,s,ise(e.Props,t)),i.coreprops.push(s),Cr(t.rels,2,s,pr.CORE_PROPS),s="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(e.SheetNames[u]);e.Props.SheetNames=c}e.Props.Worksheets=e.Props.SheetNames.length,qt(a,s,sse(e.Props)),i.extprops.push(s),Cr(t.rels,3,s,pr.EXT_PROPS),e.Custprops!==e.Props&&qi(e.Custprops||{}).length>0&&(s="docProps/custom.xml",qt(a,s,ose(e.Custprops)),i.custprops.push(s),Cr(t.rels,4,s,pr.CUST_PROPS));var d=["SheetJ5"];for(t.tcid=0,o=1;o<=e.SheetNames.length;++o){var f={"!id":{}},h=e.Sheets[e.SheetNames[o-1]],m=(h||{})["!type"]||"sheet";switch(m){case"chart":default:s="xl/worksheets/sheet"+o+"."+r,qt(a,s,Ose(o-1,t,e,f)),i.sheets.push(s),Cr(t.wbrels,-1,"worksheets/sheet"+o+"."+r,pr.WS[0])}if(h){var g=h["!comments"],p=!1,v="";if(g&&g.length>0){var y=!1;g.forEach(function(x){x[1].forEach(function(w){w.T==!0&&(y=!0)})}),y&&(v="xl/threadedComments/threadedComment"+o+"."+r,qt(a,v,snt(g,d,t)),i.threadedcomments.push(v),Cr(f,-1,"../threadedComments/threadedComment"+o+"."+r,pr.TCMNT)),v="xl/comments"+o+"."+r,qt(a,v,Sse(g)),i.comments.push(v),Cr(f,-1,"../comments"+o+"."+r,pr.CMNT),p=!0}h["!legacy"]&&p&&qt(a,"xl/drawings/vmlDrawing"+o+".vml",Ese(o,h["!comments"])),delete h["!comments"],delete h["!legacy"]}f["!id"].rId1&&qt(a,rse(s),Lp(f))}return t.Strings!=null&&t.Strings.length>0&&(s="xl/sharedStrings."+r,qt(a,s,pse(t.Strings,t)),i.strs.push(s),Cr(t.wbrels,-1,"sharedStrings."+r,pr.SST)),s="xl/workbook."+r,qt(a,s,Lse(e)),i.workbooks.push(s),Cr(t.rels,1,s,pr.WB),s="xl/theme/theme1.xml",qt(a,s,wse(e.Themes,t)),i.themes.push(s),Cr(t.wbrels,-1,"theme/theme1.xml",pr.THEME),s="xl/styles."+r,qt(a,s,xse(e,t)),i.styles.push(s),Cr(t.wbrels,-1,"styles."+r,pr.STY),e.vbaraw&&n&&(s="xl/vbaProject.bin",qt(a,s,e.vbaraw),i.vba.push(s),Cr(t.wbrels,-1,"vbaProject.bin",pr.VBA)),s="xl/metadata."+r,qt(a,s,_se()),i.metadata.push(s),Cr(t.wbrels,-1,"metadata."+r,pr.XLMETA),d.length>1&&(s="xl/persons/person.xml",qt(a,s,ont(d)),i.people.push(s),Cr(t.wbrels,-1,"persons/person.xml",pr.PEOPLE)),qt(a,"[Content_Types].xml",tse(i,t)),qt(a,"_rels/.rels",Lp(t.rels)),qt(a,"xl/_rels/workbook."+r+".rels",Lp(t.wbrels)),delete t.revssf,delete t.ssf,a}function Pot(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=Tu(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function Wse(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return sb(t.file,Dr.write(e,{type:xr?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return Dr.write(e,t)}function Rot(e,t){var r=ss(t||{}),n=Aot(e,r);return kot(n,r)}function kot(e,t){var r={},n=xr?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=n;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+t.type)}var i=e.FullPaths?Dr.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof i=="string"){if(t.type=="binary"||t.type=="base64")return i;i=new Uint8Array(MN(i))}return t.password&&typeof encrypt_agile<"u"?Wse(encrypt_agile(i,t.password),t):t.type==="file"?sb(t.file,i):t.type=="string"?gy(i):i}function Iot(e,t){var r=t||{},n=Yst(e,r);return Wse(n,r)}function jl(e,t,r){r||(r="");var n=r+e;switch(t.type){case"base64":return Xx(Zx(n));case"binary":return Zx(n);case"string":return e;case"file":return sb(t.file,n,"utf8");case"buffer":return xr?Ou(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):jl(n,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function Oot(e,t){switch(t.type){case"base64":return Xx(e);case"binary":return e;case"string":return e;case"file":return sb(t.file,e,"binary");case"buffer":return xr?Ou(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function Fw(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",n=0;n<e.length;++n)r+=String.fromCharCode(e[n]);return t.type=="base64"?Xx(r):t.type=="string"?gy(r):r;case"file":return sb(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function Hse(e,t){set(),xst(e);var r=ss(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=Hse(e,r);return r.type="array",MN(n)}var i=0;if(r.sheet&&(typeof r.sheet=="number"?i=r.sheet:i=e.SheetNames.indexOf(r.sheet),!e.SheetNames[i]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return jl(Gst(e,r),r);case"slk":case"sylk":return jl(grt.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"htm":case"html":return jl(Bse(e.Sheets[e.SheetNames[i]],r),r);case"txt":return Oot(qse(e.Sheets[e.SheetNames[i]],r),r);case"csv":return jl(D3(e.Sheets[e.SheetNames[i]],r),r,"\uFEFF");case"dif":return jl(vrt.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"dbf":return Fw(prt.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"prn":return jl(yrt.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"rtf":return jl(Trt.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"eth":return jl(mse.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"fods":return jl(zse(e,r),r);case"wk1":return Fw(H7.sheet_to_wk1(e.Sheets[e.SheetNames[i]],r),r);case"wk3":return Fw(H7.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),Fw($se(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),Iot(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return Rot(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function Dot(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(e.bookType=r.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function Mot(e,t,r){var n={};return n.type="file",n.file=t,Dot(n),Hse(e,n)}function Lot(e,t,r,n,i,a,s,o){var c=Ui(r),u=o.defval,d=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),f=!0,h=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:r,enumerable:!1})}catch{h.__rowNum__=r}else h.__rowNum__=r;if(!s||e[r])for(var m=t.s.c;m<=t.e.c;++m){var g=s?e[r][m]:e[n[m]+c];if(g===void 0||g.t===void 0){if(u===void 0)continue;a[m]!=null&&(h[a[m]]=u);continue}var p=g.v;switch(g.t){case"z":if(p==null)break;continue;case"e":p=p==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+g.t)}if(a[m]!=null){if(p==null)if(g.t=="e"&&p===null)h[a[m]]=null;else if(u!==void 0)h[a[m]]=u;else if(d&&p===null)h[a[m]]=null;else continue;else h[a[m]]=d&&(g.t!=="n"||g.t==="n"&&o.rawNumbers!==!1)?p:Nu(g,p,o);p!=null&&(f=!1)}}return{row:h,isempty:f}}function t2(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,i=1,a=[],s=0,o="",c={s:{r:0,c:0},e:{r:0,c:0}},u=t||{},d=u.range!=null?u.range:e["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof d){case"string":c=cn(d);break;case"number":c=cn(e["!ref"]),c.s.r=d;break;default:c=d}n>0&&(i=0);var f=Ui(c.s.r),h=[],m=[],g=0,p=0,v=Array.isArray(e),y=c.s.r,x=0,w={};v&&!e[y]&&(e[y]=[]);var N=u.skipHidden&&e["!cols"]||[],E=u.skipHidden&&e["!rows"]||[];for(x=c.s.c;x<=c.e.c;++x)if(!(N[x]||{}).hidden)switch(h[x]=da(x),r=v?e[y][x]:e[h[x]+f],n){case 1:a[x]=x-c.s.c;break;case 2:a[x]=h[x];break;case 3:a[x]=u.header[x-c.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),o=s=Nu(r,null,u),p=w[s]||0,!p)w[s]=1;else{do o=s+"_"+p++;while(w[o]);w[s]=p,w[o]=1}a[x]=o}for(y=c.s.r+i;y<=c.e.r;++y)if(!(E[y]||{}).hidden){var T=Lot(e,c,y,h,n,a,v,u);(T.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(m[g++]=T.row)}return m.length=g,m}var J7=/"/g;function Fot(e,t,r,n,i,a,s,o){for(var c=!0,u=[],d="",f=Ui(r),h=t.s.c;h<=t.e.c;++h)if(n[h]){var m=o.dense?(e[r]||[])[h]:e[n[h]+f];if(m==null)d="";else if(m.v!=null){c=!1,d=""+(o.rawNumbers&&m.t=="n"?m.v:Nu(m,null,o));for(var g=0,p=0;g!==d.length;++g)if((p=d.charCodeAt(g))===i||p===a||p===34||o.forceQuotes){d='"'+d.replace(J7,'""')+'"';break}d=="ID"&&(d='"ID"')}else m.f!=null&&!m.F?(c=!1,d="="+m.f,d.indexOf(",")>=0&&(d='"'+d.replace(J7,'""')+'"')):d="";u.push(d)}return o.blankrows===!1&&c?null:u.join(s)}function D3(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var i=cn(e["!ref"]),a=n.FS!==void 0?n.FS:",",s=a.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,c=o.charCodeAt(0),u=new RegExp((a=="|"?"\\|":a)+"+$"),d="",f=[];n.dense=Array.isArray(e);for(var h=n.skipHidden&&e["!cols"]||[],m=n.skipHidden&&e["!rows"]||[],g=i.s.c;g<=i.e.c;++g)(h[g]||{}).hidden||(f[g]=da(g));for(var p=0,v=i.s.r;v<=i.e.r;++v)(m[v]||{}).hidden||(d=Fot(e,i,v,f,s,c,a,n),d!=null&&(n.strip&&(d=d.replace(u,"")),(d||n.blankrows!==!1)&&r.push((p++?o:"")+d)));return delete n.dense,r.join("")}function qse(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=D3(e,t);return r}function $ot(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var i=cn(e["!ref"]),a="",s=[],o,c=[],u=Array.isArray(e);for(o=i.s.c;o<=i.e.c;++o)s[o]=da(o);for(var d=i.s.r;d<=i.e.r;++d)for(a=Ui(d),o=i.s.c;o<=i.e.c;++o)if(t=s[o]+a,r=u?(e[d]||[])[o]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}c[c.length]=t+"="+n}return c}function Gse(e,t,r){var n=r||{},i=+!n.skipHeader,a=e||{},s=0,o=0;if(a&&n.origin!=null)if(typeof n.origin=="number")s=n.origin;else{var c=typeof n.origin=="string"?_i(n.origin):n.origin;s=c.r,o=c.c}var u,d={s:{c:0,r:0},e:{c:o,r:s+t.length-1+i}};if(a["!ref"]){var f=cn(a["!ref"]);d.e.c=Math.max(d.e.c,f.e.c),d.e.r=Math.max(d.e.r,f.e.r),s==-1&&(s=f.e.r+1,d.e.r=s+t.length-1+i)}else s==-1&&(s=0,d.e.r=t.length-1+i);var h=n.header||[],m=0;t.forEach(function(p,v){qi(p).forEach(function(y){(m=h.indexOf(y))==-1&&(h[m=h.length]=y);var x=p[y],w="z",N="",E=Rr({c:o+m,r:s+v+i});u=t1(a,E),x&&typeof x=="object"&&!(x instanceof Date)?a[E]=x:(typeof x=="number"?w="n":typeof x=="boolean"?w="b":typeof x=="string"?w="s":x instanceof Date?(w="d",n.cellDates||(w="n",x=as(x)),N=n.dateNF||Mn[14]):x===null&&n.nullError&&(w="e",x=0),u?(u.t=w,u.v=x,delete u.w,delete u.R,N&&(u.z=N)):a[E]=u={t:w,v:x},N&&(u.z=N))})}),d.e.c=Math.max(d.e.c,o+h.length-1);var g=Ui(s);if(i)for(m=0;m<h.length;++m)a[da(m+o)+g]={t:"s",v:h[m]};return a["!ref"]=ni(d),a}function Bot(e,t){return Gse(null,e,t)}function t1(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=_i(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?t1(e,Rr(t)):t1(e,Rr({r:t,c:r||0}))}function Vot(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function Uot(){return{SheetNames:[],Sheets:{}}}function zot(e,t,r,n){var i=1;if(!r)for(;i<=65535&&e.SheetNames.indexOf(r="Sheet"+i)!=-1;++i,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var a=r.match(/(^.*?)(\d+)$/);i=a&&+a[2]||0;var s=a&&a[1]||r;for(++i;i<=65535&&e.SheetNames.indexOf(r=s+i)!=-1;++i);}if(Mse(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function Wot(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=Vot(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function Hot(e,t){return e.z=t,e}function Kse(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function qot(e,t,r){return Kse(e,"#"+t,r)}function Got(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function Kot(e,t,r,n){for(var i=typeof t!="string"?t:cn(t),a=typeof t=="string"?t:ni(t),s=i.s.r;s<=i.e.r;++s)for(var o=i.s.c;o<=i.e.c;++o){var c=t1(e,s,o);c.t="n",c.F=a,delete c.v,s==i.s.r&&o==i.s.c&&(c.f=r,n&&(c.D=!0))}return e}var mj={encode_col:da,encode_row:Ui,encode_cell:Rr,encode_range:ni,decode_col:S3,decode_row:E3,split_cell:ltt,decode_cell:_i,decode_range:Ds,format_cell:Nu,sheet_add_aoa:Kae,sheet_add_json:Gse,sheet_add_dom:Vse,aoa_to_sheet:kg,json_to_sheet:Bot,table_to_sheet:Use,table_to_book:vot,sheet_to_csv:D3,sheet_to_txt:qse,sheet_to_json:t2,sheet_to_html:Bse,sheet_to_formulae:$ot,sheet_to_row_object_array:t2,sheet_get_cell:t1,book_new:Uot,book_append_sheet:zot,book_set_sheet_visibility:Wot,cell_set_number_format:Hot,cell_set_hyperlink:Kse,cell_set_internal_link:qot,cell_add_comment:Got,sheet_set_array_formula:Kot,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}},Yse={exports:{}};(function(e,t){(function(r,n){n()})(Oc,function(){function r(u,d){return typeof d>"u"?d={autoBom:!1}:typeof d!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),d={autoBom:!d}),d.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(u.type)?new Blob(["\uFEFF",u],{type:u.type}):u}function n(u,d,f){var h=new XMLHttpRequest;h.open("GET",u),h.responseType="blob",h.onload=function(){c(h.response,d,f)},h.onerror=function(){console.error("could not download file")},h.send()}function i(u){var d=new XMLHttpRequest;d.open("HEAD",u,!1);try{d.send()}catch{}return 200<=d.status&&299>=d.status}function a(u){try{u.dispatchEvent(new MouseEvent("click"))}catch{var d=document.createEvent("MouseEvents");d.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),u.dispatchEvent(d)}}var s=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Oc=="object"&&Oc.global===Oc?Oc:void 0,o=s.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),c=s.saveAs||(typeof window!="object"||window!==s?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(u,d,f){var h=s.URL||s.webkitURL,m=document.createElement("a");d=d||u.name||"download",m.download=d,m.rel="noopener",typeof u=="string"?(m.href=u,m.origin===location.origin?a(m):i(m.href)?n(u,d,f):a(m,m.target="_blank")):(m.href=h.createObjectURL(u),setTimeout(function(){h.revokeObjectURL(m.href)},4e4),setTimeout(function(){a(m)},0))}:"msSaveOrOpenBlob"in navigator?function(u,d,f){if(d=d||u.name||"download",typeof u!="string")navigator.msSaveOrOpenBlob(r(u,f),d);else if(i(u))n(u,d,f);else{var h=document.createElement("a");h.href=u,h.target="_blank",setTimeout(function(){a(h)})}}:function(u,d,f,h){if(h=h||open("","_blank"),h&&(h.document.title=h.document.body.innerText="downloading..."),typeof u=="string")return n(u,d,f);var m=u.type==="application/octet-stream",g=/constructor/i.test(s.HTMLElement)||s.safari,p=/CriOS\/[\d]+/.test(navigator.userAgent);if((p||m&&g||o)&&typeof FileReader<"u"){var v=new FileReader;v.onloadend=function(){var w=v.result;w=p?w:w.replace(/^data:[^;]*;/,"data:attachment/file;"),h?h.location.href=w:location=w,h=null},v.readAsDataURL(u)}else{var y=s.URL||s.webkitURL,x=y.createObjectURL(u);h?h.location=x:location.href=x,h=null,setTimeout(function(){y.revokeObjectURL(x)},4e4)}});s.saveAs=c.saveAs=c,e.exports=c})})(Yse);var Yot=Yse.exports;const _m=({data:e,columns:t,filename:r,children:n})=>{const[i,a]=b.useState(!1),[s,o]=b.useState(t.filter(h=>h.defaultSelected).map(h=>h.id)),[c,u]=b.useState("xlsx"),d=b.useCallback(()=>{if(e.length===0){alert("Nenhum dado disponível para exportação");return}const h=e.map(p=>{const v={};return s.forEach(y=>{v[y]=p[y]}),v}),m={};t.forEach(p=>{s.includes(p.id)&&(m[p.id]=p.label)});const g=h.map(p=>{const v={};return Object.keys(p).forEach(y=>{v[m[y]||y]=p[y]}),v});if(c==="xlsx"){const p=mj.json_to_sheet(g),v=mj.book_new();mj.book_append_sheet(v,p,"Dados"),Mot(v,`${r}.xlsx`)}else{const p=[Object.keys(g[0]).join(";"),...g.map(y=>Object.values(y).map(x=>typeof x=="string"?`"${x}"`:x).join(";"))].join(`
`),v=new Blob([p],{type:"text/csv;charset=utf-8"});Yot.saveAs(v,`${r}.csv`)}a(!1)},[e,s,c,r,t]),f=h=>{o(m=>m.includes(h)?m.filter(g=>g!==h):[...m,h])};return l.jsxs(mn,{open:i,onOpenChange:a,children:[l.jsx(_4,{asChild:!0,children:n||l.jsxs(me,{variant:"outline",className:"flex items-center gap-2",children:[l.jsx(Ps,{className:"h-4 w-4"}),"Exportar"]})}),l.jsxs(on,{className:"max-w-md rounded-2xl p-6",children:[l.jsxs(pn,{children:[l.jsx(ln,{children:"Exportar Dados"}),l.jsx(gn,{children:"Selecione as colunas e o formato para exportação"})]}),l.jsxs("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto py-2",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium mb-2",children:"Formato de Exportação:"}),l.jsxs("div",{className:"flex gap-4",children:[l.jsx(me,{variant:c==="xlsx"?"default":"outline",onClick:()=>u("xlsx"),className:"flex-1",children:"Excel (.xlsx)"}),l.jsx(me,{variant:c==="csv"?"default":"outline",onClick:()=>u("csv"),className:"flex-1",children:"CSV (.csv)"})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium mb-2",children:"Colunas:"}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:t.map(h=>l.jsxs("div",{className:"flex items-center space-x-2 p-2 hover:bg-gray-50 rounded-lg",children:[l.jsx(Kx,{id:`column-${h.id}`,checked:s.includes(h.id),onCheckedChange:()=>f(h.id)}),l.jsx("label",{htmlFor:`column-${h.id}`,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:h.label})]},h.id))})]})]}),l.jsxs(ii,{children:[l.jsx(me,{variant:"outline",onClick:()=>a(!1),children:"Cancelar"}),l.jsxs(me,{onClick:d,disabled:s.length===0,children:[l.jsx(Ps,{className:"h-4 w-4 mr-2"}),"Exportar"]})]})]})]})},Dg=({request:e,isOpen:t,onOpenChange:r,onMessageSent:n,onMessagesRead:i})=>{const{currentUser:a}=Mr(),[s,o]=b.useState(""),[c,u]=b.useState([]),[d,f]=b.useState(!0),[h,m]=b.useState(null),[g,p]=b.useState(0),[v,y]=b.useState(null),[x,w]=b.useState(""),[N,E]=b.useState(!1),T=b.useRef(null),S=b.useRef(null),[A,C]=b.useState(Notification.permission),j=()=>{if(!c.length)return[];const P=new Set;return c.forEach(J=>{J.userName&&!J.isDeleted&&P.add(J.userName)}),Array.from(P)};b.useEffect(()=>{if(!e||!t)return;let P=!0,J=c.length;const oe=vT(xt(Ze,e.collectionName,e.id),ae=>{if(ae.exists()){const ie=ae.data().messages||[];if(!P&&ie.length>J&&(E(!0),!t&&A==="granted")){const fe=ie[ie.length-1];fe&&a&&fe.userId!==a.uid&&I("Nova mensagem",`${fe.userName}: ${fe.message||"Arquivo enviado"}`)}u(ie),J=ie.length,f(!1),P=!1}});return()=>oe()},[e,t,A,c.length]),b.useEffect(()=>{Notification.permission!=="granted"&&Notification.permission!=="denied"&&Notification.requestPermission().then(P=>{C(P)})},[]);const I=(P,J)=>{if(A==="granted"){const oe=new Notification(P,{body:J,icon:"/favicon.ico",requireInteraction:!1});new Audio("/sounds/Notification.mp3").play().catch(K=>{console.warn("Erro ao reproduzir som de notificação:",K)}),setTimeout(()=>{oe.close()},5e3)}};b.useEffect(()=>{t&&E(!1)},[t]),b.useEffect(()=>{var P;(P=S.current)==null||P.scrollIntoView({behavior:"smooth"})},[c]),b.useEffect(()=>{e&&t&&a&&(async()=>{try{await Ate(e.id,e.collectionName,a.uid,!0),i&&i(e.id)}catch(J){console.error("Erro ao marcar mensagens como lidas:",J)}})()},[e,t,a,i]);const O=P=>{var oe;const J=(oe=P.target.files)==null?void 0:oe[0];if(J){if(J.size>10*1024*1024){$e.error("Arquivo muito grande. Máximo 10MB permitido.");return}m(J)}},k=()=>{m(null),T.current&&(T.current.value="")},D=async()=>{if(!(!e||!s.trim()&&!h||!a))try{f(!0);let P;h&&(p(0),P=await Ete(h,e.id),p(100)),await Ste(e.id,s||(h?`Arquivo enviado: ${h.name}`:""),!0,e.collectionName,(a==null?void 0:a.displayName)||"Administrador",a.uid,P),o(""),m(null),p(0),T.current&&(T.current.value=""),$e.success("Mensagem enviada"),n()}catch(P){$e.error("Erro ao enviar mensagem"),console.error("Error:",P)}finally{f(!1)}},B=async P=>{if(!(!e||!x.trim()))try{await Tte(e.id,e.collectionName,P,x,(a==null?void 0:a.uid)||""),y(null),w(""),$e.success("Mensagem editada")}catch(J){$e.error("Erro ao editar mensagem"),console.error("Error:",J)}},ee=async P=>{if(e)try{await Nte(e.id,e.collectionName,P,(a==null?void 0:a.uid)||""),$e.success("Mensagem apagada")}catch(J){$e.error("Erro ao apagar mensagem"),console.error("Error:",J)}},z=P=>{y(P.id),w(P.message)},V=()=>{y(null),w("")},U=P=>a&&P.userId===a.uid&&!P.isDeleted,se=P=>{if(P===0)return"0 Bytes";const J=1024,oe=["Bytes","KB","MB","GB"],ae=Math.floor(Math.log(P)/Math.log(J));return parseFloat((P/Math.pow(J,ae)).toFixed(2))+" "+oe[ae]},ne=P=>P.startsWith("image/")?l.jsx(AO,{className:"h-4 w-4"}):l.jsx(Oi,{className:"h-4 w-4"}),M=P=>{if(P.isAdmin){if(P.read&&P.readBy&&P.readBy.length>0)return l.jsx(k2,{className:"h-4 w-4 text-blue-500"});if(P.delivered)return l.jsx(tm,{className:"h-4 w-4 text-gray-400"})}return null},W=P=>{P.key==="Enter"&&!P.shiftKey&&(P.preventDefault(),D())},G=(P,J)=>{P.key==="Enter"&&!P.shiftKey&&(P.preventDefault(),B(J))};return l.jsx(mn,{open:t,onOpenChange:r,children:l.jsxs(on,{className:"max-w-2xl",children:[l.jsx(pn,{children:l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs("div",{children:[l.jsxs(ln,{className:"flex items-center gap-2",children:["Chat da Solicitação",N&&l.jsx(Se,{variant:"destructive",className:"text-xs",children:"Nova mensagem"})]}),e&&l.jsxs(gn,{children:[Xot(e.type)," - ",e.userName||e.userEmail," -",Gt(new Date(e.createdAt.toMillis()),"dd/MM/yyyy",{locale:Gr}),j().length>0&&l.jsxs("span",{className:"ml-2",children:["| Participantes: ",j().join(", ")]})]})]})})}),l.jsxs("div",{className:"space-y-4",children:[d?l.jsx("div",{className:"flex justify-center items-center h-32",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary"})}):l.jsxs("div",{className:"space-y-4 max-h-[400px] overflow-y-auto p-2 border rounded-md",children:[c.length>0?c.map((P,J)=>l.jsxs("div",{className:`relative group p-3 rounded-lg ${P.isDeleted?"bg-gray-100 text-gray-500 italic":P.isAdmin?"bg-primary text-primary-foreground ml-8":"bg-muted mr-8"}`,children:[U(P)&&l.jsx("div",{className:"absolute top-1 right-1 opacity-0 group-hover:opacity-100 transition-opacity",children:l.jsxs(ei,{children:[l.jsx(ti,{asChild:!0,children:l.jsx(me,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",children:l.jsx(Uq,{className:"h-3 w-3"})})}),l.jsxs(zn,{children:[l.jsxs(wo,{onClick:()=>z(P),children:[l.jsx(Kq,{className:"h-3 w-3 mr-2"}),"Editar"]}),l.jsxs(wo,{onClick:()=>ee(P.id),className:"text-red-600",children:[l.jsx(Rs,{className:"h-3 w-3 mr-2"}),"Apagar"]})]})]})}),l.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[l.jsxs("span",{className:"font-medium",children:[P.userName,P.isEdited&&!P.isDeleted&&l.jsx("span",{className:"ml-2 text-xs opacity-70",children:"(Editada)"})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsxs("span",{children:[Gt(new Date(P.timestamp.toMillis()),"dd/MM HH:mm",{locale:Gr}),P.isEdited&&P.editedAt&&l.jsxs("span",{className:"ml-1 text-xs opacity-70",children:["(editada ",Gt(new Date(P.editedAt.toMillis()),"dd/MM HH:mm",{locale:Gr}),")"]})]}),M(P)]})]}),P.attachment&&!P.isDeleted&&l.jsxs("div",{className:"mb-2 p-2 bg-white/10 rounded border border-white/20",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[ne(P.attachment.type),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium truncate",children:P.attachment.name}),l.jsx("p",{className:"text-xs opacity-75",children:se(P.attachment.size)})]}),l.jsx(me,{size:"sm",variant:"ghost",onClick:()=>window.open(P.attachment.url,"_blank"),className:"h-8 w-8 p-0",children:l.jsx(Ps,{className:"h-3 w-3"})})]}),P.attachment.type.startsWith("image/")&&l.jsx("div",{className:"mt-2",children:l.jsx("img",{src:P.attachment.url,alt:P.attachment.name,className:"max-w-full h-auto rounded cursor-pointer",style:{maxHeight:"200px"},onClick:()=>window.open(P.attachment.url,"_blank")})})]}),v===P.id?l.jsxs("div",{className:"space-y-2",children:[l.jsx(dI,{value:x,onChange:oe=>w(oe.target.value),onKeyDown:oe=>G(oe,P.id),className:"min-h-[60px] resize-none w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",placeholder:"Edite sua mensagem...",minRows:2,maxRows:6}),l.jsxs("div",{className:"flex gap-2 justify-end",children:[l.jsxs(me,{size:"sm",variant:"outline",onClick:V,children:[l.jsx(Vc,{className:"h-3 w-3 mr-1"}),"Cancelar"]}),l.jsxs(me,{size:"sm",onClick:()=>B(P.id),disabled:!x.trim(),children:[l.jsx(M2,{className:"h-3 w-3 mr-1"}),"Salvar"]})]})]}):P.message&&l.jsx("p",{className:P.isDeleted?"text-gray-500 italic":"",children:P.message})]},P.id||J)):l.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Nenhuma mensagem ainda"}),l.jsx("div",{ref:S})]}),h&&l.jsxs("div",{className:"flex items-center gap-2 p-2 bg-muted rounded border",children:[ne(h.type),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium truncate",children:h.name}),l.jsx("p",{className:"text-xs text-muted-foreground",children:se(h.size)})]}),l.jsx(me,{size:"sm",variant:"ghost",onClick:k,className:"h-8 w-8 p-0",children:l.jsx(go,{className:"h-4 w-4"})})]}),g>0&&g<100&&l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:l.jsx("div",{className:"bg-primary h-2 rounded-full transition-all duration-300",style:{width:`${g}%`}})}),l.jsxs("div",{className:"flex gap-2 items-end pl-3",children:[l.jsx("div",{className:"flex-1",children:l.jsx(dI,{placeholder:"Digite sua mensagem...",value:s,onChange:P=>o(P.target.value),onKeyDown:W,disabled:d,minRows:1,maxRows:3,className:"w-full min-h-[40px] resize-none rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"})}),l.jsxs("div",{className:"flex gap-2 mb-1.5 mr-2",children:[l.jsx("input",{ref:T,type:"file",onChange:O,className:"hidden",accept:"*/*"}),l.jsx(me,{variant:"outline",size:"sm",onClick:()=>{var P;return(P=T.current)==null?void 0:P.click()},disabled:d,className:"flex-shrink-0",children:l.jsx(Gq,{className:"h-4 w-4"})}),l.jsx(me,{onClick:D,className:"flex-shrink-0",disabled:d||!s.trim()&&!h,children:l.jsx(Yq,{className:"h-4 w-4"})})]})]})]})]})})},Xot=e=>{switch(e){case"reservation":return"Reserva";case"purchase":return"Compra";case"support":return"Suporte";default:return e}},$w=e=>{switch(e){case"pending":return l.jsx(Se,{variant:"outline",className:"border-yellow-500 text-yellow-600",children:"Pendente"});case"analyzing":return l.jsx(Se,{variant:"outline",className:"bg-yellow-500 text-white",children:"Em Análise"});case"approved":return l.jsx(Se,{className:"bg-green-500 text-white",children:"Aprovado"});case"rejected":return l.jsx(Se,{variant:"destructive",children:"Reprovado"});case"waitingDelivery":return l.jsx(Se,{className:"bg-blue-500 text-white",children:"Aguardando entrega"});case"delivered":return l.jsx(Se,{className:"bg-indigo-500 text-white",children:"Recebido"});case"completed":return l.jsx(Se,{className:"bg-slate-500 text-white",children:"Concluído"});case"canceled":return l.jsx(Se,{className:"bg-amber-500 text-white",children:"Cancelado"});default:return l.jsx(Se,{variant:"outline",children:"Desconhecido"})}},Qot=()=>{const e=vl(),{currentUser:t,userPermissions:r}=Mr(),[n,i]=b.useState(""),[a,s]=b.useState(null),[o,c]=b.useState(!1),[u,d]=b.useState(!1),[f,h]=b.useState(null),[m,g]=b.useState(!1),[p,v]=b.useState(null),[y,x]=b.useState({}),[w,N]=b.useState(()=>{const ge=typeof window<"u"?localStorage.getItem("financeViewedRequests"):null;return ge?new Set(JSON.parse(ge)):new Set}),[E,T]=b.useState(null),[S,A]=b.useState(!1),C=["Tecnologia","Infraestrutura","Pedagógico","Administrativo"],[j,I]=b.useState(C),[O,k]=b.useState(""),[D,B]=b.useState(!1),ee=["analyzing","approved","rejected","waitingDelivery","delivered","completed","canceled"],z=["rejected","completed","canceled","delivered"],V=ee.filter(ge=>!z.includes(ge)),[U,se]=b.useState(V);if(!(r["compras-financeiro"]||(t==null?void 0:t.email)==="suporte@colegioeccos.com.br"))return l.jsx(Xie,{});const{data:M=[],isLoading:W}=ua({queryKey:["allRequests"],queryFn:()=>Pu()});b.useEffect(()=>{(()=>{const st={};M.forEach(_e=>{const ce=(_e.messages||[]).filter(he=>!he.isAdmin&&!w.has(`${_e.id}-${he.timestamp.toMillis()}`)).length;ce>0&&(st[_e.id]=ce)}),x(st)})()},[M,w]),b.useEffect(()=>{a&&a.deliveryDate?T(a.deliveryDate.toDate()):T(null)},[a]);const G=async ge=>{try{const st=await wu(ge.id,ge.collectionName);v(st),N(_e=>{const Q=new Set(_e);return(st.messages||[]).forEach(ce=>{ce.isAdmin||Q.add(`${st.id}-${ce.timestamp.toMillis()}`)}),localStorage.setItem("financeViewedRequests",JSON.stringify(Array.from(Q))),Q}),x(_e=>{const Q={..._e};return delete Q[st.id],Q}),g(!0)}catch(st){$e.error("Erro ao abrir chat"),console.error("Error:",st)}},P=async ge=>{if(a){if(ge==="rejected"){B(!0);return}try{const st={status:ge};ge==="waitingDelivery"&&E&&(st.deliveryDate=Ot.fromDate(E));const _e=xt(Ze,a.collectionName,a.id);await ur(_e,st),await Ra({title:"Alteração de Status",message:`Status da sua solicitação de compra foi alterado para: ${ge}`,link:"minhas-solicitacoes",createdAt:new Date,readBy:[],recipients:[a.userEmail],isBatch:!1}),$e.success("Status atualizado"),e.invalidateQueries({queryKey:["allRequests"]}),s({...a,status:ge,...st})}catch(st){$e.error("Erro ao atualizar"),console.error("Error:",st)}}},J=[{id:"userName",label:"Solicitante",defaultSelected:!0},{id:"userEmail",label:"Email",defaultSelected:!0},{id:"tipo",label:"Tipo",defaultSelected:!0},{id:"itemName",label:"Item",defaultSelected:!0},{id:"quantity",label:"Quantidade",defaultSelected:!0},{id:"unitPrice",label:"Valor Unitário",defaultSelected:!0},{id:"status",label:"Status",defaultSelected:!0},{id:"justification",label:"Justificativa",defaultSelected:!0},{id:"createdAt",label:"Data de Criação",defaultSelected:!0},{id:"deliveryDate",label:"Data de Entrega",defaultSelected:!0},{id:"rejectionReason",label:"Motivo da Rejeição",defaultSelected:!0}],oe=async()=>{if(a)try{const ge=xt(Ze,a.collectionName,a.id);await ur(ge,{status:"rejected",rejectionReason:O}),await Ra({title:"Solicitação Reprovada",message:`Sua solicitação de compra foi reprovada. Motivo: ${O}`,link:"minhas-solicitacoes",createdAt:new Date,readBy:[],recipients:[a.userEmail],isBatch:!1}),$e.success("Solicitação reprovada com justificativa"),B(!1),k(""),e.invalidateQueries({queryKey:["allRequests"]}),s({...a,status:"rejected",rejectionReason:O})}catch(ge){$e.error("Erro ao reprovar solicitação"),console.error("Error:",ge)}},ae=async()=>{if(a)try{const ge=xt(Ze,a.collectionName,a.id),st={};E?st.deliveryDate=Ot.fromDate(E):st.deliveryDate=null,await ur(ge,st),s({...a,deliveryDate:E?Ot.fromDate(E):null}),$e.success("Data de entrega atualizada"),A(!1),e.invalidateQueries({queryKey:["allRequests"]})}catch(ge){$e.error("Erro ao atualizar data de entrega"),console.error("Error:",ge)}},K=async()=>{if(a)try{const ge=xt(Ze,a.collectionName,a.id);await ur(ge,{deliveryDate:null}),s({...a,deliveryDate:null}),T(null),$e.success("Data de entrega removida"),A(!1),e.invalidateQueries({queryKey:["allRequests"]})}catch(ge){$e.error("Erro ao remover data de entrega"),console.error("Error:",ge)}},ie=ge=>{h({id:ge.id,collectionName:ge.collectionName}),d(!0)},fe=async()=>{if(f)try{await fm(f.id,f.collectionName),$e.success("Excluído com sucesso"),d(!1),h(null),o&&c(!1),e.invalidateQueries({queryKey:["allRequests"]})}catch(ge){$e.error("Erro ao excluir"),console.error("Error:",ge)}},le=M.filter(ge=>ge.type==="purchase").filter(ge=>{var _e,Q,ce;const st=n.toLowerCase();return(((_e=ge.userName)==null?void 0:_e.toLowerCase().includes(st))||((Q=ge.userEmail)==null?void 0:Q.toLowerCase().includes(st))||((ce=ge.itemName)==null?void 0:ce.toLowerCase().includes(st)))&&j.includes(ge.tipo)&&U.includes(ge.status)}),Be=le.length,Oe=le.filter(ge=>ge.status==="analyzing").length,vt=le.filter(ge=>ge.status==="approved").length,mt=le.reduce((ge,st)=>ge+(st.quantity||0)*(st.unitPrice||0),0);return l.jsx(sn,{children:l.jsxs("div",{className:"min-h-screen bg-white relative overflow-hidden",children:[l.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[l.jsx("div",{className:"absolute left-1/4 top-1/4 h-96 w-96 rounded-full bg-sidebar blur-3xl opacity-5"}),l.jsx("div",{className:"absolute right-1/4 bottom-1/4 h-80 w-80 rounded-full bg-eccos-purple blur-3xl opacity-5"})]}),l.jsxs("div",{className:"relative z-10 space-y-8 p-6 md:p-12",children:[l.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2 bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:[l.jsx(wn,{className:"text-eccos-purple",size:35}),"Solicitações de Compra"]}),W?l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-eccos-purple"})}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"grid gap-4 grid-cols-2 sm:grid-cols-2 lg:grid-cols-4",children:[l.jsxs(Qe,{className:"bg-white border border-gray-100 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300",children:[l.jsx(Rt,{className:"pb-2",children:l.jsx(kt,{className:"text-sm font-medium text-gray-600",children:"Total de Solicitações"})}),l.jsxs(nt,{children:[l.jsx("div",{className:"text-2xl font-bold bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:Be}),l.jsx(Se,{variant:"outline",className:"mt-2 border-eccos-purple text-eccos-purple",children:"Total"})]})]}),l.jsxs(Qe,{className:"bg-white border border-gray-100 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300",children:[l.jsx(Rt,{className:"pb-2",children:l.jsx(kt,{className:"text-sm font-medium text-gray-600",children:"Pendentes"})}),l.jsxs(nt,{children:[l.jsx("div",{className:"text-2xl font-bold bg-gradient-to-r from-yellow-500 to-yellow-600 bg-clip-text text-transparent",children:Oe}),l.jsxs(Se,{variant:"outline",className:"mt-2 border-yellow-500 text-yellow-500",children:[l.jsx(fu,{className:"h-3 w-3 mr-1"}),"Aguardando"]})]})]}),l.jsxs(Qe,{className:"bg-white border border-gray-100 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300",children:[l.jsx(Rt,{className:"pb-2",children:l.jsx(kt,{className:"text-sm font-medium text-gray-600",children:"Aprovadas"})}),l.jsxs(nt,{children:[l.jsx("div",{className:"text-2xl font-bold bg-gradient-to-r from-green-500 to-green-600 bg-clip-text text-transparent",children:vt}),l.jsxs(Se,{variant:"outline",className:"mt-2 border-green-500 text-green-500",children:[l.jsx(I2,{className:"h-3 w-3 mr-1"}),"Aprovadas"]})]})]}),l.jsxs(Qe,{className:"bg-white border border-gray-100 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300",children:[l.jsx(Rt,{className:"pb-2",children:l.jsx(kt,{className:"text-sm font-medium text-gray-600",children:"Valor Total"})}),l.jsxs(nt,{children:[l.jsx("div",{className:"text-2xl font-bold bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",notation:"compact"}).format(mt)}),l.jsxs(Se,{variant:"outline",className:"mt-2 border-eccos-purple text-eccos-purple",children:[l.jsx(O2,{className:"h-3 w-3 mr-1"}),"Total"]})]})]})]}),l.jsx(Qe,{className:"bg-white border border-gray-100 rounded-2xl shadow-lg",children:l.jsx(nt,{className:"p-6",children:l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[l.jsxs("div",{className:"relative flex-1 max-w-md",children:[l.jsx(gc,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),l.jsx(Bt,{placeholder:"Pesquisar por nome, email ou item...",value:n,onChange:ge=>i(ge.target.value),className:"pl-10 h-12 rounded-xl border-gray-200 focus:border-eccos-purple"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(ei,{children:[l.jsx(ti,{asChild:!0,children:l.jsxs(me,{variant:"outline",className:"flex items-center gap-2 h-12 rounded-xl border-gray-200 px-6",children:[l.jsx(cc,{className:"h-4 w-4"})," Tipo (",j.length,")"]})}),l.jsx(zn,{align:"end",className:"bg-background rounded-xl",children:C.map(ge=>l.jsx(_o,{checked:j.includes(ge),onCheckedChange:st=>{I(st?[...j,ge]:j.filter(_e=>_e!==ge))},children:ge},ge))})]}),l.jsxs(ei,{children:[l.jsx(ti,{asChild:!0,children:l.jsxs(me,{variant:"outline",className:"flex items-center gap-2 h-12 rounded-xl border-gray-200 px-6",children:[l.jsx(cc,{className:"h-4 w-4"})," Status (",U.length,")"]})}),l.jsx(zn,{align:"end",className:"bg-background rounded-xl",children:ee.map(ge=>l.jsx(_o,{checked:U.includes(ge),onCheckedChange:st=>{se(st?[...U,ge]:U.filter(_e=>_e!==ge))},children:l.jsx("div",{className:"flex items-center gap-2",children:$w(ge)})},ge))})]})]}),l.jsx(_m,{data:le.map(ge=>({...ge,createdAt:ge.createdAt.toDate().toLocaleString("pt-BR"),deliveryDate:ge.deliveryDate?ge.deliveryDate.toDate().toLocaleString("pt-BR"):"Não definida",unitPrice:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(ge.unitPrice||0)})),columns:J,filename:`compras-financeiro-${new Date().toISOString().slice(0,10)}`,children:l.jsxs(me,{variant:"outline",className:"flex items-center gap-2 h-12 rounded-xl border-gray-200 px-6",children:[l.jsx(Ps,{className:"h-4 w-4"})," Exportar"]})})]})})}),le.length===0?l.jsx(Qe,{className:"bg-white border border-gray-100 rounded-2xl shadow-lg",children:l.jsx(nt,{className:"p-12",children:l.jsxs("div",{className:"text-center text-muted-foreground",children:[l.jsx(wn,{className:"h-16 w-16 mx-auto mb-4 text-gray-300"}),l.jsx("p",{className:"text-lg",children:"Nenhuma solicitação de compra encontrada"}),l.jsx("p",{className:"text-sm",children:"Tente ajustar os filtros para ver mais resultados"})]})})}):l.jsx(Qe,{className:"bg-white border border-gray-100 rounded-2xl shadow-lg overflow-hidden",children:l.jsx(nt,{className:"p-0",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs(El,{children:[l.jsx(Sl,{children:l.jsxs(En,{className:"border-gray-100",children:[l.jsx(Lt,{className:"font-semibold text-gray-700",children:"Solicitante"}),l.jsx(Lt,{className:"font-semibold text-gray-700 hidden md:table-cell",children:"Item"}),l.jsx(Lt,{className:"font-semibold text-gray-700",children:"Status"}),l.jsx(Lt,{className:"font-semibold text-gray-700 hidden lg:table-cell",children:"Valor Total"}),l.jsx(Lt,{className:"font-semibold text-gray-700",children:"Ações"})]})}),l.jsx(Tl,{children:le.map(ge=>l.jsxs(En,{className:"border-gray-100 hover:bg-gray-50/50 transition-colors",children:[l.jsx(Dt,{className:"font-medium",children:ge.userName}),l.jsx(Dt,{className:"hidden md:table-cell",children:ge.itemName}),l.jsx(Dt,{children:$w(ge.status)}),l.jsx(Dt,{className:"font-semibold hidden lg:table-cell",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format((ge.quantity||0)*(ge.unitPrice||0))}),l.jsx(Dt,{children:l.jsxs("div",{className:"flex gap-2",children:[l.jsx(me,{variant:"ghost",size:"icon",className:"h-9 w-9 rounded-xl hover:bg-eccos-purple/10 hover:text-eccos-purple",onClick:()=>{s(ge),c(!0)},children:l.jsx(cf,{className:"h-4 w-4"})}),l.jsxs(me,{variant:"ghost",size:"icon",className:"h-9 w-9 rounded-xl hover:bg-blue-50 hover:text-blue-600 relative",onClick:()=>G(ge),children:[l.jsx(rm,{className:"h-4 w-4"}),y[ge.id]>0&&l.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:y[ge.id]})]}),l.jsx(me,{variant:"ghost",size:"icon",className:"h-9 w-9 rounded-xl hover:bg-red-50 hover:text-red-600",onClick:()=>ie(ge),children:l.jsx(Rs,{className:"h-4 w-4"})})]})})]},ge.id))})]})})})})]}),l.jsx(mn,{open:o,onOpenChange:c,children:l.jsx(on,{className:"max-w-3xl bg-white border border-gray-100 rounded-2xl overflow-hidden",children:a&&l.jsxs("div",{className:"flex flex-col h-[80vh]",children:[l.jsxs(pn,{className:"p-6 pb-2 border-b border-gray-100 bg-white sticky top-0 z-10",children:[l.jsxs(ln,{className:"flex items-center gap-2",children:[l.jsx(wn,{className:"h-5 w-5 text-purple-500"}),l.jsxs("span",{className:"bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:["Solicitação de Compra - ",a.userName||a.userEmail]})]}),l.jsx(gn,{asChild:!0,children:l.jsxs("div",{className:"flex items-center justify-between text-gray-500 px-1 mt-2",children:[l.jsx("div",{children:Gt(a.createdAt.toDate(),"dd/MM/yyyy HH:mm",{locale:Gr})}),l.jsx("div",{className:"flex items-center gap-2",children:l.jsxs(ei,{children:[l.jsx(ti,{asChild:!0,children:l.jsx("button",{className:"cursor-pointer",children:$w(a.status)})}),l.jsx(zn,{className:"rounded-xl",align:"end",children:ee.map(ge=>l.jsx(wo,{onSelect:()=>P(ge),className:"cursor-pointer px-4 py-2 hover:bg-gray-100",children:l.jsx("div",{className:"flex items-center gap-2",children:$w(ge)})},ge))})]})})]})})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Tipo"}),l.jsx("p",{className:"font-medium",children:a.tipo||"Não especificado"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Solicitante"}),l.jsx("p",{className:"font-medium",children:a.userName})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Item"}),l.jsx("p",{className:"font-medium break-words",children:a.itemName})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Quantidade"}),l.jsx("p",{className:"font-medium",children:a.quantity})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Valor Unitário"}),l.jsx("p",{className:"font-medium",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(a.unitPrice||0)})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Valor Total"}),l.jsx("p",{className:"font-bold text-lg bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format((a.quantity||0)*(a.unitPrice||0))})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Justificativa"}),l.jsx("div",{className:"bg-gray-50 p-4 rounded-xl",children:l.jsx("p",{className:"whitespace-pre-wrap break-words",children:a.justification})})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Previsão de Entrega"}),a.status==="waitingDelivery"&&l.jsxs("div",{className:"flex gap-2",children:[l.jsx(me,{variant:"outline",size:"sm",className:"h-8",onClick:()=>A(!S),children:S?"Cancelar":"Editar"}),S&&l.jsxs(me,{variant:"destructive",size:"sm",className:"h-8",onClick:K,children:[l.jsx(go,{className:"h-4 w-4 mr-1"}),"Remover"]})]})]}),S?l.jsxs("div",{className:"flex gap-2",children:[l.jsx(Bt,{type:"date",value:E?E.toISOString().split("T")[0]:"",onChange:ge=>{const[st,_e,Q]=ge.target.value.split("-").map(Number);T(new Date(st,_e-1,Q))},min:new Date().toISOString().split("T")[0],className:"rounded-xl flex-1"}),l.jsxs(me,{variant:"default",className:"rounded-xl bg-eccos-purple hover:bg-eccos-purple-darker text-white",onClick:ae,children:[l.jsx(M2,{className:"h-4 w-4 mr-1"}),"Salvar"]})]}):a.deliveryDate?l.jsxs("div",{className:"flex items-center gap-2 p-3 bg-gray-50 rounded-xl",children:[l.jsx(Zn,{className:"h-5 w-5 text-gray-500"}),l.jsx("p",{className:"font-medium",children:Gt(a.deliveryDate.toDate(),"dd/MM/yyyy",{locale:Gr})})]}):l.jsx("div",{className:"text-center py-4 text-gray-500",children:"Nenhuma data de entrega definida"}),a.status==="rejected"&&a.rejectionReason&&l.jsxs("div",{className:"space-y-2 mt-4",children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Motivo da Rejeição"}),l.jsx("div",{className:"bg-gray-50 p-4 rounded-xl border border-red-100",children:l.jsx("p",{className:"whitespace-pre-wrap break-words text-red-700",children:a.rejectionReason})})]})]})]}),l.jsx(ii,{className:"p-6 border-t border-gray-100 gap-2 bg-white sticky bottom-0 z-10",children:l.jsxs(me,{variant:"destructive",onClick:()=>ie(a),className:"w-full sm:w-auto",children:[l.jsx(Rs,{className:"h-4 w-4 mr-2"}),"Excluir Solicitação"]})})]})})}),l.jsx(Dg,{request:p,isOpen:m,onOpenChange:g,onMessageSent:()=>e.invalidateQueries({queryKey:["allRequests"]})}),l.jsx(mn,{open:D,onOpenChange:B,children:l.jsxs(on,{className:"rounded-2xl",children:[l.jsxs(pn,{children:[l.jsx(ln,{children:"Justificativa de Rejeição"}),l.jsx(gn,{children:"Por favor, informe o motivo da rejeição desta solicitação."})]}),l.jsx(Oa,{placeholder:"Digite o motivo da rejeição...",value:O,onChange:ge=>k(ge.target.value),className:"min-h-[120px] px-4"}),l.jsxs(ii,{children:[l.jsx(me,{variant:"outline",onClick:()=>B(!1),children:"Cancelar"}),l.jsx(me,{onClick:oe,disabled:!O.trim(),className:"bg-red-600 hover:bg-red-700",children:"Confirmar Rejeição"})]})]})}),l.jsx(To,{open:u,onOpenChange:d,children:l.jsxs(Bs,{className:"rounded-2xl",children:[l.jsxs(Vs,{children:[l.jsx(Us,{children:"Confirmar exclusão"}),l.jsx(No,{children:"Tem certeza que deseja excluir permanentemente esta solicitação? Esta ação não pode ser desfeita."})]}),l.jsxs(wl,{children:[l.jsx(Co,{className:"rounded-xl",children:"Cancelar"}),l.jsx(Ao,{onClick:fe,className:"rounded-xl bg-red-600 hover:bg-red-700",children:"Confirmar Exclusão"})]})]})})]}),l.jsx("footer",{className:"relative z-10 bg-gray-50 py-10 px-4 md:px-12",children:l.jsx("div",{className:"max-w-6xl mx-auto text-center",children:l.jsx("p",{className:"text-gray-500 text-sm",children:"© 2025 Colégio ECCOS - Todos os direitos reservados"})})})]})})},Bw=e=>{switch(e){case"pending":return l.jsx(Se,{variant:"outline",className:"border-yellow-500 text-yellow-600",children:"Pendente"});case"analyzing":return l.jsx(Se,{variant:"outline",className:"bg-yellow-500 text-white",children:"Em Análise"});case"approved":return l.jsx(Se,{className:"bg-green-500 text-white",children:"Aprovado"});case"rejected":return l.jsx(Se,{variant:"destructive",children:"Reprovado"});case"waitingDelivery":return l.jsx(Se,{className:"bg-blue-500 text-white",children:"Aguardando entrega"});case"delivered":return l.jsx(Se,{className:"bg-indigo-500 text-white",children:"Recebido"});case"completed":return l.jsx(Se,{className:"bg-slate-500 text-white",children:"Concluído"});case"canceled":return l.jsx(Se,{className:"bg-amber-500 text-white",children:"Cancelado"});default:return l.jsx(Se,{variant:"outline",children:"Desconhecido"})}},Zot=()=>{const e=vl(),{currentUser:t}=Mr(),[r,n]=b.useState(""),[i,a]=b.useState(null),[s,o]=b.useState(!1),[c,u]=b.useState(!1),[d,f]=b.useState(null),[h,m]=b.useState(!1),[g,p]=b.useState(null),[v,y]=b.useState({}),[x,w]=b.useState(()=>{const P=typeof window<"u"?localStorage.getItem("techViewedRequests"):null;return P?new Set(JSON.parse(P)):new Set}),[N,E]=b.useState(""),[T,S]=b.useState(!1),A=["pending","analyzing","approved","rejected","waitingDelivery","delivered","completed","canceled"],C=["rejected","completed","canceled","delivered"],j=A.filter(P=>!C.includes(P)),[I,O]=b.useState(j),{data:k=[],isLoading:D}=ua({queryKey:["allRequests"],queryFn:()=>Pu()});b.useEffect(()=>{(()=>{const J={};k.filter(ae=>ae.type==="purchase"&&ae.tipo==="Tecnologia").forEach(ae=>{const ie=(ae.messages||[]).filter(fe=>!fe.isAdmin&&!x.has(`${ae.id}-${fe.timestamp.toMillis()}`)).length;ie>0&&(J[ae.id]=ie)}),y(J)})()},[k,x]);const B=[{id:"userName",label:"Solicitante",defaultSelected:!0},{id:"userEmail",label:"Email",defaultSelected:!0},{id:"tipo",label:"Tipo",defaultSelected:!0},{id:"itemName",label:"Item",defaultSelected:!0},{id:"quantity",label:"Quantidade",defaultSelected:!0},{id:"unitPrice",label:"Valor Unitário",defaultSelected:!0},{id:"status",label:"Status",defaultSelected:!0},{id:"justification",label:"Justificativa",defaultSelected:!0},{id:"additionalInfo",label:"Informações Adicionais",defaultSelected:!0},{id:"createdAt",label:"Data de Criação",defaultSelected:!0},{id:"rejectionReason",label:"Motivo da Rejeição",defaultSelected:!0}],ee=async P=>{try{const J=await wu(P.id,P.collectionName);p(J),w(oe=>{const ae=new Set(oe);return(J.messages||[]).forEach(K=>{K.isAdmin||ae.add(`${J.id}-${K.timestamp.toMillis()}`)}),localStorage.setItem("techViewedRequests",JSON.stringify(Array.from(ae))),ae}),y(oe=>{const ae={...oe};return delete ae[J.id],ae}),m(!0)}catch(J){$e.error("Erro ao abrir chat"),console.error("Error:",J)}},z=async P=>{if(i){if(P==="rejected"){S(!0);return}try{const J={status:P};P==="approved"&&(J.financeiroVisible=!0);const oe=xt(Ze,i.collectionName,i.id);await ur(oe,J),await Ra({title:"Alteração de Status",message:`Status da sua solicitação de compra foi alterado para: ${P}`,link:"minhas-solicitacoes",createdAt:new Date,readBy:[],recipients:[i.userEmail],isBatch:!1}),$e.success("Status atualizado"),e.invalidateQueries({queryKey:["allRequests"]}),a({...i,status:P,...J})}catch(J){$e.error("Erro ao atualizar"),console.error("Error:",J)}}},V=async()=>{if(i)try{const P=xt(Ze,i.collectionName,i.id);await ur(P,{status:"rejected",rejectionReason:N}),await Ra({title:"Solicitação Reprovada",message:`Sua solicitação de compra foi reprovada. Motivo: ${N}`,link:"minhas-solicitacoes",createdAt:new Date,readBy:[],recipients:[i.userEmail],isBatch:!1}),$e.success("Solicitação reprovada com justificativa"),S(!1),E(""),e.invalidateQueries({queryKey:["allRequests"]}),a({...i,status:"rejected",rejectionReason:N})}catch(P){$e.error("Erro ao reprovar solicitação"),console.error("Error:",P)}},U=async()=>{if(d)try{await fm(d.id,d.collectionName),$e.success("Excluído com sucesso"),u(!1),f(null),s&&o(!1),e.invalidateQueries({queryKey:["allRequests"]})}catch(P){$e.error("Erro ao excluir"),console.error("Error:",P)}},se=k.filter(P=>P.type==="purchase"&&P.tipo==="Tecnologia").filter(P=>{var oe,ae,K;const J=r.toLowerCase();return(((oe=P.userName)==null?void 0:oe.toLowerCase().includes(J))||((ae=P.userEmail)==null?void 0:ae.toLowerCase().includes(J))||((K=P.itemName)==null?void 0:K.toLowerCase().includes(J)))&&I.includes(P.status)}),ne=se.length,M=se.filter(P=>P.status==="pending").length,W=se.filter(P=>P.status==="analyzing").length,G=se.reduce((P,J)=>P+(J.quantity||0)*(J.unitPrice||0),0);return l.jsx(sn,{children:l.jsxs("div",{className:"min-h-screen bg-white relative overflow-hidden",children:[l.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[l.jsx("div",{className:"absolute left-1/4 top-1/4 h-96 w-96 rounded-full bg-sidebar blur-3xl opacity-5"}),l.jsx("div",{className:"absolute right-1/4 bottom-1/4 h-80 w-80 rounded-full bg-eccos-purple blur-3xl opacity-5"})]}),l.jsxs("div",{className:"relative z-10 space-y-8 p-6 md:p-12",children:[l.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2 bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:[l.jsx(wn,{className:"text-eccos-purple",size:35}),"Solicitações de Compra - Tecnologia"]}),D?l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-eccos-purple"})}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"grid gap-4 grid-cols-2 sm:grid-cols-2 lg:grid-cols-4",children:[l.jsxs(Qe,{className:"bg-white border border-gray-100 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300",children:[l.jsx(Rt,{className:"pb-2",children:l.jsx(kt,{className:"text-sm font-medium text-gray-600",children:"Total de Solicitações"})}),l.jsxs(nt,{children:[l.jsx("div",{className:"text-2xl font-bold bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:ne}),l.jsx(Se,{variant:"outline",className:"mt-2 border-eccos-purple text-eccos-purple",children:"Total"})]})]}),l.jsxs(Qe,{className:"bg-white border border-gray-100 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300",children:[l.jsx(Rt,{className:"pb-2",children:l.jsx(kt,{className:"text-sm font-medium text-gray-600",children:"Pendentes"})}),l.jsxs(nt,{children:[l.jsx("div",{className:"text-2xl font-bold bg-gradient-to-r from-yellow-500 to-yellow-600 bg-clip-text text-transparent",children:M}),l.jsxs(Se,{variant:"outline",className:"mt-2 border-yellow-500 text-yellow-500",children:[l.jsx(fu,{className:"h-3 w-3 mr-1"}),"Aguardando"]})]})]}),l.jsxs(Qe,{className:"bg-white border border-gray-100 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300",children:[l.jsx(Rt,{className:"pb-2",children:l.jsx(kt,{className:"text-sm font-medium text-gray-600",children:"Em Análise"})}),l.jsxs(nt,{children:[l.jsx("div",{className:"text-2xl font-bold bg-gradient-to-r from-blue-500 to-blue-600 bg-clip-text text-transparent",children:W}),l.jsxs(Se,{variant:"outline",className:"mt-2 border-blue-500 text-blue-500",children:[l.jsx(I2,{className:"h-3 w-3 mr-1"}),"Em Análise"]})]})]}),l.jsxs(Qe,{className:"bg-white border border-gray-100 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300",children:[l.jsx(Rt,{className:"pb-2",children:l.jsx(kt,{className:"text-sm font-medium text-gray-600",children:"Valor Total"})}),l.jsxs(nt,{children:[l.jsx("div",{className:"text-2xl font-bold bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",notation:"compact"}).format(G)}),l.jsxs(Se,{variant:"outline",className:"mt-2 border-eccos-purple text-eccos-purple",children:[l.jsx(O2,{className:"h-3 w-3 mr-1"}),"Total"]})]})]})]}),l.jsx(Qe,{className:"bg-white border border-gray-100 rounded-2xl shadow-lg",children:l.jsx(nt,{className:"p-6",children:l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[l.jsxs("div",{className:"relative flex-1 max-w-md",children:[l.jsx(gc,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),l.jsx(Bt,{placeholder:"Pesquisar por nome, email ou item...",value:r,onChange:P=>n(P.target.value),className:"pl-10 h-12 rounded-xl border-gray-200 focus:border-eccos-purple"})]}),l.jsxs(ei,{children:[l.jsx(ti,{asChild:!0,children:l.jsxs(me,{variant:"outline",className:"flex items-center gap-2 h-12 rounded-xl border-gray-200 px-6",children:[l.jsx(cc,{className:"h-4 w-4"})," Status (",I.length,")"]})}),l.jsx(zn,{align:"end",className:"bg-background rounded-xl",children:A.map(P=>l.jsx(_o,{checked:I.includes(P),onCheckedChange:J=>{O(J?[...I,P]:I.filter(oe=>oe!==P))},children:l.jsx("div",{className:"flex items-center gap-2",children:Bw(P)})},P))})]}),l.jsx(_m,{data:se.map(P=>({...P,createdAt:P.createdAt.toDate().toLocaleString("pt-BR"),unitPrice:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(P.unitPrice||0)})),columns:B,filename:`compras-tecnologia-${new Date().toISOString().slice(0,10)}`,children:l.jsxs(me,{variant:"outline",className:"flex items-center gap-2 h-12 rounded-xl border-gray-200 px-6",children:[l.jsx(Ps,{className:"h-4 w-4"})," Exportar"]})})]})})}),se.length===0?l.jsx(Qe,{className:"bg-white border border-gray-100 rounded-2xl shadow-lg",children:l.jsx(nt,{className:"p-12",children:l.jsxs("div",{className:"text-center text-muted-foreground",children:[l.jsx(wn,{className:"h-16 w-16 mx-auto mb-4 text-gray-300"}),l.jsx("p",{className:"text-lg",children:"Nenhuma solicitação de compra encontrada"}),l.jsx("p",{className:"text-sm",children:"Tente ajustar os filtros para ver mais resultados"})]})})}):l.jsx(Qe,{className:"bg-white border border-gray-100 rounded-2xl shadow-lg overflow-hidden",children:l.jsx(nt,{className:"p-0",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs(El,{children:[l.jsx(Sl,{children:l.jsxs(En,{className:"border-gray-100",children:[l.jsx(Lt,{className:"font-semibold text-gray-700",children:"Solicitante"}),l.jsx(Lt,{className:"font-semibold text-gray-700 hidden md:table-cell",children:"Item"}),l.jsx(Lt,{className:"font-semibold text-gray-700",children:"Status"}),l.jsx(Lt,{className:"font-semibold text-gray-700 hidden lg:table-cell",children:"Valor Total"}),l.jsx(Lt,{className:"font-semibold text-gray-700",children:"Ações"})]})}),l.jsx(Tl,{children:se.map(P=>l.jsxs(En,{className:"border-gray-100 hover:bg-gray-50/50 transition-colors",children:[l.jsx(Dt,{className:"font-medium",children:P.userName}),l.jsx(Dt,{className:"hidden md:table-cell",children:P.itemName}),l.jsx(Dt,{children:Bw(P.status)}),l.jsx(Dt,{className:"font-semibold hidden lg:table-cell",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format((P.quantity||0)*(P.unitPrice||0))}),l.jsx(Dt,{children:l.jsxs("div",{className:"flex gap-2",children:[l.jsx(me,{variant:"ghost",size:"icon",className:"h-9 w-9 rounded-xl hover:bg-eccos-purple/10 hover:text-eccos-purple",onClick:()=>{a(P),o(!0)},children:l.jsx(cf,{className:"h-4 w-4"})}),l.jsxs(me,{variant:"ghost",size:"icon",className:"h-9 w-9 rounded-xl hover:bg-blue-50 hover:text-blue-600 relative",onClick:()=>ee(P),children:[l.jsx(rm,{className:"h-4 w-4"}),v[P.id]>0&&l.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:v[P.id]})]})]})})]},P.id))})]})})})})]}),l.jsx(mn,{open:s,onOpenChange:o,children:l.jsx(on,{className:"max-w-3xl bg-white border border-gray-100 rounded-2xl overflow-hidden",children:i&&l.jsxs("div",{className:"flex flex-col h-[80vh]",children:[l.jsxs(pn,{className:"p-6 pb-2 border-b border-gray-100 bg-white sticky top-0 z-10",children:[l.jsxs(ln,{className:"flex items-center gap-2",children:[l.jsx(wn,{className:"h-5 w-5 text-purple-500"}),l.jsxs("span",{className:"bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:["Solicitação de Compra - ",i.userName||i.userEmail]})]}),l.jsx(gn,{asChild:!0,children:l.jsxs("div",{className:"flex items-center justify-between text-gray-500 px-1 mt-2",children:[l.jsx("div",{children:Gt(i.createdAt.toDate(),"dd/MM/yyyy HH:mm",{locale:Gr})}),l.jsx("div",{className:"flex items-center gap-2",children:l.jsxs(ei,{children:[l.jsx(ti,{asChild:!0,children:l.jsx("button",{className:"cursor-pointer",children:Bw(i.status)})}),l.jsx(zn,{className:"rounded-xl",align:"end",children:A.map(P=>l.jsx(wo,{onSelect:()=>z(P),className:"cursor-pointer px-4 py-2 hover:bg-gray-100",children:l.jsx("div",{className:"flex items-center gap-2",children:Bw(P)})},P))})]})})]})})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Tipo"}),l.jsx("p",{className:"font-medium",children:i.tipo||"Não especificado"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Solicitante"}),l.jsx("p",{className:"font-medium",children:i.userName})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Item"}),l.jsx("p",{className:"font-medium break-words",children:i.itemName})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Quantidade"}),l.jsx("p",{className:"font-medium",children:i.quantity})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Valor Unitário"}),l.jsx("p",{className:"font-medium",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(i.unitPrice||0)})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Valor Total"}),l.jsx("p",{className:"font-bold text-lg bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format((i.quantity||0)*(i.unitPrice||0))})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Justificativa"}),l.jsx("div",{className:"bg-gray-50 p-4 rounded-xl",children:l.jsx("p",{className:"whitespace-pre-wrap break-words",children:i.justification})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Informações Adicionais"}),l.jsx("div",{className:"bg-gray-50 p-4 rounded-xl",children:l.jsx("p",{className:"whitespace-pre-wrap break-words",children:i.additionalInfo||"Nenhuma informação adicional fornecida"})})]}),i.status==="rejected"&&i.rejectionReason&&l.jsxs("div",{className:"space-y-2 mt-4",children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Motivo da Rejeição"}),l.jsx("div",{className:"bg-red-50 p-4 rounded-xl border border-red-100",children:l.jsx("p",{className:"text-red-700 whitespace-pre-wrap break-words",children:i.rejectionReason})})]})]}),l.jsx(ii,{className:"p-6 border-t border-gray-100 gap-2 bg-white sticky bottom-0 z-10",children:l.jsx(me,{variant:"outline",onClick:()=>o(!1),className:"w-full sm:w-auto",children:"Fechar"})})]})})}),l.jsx(Dg,{request:g,isOpen:h,onOpenChange:m,onMessageSent:()=>e.invalidateQueries({queryKey:["allRequests"]})}),l.jsx(To,{open:c,onOpenChange:u,children:l.jsxs(Bs,{className:"rounded-2xl",children:[l.jsxs(Vs,{children:[l.jsx(Us,{children:"Confirmar exclusão"}),l.jsx(No,{children:"Tem certeza que deseja excluir permanentemente esta solicitação? Esta ação não pode ser desfeita."})]}),l.jsxs(wl,{children:[l.jsx(Co,{className:"rounded-xl",children:"Cancelar"}),l.jsx(Ao,{onClick:U,className:"rounded-xl bg-red-600 hover:bg-red-700",children:"Confirmar Exclusão"})]})]})}),l.jsx(mn,{open:T,onOpenChange:S,children:l.jsxs(on,{className:"rounded-2xl",children:[l.jsxs(pn,{children:[l.jsx(ln,{children:"Justificativa de Rejeição"}),l.jsx(gn,{children:"Por favor, informe o motivo da rejeição desta solicitação."})]}),l.jsx("div",{className:"px-4",children:l.jsx(Oa,{placeholder:"Digite o motivo da rejeição...",value:N,onChange:P=>E(P.target.value),className:"min-h-[120px] w-full"})}),l.jsxs(ii,{children:[l.jsx(me,{variant:"outline",onClick:()=>S(!1),children:"Cancelar"}),l.jsx(me,{onClick:V,disabled:!N.trim(),className:"bg-red-600 hover:bg-red-700",children:"Confirmar Rejeição"})]})]})})]}),l.jsx("footer",{className:"relative z-10 bg-gray-50 py-10 px-4 md:px-12",children:l.jsx("div",{className:"max-w-6xl mx-auto text-center",children:l.jsx("p",{className:"text-gray-500 text-sm",children:"© 2025 Colégio ECCOS - Todos os direitos reservados"})})})]})})},Vw=e=>{switch(e){case"pending":return l.jsx(Se,{variant:"outline",className:"border-yellow-500 text-yellow-600",children:"Pendente"});case"analyzing":return l.jsx(Se,{variant:"outline",className:"bg-yellow-500 text-white",children:"Em Análise"});case"approved":return l.jsx(Se,{className:"bg-green-500 text-white",children:"Aprovado"});case"rejected":return l.jsx(Se,{variant:"destructive",children:"Reprovado"});case"waitingDelivery":return l.jsx(Se,{className:"bg-blue-500 text-white",children:"Aguardando entrega"});case"delivered":return l.jsx(Se,{className:"bg-indigo-500 text-white",children:"Recebido"});case"completed":return l.jsx(Se,{className:"bg-slate-500 text-white",children:"Concluído"});case"canceled":return l.jsx(Se,{className:"bg-amber-500 text-white",children:"Cancelado"});default:return l.jsx(Se,{variant:"outline",children:"Desconhecido"})}},Jot=()=>{const e=vl(),{currentUser:t}=Mr(),[r,n]=b.useState(""),[i,a]=b.useState(null),[s,o]=b.useState(!1),[c,u]=b.useState(!1),[d,f]=b.useState(null),[h,m]=b.useState(!1),[g,p]=b.useState(null),[v,y]=b.useState({}),[x,w]=b.useState(()=>{const K=typeof window<"u"?localStorage.getItem("infraViewedRequests"):null;return K?new Set(JSON.parse(K)):new Set}),[N,E]=b.useState(null),[T,S]=b.useState(!1),[A,C]=b.useState(""),[j,I]=b.useState(!1),O=["pending","analyzing","approved","rejected","waitingDelivery","delivered","completed","canceled"],k=["rejected","completed","canceled","delivered"],D=O.filter(K=>!k.includes(K)),[B,ee]=b.useState(D),{data:z=[],isLoading:V}=ua({queryKey:["allRequests"],queryFn:()=>Pu()});b.useEffect(()=>{(()=>{const ie={};z.filter(le=>le.type==="purchase"&&le.tipo==="Infraestrutura").forEach(le=>{const Oe=(le.messages||[]).filter(vt=>!vt.isAdmin&&!x.has(`${le.id}-${vt.timestamp.toMillis()}`)).length;Oe>0&&(ie[le.id]=Oe)}),y(ie)})()},[z,x]),b.useEffect(()=>{i&&i.executionDate?E(i.executionDate.toDate()):E(null)},[i]);const U=async K=>{try{const ie=await wu(K.id,K.collectionName);p(ie),w(fe=>{const le=new Set(fe);return(ie.messages||[]).forEach(Be=>{Be.isAdmin||le.add(`${ie.id}-${Be.timestamp.toMillis()}`)}),localStorage.setItem("infraViewedRequests",JSON.stringify(Array.from(le))),le}),y(fe=>{const le={...fe};return delete le[ie.id],le}),m(!0)}catch(ie){$e.error("Erro ao abrir chat"),console.error("Error:",ie)}},se=async K=>{if(i){if(K==="rejected"){I(!0);return}try{const ie={status:K};K==="approved"&&(ie.financeiroVisible=!0);const fe=xt(Ze,i.collectionName,i.id);await ur(fe,ie),await Ra({title:"Alteração de Status",message:`Status da sua solicitação de infraestrutura foi alterado para: ${K}`,link:"minhas-solicitacoes",createdAt:new Date,readBy:[],recipients:[i.userEmail],isBatch:!1}),$e.success("Status atualizado"),e.invalidateQueries({queryKey:["allRequests"]}),a({...i,status:K,...ie})}catch(ie){$e.error("Erro ao atualizar"),console.error("Error:",ie)}}},ne=async()=>{if(i)try{const K=xt(Ze,i.collectionName,i.id);await ur(K,{status:"rejected",rejectionReason:A}),await Ra({title:"Solicitação Reprovada",message:`Sua solicitação de infraestrutura foi reprovada. Motivo: ${A}`,link:"minhas-solicitacoes",createdAt:new Date,readBy:[],recipients:[i.userEmail],isBatch:!1}),$e.success("Solicitação reprovada com justificativa"),I(!1),C(""),e.invalidateQueries({queryKey:["allRequests"]}),a({...i,status:"rejected",rejectionReason:A})}catch(K){$e.error("Erro ao reprovar solicitação"),console.error("Error:",K)}},M=async()=>{if(d)try{await fm(d.id,d.collectionName),$e.success("Excluído com sucesso"),u(!1),f(null),s&&o(!1),e.invalidateQueries({queryKey:["allRequests"]})}catch(K){$e.error("Erro ao excluir"),console.error("Error:",K)}},W=z.filter(K=>K.type==="purchase"&&K.tipo==="Infraestrutura").filter(K=>{var fe,le,Be;const ie=r.toLowerCase();return(((fe=K.userName)==null?void 0:fe.toLowerCase().includes(ie))||((le=K.userEmail)==null?void 0:le.toLowerCase().includes(ie))||((Be=K.itemName)==null?void 0:Be.toLowerCase().includes(ie)))&&B.includes(K.status)}),G=W.length,P=W.filter(K=>K.status==="pending").length,J=W.filter(K=>K.status==="analyzing").length,oe=W.reduce((K,ie)=>K+(ie.quantity||0)*(ie.unitPrice||0),0),ae=[{id:"userName",label:"Solicitante",defaultSelected:!0},{id:"userEmail",label:"Email",defaultSelected:!0},{id:"tipo",label:"Tipo",defaultSelected:!0},{id:"itemName",label:"Item",defaultSelected:!0},{id:"quantity",label:"Quantidade",defaultSelected:!0},{id:"unitPrice",label:"Valor Unitário",defaultSelected:!0},{id:"totalValue",label:"Valor Total",defaultSelected:!0},{id:"status",label:"Status",defaultSelected:!0},{id:"justification",label:"Justificativa",defaultSelected:!0},{id:"createdAt",label:"Data de Criação",defaultSelected:!0},{id:"executionDate",label:"Data de Execução",defaultSelected:!0},{id:"additionalInfo",label:"Informações Adicionais",defaultSelected:!0},{id:"rejectionReason",label:"Motivo da Rejeição",defaultSelected:!0}];return l.jsx(sn,{children:l.jsxs("div",{className:"min-h-screen bg-white relative overflow-hidden",children:[l.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[l.jsx("div",{className:"absolute left-1/4 top-1/4 h-96 w-96 rounded-full bg-sidebar blur-3xl opacity-5"}),l.jsx("div",{className:"absolute right-1/4 bottom-1/4 h-80 w-80 rounded-full bg-eccos-purple blur-3xl opacity-5"})]}),l.jsxs("div",{className:"relative z-10 space-y-8 p-6 md:p-12",children:[l.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2 bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:[l.jsx(wn,{className:"text-eccos-purple",size:35}),"Solicitações de Compra - Infraestrutura"]}),V?l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-eccos-purple"})}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"grid gap-4 grid-cols-2 sm:grid-cols-2 lg:grid-cols-4",children:[l.jsxs(Qe,{className:"bg-white border border-gray-100 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300",children:[l.jsx(Rt,{className:"pb-2",children:l.jsx(kt,{className:"text-sm font-medium text-gray-600",children:"Total de Solicitações"})}),l.jsxs(nt,{children:[l.jsx("div",{className:"text-2xl font-bold bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:G}),l.jsx(Se,{variant:"outline",className:"mt-2 border-eccos-purple text-eccos-purple",children:"Total"})]})]}),l.jsxs(Qe,{className:"bg-white border border-gray-100 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300",children:[l.jsx(Rt,{className:"pb-2",children:l.jsx(kt,{className:"text-sm font-medium text-gray-600",children:"Pendentes"})}),l.jsxs(nt,{children:[l.jsx("div",{className:"text-2xl font-bold bg-gradient-to-r from-yellow-500 to-yellow-600 bg-clip-text text-transparent",children:P}),l.jsxs(Se,{variant:"outline",className:"mt-2 border-yellow-500 text-yellow-500",children:[l.jsx(fu,{className:"h-3 w-3 mr-1"}),"Aguardando"]})]})]}),l.jsxs(Qe,{className:"bg-white border border-gray-100 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300",children:[l.jsx(Rt,{className:"pb-2",children:l.jsx(kt,{className:"text-sm font-medium text-gray-600",children:"Em análise"})}),l.jsxs(nt,{children:[l.jsx("div",{className:"text-2xl font-bold bg-gradient-to-r from-cyan-500 to-cyan-600 bg-clip-text text-transparent",children:J}),l.jsxs(Se,{variant:"outline",className:"mt-2 border-cyan-500 text-cyan-500",children:[l.jsx(a5,{className:"h-3 w-3 mr-1"}),"Em análise"]})]})]}),l.jsxs(Qe,{className:"bg-white border border-gray-100 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300",children:[l.jsx(Rt,{className:"pb-2",children:l.jsx(kt,{className:"text-sm font-medium text-gray-600",children:"Valor Total"})}),l.jsxs(nt,{children:[l.jsx("div",{className:"text-2xl font-bold bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",notation:"compact"}).format(oe)}),l.jsxs(Se,{variant:"outline",className:"mt-2 border-eccos-purple text-eccos-purple",children:[l.jsx(O2,{className:"h-3 w-3 mr-1"}),"Total"]})]})]})]}),l.jsx(Qe,{className:"bg-white border border-gray-100 rounded-2xl shadow-lg",children:l.jsx(nt,{className:"p-6",children:l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[l.jsxs("div",{className:"relative flex-1 max-w-md",children:[l.jsx(gc,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),l.jsx(Bt,{placeholder:"Pesquisar por nome, email ou item...",value:r,onChange:K=>n(K.target.value),className:"pl-10 h-12 rounded-xl border-gray-200 focus:border-eccos-purple"})]}),l.jsxs(ei,{children:[l.jsx(ti,{asChild:!0,children:l.jsxs(me,{variant:"outline",className:"flex items-center gap-2 h-12 rounded-xl border-gray-200 px-6",children:[l.jsx(cc,{className:"h-4 w-4"})," Status (",B.length,")"]})}),l.jsx(zn,{align:"end",className:"bg-background rounded-xl",children:O.map(K=>l.jsx(_o,{checked:B.includes(K),onCheckedChange:ie=>{ee(ie?[...B,K]:B.filter(fe=>fe!==K))},children:l.jsx("div",{className:"flex items-center gap-2",children:Vw(K)})},K))})]}),l.jsx(_m,{data:W.map(K=>({...K,createdAt:K.createdAt.toDate().toLocaleString("pt-BR"),executionDate:K.executionDate?K.executionDate.toDate().toLocaleString("pt-BR"):"Não definida",unitPrice:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(K.unitPrice||0),totalValue:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format((K.quantity||0)*(K.unitPrice||0))})),columns:ae,filename:`compras-infraestrutura-${new Date().toISOString().slice(0,10)}`,children:l.jsxs(me,{variant:"outline",className:"flex items-center gap-2 h-12 rounded-xl border-gray-200 px-6",children:[l.jsx(Ps,{className:"h-4 w-4"})," Exportar"]})})]})})}),W.length===0?l.jsx(Qe,{className:"bg-white border border-gray-100 rounded-2xl shadow-lg",children:l.jsx(nt,{className:"p-12",children:l.jsxs("div",{className:"text-center text-muted-foreground",children:[l.jsx(wn,{className:"h-16 w-16 mx-auto mb-4 text-gray-300"}),l.jsx("p",{className:"text-lg",children:"Nenhuma solicitação de compra encontrada"}),l.jsx("p",{className:"text-sm",children:"Tente ajustar os filtros para ver mais resultados"})]})})}):l.jsx(Qe,{className:"bg-white border border-gray-100 rounded-2xl shadow-lg overflow-hidden",children:l.jsx(nt,{className:"p-0",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs(El,{children:[l.jsx(Sl,{children:l.jsxs(En,{className:"border-gray-100",children:[l.jsx(Lt,{className:"font-semibold text-gray-700",children:"Solicitante"}),l.jsx(Lt,{className:"font-semibold text-gray-700 hidden md:table-cell",children:"Item"}),l.jsx(Lt,{className:"font-semibold text-gray-700",children:"Status"}),l.jsx(Lt,{className:"font-semibold text-gray-700 hidden lg:table-cell",children:"Valor Total"}),l.jsx(Lt,{className:"font-semibold text-gray-700",children:"Ações"})]})}),l.jsx(Tl,{children:W.map(K=>l.jsxs(En,{className:"border-gray-100 hover:bg-gray-50/50 transition-colors",children:[l.jsx(Dt,{className:"font-medium",children:K.userName}),l.jsx(Dt,{className:"hidden md:table-cell",children:K.itemName}),l.jsx(Dt,{children:Vw(K.status)}),l.jsx(Dt,{className:"font-semibold hidden lg:table-cell",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format((K.quantity||0)*(K.unitPrice||0))}),l.jsx(Dt,{children:l.jsxs("div",{className:"flex gap-2",children:[l.jsx(me,{variant:"ghost",size:"icon",className:"h-9 w-9 rounded-xl hover:bg-eccos-purple/10 hover:text-eccos-purple",onClick:()=>{a(K),o(!0)},children:l.jsx(cf,{className:"h-4 w-4"})}),l.jsxs(me,{variant:"ghost",size:"icon",className:"h-9 w-9 rounded-xl hover:bg-blue-50 hover:text-blue-600 relative",onClick:()=>U(K),children:[l.jsx(rm,{className:"h-4 w-4"}),v[K.id]>0&&l.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:v[K.id]})]})]})})]},K.id))})]})})})})]}),l.jsx(mn,{open:s,onOpenChange:o,children:l.jsx(on,{className:"max-w-3xl bg-white border border-gray-100 rounded-2xl overflow-hidden",children:i&&l.jsxs("div",{className:"flex flex-col h-[80vh]",children:[l.jsxs(pn,{className:"p-6 pb-2 border-b border-gray-100 bg-white sticky top-0 z-10",children:[l.jsxs(ln,{className:"flex items-center gap-2",children:[l.jsx(a5,{className:"h-5 w-5 text-eccos-purple"}),l.jsxs("span",{className:"bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:["Solicitação de Infraestrutura - ",i.userName||i.userEmail]})]}),l.jsx(gn,{asChild:!0,children:l.jsxs("div",{className:"flex items-center justify-between text-gray-500 px-1 mt-2",children:[l.jsx("div",{children:Gt(i.createdAt.toDate(),"dd/MM/yyyy HH:mm",{locale:Gr})}),l.jsx("div",{className:"flex items-center gap-2",children:l.jsxs(ei,{children:[l.jsx(ti,{asChild:!0,children:l.jsx("button",{className:"cursor-pointer",children:Vw(i.status)})}),l.jsx(zn,{className:"rounded-xl",align:"end",children:O.map(K=>l.jsx(wo,{onSelect:()=>se(K),className:"cursor-pointer px-4 py-2 hover:bg-gray-100",children:l.jsx("div",{className:"flex items-center gap-2",children:Vw(K)})},K))})]})})]})})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Tipo"}),l.jsx("p",{className:"font-medium",children:i.tipo||"Não especificado"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Solicitante"}),l.jsx("p",{className:"font-medium",children:i.userName})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Item"}),l.jsx("p",{className:"font-medium break-words",children:i.itemName})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Quantidade"}),l.jsx("p",{className:"font-medium",children:i.quantity})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Valor Unitário"}),l.jsx("p",{className:"font-medium",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(i.unitPrice||0)})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Valor Total"}),l.jsx("p",{className:"font-bold text-lg bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format((i.quantity||0)*(i.unitPrice||0))})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Justificativa"}),l.jsx("div",{className:"bg-gray-50 p-4 rounded-xl",children:l.jsx("p",{className:"whitespace-pre-wrap break-words",children:i.justification})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Localização/Detalhes"}),l.jsx("div",{className:"bg-gray-50 p-4 rounded-xl",children:l.jsx("p",{className:"whitespace-pre-wrap break-words",children:i.additionalInfo||"Nenhuma informação adicional fornecida"})})]}),i.status==="rejected"&&i.rejectionReason&&l.jsxs("div",{className:"space-y-2 mt-4",children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Motivo da Rejeição"}),l.jsx("div",{className:"bg-red-50 p-4 rounded-xl border border-red-100",children:l.jsx("p",{className:"text-red-700 whitespace-pre-wrap break-words",children:i.rejectionReason})})]})]}),l.jsx(ii,{className:"p-6 border-t border-gray-100 gap-2 bg-white sticky bottom-0 z-10",children:l.jsx(me,{variant:"outline",onClick:()=>o(!1),className:"w-full sm:w-auto",children:"Fechar"})})]})})}),l.jsx(Dg,{request:g,isOpen:h,onOpenChange:m,onMessageSent:()=>e.invalidateQueries({queryKey:["allRequests"]})}),l.jsx(To,{open:c,onOpenChange:u,children:l.jsxs(Bs,{className:"rounded-2xl",children:[l.jsxs(Vs,{children:[l.jsx(Us,{children:"Confirmar exclusão"}),l.jsx(No,{children:"Tem certeza que deseja excluir permanentemente esta solicitação? Esta ação não pode ser desfeita."})]}),l.jsxs(wl,{children:[l.jsx(Co,{className:"rounded-xl",children:"Cancelar"}),l.jsx(Ao,{onClick:M,className:"rounded-xl bg-red-600 hover:bg-red-700",children:"Confirmar Exclusão"})]})]})}),l.jsx(mn,{open:j,onOpenChange:I,children:l.jsxs(on,{className:"rounded-2xl",children:[l.jsxs(pn,{children:[l.jsx(ln,{children:"Justificativa de Rejeição"}),l.jsx(gn,{children:"Por favor, informe o motivo da rejeição desta solicitação."})]}),l.jsx("div",{className:"px-4",children:l.jsx(Oa,{placeholder:"Digite o motivo da rejeição...",value:A,onChange:K=>C(K.target.value),className:"min-h-[120px] w-full"})}),l.jsxs(ii,{children:[l.jsx(me,{variant:"outline",onClick:()=>I(!1),children:"Cancelar"}),l.jsx(me,{onClick:ne,disabled:!A.trim(),className:"bg-red-600 hover:bg-red-700",children:"Confirmar Rejeição"})]})]})})]}),l.jsx("footer",{className:"relative z-10 bg-gray-50 py-10 px-4 md:px-12",children:l.jsx("div",{className:"max-w-6xl mx-auto text-center",children:l.jsx("p",{className:"text-gray-500 text-sm",children:"© 2025 Colégio ECCOS - Todos os direitos reservados"})})})]})})};function ez(e,[t,r]){return Math.min(r,Math.max(t,e))}var elt=[" ","Enter","ArrowUp","ArrowDown"],tlt=[" ","Enter"],Gh="Select",[WN,HN,rlt]=j2(Gh),[Mg,Tft]=$s(Gh,[rlt,uf]),qN=uf(),[nlt,Nf]=Mg(Gh),[ilt,alt]=Mg(Gh),Xse=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:i,onOpenChange:a,value:s,defaultValue:o,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:m,form:g}=e,p=qN(t),[v,y]=b.useState(null),[x,w]=b.useState(null),[N,E]=b.useState(!1),T=bT(u),[S,A]=du({prop:n,defaultProp:i??!1,onChange:a,caller:Gh}),[C,j]=du({prop:s,defaultProp:o,onChange:c,caller:Gh}),I=b.useRef(null),O=v?g||!!v.closest("form"):!0,[k,D]=b.useState(new Set),B=Array.from(k).map(ee=>ee.props.value).join(";");return l.jsx($O,{...p,children:l.jsxs(nlt,{required:m,scope:t,trigger:v,onTriggerChange:y,valueNode:x,onValueNodeChange:w,valueNodeHasChildren:N,onValueNodeHasChildrenChange:E,contentId:Vi(),value:C,onValueChange:j,open:S,onOpenChange:A,dir:T,triggerPointerDownPosRef:I,disabled:h,children:[l.jsx(WN.Provider,{scope:t,children:l.jsx(ilt,{scope:e.__scopeSelect,onNativeOptionAdd:b.useCallback(ee=>{D(z=>new Set(z).add(ee))},[]),onNativeOptionRemove:b.useCallback(ee=>{D(z=>{const V=new Set(z);return V.delete(ee),V})},[]),children:r})}),O?l.jsxs(woe,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:C,onChange:ee=>j(ee.target.value),disabled:h,form:g,children:[C===void 0?l.jsx("option",{value:""}):null,Array.from(k)]},B):null]})})};Xse.displayName=Gh;var Qse="SelectTrigger",Zse=b.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...i}=e,a=qN(r),s=Nf(Qse,r),o=s.disabled||n,c=Jt(t,s.onTriggerChange),u=HN(r),d=b.useRef("touch"),[f,h,m]=Eoe(p=>{const v=u().filter(w=>!w.disabled),y=v.find(w=>w.value===s.value),x=Soe(v,p,y);x!==void 0&&s.onValueChange(x.value)}),g=p=>{o||(s.onOpenChange(!0),m()),p&&(s.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return l.jsx(g1,{asChild:!0,...a,children:l.jsx(wt.button,{type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":_oe(s.value)?"":void 0,...i,ref:c,onClick:Ye(i.onClick,p=>{p.currentTarget.focus(),d.current!=="mouse"&&g(p)}),onPointerDown:Ye(i.onPointerDown,p=>{d.current=p.pointerType;const v=p.target;v.hasPointerCapture(p.pointerId)&&v.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(g(p),p.preventDefault())}),onKeyDown:Ye(i.onKeyDown,p=>{const v=f.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&h(p.key),!(v&&p.key===" ")&&elt.includes(p.key)&&(g(),p.preventDefault())})})})});Zse.displayName=Qse;var Jse="SelectValue",eoe=b.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:i,children:a,placeholder:s="",...o}=e,c=Nf(Jse,r),{onValueNodeHasChildrenChange:u}=c,d=a!==void 0,f=Jt(t,c.onValueNodeChange);return Wi(()=>{u(d)},[u,d]),l.jsx(wt.span,{...o,ref:f,style:{pointerEvents:"none"},children:_oe(c.value)?l.jsx(l.Fragment,{children:s}):a})});eoe.displayName=Jse;var slt="SelectIcon",toe=b.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...i}=e;return l.jsx(wt.span,{"aria-hidden":!0,...i,ref:t,children:n||"▼"})});toe.displayName=slt;var olt="SelectPortal",roe=e=>l.jsx(rg,{asChild:!0,...e});roe.displayName=olt;var Kh="SelectContent",noe=b.forwardRef((e,t)=>{const r=Nf(Kh,e.__scopeSelect),[n,i]=b.useState();if(Wi(()=>{i(new DocumentFragment)},[]),!r.open){const a=n;return a?lf.createPortal(l.jsx(ioe,{scope:e.__scopeSelect,children:l.jsx(WN.Slot,{scope:e.__scopeSelect,children:l.jsx("div",{children:e.children})})}),a):null}return l.jsx(aoe,{...e,ref:t})});noe.displayName=Kh;var zo=10,[ioe,Af]=Mg(Kh),llt="SelectContentImpl",clt=Ld("SelectContent.RemoveScroll"),aoe=b.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:s,side:o,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:g,hideWhenDetached:p,avoidCollisions:v,...y}=e,x=Nf(Kh,r),[w,N]=b.useState(null),[E,T]=b.useState(null),S=Jt(t,oe=>N(oe)),[A,C]=b.useState(null),[j,I]=b.useState(null),O=HN(r),[k,D]=b.useState(!1),B=b.useRef(!1);b.useEffect(()=>{if(w)return ET(w)},[w]),wT();const ee=b.useCallback(oe=>{const[ae,...K]=O().map(le=>le.ref.current),[ie]=K.slice(-1),fe=document.activeElement;for(const le of oe)if(le===fe||(le==null||le.scrollIntoView({block:"nearest"}),le===ae&&E&&(E.scrollTop=0),le===ie&&E&&(E.scrollTop=E.scrollHeight),le==null||le.focus(),document.activeElement!==fe))return},[O,E]),z=b.useCallback(()=>ee([A,w]),[ee,A,w]);b.useEffect(()=>{k&&z()},[k,z]);const{onOpenChange:V,triggerPointerDownPosRef:U}=x;b.useEffect(()=>{if(w){let oe={x:0,y:0};const ae=ie=>{var fe,le;oe={x:Math.abs(Math.round(ie.pageX)-(((fe=U.current)==null?void 0:fe.x)??0)),y:Math.abs(Math.round(ie.pageY)-(((le=U.current)==null?void 0:le.y)??0))}},K=ie=>{oe.x<=10&&oe.y<=10?ie.preventDefault():w.contains(ie.target)||V(!1),document.removeEventListener("pointermove",ae),U.current=null};return U.current!==null&&(document.addEventListener("pointermove",ae),document.addEventListener("pointerup",K,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ae),document.removeEventListener("pointerup",K,{capture:!0})}}},[w,V,U]),b.useEffect(()=>{const oe=()=>V(!1);return window.addEventListener("blur",oe),window.addEventListener("resize",oe),()=>{window.removeEventListener("blur",oe),window.removeEventListener("resize",oe)}},[V]);const[se,ne]=Eoe(oe=>{const ae=O().filter(fe=>!fe.disabled),K=ae.find(fe=>fe.ref.current===document.activeElement),ie=Soe(ae,oe,K);ie&&setTimeout(()=>ie.ref.current.focus())}),M=b.useCallback((oe,ae,K)=>{const ie=!B.current&&!K;(x.value!==void 0&&x.value===ae||ie)&&(C(oe),ie&&(B.current=!0))},[x.value]),W=b.useCallback(()=>w==null?void 0:w.focus(),[w]),G=b.useCallback((oe,ae,K)=>{const ie=!B.current&&!K;(x.value!==void 0&&x.value===ae||ie)&&I(oe)},[x.value]),P=n==="popper"?gI:soe,J=P===gI?{side:o,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:g,hideWhenDetached:p,avoidCollisions:v}:{};return l.jsx(ioe,{scope:r,content:w,viewport:E,onViewportChange:T,itemRefCallback:M,selectedItem:A,onItemLeave:W,itemTextRefCallback:G,focusSelectedItem:z,selectedItemText:j,position:n,isPositioned:k,searchRef:se,children:l.jsx($1,{as:clt,allowPinchZoom:!0,children:l.jsx(L1,{asChild:!0,trapped:x.open,onMountAutoFocus:oe=>{oe.preventDefault()},onUnmountAutoFocus:Ye(i,oe=>{var ae;(ae=x.trigger)==null||ae.focus({preventScroll:!0}),oe.preventDefault()}),children:l.jsx(em,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:oe=>oe.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:l.jsx(P,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:oe=>oe.preventDefault(),...y,...J,onPlaced:()=>D(!0),ref:S,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:Ye(y.onKeyDown,oe=>{const ae=oe.ctrlKey||oe.altKey||oe.metaKey;if(oe.key==="Tab"&&oe.preventDefault(),!ae&&oe.key.length===1&&ne(oe.key),["ArrowUp","ArrowDown","Home","End"].includes(oe.key)){let ie=O().filter(fe=>!fe.disabled).map(fe=>fe.ref.current);if(["ArrowUp","End"].includes(oe.key)&&(ie=ie.slice().reverse()),["ArrowUp","ArrowDown"].includes(oe.key)){const fe=oe.target,le=ie.indexOf(fe);ie=ie.slice(le+1)}setTimeout(()=>ee(ie)),oe.preventDefault()}})})})})})})});aoe.displayName=llt;var ult="SelectItemAlignedPosition",soe=b.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...i}=e,a=Nf(Kh,r),s=Af(Kh,r),[o,c]=b.useState(null),[u,d]=b.useState(null),f=Jt(t,S=>d(S)),h=HN(r),m=b.useRef(!1),g=b.useRef(!0),{viewport:p,selectedItem:v,selectedItemText:y,focusSelectedItem:x}=s,w=b.useCallback(()=>{if(a.trigger&&a.valueNode&&o&&u&&p&&v&&y){const S=a.trigger.getBoundingClientRect(),A=u.getBoundingClientRect(),C=a.valueNode.getBoundingClientRect(),j=y.getBoundingClientRect();if(a.dir!=="rtl"){const fe=j.left-A.left,le=C.left-fe,Be=S.left-le,Oe=S.width+Be,vt=Math.max(Oe,A.width),mt=window.innerWidth-zo,ge=ez(le,[zo,Math.max(zo,mt-vt)]);o.style.minWidth=Oe+"px",o.style.left=ge+"px"}else{const fe=A.right-j.right,le=window.innerWidth-C.right-fe,Be=window.innerWidth-S.right-le,Oe=S.width+Be,vt=Math.max(Oe,A.width),mt=window.innerWidth-zo,ge=ez(le,[zo,Math.max(zo,mt-vt)]);o.style.minWidth=Oe+"px",o.style.right=ge+"px"}const I=h(),O=window.innerHeight-zo*2,k=p.scrollHeight,D=window.getComputedStyle(u),B=parseInt(D.borderTopWidth,10),ee=parseInt(D.paddingTop,10),z=parseInt(D.borderBottomWidth,10),V=parseInt(D.paddingBottom,10),U=B+ee+k+V+z,se=Math.min(v.offsetHeight*5,U),ne=window.getComputedStyle(p),M=parseInt(ne.paddingTop,10),W=parseInt(ne.paddingBottom,10),G=S.top+S.height/2-zo,P=O-G,J=v.offsetHeight/2,oe=v.offsetTop+J,ae=B+ee+oe,K=U-ae;if(ae<=G){const fe=I.length>0&&v===I[I.length-1].ref.current;o.style.bottom="0px";const le=u.clientHeight-p.offsetTop-p.offsetHeight,Be=Math.max(P,J+(fe?W:0)+le+z),Oe=ae+Be;o.style.height=Oe+"px"}else{const fe=I.length>0&&v===I[0].ref.current;o.style.top="0px";const Be=Math.max(G,B+p.offsetTop+(fe?M:0)+J)+K;o.style.height=Be+"px",p.scrollTop=ae-G+p.offsetTop}o.style.margin=`${zo}px 0`,o.style.minHeight=se+"px",o.style.maxHeight=O+"px",n==null||n(),requestAnimationFrame(()=>m.current=!0)}},[h,a.trigger,a.valueNode,o,u,p,v,y,a.dir,n]);Wi(()=>w(),[w]);const[N,E]=b.useState();Wi(()=>{u&&E(window.getComputedStyle(u).zIndex)},[u]);const T=b.useCallback(S=>{S&&g.current===!0&&(w(),x==null||x(),g.current=!1)},[w,x]);return l.jsx(flt,{scope:r,contentWrapper:o,shouldExpandOnScrollRef:m,onScrollButtonChange:T,children:l.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:l.jsx(wt.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});soe.displayName=ult;var dlt="SelectPopperPosition",gI=b.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=zo,...a}=e,s=qN(r);return l.jsx(B2,{...s,...a,ref:t,align:n,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});gI.displayName=dlt;var[flt,M3]=Mg(Kh,{}),vI="SelectViewport",ooe=b.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...i}=e,a=Af(vI,r),s=M3(vI,r),o=Jt(t,a.onViewportChange),c=b.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),l.jsx(WN.Slot,{scope:r,children:l.jsx(wt.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Ye(i.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=s;if(h!=null&&h.current&&f){const m=Math.abs(c.current-d.scrollTop);if(m>0){const g=window.innerHeight-zo*2,p=parseFloat(f.style.minHeight),v=parseFloat(f.style.height),y=Math.max(p,v);if(y<g){const x=y+m,w=Math.min(g,x),N=x-w;f.style.height=w+"px",f.style.bottom==="0px"&&(d.scrollTop=N>0?N:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});ooe.displayName=vI;var loe="SelectGroup",[hlt,mlt]=Mg(loe),coe=b.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=Vi();return l.jsx(hlt,{scope:r,id:i,children:l.jsx(wt.div,{role:"group","aria-labelledby":i,...n,ref:t})})});coe.displayName=loe;var uoe="SelectLabel",doe=b.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=mlt(uoe,r);return l.jsx(wt.div,{id:i.id,...n,ref:t})});doe.displayName=uoe;var r2="SelectItem",[plt,foe]=Mg(r2),hoe=b.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:a,...s}=e,o=Nf(r2,r),c=Af(r2,r),u=o.value===n,[d,f]=b.useState(a??""),[h,m]=b.useState(!1),g=Jt(t,x=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,x,n,i)}),p=Vi(),v=b.useRef("touch"),y=()=>{i||(o.onValueChange(n),o.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(plt,{scope:r,value:n,disabled:i,textId:p,isSelected:u,onItemTextChange:b.useCallback(x=>{f(w=>w||((x==null?void 0:x.textContent)??"").trim())},[]),children:l.jsx(WN.ItemSlot,{scope:r,value:n,disabled:i,textValue:d,children:l.jsx(wt.div,{role:"option","aria-labelledby":p,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...s,ref:g,onFocus:Ye(s.onFocus,()=>m(!0)),onBlur:Ye(s.onBlur,()=>m(!1)),onClick:Ye(s.onClick,()=>{v.current!=="mouse"&&y()}),onPointerUp:Ye(s.onPointerUp,()=>{v.current==="mouse"&&y()}),onPointerDown:Ye(s.onPointerDown,x=>{v.current=x.pointerType}),onPointerMove:Ye(s.onPointerMove,x=>{var w;v.current=x.pointerType,i?(w=c.onItemLeave)==null||w.call(c):v.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ye(s.onPointerLeave,x=>{var w;x.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:Ye(s.onKeyDown,x=>{var N;((N=c.searchRef)==null?void 0:N.current)!==""&&x.key===" "||(tlt.includes(x.key)&&y(),x.key===" "&&x.preventDefault())})})})})});hoe.displayName=r2;var Fv="SelectItemText",moe=b.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:i,...a}=e,s=Nf(Fv,r),o=Af(Fv,r),c=foe(Fv,r),u=alt(Fv,r),[d,f]=b.useState(null),h=Jt(t,y=>f(y),c.onItemTextChange,y=>{var x;return(x=o.itemTextRefCallback)==null?void 0:x.call(o,y,c.value,c.disabled)}),m=d==null?void 0:d.textContent,g=b.useMemo(()=>l.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:p,onNativeOptionRemove:v}=u;return Wi(()=>(p(g),()=>v(g)),[p,v,g]),l.jsxs(l.Fragment,{children:[l.jsx(wt.span,{id:c.textId,...a,ref:h}),c.isSelected&&s.valueNode&&!s.valueNodeHasChildren?lf.createPortal(a.children,s.valueNode):null]})});moe.displayName=Fv;var poe="SelectItemIndicator",goe=b.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return foe(poe,r).isSelected?l.jsx(wt.span,{"aria-hidden":!0,...n,ref:t}):null});goe.displayName=poe;var yI="SelectScrollUpButton",voe=b.forwardRef((e,t)=>{const r=Af(yI,e.__scopeSelect),n=M3(yI,e.__scopeSelect),[i,a]=b.useState(!1),s=Jt(t,n.onScrollButtonChange);return Wi(()=>{if(r.viewport&&r.isPositioned){let o=function(){const u=c.scrollTop>0;a(u)};const c=r.viewport;return o(),c.addEventListener("scroll",o),()=>c.removeEventListener("scroll",o)}},[r.viewport,r.isPositioned]),i?l.jsx(xoe,{...e,ref:s,onAutoScroll:()=>{const{viewport:o,selectedItem:c}=r;o&&c&&(o.scrollTop=o.scrollTop-c.offsetHeight)}}):null});voe.displayName=yI;var xI="SelectScrollDownButton",yoe=b.forwardRef((e,t)=>{const r=Af(xI,e.__scopeSelect),n=M3(xI,e.__scopeSelect),[i,a]=b.useState(!1),s=Jt(t,n.onScrollButtonChange);return Wi(()=>{if(r.viewport&&r.isPositioned){let o=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;a(d)};const c=r.viewport;return o(),c.addEventListener("scroll",o),()=>c.removeEventListener("scroll",o)}},[r.viewport,r.isPositioned]),i?l.jsx(xoe,{...e,ref:s,onAutoScroll:()=>{const{viewport:o,selectedItem:c}=r;o&&c&&(o.scrollTop=o.scrollTop+c.offsetHeight)}}):null});yoe.displayName=xI;var xoe=b.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=e,a=Af("SelectScrollButton",r),s=b.useRef(null),o=HN(r),c=b.useCallback(()=>{s.current!==null&&(window.clearInterval(s.current),s.current=null)},[]);return b.useEffect(()=>()=>c(),[c]),Wi(()=>{var d;const u=o().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[o]),l.jsx(wt.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:Ye(i.onPointerDown,()=>{s.current===null&&(s.current=window.setInterval(n,50))}),onPointerMove:Ye(i.onPointerMove,()=>{var u;(u=a.onItemLeave)==null||u.call(a),s.current===null&&(s.current=window.setInterval(n,50))}),onPointerLeave:Ye(i.onPointerLeave,()=>{c()})})}),glt="SelectSeparator",boe=b.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return l.jsx(wt.div,{"aria-hidden":!0,...n,ref:t})});boe.displayName=glt;var bI="SelectArrow",vlt=b.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=qN(r),a=Nf(bI,r),s=Af(bI,r);return a.open&&s.position==="popper"?l.jsx(V2,{...i,...n,ref:t}):null});vlt.displayName=bI;var ylt="SelectBubbleInput",woe=b.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const i=b.useRef(null),a=Jt(n,i),s=oae(t);return b.useEffect(()=>{const o=i.current;if(!o)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(s!==t&&d){const f=new Event("change",{bubbles:!0});d.call(o,t),o.dispatchEvent(f)}},[s,t]),l.jsx(wt.select,{...r,style:{...xq,...r.style},ref:a,defaultValue:t})});woe.displayName=ylt;function _oe(e){return e===""||e===void 0}function Eoe(e){const t=is(e),r=b.useRef(""),n=b.useRef(0),i=b.useCallback(s=>{const o=r.current+s;t(o),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(o)},[t]),a=b.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return b.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,a]}function Soe(e,t,r){const i=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let s=xlt(e,Math.max(a,0));i.length===1&&(s=s.filter(u=>u!==r));const c=s.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==r?c:void 0}function xlt(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var blt=Xse,Toe=Zse,wlt=eoe,_lt=toe,Elt=roe,Noe=noe,Slt=ooe,Tlt=coe,Aoe=doe,Coe=hoe,Nlt=moe,Alt=goe,joe=voe,Poe=yoe,Roe=boe;const Jo=blt,Clt=Tlt,el=wlt,co=b.forwardRef(({className:e,children:t,...r},n)=>l.jsxs(Toe,{ref:n,className:Re("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,l.jsx(_lt,{asChild:!0,children:l.jsx(lc,{className:"h-4 w-4 opacity-50"})})]}));co.displayName=Toe.displayName;const koe=b.forwardRef(({className:e,...t},r)=>l.jsx(joe,{ref:r,className:Re("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(Vq,{className:"h-4 w-4"})}));koe.displayName=joe.displayName;const Ioe=b.forwardRef(({className:e,...t},r)=>l.jsx(Poe,{ref:r,className:Re("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(lc,{className:"h-4 w-4"})}));Ioe.displayName=Poe.displayName;const uo=b.forwardRef(({className:e,children:t,position:r="popper",...n},i)=>l.jsx(Elt,{children:l.jsxs(Noe,{ref:i,className:Re("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[l.jsx(koe,{}),l.jsx(Slt,{className:Re("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),l.jsx(Ioe,{})]})}));uo.displayName=Noe.displayName;const Ooe=b.forwardRef(({className:e,...t},r)=>l.jsx(Aoe,{ref:r,className:Re("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));Ooe.displayName=Aoe.displayName;const _r=b.forwardRef(({className:e,children:t,...r},n)=>l.jsxs(Coe,{ref:n,className:Re("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(Alt,{children:l.jsx(tm,{className:"h-4 w-4"})})}),l.jsx(Nlt,{children:t})]}));_r.displayName=Coe.displayName;const jlt=b.forwardRef(({className:e,...t},r)=>l.jsx(Roe,{ref:r,className:Re("-mx-1 my-1 h-px bg-muted",e),...t}));jlt.displayName=Roe.displayName;const Plt=["Chromebook","iPad"];function Rlt({open:e,onOpenChange:t,onEquipmentAdded:r}){const[n,i]=b.useState(!1),[a,s]=b.useState([{}]),{toast:o}=So(),c=()=>{s([{}])},u=async()=>{i(!0);try{const h=a.map(m=>({...m,type:m.type,name:m.name||"Sem nome"}));await QRe(h),o({title:"Sucesso",description:"Equipamentos adicionados com sucesso!"}),r(),c(),t(!1)}catch{o({title:"Erro",description:"Falha ao adicionar equipamentos",variant:"destructive"})}finally{i(!1)}},d=()=>{s([...a,{}])},f=(h,m,g)=>{const p=[...a];p[h]={...p[h],[m]:g},s(p)};return l.jsx(mn,{open:e,onOpenChange:t,children:l.jsxs(on,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[l.jsxs(pn,{children:[l.jsx(ln,{children:"Adicionar Equipamentos"}),l.jsx(gn,{children:"Preencha os detalhes dos novos equipamentos. Você pode adicionar vários de uma vez."})]}),l.jsxs("div",{className:"space-y-4",children:[a.map((h,m)=>l.jsxs("div",{className:"space-y-4 border p-4 rounded-lg",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(_t,{htmlFor:`name-${m}`,children:"Nome *"}),l.jsx(Bt,{id:`name-${m}`,value:h.name||"",onChange:g=>f(m,"name",g.target.value)})]}),l.jsxs("div",{children:[l.jsx(_t,{htmlFor:`type-${m}`,children:"Tipo *"}),l.jsxs(Jo,{value:h.type||"",onValueChange:g=>f(m,"type",g),children:[l.jsx(co,{children:l.jsx(el,{placeholder:"Selecione o tipo"})}),l.jsx(uo,{children:Plt.map(g=>l.jsx(_r,{value:g,children:g},g))})]})]})]}),l.jsx("div",{className:"grid grid-cols-2 gap-4"})]},m)),l.jsxs(me,{type:"button",variant:"outline",onClick:d,className:"w-full",children:[l.jsx(aE,{className:"mr-2 h-4 w-4"}),"Adicionar outro equipamento"]})]}),l.jsx(ii,{children:l.jsxs(me,{onClick:u,disabled:n,children:[n&&l.jsx(Wq,{className:"mr-2 h-4 w-4 animate-spin"}),"Salvar equipamentos"]})})]})})}function klt(){const[e,t]=b.useState([]),[r,n]=b.useState([]),[i,a]=b.useState(!0),[s,o]=b.useState(!1),[c,u]=b.useState([]),[d,f]=b.useState("all"),{toast:h}=So(),m=async()=>{a(!0);try{const N=await ZRe();t(N),n(N)}catch{h({title:"Erro",description:"Não foi possível carregar a lista de equipamentos.",variant:"destructive"})}finally{a(!1)}};b.useEffect(()=>{m()},[]),b.useEffect(()=>{n(d==="all"?e:e.filter(N=>N.type===d)),u([])},[d,e]),b.useEffect(()=>{const N=new IntersectionObserver(E=>{E.forEach(T=>{T.isIntersecting&&T.target.classList.add("visible")})},{threshold:.1});return document.querySelectorAll(".fade-up").forEach(E=>N.observe(E)),()=>N.disconnect()},[]);const g=()=>{c.length===r.length?u([]):u(r.map(N=>N.id))},p=async()=>{if(c.length!==0)try{await JRe(c),h({title:"Sucesso",description:`${c.length} equipamentos excluídos com sucesso.`}),m(),u([])}catch{h({title:"Erro",description:"Falha ao excluir equipamentos",variant:"destructive"})}},v=async N=>{try{await eke(N),h({title:"Sucesso",description:"Equipamento excluído com sucesso."}),m()}catch{h({title:"Erro",description:"Falha ao excluir equipamento",variant:"destructive"})}},y=N=>N==="Chromebook"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300":N==="iPad"?"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-300":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300",x=e.filter(N=>N.type==="Chromebook").length,w=e.filter(N=>N.type==="iPad").length;return e.length-x-w,l.jsx(sn,{children:l.jsxs("div",{className:"min-h-screen bg-white overflow-hidden relative",children:[l.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[l.jsx("div",{className:"absolute left-1/4 top-1/4 h-96 w-96 rounded-full bg-sidebar blur-3xl opacity-5"}),l.jsx("div",{className:"absolute right-1/4 bottom-1/4 h-80 w-80 rounded-full bg-eccos-purple blur-3xl opacity-5"})]}),l.jsxs("div",{className:"relative z-10 space-y-8 p-6 md:p-12 fade-up",children:[l.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2 bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:[l.jsx(iE,{className:"text-eccos-purple",size:35}),"Gestão de Equipamentos"]}),l.jsx("p",{className:"text-muted-foreground mt-2 text-sm md:text-base",children:"Gerencie os equipamentos disponíveis para empréstimo."}),l.jsxs("div",{className:"grid gap-4 grid-cols-2 max-[400px]:grid-cols-1 lg:grid-cols-3 fade-up",children:[l.jsxs(Qe,{className:`bg-white border border-gray-100 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 relative group overflow-hidden ${d==="Chromebook"?"ring-2 ring-blue-400":""}`,onClick:()=>f(d==="Chromebook"?"all":"Chromebook"),role:"button",tabIndex:0,children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),l.jsxs(nt,{className:"pt-6",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-2",children:"Chromebooks"}),l.jsx("div",{className:"text-2xl font-bold bg-gradient-to-r from-sidebar to-eccos-blue bg-clip-text text-transparent",children:x}),l.jsx(Se,{variant:"outline",className:"mt-2 border-eccos-blue text-eccos-blue",children:"Disponíveis"}),d==="Chromebook"&&l.jsx(Se,{className:"ml-2 mt-2 bg-blue-100 text-blue-800",children:"Filtro Ativo"})]})]}),l.jsxs(Qe,{className:`bg-white border border-gray-100 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 relative group overflow-hidden ${d==="iPad"?"ring-2 ring-purple-400":""}`,onClick:()=>f(d==="iPad"?"all":"iPad"),role:"button",tabIndex:0,children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),l.jsxs(nt,{className:"pt-6",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-2",children:"iPads"}),l.jsx("div",{className:"text-2xl font-bold bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:w}),l.jsx(Se,{variant:"outline",className:"mt-2 border-eccos-purple text-eccos-purple",children:"Disponíveis"}),d==="iPad"&&l.jsx(Se,{className:"ml-2 mt-2 bg-purple-100 text-purple-800",children:"Filtro Ativo"})]})]}),l.jsxs(Qe,{className:`bg-white border border-gray-100 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 relative group overflow-hidden ${d==="all"?"ring-2 ring-green-400":""}`,onClick:()=>f("all"),role:"button",tabIndex:0,children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),l.jsxs(nt,{className:"pt-6",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-2",children:"Total de Equipamentos"}),l.jsx("div",{className:"text-2xl font-bold bg-gradient-to-r from-sidebar to-eccos-blue bg-clip-text text-transparent",children:e.length}),l.jsx(Se,{variant:"outline",className:"mt-2 border-green-500 text-green-500",children:"Cadastrados"}),d==="all"&&l.jsx(Se,{className:"ml-2 mt-2 bg-green-100 text-green-800",children:"Todos Visíveis"})]})]})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 fade-up",children:[l.jsx("div",{className:"flex gap-2 items-center",children:l.jsx(Qe,{className:"bg-white border border-gray-100 rounded-2xl shadow-md",children:l.jsxs(nt,{className:"py-2 px-3 flex items-center gap-2",children:[l.jsx(cc,{size:16,className:"text-gray-500"}),l.jsxs(Jo,{value:d,onValueChange:f,children:[l.jsx(co,{className:"w-[180px] border-0 p-0 h-8 focus:ring-0",children:l.jsx(el,{placeholder:"Filtrar por tipo"})}),l.jsx(uo,{children:l.jsxs(Clt,{children:[l.jsx(Ooe,{children:"Tipo de Equipamento"}),l.jsx(_r,{value:"all",children:"Todos"}),l.jsx(_r,{value:"Chromebook",children:"Chromebook"}),l.jsx(_r,{value:"iPad",children:"iPad"}),l.jsx(_r,{value:"Outros",children:"Outros"})]})})]})]})})}),l.jsxs("div",{className:"flex gap-2",children:[c.length>0&&l.jsxs(me,{variant:"destructive",onClick:p,className:"flex items-center gap-2",children:[l.jsx(xP,{className:"h-4 w-4"}),"Excluir (",c.length,")"]}),l.jsx(me,{className:"bg-eccos-purple hover:bg-sidebar text-white transition-colors duration-300",onClick:()=>o(!0),children:"Adicionar Equipamentos"})]})]}),l.jsx("div",{className:"space-y-4 fade-up",children:i?l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-eccos-purple"})}):r.length===0?l.jsxs(Qe,{className:"bg-white border border-gray-100 rounded-2xl shadow-lg p-8 text-center",children:[l.jsx("p",{className:"text-lg text-gray-500 mb-4",children:e.length>0?`Nenhum equipamento do tipo "${d}" encontrado.`:"Nenhum equipamento cadastrado para empréstimo."}),l.jsx(me,{onClick:()=>d!=="all"?f("all"):o(!0),className:"bg-eccos-purple hover:bg-sidebar text-white",children:d!=="all"?"Mostrar Todos":"Adicionar Equipamentos"})]}):l.jsx(Qe,{className:"bg-white border border-gray-100 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 overflow-hidden",children:l.jsxs(El,{children:[l.jsx(Sl,{children:l.jsxs(En,{className:"bg-accent/10 hover:bg-accent/10",children:[l.jsx(Lt,{className:"w-[40px]",children:l.jsx(Kx,{checked:c.length===r.length&&r.length>0,onCheckedChange:g})}),l.jsx(Lt,{className:"text-center align-middle w-[25%]",children:"Tipo"}),l.jsx(Lt,{className:"text-center align-middle w-[55%]",children:"Nome"}),l.jsx(Lt,{className:"text-center align-middle w-[20%]",children:"Ações"})]})}),l.jsx(Tl,{children:r.map(N=>l.jsxs(En,{className:"hover:bg-accent/20 border-t-0",children:[l.jsx(Dt,{children:l.jsx(Kx,{checked:c.includes(N.id),onCheckedChange:E=>{u(T=>E?[...T,N.id]:T.filter(S=>S!==N.id))}})}),l.jsx(Dt,{className:"text-center align-middle",children:l.jsx(Se,{className:`px-2 py-1 rounded-full text-xs font-medium ${y(N.type)}`,children:N.type})}),l.jsx(Dt,{className:"text-center align-middle font-medium truncate max-w-[180px]",children:N.name}),l.jsx(Dt,{className:"text-center align-middle",children:l.jsx("div",{className:"flex justify-center items-center space-x-1",children:l.jsx(me,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive hover:text-destructive/90 hover:bg-destructive/10",onClick:()=>v(N.id),title:"Excluir",children:l.jsx(xP,{className:"h-4 w-4"})})})})]},N.id))})]})})}),l.jsx(Rlt,{open:s,onOpenChange:o,onEquipmentAdded:m}),l.jsx("footer",{className:"bg-gray-50 py-8 px-4 md:px-8 rounded-xl mt-12 fade-up",children:l.jsx("div",{className:"max-w-6xl mx-auto",children:l.jsx("div",{className:"text-center",children:l.jsx("p",{className:"text-gray-500 text-sm",children:"© 2025 Colégio ECCOS - Todos os direitos reservados"})})})})]})]})})}var It=function(){return It=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},It.apply(this,arguments)};function Ilt(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function Doe(e,t,r){for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}function db(e){return e.mode==="multiple"}function fb(e){return e.mode==="range"}function GN(e){return e.mode==="single"}var Olt={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function Dlt(e,t){return Gt(e,"LLLL y",t)}function Mlt(e,t){return Gt(e,"d",t)}function Llt(e,t){return Gt(e,"LLLL",t)}function Flt(e){return"".concat(e)}function $lt(e,t){return Gt(e,"cccccc",t)}function Blt(e,t){return Gt(e,"yyyy",t)}var Vlt=Object.freeze({__proto__:null,formatCaption:Dlt,formatDay:Mlt,formatMonthCaption:Llt,formatWeekNumber:Flt,formatWeekdayName:$lt,formatYearCaption:Blt}),Ult=function(e,t,r){return Gt(e,"do MMMM (EEEE)",r)},zlt=function(){return"Month: "},Wlt=function(){return"Go to next month"},Hlt=function(){return"Go to previous month"},qlt=function(e,t){return Gt(e,"cccc",t)},Glt=function(e){return"Week n. ".concat(e)},Klt=function(){return"Year: "},Ylt=Object.freeze({__proto__:null,labelDay:Ult,labelMonthDropdown:zlt,labelNext:Wlt,labelPrevious:Hlt,labelWeekNumber:Glt,labelWeekday:qlt,labelYearDropdown:Klt});function Xlt(){var e="buttons",t=Olt,r=tae,n={},i={},a=1,s={},o=new Date;return{captionLayout:e,classNames:t,formatters:Vlt,labels:Ylt,locale:r,modifiersClassNames:n,modifiers:i,numberOfMonths:a,styles:s,today:o,mode:"default"}}function Qlt(e){var t=e.fromYear,r=e.toYear,n=e.fromMonth,i=e.toMonth,a=e.fromDate,s=e.toDate;return n?a=rs(n):t&&(a=new Date(t,0,1)),i?s=c3(i):r&&(s=new Date(r,11,31)),{fromDate:a?q0(a):void 0,toDate:s?q0(s):void 0}}var Moe=b.createContext(void 0);function Zlt(e){var t,r=e.initialProps,n=Xlt(),i=Qlt(r),a=i.fromDate,s=i.toDate,o=(t=r.captionLayout)!==null&&t!==void 0?t:n.captionLayout;o!=="buttons"&&(!a||!s)&&(o="buttons");var c;(GN(r)||db(r)||fb(r))&&(c=r.onSelect);var u=It(It(It({},n),r),{captionLayout:o,classNames:It(It({},n.classNames),r.classNames),components:It({},r.components),formatters:It(It({},n.formatters),r.formatters),fromDate:a,labels:It(It({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:It(It({},n.modifiers),r.modifiers),modifiersClassNames:It(It({},n.modifiersClassNames),r.modifiersClassNames),onSelect:c,styles:It(It({},n.styles),r.styles),toDate:s});return l.jsx(Moe.Provider,{value:u,children:e.children})}function Kr(){var e=b.useContext(Moe);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function Loe(e){var t=Kr(),r=t.locale,n=t.classNames,i=t.styles,a=t.formatters.formatCaption;return l.jsx("div",{className:n.caption_label,style:i.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:a(e.displayMonth,{locale:r})})}function Jlt(e){return l.jsx("svg",It({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:l.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Foe(e){var t,r,n=e.onChange,i=e.value,a=e.children,s=e.caption,o=e.className,c=e.style,u=Kr(),d=(r=(t=u.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:Jlt;return l.jsxs("div",{className:o,style:c,children:[l.jsx("span",{className:u.classNames.vhidden,children:e["aria-label"]}),l.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:i,onChange:n,children:a}),l.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[s,l.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function ect(e){var t,r=Kr(),n=r.fromDate,i=r.toDate,a=r.styles,s=r.locale,o=r.formatters.formatMonthCaption,c=r.classNames,u=r.components,d=r.labels.labelMonthDropdown;if(!n)return l.jsx(l.Fragment,{});if(!i)return l.jsx(l.Fragment,{});var f=[];if(nJe(n,i))for(var h=rs(n),m=n.getMonth();m<=i.getMonth();m++)f.push(nj(h,m));else for(var h=rs(new Date),m=0;m<=11;m++)f.push(nj(h,m));var g=function(v){var y=Number(v.target.value),x=nj(rs(e.displayMonth),y);e.onChange(x)},p=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:Foe;return l.jsx(p,{name:"months","aria-label":d(),className:c.dropdown_month,style:a.dropdown_month,onChange:g,value:e.displayMonth.getMonth(),caption:o(e.displayMonth,{locale:s}),children:f.map(function(v){return l.jsx("option",{value:v.getMonth(),children:o(v,{locale:s})},v.getMonth())})})}function tct(e){var t,r=e.displayMonth,n=Kr(),i=n.fromDate,a=n.toDate,s=n.locale,o=n.styles,c=n.classNames,u=n.components,d=n.formatters.formatYearCaption,f=n.labels.labelYearDropdown,h=[];if(!i)return l.jsx(l.Fragment,{});if(!a)return l.jsx(l.Fragment,{});for(var m=i.getFullYear(),g=a.getFullYear(),p=m;p<=g;p++)h.push(o7(Zie(new Date),p));var v=function(x){var w=o7(rs(r),Number(x.target.value));e.onChange(w)},y=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:Foe;return l.jsx(y,{name:"years","aria-label":f(),className:c.dropdown_year,style:o.dropdown_year,onChange:v,value:r.getFullYear(),caption:d(r,{locale:s}),children:h.map(function(x){return l.jsx("option",{value:x.getFullYear(),children:d(x,{locale:s})},x.getFullYear())})})}function rct(e,t){var r=b.useState(e),n=r[0],i=r[1],a=t===void 0?n:t;return[a,i]}function nct(e){var t=e.month,r=e.defaultMonth,n=e.today,i=t||r||n||new Date,a=e.toDate,s=e.fromDate,o=e.numberOfMonths,c=o===void 0?1:o;if(a&&Gx(a,i)<0){var u=-1*(c-1);i=ml(a,u)}return s&&Gx(i,s)<0&&(i=s),rs(i)}function ict(){var e=Kr(),t=nct(e),r=rct(t,e.month),n=r[0],i=r[1],a=function(s){var o;if(!e.disableNavigation){var c=rs(s);i(c),(o=e.onMonthChange)===null||o===void 0||o.call(e,c)}};return[n,a]}function act(e,t){for(var r=t.reverseMonths,n=t.numberOfMonths,i=rs(e),a=rs(ml(i,n)),s=Gx(a,i),o=[],c=0;c<s;c++){var u=ml(i,c);o.push(u)}return r&&(o=o.reverse()),o}function sct(e,t){if(!t.disableNavigation){var r=t.toDate,n=t.pagedNavigation,i=t.numberOfMonths,a=i===void 0?1:i,s=n?a:1,o=rs(e);if(!r)return ml(o,s);var c=Gx(r,e);if(!(c<a))return ml(o,s)}}function oct(e,t){if(!t.disableNavigation){var r=t.fromDate,n=t.pagedNavigation,i=t.numberOfMonths,a=i===void 0?1:i,s=n?a:1,o=rs(e);if(!r)return ml(o,-s);var c=Gx(o,r);if(!(c<=0))return ml(o,-s)}}var $oe=b.createContext(void 0);function lct(e){var t=Kr(),r=ict(),n=r[0],i=r[1],a=act(n,t),s=sct(n,t),o=oct(n,t),c=function(f){return a.some(function(h){return d3(f,h)})},u=function(f,h){c(f)||(h&&sae(f,h)?i(ml(f,1+t.numberOfMonths*-1)):i(f))},d={currentMonth:n,displayMonths:a,goToMonth:i,goToDate:u,previousMonth:o,nextMonth:s,isDateDisplayed:c};return l.jsx($oe.Provider,{value:d,children:e.children})}function hb(){var e=b.useContext($oe);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function tz(e){var t,r=Kr(),n=r.classNames,i=r.styles,a=r.components,s=hb().goToMonth,o=function(d){s(ml(d,e.displayIndex?-e.displayIndex:0))},c=(t=a==null?void 0:a.CaptionLabel)!==null&&t!==void 0?t:Loe,u=l.jsx(c,{id:e.id,displayMonth:e.displayMonth});return l.jsxs("div",{className:n.caption_dropdowns,style:i.caption_dropdowns,children:[l.jsx("div",{className:n.vhidden,children:u}),l.jsx(ect,{onChange:o,displayMonth:e.displayMonth}),l.jsx(tct,{onChange:o,displayMonth:e.displayMonth})]})}function cct(e){return l.jsx("svg",It({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:l.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function uct(e){return l.jsx("svg",It({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:l.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var n2=b.forwardRef(function(e,t){var r=Kr(),n=r.classNames,i=r.styles,a=[n.button_reset,n.button];e.className&&a.push(e.className);var s=a.join(" "),o=It(It({},i.button_reset),i.button);return e.style&&Object.assign(o,e.style),l.jsx("button",It({},e,{ref:t,type:"button",className:s,style:o}))});function dct(e){var t,r,n=Kr(),i=n.dir,a=n.locale,s=n.classNames,o=n.styles,c=n.labels,u=c.labelPrevious,d=c.labelNext,f=n.components;if(!e.nextMonth&&!e.previousMonth)return l.jsx(l.Fragment,{});var h=u(e.previousMonth,{locale:a}),m=[s.nav_button,s.nav_button_previous].join(" "),g=d(e.nextMonth,{locale:a}),p=[s.nav_button,s.nav_button_next].join(" "),v=(t=f==null?void 0:f.IconRight)!==null&&t!==void 0?t:uct,y=(r=f==null?void 0:f.IconLeft)!==null&&r!==void 0?r:cct;return l.jsxs("div",{className:s.nav,style:o.nav,children:[!e.hidePrevious&&l.jsx(n2,{name:"previous-month","aria-label":h,className:m,style:o.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:i==="rtl"?l.jsx(v,{className:s.nav_icon,style:o.nav_icon}):l.jsx(y,{className:s.nav_icon,style:o.nav_icon})}),!e.hideNext&&l.jsx(n2,{name:"next-month","aria-label":g,className:p,style:o.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:i==="rtl"?l.jsx(y,{className:s.nav_icon,style:o.nav_icon}):l.jsx(v,{className:s.nav_icon,style:o.nav_icon})})]})}function rz(e){var t=Kr().numberOfMonths,r=hb(),n=r.previousMonth,i=r.nextMonth,a=r.goToMonth,s=r.displayMonths,o=s.findIndex(function(g){return d3(e.displayMonth,g)}),c=o===0,u=o===s.length-1,d=t>1&&(c||!u),f=t>1&&(u||!c),h=function(){n&&a(n)},m=function(){i&&a(i)};return l.jsx(dct,{displayMonth:e.displayMonth,hideNext:d,hidePrevious:f,nextMonth:i,previousMonth:n,onPreviousClick:h,onNextClick:m})}function fct(e){var t,r=Kr(),n=r.classNames,i=r.disableNavigation,a=r.styles,s=r.captionLayout,o=r.components,c=(t=o==null?void 0:o.CaptionLabel)!==null&&t!==void 0?t:Loe,u;return i?u=l.jsx(c,{id:e.id,displayMonth:e.displayMonth}):s==="dropdown"?u=l.jsx(tz,{displayMonth:e.displayMonth,id:e.id}):s==="dropdown-buttons"?u=l.jsxs(l.Fragment,{children:[l.jsx(tz,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),l.jsx(rz,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):u=l.jsxs(l.Fragment,{children:[l.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),l.jsx(rz,{displayMonth:e.displayMonth,id:e.id})]}),l.jsx("div",{className:n.caption,style:a.caption,children:u})}function hct(e){var t=Kr(),r=t.footer,n=t.styles,i=t.classNames.tfoot;return r?l.jsx("tfoot",{className:i,style:n.tfoot,children:l.jsx("tr",{children:l.jsx("td",{colSpan:8,children:r})})}):l.jsx(l.Fragment,{})}function mct(e,t,r){for(var n=r?zh(new Date):pl(new Date,{locale:e,weekStartsOn:t}),i=[],a=0;a<7;a++){var s=bi(n,a);i.push(s)}return i}function pct(){var e=Kr(),t=e.classNames,r=e.styles,n=e.showWeekNumber,i=e.locale,a=e.weekStartsOn,s=e.ISOWeek,o=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,u=mct(i,a,s);return l.jsxs("tr",{style:r.head_row,className:t.head_row,children:[n&&l.jsx("td",{style:r.head_cell,className:t.head_cell}),u.map(function(d,f){return l.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":c(d,{locale:i}),children:o(d,{locale:i})},f)})]})}function gct(){var e,t=Kr(),r=t.classNames,n=t.styles,i=t.components,a=(e=i==null?void 0:i.HeadRow)!==null&&e!==void 0?e:pct;return l.jsx("thead",{style:n.head,className:r.head,children:l.jsx(a,{})})}function vct(e){var t=Kr(),r=t.locale,n=t.formatters.formatDay;return l.jsx(l.Fragment,{children:n(e.date,{locale:r})})}var L3=b.createContext(void 0);function yct(e){if(!db(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return l.jsx(L3.Provider,{value:t,children:e.children})}return l.jsx(xct,{initialProps:e.initialProps,children:e.children})}function xct(e){var t=e.initialProps,r=e.children,n=t.selected,i=t.min,a=t.max,s=function(u,d,f){var h,m;(h=t.onDayClick)===null||h===void 0||h.call(t,u,d,f);var g=!!(d.selected&&i&&(n==null?void 0:n.length)===i);if(!g){var p=!!(!d.selected&&a&&(n==null?void 0:n.length)===a);if(!p){var v=n?Doe([],n):[];if(d.selected){var y=v.findIndex(function(x){return mi(u,x)});v.splice(y,1)}else v.push(u);(m=t.onSelect)===null||m===void 0||m.call(t,v,u,d,f)}}},o={disabled:[]};n&&o.disabled.push(function(u){var d=a&&n.length>a-1,f=n.some(function(h){return mi(h,u)});return!!(d&&!f)});var c={selected:n,onDayClick:s,modifiers:o};return l.jsx(L3.Provider,{value:c,children:r})}function F3(){var e=b.useContext(L3);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function bct(e,t){var r=t||{},n=r.from,i=r.to;return n&&i?mi(i,e)&&mi(n,e)?void 0:mi(i,e)?{from:i,to:void 0}:mi(n,e)?void 0:uI(n,e)?{from:e,to:i}:{from:n,to:e}:i?uI(e,i)?{from:i,to:e}:{from:e,to:i}:n?sae(e,n)?{from:e,to:n}:{from:n,to:e}:{from:e,to:void 0}}var $3=b.createContext(void 0);function wct(e){if(!fb(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return l.jsx($3.Provider,{value:t,children:e.children})}return l.jsx(_ct,{initialProps:e.initialProps,children:e.children})}function _ct(e){var t=e.initialProps,r=e.children,n=t.selected,i=n||{},a=i.from,s=i.to,o=t.min,c=t.max,u=function(m,g,p){var v,y;(v=t.onDayClick)===null||v===void 0||v.call(t,m,g,p);var x=bct(m,n);(y=t.onSelect)===null||y===void 0||y.call(t,x,m,g,p)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(a?(d.range_start=[a],s?(d.range_end=[s],mi(a,s)||(d.range_middle=[{after:a,before:s}])):d.range_end=[a]):s&&(d.range_start=[s],d.range_end=[s]),o&&(a&&!s&&d.disabled.push({after:rj(a,o-1),before:bi(a,o-1)}),a&&s&&d.disabled.push({after:a,before:bi(a,o-1)}),!a&&s&&d.disabled.push({after:rj(s,o-1),before:bi(s,o-1)})),c){if(a&&!s&&(d.disabled.push({before:bi(a,-c+1)}),d.disabled.push({after:bi(a,c-1)})),a&&s){var f=Ul(s,a)+1,h=c-f;d.disabled.push({before:rj(a,h)}),d.disabled.push({after:bi(s,h)})}!a&&s&&(d.disabled.push({before:bi(s,-c+1)}),d.disabled.push({after:bi(s,c-1)}))}return l.jsx($3.Provider,{value:{selected:n,onDayClick:u,modifiers:d},children:r})}function B3(){var e=b.useContext($3);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function j_(e){return Array.isArray(e)?Doe([],e):e!==void 0?[e]:[]}function Ect(e){var t={};return Object.entries(e).forEach(function(r){var n=r[0],i=r[1];t[n]=j_(i)}),t}var gl;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(gl||(gl={}));var Sct=gl.Selected,Tc=gl.Disabled,Tct=gl.Hidden,Nct=gl.Today,pj=gl.RangeEnd,gj=gl.RangeMiddle,vj=gl.RangeStart,Act=gl.Outside;function Cct(e,t,r){var n,i=(n={},n[Sct]=j_(e.selected),n[Tc]=j_(e.disabled),n[Tct]=j_(e.hidden),n[Nct]=[e.today],n[pj]=[],n[gj]=[],n[vj]=[],n[Act]=[],n);return e.fromDate&&i[Tc].push({before:e.fromDate}),e.toDate&&i[Tc].push({after:e.toDate}),db(e)?i[Tc]=i[Tc].concat(t.modifiers[Tc]):fb(e)&&(i[Tc]=i[Tc].concat(r.modifiers[Tc]),i[vj]=r.modifiers[vj],i[gj]=r.modifiers[gj],i[pj]=r.modifiers[pj]),i}var Boe=b.createContext(void 0);function jct(e){var t=Kr(),r=F3(),n=B3(),i=Cct(t,r,n),a=Ect(t.modifiers),s=It(It({},i),a);return l.jsx(Boe.Provider,{value:s,children:e.children})}function Voe(){var e=b.useContext(Boe);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function Pct(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function Rct(e){return!!(e&&typeof e=="object"&&"from"in e)}function kct(e){return!!(e&&typeof e=="object"&&"after"in e)}function Ict(e){return!!(e&&typeof e=="object"&&"before"in e)}function Oct(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function Dct(e,t){var r,n=t.from,i=t.to;if(n&&i){var a=Ul(i,n)<0;a&&(r=[i,n],n=r[0],i=r[1]);var s=Ul(e,n)>=0&&Ul(i,e)>=0;return s}return i?mi(i,e):n?mi(n,e):!1}function Mct(e){return l3(e)}function Lct(e){return Array.isArray(e)&&e.every(l3)}function Fct(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(Mct(r))return mi(e,r);if(Lct(r))return r.includes(e);if(Rct(r))return Dct(e,r);if(Oct(r))return r.dayOfWeek.includes(e.getDay());if(Pct(r)){var n=Ul(r.before,e),i=Ul(r.after,e),a=n>0,s=i<0,o=uI(r.before,r.after);return o?s&&a:a||s}return kct(r)?Ul(e,r.after)>0:Ict(r)?Ul(r.before,e)>0:typeof r=="function"?r(e):!1})}function V3(e,t,r){var n=Object.keys(t).reduce(function(a,s){var o=t[s];return Fct(e,o)&&a.push(s),a},[]),i={};return n.forEach(function(a){return i[a]=!0}),r&&!d3(e,r)&&(i.outside=!0),i}function $ct(e,t){for(var r=rs(e[0]),n=c3(e[e.length-1]),i,a,s=r;s<=n;){var o=V3(s,t),c=!o.disabled&&!o.hidden;if(!c){s=bi(s,1);continue}if(o.selected)return s;o.today&&!a&&(a=s),i||(i=s),s=bi(s,1)}return a||i}var Bct=365;function Uoe(e,t){var r=t.moveBy,n=t.direction,i=t.context,a=t.modifiers,s=t.retry,o=s===void 0?{count:0,lastFocused:e}:s,c=i.weekStartsOn,u=i.fromDate,d=i.toDate,f=i.locale,h={day:bi,week:cI,month:ml,year:eZe,startOfWeek:function(v){return i.ISOWeek?zh(v):pl(v,{locale:f,weekStartsOn:c})},endOfWeek:function(v){return i.ISOWeek?Jie(v):u3(v,{locale:f,weekStartsOn:c})}},m=h[r](e,n==="after"?1:-1);n==="before"&&u?m=tZe([u,m]):n==="after"&&d&&(m=rZe([d,m]));var g=!0;if(a){var p=V3(m,a);g=!p.disabled&&!p.hidden}return g?m:o.count>Bct?o.lastFocused:Uoe(m,{moveBy:r,direction:n,context:i,modifiers:a,retry:It(It({},o),{count:o.count+1})})}var zoe=b.createContext(void 0);function Vct(e){var t=hb(),r=Voe(),n=b.useState(),i=n[0],a=n[1],s=b.useState(),o=s[0],c=s[1],u=$ct(t.displayMonths,r),d=i??(o&&t.isDateDisplayed(o))?o:u,f=function(){c(i),a(void 0)},h=function(v){a(v)},m=Kr(),g=function(v,y){if(i){var x=Uoe(i,{moveBy:v,direction:y,context:m,modifiers:r});mi(i,x)||(t.goToDate(x,i),h(x))}},p={focusedDay:i,focusTarget:d,blur:f,focus:h,focusDayAfter:function(){return g("day","after")},focusDayBefore:function(){return g("day","before")},focusWeekAfter:function(){return g("week","after")},focusWeekBefore:function(){return g("week","before")},focusMonthBefore:function(){return g("month","before")},focusMonthAfter:function(){return g("month","after")},focusYearBefore:function(){return g("year","before")},focusYearAfter:function(){return g("year","after")},focusStartOfWeek:function(){return g("startOfWeek","before")},focusEndOfWeek:function(){return g("endOfWeek","after")}};return l.jsx(zoe.Provider,{value:p,children:e.children})}function U3(){var e=b.useContext(zoe);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function Uct(e,t){var r=Voe(),n=V3(e,r,t);return n}var z3=b.createContext(void 0);function zct(e){if(!GN(e.initialProps)){var t={selected:void 0};return l.jsx(z3.Provider,{value:t,children:e.children})}return l.jsx(Wct,{initialProps:e.initialProps,children:e.children})}function Wct(e){var t=e.initialProps,r=e.children,n=function(a,s,o){var c,u,d;if((c=t.onDayClick)===null||c===void 0||c.call(t,a,s,o),s.selected&&!t.required){(u=t.onSelect)===null||u===void 0||u.call(t,void 0,a,s,o);return}(d=t.onSelect)===null||d===void 0||d.call(t,a,a,s,o)},i={selected:t.selected,onDayClick:n};return l.jsx(z3.Provider,{value:i,children:r})}function Woe(){var e=b.useContext(z3);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function Hct(e,t){var r=Kr(),n=Woe(),i=F3(),a=B3(),s=U3(),o=s.focusDayAfter,c=s.focusDayBefore,u=s.focusWeekAfter,d=s.focusWeekBefore,f=s.blur,h=s.focus,m=s.focusMonthBefore,g=s.focusMonthAfter,p=s.focusYearBefore,v=s.focusYearAfter,y=s.focusStartOfWeek,x=s.focusEndOfWeek,w=function(z){var V,U,se,ne;GN(r)?(V=n.onDayClick)===null||V===void 0||V.call(n,e,t,z):db(r)?(U=i.onDayClick)===null||U===void 0||U.call(i,e,t,z):fb(r)?(se=a.onDayClick)===null||se===void 0||se.call(a,e,t,z):(ne=r.onDayClick)===null||ne===void 0||ne.call(r,e,t,z)},N=function(z){var V;h(e),(V=r.onDayFocus)===null||V===void 0||V.call(r,e,t,z)},E=function(z){var V;f(),(V=r.onDayBlur)===null||V===void 0||V.call(r,e,t,z)},T=function(z){var V;(V=r.onDayMouseEnter)===null||V===void 0||V.call(r,e,t,z)},S=function(z){var V;(V=r.onDayMouseLeave)===null||V===void 0||V.call(r,e,t,z)},A=function(z){var V;(V=r.onDayPointerEnter)===null||V===void 0||V.call(r,e,t,z)},C=function(z){var V;(V=r.onDayPointerLeave)===null||V===void 0||V.call(r,e,t,z)},j=function(z){var V;(V=r.onDayTouchCancel)===null||V===void 0||V.call(r,e,t,z)},I=function(z){var V;(V=r.onDayTouchEnd)===null||V===void 0||V.call(r,e,t,z)},O=function(z){var V;(V=r.onDayTouchMove)===null||V===void 0||V.call(r,e,t,z)},k=function(z){var V;(V=r.onDayTouchStart)===null||V===void 0||V.call(r,e,t,z)},D=function(z){var V;(V=r.onDayKeyUp)===null||V===void 0||V.call(r,e,t,z)},B=function(z){var V;switch(z.key){case"ArrowLeft":z.preventDefault(),z.stopPropagation(),r.dir==="rtl"?o():c();break;case"ArrowRight":z.preventDefault(),z.stopPropagation(),r.dir==="rtl"?c():o();break;case"ArrowDown":z.preventDefault(),z.stopPropagation(),u();break;case"ArrowUp":z.preventDefault(),z.stopPropagation(),d();break;case"PageUp":z.preventDefault(),z.stopPropagation(),z.shiftKey?p():m();break;case"PageDown":z.preventDefault(),z.stopPropagation(),z.shiftKey?v():g();break;case"Home":z.preventDefault(),z.stopPropagation(),y();break;case"End":z.preventDefault(),z.stopPropagation(),x();break}(V=r.onDayKeyDown)===null||V===void 0||V.call(r,e,t,z)},ee={onClick:w,onFocus:N,onBlur:E,onKeyDown:B,onKeyUp:D,onMouseEnter:T,onMouseLeave:S,onPointerEnter:A,onPointerLeave:C,onTouchCancel:j,onTouchEnd:I,onTouchMove:O,onTouchStart:k};return ee}function qct(){var e=Kr(),t=Woe(),r=F3(),n=B3(),i=GN(e)?t.selected:db(e)?r.selected:fb(e)?n.selected:void 0;return i}function Gct(e){return Object.values(gl).includes(e)}function Kct(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(n){var i=e.modifiersClassNames[n];if(i)r.push(i);else if(Gct(n)){var a=e.classNames["day_".concat(n)];a&&r.push(a)}}),r}function Yct(e,t){var r=It({},e.styles.day);return Object.keys(t).forEach(function(n){var i;r=It(It({},r),(i=e.modifiersStyles)===null||i===void 0?void 0:i[n])}),r}function Xct(e,t,r){var n,i,a,s=Kr(),o=U3(),c=Uct(e,t),u=Hct(e,c),d=qct(),f=!!(s.onDayClick||s.mode!=="default");b.useEffect(function(){var T;c.outside||o.focusedDay&&f&&mi(o.focusedDay,e)&&((T=r.current)===null||T===void 0||T.focus())},[o.focusedDay,e,r,f,c.outside]);var h=Kct(s,c).join(" "),m=Yct(s,c),g=!!(c.outside&&!s.showOutsideDays||c.hidden),p=(a=(i=s.components)===null||i===void 0?void 0:i.DayContent)!==null&&a!==void 0?a:vct,v=l.jsx(p,{date:e,displayMonth:t,activeModifiers:c}),y={style:m,className:h,children:v,role:"gridcell"},x=o.focusTarget&&mi(o.focusTarget,e)&&!c.outside,w=o.focusedDay&&mi(o.focusedDay,e),N=It(It(It({},y),(n={disabled:c.disabled,role:"gridcell"},n["aria-selected"]=c.selected,n.tabIndex=w||x?0:-1,n)),u),E={isButton:f,isHidden:g,activeModifiers:c,selectedDays:d,buttonProps:N,divProps:y};return E}function Qct(e){var t=b.useRef(null),r=Xct(e.date,e.displayMonth,t);return r.isHidden?l.jsx("div",{role:"gridcell"}):r.isButton?l.jsx(n2,It({name:"day",ref:t},r.buttonProps)):l.jsx("div",It({},r.divProps))}function Zct(e){var t=e.number,r=e.dates,n=Kr(),i=n.onWeekNumberClick,a=n.styles,s=n.classNames,o=n.locale,c=n.labels.labelWeekNumber,u=n.formatters.formatWeekNumber,d=u(Number(t),{locale:o});if(!i)return l.jsx("span",{className:s.weeknumber,style:a.weeknumber,children:d});var f=c(Number(t),{locale:o}),h=function(m){i(t,r,m)};return l.jsx(n2,{name:"week-number","aria-label":f,className:s.weeknumber,style:a.weeknumber,onClick:h,children:d})}function Jct(e){var t,r,n=Kr(),i=n.styles,a=n.classNames,s=n.showWeekNumber,o=n.components,c=(t=o==null?void 0:o.Day)!==null&&t!==void 0?t:Qct,u=(r=o==null?void 0:o.WeekNumber)!==null&&r!==void 0?r:Zct,d;return s&&(d=l.jsx("td",{className:a.cell,style:i.cell,children:l.jsx(u,{number:e.weekNumber,dates:e.dates})})),l.jsxs("tr",{className:a.row,style:i.row,children:[d,e.dates.map(function(f){return l.jsx("td",{className:a.cell,style:i.cell,role:"presentation",children:l.jsx(c,{displayMonth:e.displayMonth,date:f})},eJe(f))})]})}function nz(e,t,r){for(var n=r!=null&&r.ISOWeek?Jie(t):u3(t,r),i=r!=null&&r.ISOWeek?zh(e):pl(e,r),a=Ul(n,i),s=[],o=0;o<=a;o++)s.push(bi(i,o));var c=s.reduce(function(u,d){var f=r!=null&&r.ISOWeek?rae(d):iae(d,r),h=u.find(function(m){return m.weekNumber===f});return h?(h.dates.push(d),u):(u.push({weekNumber:f,dates:[d]}),u)},[]);return c}function eut(e,t){var r=nz(rs(e),c3(e),t);if(t!=null&&t.useFixedWeeks){var n=rJe(e,t);if(n<6){var i=r[r.length-1],a=i.dates[i.dates.length-1],s=cI(a,6-n),o=nz(cI(a,1),s,t);r.push.apply(r,o)}}return r}function tut(e){var t,r,n,i=Kr(),a=i.locale,s=i.classNames,o=i.styles,c=i.hideHead,u=i.fixedWeeks,d=i.components,f=i.weekStartsOn,h=i.firstWeekContainsDate,m=i.ISOWeek,g=eut(e.displayMonth,{useFixedWeeks:!!u,ISOWeek:m,locale:a,weekStartsOn:f,firstWeekContainsDate:h}),p=(t=d==null?void 0:d.Head)!==null&&t!==void 0?t:gct,v=(r=d==null?void 0:d.Row)!==null&&r!==void 0?r:Jct,y=(n=d==null?void 0:d.Footer)!==null&&n!==void 0?n:hct;return l.jsxs("table",{id:e.id,className:s.table,style:o.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&l.jsx(p,{}),l.jsx("tbody",{className:s.tbody,style:o.tbody,children:g.map(function(x){return l.jsx(v,{displayMonth:e.displayMonth,dates:x.dates,weekNumber:x.weekNumber},x.weekNumber)})}),l.jsx(y,{displayMonth:e.displayMonth})]})}function rut(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var nut=rut()?b.useLayoutEffect:b.useEffect,yj=!1,iut=0;function iz(){return"react-day-picker-".concat(++iut)}function aut(e){var t,r=e??(yj?iz():null),n=b.useState(r),i=n[0],a=n[1];return nut(function(){i===null&&a(iz())},[]),b.useEffect(function(){yj===!1&&(yj=!0)},[]),(t=e??i)!==null&&t!==void 0?t:void 0}function sut(e){var t,r,n=Kr(),i=n.dir,a=n.classNames,s=n.styles,o=n.components,c=hb().displayMonths,u=aut(n.id?"".concat(n.id,"-").concat(e.displayIndex):void 0),d=n.id?"".concat(n.id,"-grid-").concat(e.displayIndex):void 0,f=[a.month],h=s.month,m=e.displayIndex===0,g=e.displayIndex===c.length-1,p=!m&&!g;i==="rtl"&&(t=[m,g],g=t[0],m=t[1]),m&&(f.push(a.caption_start),h=It(It({},h),s.caption_start)),g&&(f.push(a.caption_end),h=It(It({},h),s.caption_end)),p&&(f.push(a.caption_between),h=It(It({},h),s.caption_between));var v=(r=o==null?void 0:o.Caption)!==null&&r!==void 0?r:fct;return l.jsxs("div",{className:f.join(" "),style:h,children:[l.jsx(v,{id:u,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),l.jsx(tut,{id:d,"aria-labelledby":u,displayMonth:e.displayMonth})]},e.displayIndex)}function out(e){var t=Kr(),r=t.classNames,n=t.styles;return l.jsx("div",{className:r.months,style:n.months,children:e.children})}function lut(e){var t,r,n=e.initialProps,i=Kr(),a=U3(),s=hb(),o=b.useState(!1),c=o[0],u=o[1];b.useEffect(function(){i.initialFocus&&a.focusTarget&&(c||(a.focus(a.focusTarget),u(!0)))},[i.initialFocus,c,a.focus,a.focusTarget,a]);var d=[i.classNames.root,i.className];i.numberOfMonths>1&&d.push(i.classNames.multiple_months),i.showWeekNumber&&d.push(i.classNames.with_weeknumber);var f=It(It({},i.styles.root),i.style),h=Object.keys(n).filter(function(g){return g.startsWith("data-")}).reduce(function(g,p){var v;return It(It({},g),(v={},v[p]=n[p],v))},{}),m=(r=(t=n.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:out;return l.jsx("div",It({className:d.join(" "),style:f,dir:i.dir,id:i.id,nonce:n.nonce,title:n.title,lang:n.lang},h,{children:l.jsx(m,{children:s.displayMonths.map(function(g,p){return l.jsx(sut,{displayIndex:p,displayMonth:g},p)})})}))}function cut(e){var t=e.children,r=Ilt(e,["children"]);return l.jsx(Zlt,{initialProps:r,children:l.jsx(lct,{children:l.jsx(zct,{initialProps:r,children:l.jsx(yct,{initialProps:r,children:l.jsx(wct,{initialProps:r,children:l.jsx(jct,{children:l.jsx(Vct,{children:t})})})})})})})}function uut(e){return l.jsx(cut,It({},e,{children:l.jsx(lut,{initialProps:e})}))}function r1({className:e,classNames:t,showOutsideDays:r=!0,modifiersStyles:n,...i}){return l.jsx(uut,{showOutsideDays:r,className:Re("p-1 sm:p-2 w-full h-full rounded-xl border border-gray-200 bg-white shadow-sm",e),modifiersStyles:{available:{border:"2px solid #22c55e",borderRadius:"999px",backgroundColor:"rgba(34, 197, 94, 0.1)"},selectedAdd:{backgroundColor:"rgba(59, 130, 246, 0.1)",borderRadius:"999px"},selectedRemove:{backgroundColor:"rgba(239, 68, 68, 0.1)",borderRadius:"999px"},today:{fontWeight:"600",color:"#6b7280",outline:"2px solid #e5e7eb"},...n},classNames:{caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm sm:text-base font-semibold text-gray-800 text-center flex-grow truncate px-2",nav:"absolute left-0 right-0 top-0 bottom-0 pointer-events-none flex justify-between items-center px-2",nav_button:Re(ox({variant:"outline"}),"h-7 w-7 sm:h-8 sm:w-8 p-0 opacity-70 hover:opacity-100 rounded-md z-10 pointer-events-auto"),table:"w-full border-collapse space-y-1 mt-2",head_row:"grid grid-cols-7 gap-px w-full",head_cell:"text-gray-500 text-xs font-medium uppercase tracking-wider py-1 sm:py-2",row:"grid grid-cols-7 gap-px w-full mt-1",cell:"h-10 w-10 p-0 text-center relative flex items-center justify-center sm:h-9 sm:w-9",day:Re(ox({variant:"ghost"}),"h-10 w-10 p-0 font-normal hover:bg-gray-100 rounded-full transition-colors text-sm sm:h-9 sm:w-9 sm:text-xs"),day_selected:"bg-eccos-purple text-white hover:bg-eccos-purple/90 rounded-full",day_today:"bg-gray-100 text-gray-900 font-semibold rounded-full",day_outside:"text-gray-400 opacity-50",day_disabled:"text-gray-400 opacity-50 cursor-not-allowed",day_range_middle:"aria-selected:bg-gray-100 aria-selected:text-gray-900 rounded-none",...t},components:{IconLeft:()=>l.jsx(nE,{className:"h-3 w-3 sm:h-4 sm:w-4 text-gray-600"}),IconRight:()=>l.jsx(By,{className:"h-3 w-3 sm:h-4 sm:w-4 text-gray-600"}),DayContent:({date:a})=>{const s=mi(a,new Date);return l.jsx("div",{className:"relative w-full h-full flex items-center justify-center",children:l.jsx("span",{className:Re(s?"font-bold text-gray-900":"text-gray-700","text-xs sm:text-sm"),children:a.getDate()})})}},...i})}r1.displayName="Calendar";const W3="availability",Hoe=async()=>{try{return(await Ia(qr(Ze,W3))).docs.map(t=>{const r=t.data(),n=r.date instanceof Ot?r.date.toDate():new Date(r.date);return new Date(n.setHours(0,0,0,0))}).filter(t=>!isNaN(t.getTime()))}catch{throw new Error("Erro ao buscar datas disponíveis")}},dut=async e=>{try{await Promise.all(e.map(async t=>{const r=new Date(t.setHours(0,0,0,0)),n=qoe(r);await ME(xt(Ze,W3,n),{id:n,date:Ot.fromDate(r)})}))}catch{throw new Error("Erro ao adicionar datas")}},az=async e=>{try{await Promise.all(e.map(async t=>{const r=new Date(t.setHours(0,0,0,0)),n=qoe(r);await gf(xt(Ze,W3,n))}))}catch{throw new Error("Erro ao remover datas")}},qoe=e=>{const t=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0");return`${t}-${r}-${n}`},P_=e=>{const t=new Date;return t.setHours(0,0,0,0),e<t},fut=()=>l.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none bg-blue-100 rounded-full",children:l.jsx(tm,{className:"h-8 w-8 text-blue-600 stroke-[3]"})}),hut=()=>l.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none bg-red-100 rounded-full",children:l.jsx(go,{className:"h-8 w-8 text-red-600 stroke-[3]"})}),sz={availableDate:{border:"2px solid #22c55e",backgroundColor:"rgba(34, 197, 94, 0.1)",borderRadius:"50%"},selectedAdd:{backgroundColor:"rgba(59, 130, 246, 0.1)",borderRadius:"50%"},selectedRemove:{backgroundColor:"rgba(239, 68, 68, 0.1)",borderRadius:"50%"},today:{color:"#9ca3af",opacity:"0.5",pointerEvents:"none"}};function mut(){const[e,t]=b.useState([]),[r,n]=b.useState([]),[i,a]=b.useState([]),[s,o]=b.useState({add:!1,remove:!1,initial:!0}),[c,u]=b.useState("add"),{toast:d}=So(),f=new Date;f.setHours(0,0,0,0);const[h,m]=b.useState(new Date);b.useEffect(()=>{(async()=>{try{const D=await Hoe(),B=D.filter(ee=>P_(ee));B.length>0?(await az(B),t(D.filter(ee=>!P_(ee)))):t(D)}catch{g("Erro ao carregar datas disponíveis")}finally{o(D=>({...D,initial:!1}))}})()},[]);const g=k=>{d({title:"Erro",description:k,variant:"destructive"})},p=k=>{d({title:"Sucesso",description:k,className:"bg-green-500 text-foreground"})},v=async()=>{if(r.length!==0){o(k=>({...k,add:!0}));try{await dut(r),t(k=>[...k,...r]),n([]),p("Datas adicionadas com sucesso!")}catch{g("Erro ao adicionar datas")}finally{o(k=>({...k,add:!1}))}}},y=async()=>{if(i.length!==0){o(k=>({...k,remove:!0}));try{await az(i),t(k=>k.filter(D=>!i.some(B=>B.toISOString()===D.toISOString()))),a([]),p("Datas removidas com sucesso!")}catch{g("Erro ao remover datas")}finally{o(k=>({...k,remove:!1}))}}},x=k=>e.some(D=>mi(D,k)),w=k=>r.some(D=>mi(D,k)),N=k=>i.some(D=>mi(D,k)),E=k=>mi(k,f),T=k=>k.length>0?k.map(D=>Gt(D,"dd 'de' MMMM 'de' yyyy",{locale:Gr})).join(", "):"Nenhuma data selecionada",S=()=>{const k=new Date(h);k.setMonth(k.getMonth()-1),m(k)},A=()=>{const k=new Date(h);k.setMonth(k.getMonth()+1),m(k)},C=e.length,j=e.filter(k=>k.getMonth()===h.getMonth()&&k.getFullYear()===h.getFullYear()).length,I=r.length,O=i.length;return l.jsx(sn,{children:l.jsxs("div",{className:"min-h-screen bg-white relative overflow-hidden",children:[l.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[l.jsx("div",{className:"absolute left-1/4 top-1/4 h-96 w-96 rounded-full bg-sidebar blur-3xl opacity-5"}),l.jsx("div",{className:"absolute right-1/4 bottom-1/4 h-80 w-80 rounded-full bg-eccos-purple blur-3xl opacity-5"})]}),l.jsxs("div",{className:"relative z-10 space-y-8 p-4 md:p-6 lg:p-12",children:[l.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold flex items-center gap-2 bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:[l.jsx(Zn,{className:"text-eccos-purple",size:30}),"Gerenciamento de Disponibilidade"]}),s.initial&&l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-eccos-purple"})}),!s.initial&&l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"grid gap-4 grid-cols-2 sm:grid-cols-2 lg:grid-cols-4",children:[l.jsxs(Qe,{className:"bg-white border border-gray-100 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300",children:[l.jsx(Rt,{className:"pb-2",children:l.jsx(kt,{className:"text-sm font-medium text-gray-600",children:"Total de Datas Disponíveis"})}),l.jsxs(nt,{children:[l.jsx("div",{className:"text-2xl font-bold bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:C}),l.jsx(Se,{variant:"outline",className:"mt-2 border-eccos-purple text-eccos-purple",children:"Datas"})]})]}),l.jsxs(Qe,{className:"bg-white border border-gray-100 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300",children:[l.jsx(Rt,{className:"pb-2",children:l.jsx(kt,{className:"text-sm font-medium text-gray-600",children:"Disponíveis Este Mês"})}),l.jsxs(nt,{children:[l.jsx("div",{className:"text-2xl font-bold bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:j}),l.jsx(Se,{variant:"outline",className:"mt-2 border-eccos-purple text-eccos-purple",children:"Este Mês"})]})]}),l.jsxs(Qe,{className:"bg-white border border-gray-100 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300",children:[l.jsx(Rt,{className:"pb-2",children:l.jsx(kt,{className:"text-sm font-medium text-gray-600",children:c==="add"?"Selecionadas p/ Adicionar":"Modo Adicionar"})}),l.jsxs(nt,{children:[l.jsx("div",{className:"text-2xl font-bold bg-gradient-to-r from-blue-500 to-blue-600 bg-clip-text text-transparent",children:I}),l.jsx(Se,{variant:"outline",className:"mt-2 border-blue-500 text-blue-500",children:"Para Adicionar"})]})]}),l.jsxs(Qe,{className:"bg-white border border-gray-100 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300",children:[l.jsx(Rt,{className:"pb-2",children:l.jsx(kt,{className:"text-sm font-medium text-gray-600",children:c==="remove"?"Selecionadas p/ Remover":"Modo Remover"})}),l.jsxs(nt,{children:[l.jsx("div",{className:"text-2xl font-bold bg-gradient-to-r from-red-500 to-red-600 bg-clip-text text-transparent",children:O}),l.jsx(Se,{variant:"outline",className:"mt-2 border-red-500 text-red-500",children:"Para Remover"})]})]})]}),l.jsxs(VE,{value:c,onValueChange:u,className:"w-full",children:[l.jsxs(lx,{className:"grid grid-cols-2 w-full bg-white border border-gray-100 rounded-2xl shadow-lg p-1 h-14",children:[l.jsxs(Xo,{value:"add",className:"rounded-xl data-[state=active]:bg-gradient-to-r data-[state=active]:from-sidebar data-[state=active]:to-eccos-purple data-[state=active]:text-white h-12 transition-all duration-300",children:[l.jsx(e5,{className:"h-4 w-4 mr-2"}),"Adicionar"]}),l.jsxs(Xo,{value:"remove",className:"rounded-xl data-[state=active]:bg-gradient-to-r data-[state=active]:from-sidebar data-[state=active]:to-eccos-purple data-[state=active]:text-white h-12 transition-all duration-300",children:[l.jsx(t5,{className:"h-4 w-4 mr-2"}),"Remover"]})]}),l.jsx(Bh,{value:"add",className:"mt-6",children:l.jsx(Qe,{className:"bg-white border border-gray-100 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300",children:l.jsxs(nt,{className:"p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx(me,{variant:"outline",size:"icon",onClick:S,className:"h-8 w-8",children:l.jsx(nE,{className:"h-4 w-4"})}),l.jsx("h3",{className:"text-sm font-medium",children:Gt(h,"MMMM yyyy",{locale:Gr})}),l.jsx(me,{variant:"outline",size:"icon",onClick:A,className:"h-8 w-8",children:l.jsx(By,{className:"h-4 w-4"})})]}),l.jsx(r1,{mode:"multiple",selected:r,onSelect:n,month:h,onMonthChange:m,disabled:k=>P_(k)||x(k),modifiers:{available:k=>x(k),today:k=>E(k),selectedAdd:k=>w(k)},modifiersStyles:sz,className:"border-0 max-w-full sm:max-w-[320px] mx-auto",components:{DayContent:k=>{const{date:D}=k,B=D.getDate();return l.jsxs("div",{className:"relative w-full h-full flex items-center justify-center",children:[l.jsx("span",{className:w(D)?"opacity-0":"",children:B}),w(D)&&l.jsx(fut,{})]})}}}),l.jsx("div",{className:"mt-6 space-y-4",children:l.jsxs("div",{className:"bg-blue-50 p-4 rounded-2xl",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[l.jsx(e5,{className:"h-5 w-5 text-blue-600"}),l.jsx("h3",{className:"font-medium text-blue-600",children:"Datas para Adicionar"})]}),l.jsx("p",{className:"text-xs sm:text-sm text-blue-600 mb-4 max-h-20 overflow-y-auto",children:T(r)}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[l.jsx(me,{onClick:()=>n([]),variant:"outline",className:"flex-1 h-12 rounded-xl border-eccos-purple text-eccos-purple hover:bg-eccos-purple/10",children:"Limpar Seleção"}),l.jsx(me,{onClick:v,disabled:s.add||r.length===0,className:"flex-1 h-12 rounded-xl bg-gradient-to-r from-sidebar to-eccos-purple hover:from-eccos-purple hover:to-sidebar text-white",children:s.add?"Salvando...":"Confirmar Adição"})]})]})})]})})}),l.jsx(Bh,{value:"remove",className:"mt-6",children:l.jsx(Qe,{className:"bg-white border border-gray-100 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300",children:l.jsxs(nt,{className:"p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx(me,{variant:"outline",size:"icon",onClick:S,className:"h-8 w-8",children:l.jsx(nE,{className:"h-4 w-4"})}),l.jsx("h3",{className:"text-sm font-medium",children:Gt(h,"MMMM yyyy",{locale:Gr})}),l.jsx(me,{variant:"outline",size:"icon",onClick:A,className:"h-8 w-8",children:l.jsx(By,{className:"h-4 w-4"})})]}),l.jsx(r1,{mode:"multiple",selected:i,onSelect:a,month:h,onMonthChange:m,disabled:k=>!x(k),modifiers:{available:k=>x(k),today:k=>E(k),selectedRemove:k=>N(k)},modifiersStyles:sz,className:"border-0 max-w-full sm:max-w-[320px] mx-auto",components:{DayContent:k=>{const{date:D}=k,B=D.getDate();return l.jsxs("div",{className:"relative w-full h-full flex items-center justify-center",children:[l.jsx("span",{className:N(D)?"opacity-0":"",children:B}),N(D)&&l.jsx(hut,{})]})}}}),l.jsx("div",{className:"mt-6 space-y-4",children:l.jsxs("div",{className:"bg-red-50 p-4 rounded-2xl",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[l.jsx(t5,{className:"h-5 w-5 text-red-600"}),l.jsx("h3",{className:"font-medium text-red-600",children:"Datas para Remover"})]}),l.jsx("p",{className:"text-xs sm:text-sm text-red-600 mb-4 max-h-20 overflow-y-auto",children:T(i)}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[l.jsx(me,{onClick:()=>a([]),variant:"outline",className:"flex-1 h-12 rounded-xl border-red-600 text-red-600 hover:bg-red-50",children:"Limpar Seleção"}),l.jsx(me,{onClick:y,disabled:s.remove||i.length===0,className:"flex-1 h-12 rounded-xl bg-red-600 hover:bg-red-700 text-white",children:s.remove?"Removendo...":"Confirmar Remoção"})]})]})})]})})})]})]})]}),l.jsx("footer",{className:"relative z-10 bg-gray-50 py-10 px-4 md:px-12",children:l.jsx("div",{className:"max-w-6xl mx-auto text-center",children:l.jsx("p",{className:"text-gray-500 text-sm",children:"© 2025 Colégio ECCOS - Todos os direitos reservados"})})})]})})}async function put(){try{return(await Ia(qr(Ze,"roles"))).docs.map(t=>t.data())}catch(e){return console.error("Erro ao buscar roles:",e),[]}}const gut=({open:e,onOpenChange:t,user:r,onSuccess:n})=>{const[i,a]=b.useState((r==null?void 0:r.role)||"user"),[s,o]=b.useState(!1),{toast:c}=So(),{refreshUser:u,reloadPermissions:d}=Mr(),[f,h]=b.useState([]),[m,g]=b.useState(!1);b.useEffect(()=>{r&&a(r.role)},[r]),b.useEffect(()=>{(async()=>{if(e){g(!0);try{const y=await put();h(y)}catch(y){console.error("Erro ao buscar roles:",y),c({title:"Erro",description:"Não foi possível carregar as funções disponíveis",variant:"destructive"})}finally{g(!1)}}})()},[e,c]);const p=async()=>{var v,y;if(!(!r||!i)){o(!0);try{await nAe(r.uid,i),window.dispatchEvent(new CustomEvent("userRoleChanged")),r.uid===((v=Cc.currentUser)==null?void 0:v.uid)&&(await u(),await d()),n(),t(!1),c({title:"Sucesso",description:`Função alterada para ${((y=f.find(x=>x.id===i))==null?void 0:y.name)||i}`})}catch(x){console.error("Error changing role:",x),c({title:"Erro",description:"Não foi possível alterar a função",variant:"destructive"})}finally{o(!1)}}};return l.jsx(mn,{open:e,onOpenChange:t,children:l.jsxs(on,{children:[l.jsxs(pn,{children:[l.jsx(ln,{children:"Alterar Função do Usuário"}),l.jsxs(gn,{children:["Selecione a nova função para ",r==null?void 0:r.displayName]})]}),l.jsx("div",{className:"grid gap-4 py-4",children:l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(_t,{htmlFor:"role",className:"text-right",children:"Nova Função"}),l.jsxs(Jo,{value:i,onValueChange:v=>a(v),disabled:s||m,children:[l.jsx(co,{className:"col-span-3",children:l.jsx(el,{placeholder:m?"Carregando funções...":"Selecione uma função"})}),l.jsx(uo,{children:m?null:f.map(v=>l.jsx(_r,{value:v.id,children:v.name},v.id))})]})]})}),l.jsxs(ii,{children:[l.jsx(me,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:s,children:"Cancelar"}),l.jsx(me,{type:"button",onClick:p,disabled:s||!i||i===(r==null?void 0:r.role)||m,children:s?"Salvando...":"Confirmar Alteração"})]})]})})};function vut({open:e,onOpenChange:t,user:r,onSuccess:n}){const{toast:i}=So();if(!r)return null;const a=r.blocked===!0,s=async()=>{try{await rAe(r.uid,!a),i({title:"Sucesso",description:`Usuário ${a?"desbloqueado":"bloqueado"} com sucesso.`}),n(),t(!1)}catch(o){console.error("Error toggling user block status:",o),i({title:"Erro",description:o.message||"Ocorreu um erro ao alterar o status do usuário.",variant:"destructive"})}};return l.jsx(To,{open:e,onOpenChange:t,children:l.jsxs(Bs,{children:[l.jsxs(Vs,{children:[l.jsx(Us,{children:a?"Desbloquear usuário":"Bloquear usuário"}),l.jsx(No,{children:a?l.jsxs(l.Fragment,{children:["Tem certeza que deseja desbloquear ",l.jsx("strong",{children:r.displayName}),"?",l.jsx("br",{}),l.jsx("br",{}),"O usuário poderá acessar o sistema novamente após esta ação."]}):l.jsxs(l.Fragment,{children:["Tem certeza que deseja bloquear ",l.jsx("strong",{children:r.displayName}),"?",l.jsx("br",{}),l.jsx("br",{}),"O usuário não poderá acessar o sistema enquanto estiver bloqueado."]})})]}),l.jsxs(wl,{children:[l.jsx(Co,{children:"Cancelar"}),l.jsx(Ao,{onClick:s,className:Re(a?"bg-green-600 hover:bg-green-700":"bg-destructive hover:bg-destructive/90"),children:a?"Desbloquear":"Bloquear"})]})]})})}const yut=({user:e,onRoleChange:t,onBlock:r})=>{const{currentUser:n,isSuperAdmin:i}=Mr(),a=u=>{if(u.pendingRoleChange)return l.jsx(Se,{className:"bg-yellow-500 text-foreground",children:l.jsx("span",{className:"animate-pulse",children:"Pendente"})});switch(u.role){case"superadmin":return l.jsxs(Se,{className:"bg-purple-500 text-foreground",children:[l.jsx(Xq,{className:"mr-1 h-4 w-4"}),"Super Admin"]});case"admin":return l.jsx(Se,{className:"bg-blue-500 text-foreground",children:"Admin"});case"financeiro":return l.jsx(Se,{className:"bg-green-500 text-foreground",children:"Financeiro"});case"operacional":return l.jsx(Se,{className:"bg-orange-500 text-foreground",children:"Manutenção"});default:return l.jsx(Se,{variant:"outline",children:"Usuário"})}},s=u=>{if(!u)return"Nunca acessou";const d=new Date(u);return isNaN(d.getTime())?"Data inválida":d.toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})},o=u=>u.email==="suporte@colegioeccos.com.br"||(n==null?void 0:n.uid)===u.uid?!1:!!i,c=u=>(n==null?void 0:n.uid)===u.uid?!1:!!(i&&u.role!=="superadmin"||(n==null?void 0:n.role)==="admin"&&["user","financeiro","operacional"].includes(u.role));return l.jsx(on,{className:"max-w-md max-h-screen rounded-lg sm:rounded-xl p-0 overflow-hidden",children:l.jsxs("div",{className:"flex flex-col h-[90vh] sm:h-[85vh]",children:[l.jsxs(pn,{className:"shrink-0 sticky top-0 bg-white z-10 border-b",children:[l.jsxs(ln,{className:"flex items-center gap-2 p-4",children:[l.jsx(Kc,{className:"h-5 w-5 text-eccos-purple"}),"Detalhes do Usuário"]}),l.jsx(gn,{className:"px-4 pb-2",children:"Informações detalhadas sobre o usuário."})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Kc,{className:"h-4 w-4 text-gray-500"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Nome"}),l.jsx("p",{className:"text-sm text-gray-900",children:e.displayName})]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(yfe,{className:"h-4 w-4 text-gray-500"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Email"}),l.jsx("p",{className:"text-sm text-gray-900",children:e.email})]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(CO,{className:"h-4 w-4 text-gray-500"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Função"}),l.jsx("div",{className:"mt-1",children:a(e)})]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Zn,{className:"h-4 w-4 text-gray-500"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Último Acesso"}),l.jsx("p",{className:"text-sm text-gray-900",children:s(e.lastActive)})]})]})]}),e.blocked&&l.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(s5,{className:"h-4 w-4 text-red-600"}),l.jsx("span",{className:"text-sm font-medium text-red-800",children:"Usuário Bloqueado"})]}),l.jsx("p",{className:"text-xs text-red-600 mt-1",children:"Este usuário não pode acessar o sistema"})]}),e.role!=="superadmin"&&l.jsxs("div",{className:"space-y-3 pt-4 border-t",children:[l.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Ações"}),l.jsxs("div",{className:"flex flex-col gap-2",children:[o(e)&&l.jsxs(me,{variant:"outline",onClick:()=>t(e),className:"justify-start h-9",children:[l.jsx(Vy,{className:"mr-2 h-4 w-4"}),"Alterar Função"]}),c(e)&&l.jsx(me,{variant:"outline",onClick:()=>r(e),className:Re("justify-start h-9",e.blocked?"text-green-600 hover:bg-green-50 hover:text-green-700 hover:border-green-300":"text-red-600 hover:bg-red-50 hover:text-red-700 hover:border-red-300"),children:e.blocked?l.jsxs(l.Fragment,{children:[l.jsx(vfe,{className:"mr-2 h-4 w-4"}),"Desbloquear Usuário"]}):l.jsxs(l.Fragment,{children:[l.jsx(s5,{className:"mr-2 h-4 w-4"}),"Bloquear Usuário"]})})]})]})]})]})})},xut=()=>{const{currentUser:e,isSuperAdmin:t}=Mr();So();const[r,n]=b.useState(""),[i,a]=b.useState([]),[s,o]=b.useState(null),[c,u]=b.useState(!1),[d,f]=b.useState(!1),{data:h=[],refetch:m,isLoading:g}=ua({queryKey:["users"],queryFn:q1}),p=async E=>{o(E),u(!0),await m(),window.dispatchEvent(new CustomEvent("userRoleChanged"))},v=E=>{o(E),f(!0)};b.useEffect(()=>{const E=r.toLowerCase(),T=h.filter(S=>E===""?!0:S.displayName.toLowerCase().includes(E)||S.email.toLowerCase().includes(E)||S.role.toLowerCase().includes(E)).sort((S,A)=>{const C={superadmin:0,admin:1,financeiro:2,operacional:3,user:4},j=(C[S.role]??5)-(C[A.role]??5);return j!==0?j:S.displayName.localeCompare(A.displayName)});a(T)},[h,r]),b.useEffect(()=>{const E=new IntersectionObserver(T=>{T.forEach(S=>{S.isIntersecting&&S.target.classList.add("visible")})},{threshold:.1});return document.querySelectorAll(".fade-up").forEach(T=>E.observe(T)),()=>E.disconnect()},[]);const y=E=>{if(E.pendingRoleChange)return l.jsx(Se,{className:"bg-yellow-500 text-foreground",children:l.jsx("span",{className:"animate-pulse",children:"Pendente"})});switch(E.role){case"superadmin":return l.jsxs(Se,{className:"bg-purple-500 text-foreground",children:[l.jsx(Xq,{className:"mr-1 h-4 w-4 hidden sm:inline-block"}),"Super Admin"]});case"admin":return l.jsx(Se,{className:"bg-blue-500 text-foreground",children:"Admin"});case"financeiro":return l.jsx(Se,{className:"bg-green-500 text-foreground",children:"Financeiro"});case"operacional":return l.jsx(Se,{className:"bg-orange-500 text-foreground",children:"Manutenção"});default:return l.jsx(Se,{variant:"outline",children:"Usuário"})}},x=h.filter(E=>!E.blocked).length,w=h.filter(E=>E.blocked).length,N=h.filter(E=>["admin","superadmin"].includes(E.role)).length;return h.filter(E=>E.role==="operacional").length,l.jsxs(sn,{children:[l.jsxs("div",{className:"min-h-screen bg-white overflow-hidden relative",children:[l.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[l.jsx("div",{className:"absolute left-1/4 top-1/4 h-96 w-96 rounded-full bg-sidebar blur-3xl opacity-5"}),l.jsx("div",{className:"absolute right-1/4 bottom-1/4 h-80 w-80 rounded-full bg-eccos-purple blur-3xl opacity-5"})]}),l.jsxs("div",{className:"relative z-10 space-y-8 p-4 sm:p-6 md:p-12 fade-up",children:[l.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold flex items-center gap-2 bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:[l.jsx(Uy,{className:"text-eccos-purple",size:28}),l.jsx("span",{className:"hidden sm:inline",children:"Gestão de Usuários"}),l.jsx("span",{className:"sm:hidden",children:"Usuários"})]}),l.jsxs("div",{className:"space-y-6 sm:space-y-8 fade-up",children:[l.jsxs("div",{className:"grid gap-3 sm:gap-4 grid-cols-2 lg:grid-cols-3",children:[l.jsxs(Qe,{className:"bg-white border border-gray-100 rounded-xl sm:rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 relative group overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),l.jsxs("div",{className:"p-3 sm:p-6",children:[l.jsx("h3",{className:"text-xs sm:text-sm font-medium text-gray-600 mb-2",children:"Usuários Ativos"}),l.jsx("div",{className:"text-xl sm:text-2xl font-bold bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:x}),l.jsx(Se,{variant:"outline",className:"mt-1 sm:mt-2 border-eccos-purple text-eccos-purple text-xs",children:"Contas"})]})]}),l.jsxs(Qe,{className:"bg-white border border-gray-100 rounded-xl sm:rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 relative group overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),l.jsxs("div",{className:"p-3 sm:p-6",children:[l.jsx("h3",{className:"text-xs sm:text-sm font-medium text-gray-600 mb-2",children:"Usuários Bloqueados"}),l.jsx("div",{className:"text-xl sm:text-2xl font-bold bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:w}),l.jsx(Se,{variant:"outline",className:"mt-1 sm:mt-2 border-red-500 text-red-500 text-xs",children:"Restrito"})]})]}),l.jsxs(Qe,{className:"bg-white border border-gray-100 rounded-xl sm:rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 relative group overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),l.jsxs("div",{className:"p-3 sm:p-6",children:[l.jsx("h3",{className:"text-xs sm:text-sm font-medium text-gray-600 mb-2",children:"Administradores"}),l.jsx("div",{className:"text-xl sm:text-2xl font-bold bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:N}),l.jsx(Se,{variant:"outline",className:"mt-1 sm:mt-2 border-blue-500 text-blue-500 text-xs",children:"Gestão"})]})]})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 fade-up",children:[l.jsxs("div",{className:"relative flex-1 max-w-full sm:max-w-md",children:[l.jsx(gc,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),l.jsx(Bt,{placeholder:"Filtrar usuários...",value:r,onChange:E=>n(E.target.value),className:"pl-10 rounded-xl border-gray-200 focus-visible:ring-eccos-purple"})]}),l.jsxs("p",{className:"text-muted-foreground text-sm",children:[h.length," registros encontrados"]})]}),l.jsx("div",{className:"rounded-xl sm:rounded-2xl border-0 overflow-hidden bg-white shadow-lg hover:shadow-xl transition-all duration-300 fade-up",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs(El,{children:[l.jsx(Sl,{className:"bg-gray-50",children:l.jsxs(En,{children:[l.jsx(Lt,{className:"text-center align-middle font-medium text-gray-700 text-sm px-4",children:"Nome"}),l.jsx(Lt,{className:"text-center align-middle font-medium text-gray-700 text-sm px-4",children:"Função"}),l.jsx(Lt,{className:"text-center align-middle font-medium text-gray-700 text-sm px-4",children:"Detalhes"})]})}),l.jsx(Tl,{children:g?l.jsx(En,{children:l.jsx(Dt,{colSpan:3,className:"h-24 text-center",children:l.jsxs("div",{className:"flex justify-center items-center space-x-2",children:[l.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-eccos-purple"}),l.jsx("span",{className:"text-muted-foreground text-sm",children:"Carregando usuários..."})]})})}):i.length===0?l.jsx(En,{children:l.jsx(Dt,{colSpan:3,className:"h-24 text-center text-muted-foreground",children:"Nenhum usuário encontrado"})}):i.map(E=>l.jsxs(En,{className:"group transition-all duration-200 hover:bg-gray-50 border-b border-gray-100",children:[l.jsx(Dt,{className:"text-center align-middle px-4 py-4",children:l.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[l.jsx("span",{className:"font-medium text-sm",children:E.displayName}),E.blocked&&l.jsx(Se,{variant:"destructive",className:"text-xs",children:"Bloqueado"})]})}),l.jsx(Dt,{className:"text-center align-middle px-4 py-4",children:y(E)}),l.jsx(Dt,{className:"text-center align-middle px-4 py-4",children:l.jsxs(mn,{children:[l.jsx(_4,{asChild:!0,children:l.jsx(me,{variant:"outline",size:"sm",className:"hover:bg-eccos-purple/10 hover:text-eccos-purple hover:border-eccos-purple",children:l.jsx(cf,{className:"h-4 w-4"})})}),l.jsx(yut,{user:E,onRoleChange:p,onBlock:v})]})})]},E.uid))})]})})})]}),l.jsx("footer",{className:"relative z-10 bg-gray-50 py-6 sm:py-10 px-4 md:px-12 mt-8 sm:mt-12 fade-up rounded-lg",children:l.jsx("div",{className:"max-w-6xl mx-auto",children:l.jsx("div",{className:"text-center",children:l.jsx("p",{className:"text-gray-500 text-xs sm:text-sm",children:"© 2025 Colégio ECCOS - Todos os direitos reservados"})})})})]})]}),l.jsx(gut,{open:c,onOpenChange:u,user:s,onSuccess:()=>{m(),window.dispatchEvent(new CustomEvent("userRoleChanged"))}}),l.jsx(vut,{open:d,onOpenChange:f,user:s,onSuccess:m})]})},Uw=e=>{switch(e){case"pending":return l.jsx(Se,{variant:"outline",className:"border-yellow-500 text-yellow-600",children:"Pendente"});case"approved":return l.jsx(Se,{className:"bg-green-500 text-white",children:"Aprovada"});case"rejected":return l.jsx(Se,{variant:"destructive",children:"Reprovada"});case"in-progress":return l.jsx(Se,{className:"bg-blue-500 text-white",children:"Em Andamento"});case"completed":return l.jsx(Se,{className:"bg-slate-500 text-white",children:"Concluída"});case"canceled":return l.jsx(Se,{className:"bg-amber-500 text-white",children:"Cancelada"});default:return l.jsx(Se,{variant:"outline",children:"Desconhecido"})}},but=()=>{const e=vl(),{currentUser:t}=Mr(),r=((t==null?void 0:t.role)||[]).includes("admin"),[n,i]=b.useState(""),[a,s]=b.useState(["pending","approved","in-progress"]),[o,c]=b.useState([]),u=te.useRef(new Map),[d,f]=b.useState(null),[h,m]=b.useState(!1),[g,p]=b.useState(!1),[v,y]=b.useState({}),[x,w]=b.useState(()=>{const ae=typeof window<"u"?localStorage.getItem("adminViewedRequests"):null;return ae?new Set(JSON.parse(ae)):new Set}),[N,E]=b.useState(!1),[T,S]=b.useState(null),[A,C]=b.useState(!1),[j,I]=b.useState(null),{data:O=[],isLoading:k,isError:D,refetch:B}=ua({queryKey:["allRequests"],queryFn:()=>Pu(),enabled:r});b.useEffect(()=>{Array.from(x),(()=>{const K={};O.forEach(ie=>{const le=(ie.messages||[]).filter(Be=>!Be.isAdmin&&!x.has(`${ie.id}-${Be.timestamp.toMillis()}`)).length;le>0&&(K[ie.id]=le)}),y(K)})()},[O,Array.from(x).join(",")]);const ee=async(ae=[])=>{try{return(await Promise.all(ae.map(async ie=>{if(u.current.has(ie))return u.current.get(ie);const fe=xt(Ze,"equipment",ie),le=await ts(fe);return le.exists()&&u.current.set(ie,le.data()),le.data()}))).filter(Boolean).map(ie=>(ie==null?void 0:ie.name)||"Equipamento desconhecido")}catch(K){return console.error("Error getting equipment details:",K),[]}},z=async ae=>{try{p(!0);const K=await wu(ae.id,ae.collectionName);let ie=[];K.equipmentIds&&(ie=await ee(K.equipmentIds)),f(K),c(ie),m(!0)}catch{$e.error("Erro ao carregar detalhes")}finally{p(!1)}},V=[{id:"userName",label:"Solicitante",defaultSelected:!0},{id:"userEmail",label:"Email",defaultSelected:!0},{id:"location",label:"Local",defaultSelected:!0},{id:"purpose",label:"Finalidade",defaultSelected:!0},{id:"date",label:"Data",defaultSelected:!0},{id:"startTime",label:"Hora Início",defaultSelected:!0},{id:"endTime",label:"Hora Fim",defaultSelected:!0},{id:"status",label:"Status",defaultSelected:!0},{id:"createdAt",label:"Data de Criação",defaultSelected:!0}],U=async ae=>{try{const K=await wu(ae.id,ae.collectionName);S(K),w(ie=>{const fe=new Set(ie);return(K.messages||[]).forEach(le=>{le.isAdmin||fe.add(`${K.id}-${le.timestamp.toMillis()}`)}),localStorage.setItem("adminViewedRequests",JSON.stringify(Array.from(fe))),fe}),y(ie=>{const fe={...ie};return delete fe[K.id],fe}),E(!0)}catch(K){$e.error("Erro ao abrir chat"),console.error("Error:",K)}},se=ae=>{I(ae),C(!0)},ne=async()=>{if(j)try{await fm(j.id,j.collectionName),await Ra({title:"Solicitação Excluída",message:"Sua solicitação foi excluída pelo administrador.",link:"minhas-solicitacoes",recipients:[j.userEmail],createdAt:new Date,readBy:[],isBatch:!1}),$e.success("Excluído com sucesso"),C(!1),I(null),h&&m(!1),e.invalidateQueries({queryKey:["allRequests"]})}catch(ae){$e.error("Erro ao excluir"),console.error("Error:",ae)}},M=async ae=>{if(d)try{const K=xt(Ze,d.collectionName,d.id);await ur(K,{status:ae,history:v0({status:ae,message:`Status alterado para ${ae} por ${(t==null?void 0:t.displayName)||(t==null?void 0:t.email)}`,timestamp:Ot.now()})}),await Ra({title:"Alteração de Status",message:`Status da sua solicitação de reserva foi alterado para: ${ae}`,link:"minhas-solicitacoes",createdAt:new Date,readBy:[],recipients:[d.userEmail],isBatch:!1}),$e.success("Status atualizado"),e.invalidateQueries({queryKey:["allRequests"]}),f({...d,status:ae})}catch(K){$e.error("Erro ao atualizar"),console.error("Error:",K)}},W=O.filter(ae=>ae.type==="reservation").filter(ae=>{var ie,fe,le,Be;const K=n.toLowerCase();return(((ie=ae.userName)==null?void 0:ie.toLowerCase().includes(K))||((fe=ae.userEmail)==null?void 0:fe.toLowerCase().includes(K))||((le=ae.purpose)==null?void 0:le.toLowerCase().includes(K))||((Be=ae.location)==null?void 0:Be.toLowerCase().includes(K)))&&a.includes(ae.status)}),G=W.length,P=W.filter(ae=>ae.status==="pending").length,J=W.filter(ae=>ae.status==="approved").length,oe=W.filter(ae=>ae.status==="in-progress").length;return r?l.jsx(sn,{children:l.jsxs("div",{className:"flex flex-col h-screen bg-white",children:[l.jsx("header",{className:"p-6 md:p-12 border-b border-gray-100 bg-white shadow-sm z-20",children:l.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2 bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:[l.jsx(Zn,{className:"text-eccos-purple",size:35}),"Solicitações de Reserva"]})}),l.jsxs("main",{className:"flex-1 overflow-y-auto p-6 md:p-12 space-y-8",children:[k?l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-eccos-purple"})}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"grid gap-4 grid-cols-2 sm:grid-cols-2 lg:grid-cols-4",children:[l.jsxs(Qe,{className:"bg-white border border-gray-100 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300",children:[l.jsx(Rt,{className:"pb-2",children:l.jsx(kt,{className:"text-sm font-medium text-gray-600",children:"Total de Solicitações"})}),l.jsxs(nt,{children:[l.jsx("div",{className:"text-2xl font-bold bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:G}),l.jsx(Se,{variant:"outline",className:"mt-2 border-eccos-purple text-eccos-purple",children:"Total"})]})]}),l.jsxs(Qe,{className:"bg-white border border-gray-100 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300",children:[l.jsx(Rt,{className:"pb-2",children:l.jsx(kt,{className:"text-sm font-medium text-gray-600",children:"Pendentes"})}),l.jsxs(nt,{children:[l.jsx("div",{className:"text-2xl font-bold bg-gradient-to-r from-yellow-500 to-yellow-600 bg-clip-text text-transparent",children:P}),l.jsxs(Se,{variant:"outline",className:"mt-2 border-yellow-500 text-yellow-500",children:[l.jsx(fu,{className:"h-3 w-3 mr-1"}),"Aguardando"]})]})]}),l.jsxs(Qe,{className:"bg-white border border-gray-100 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300",children:[l.jsx(Rt,{className:"pb-2",children:l.jsx(kt,{className:"text-sm font-medium text-gray-600",children:"Aprovadas"})}),l.jsxs(nt,{children:[l.jsx("div",{className:"text-2xl font-bold bg-gradient-to-r from-green-500 to-green-600 bg-clip-text text-transparent",children:J}),l.jsxs(Se,{variant:"outline",className:"mt-2 border-green-500 text-green-500",children:[l.jsx(ph,{className:"h-3 w-3 mr-1"}),"Aprovadas"]})]})]}),l.jsxs(Qe,{className:"bg-white border border-gray-100 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300",children:[l.jsx(Rt,{className:"pb-2",children:l.jsx(kt,{className:"text-sm font-medium text-gray-600",children:"Em Andamento"})}),l.jsxs(nt,{children:[l.jsx("div",{className:"text-2xl font-bold bg-gradient-to-r from-blue-500 to-blue-600 bg-clip-text text-transparent",children:oe}),l.jsxs(Se,{variant:"outline",className:"mt-2 border-blue-500 text-blue-500",children:[l.jsx(s0,{className:"h-3 w-3 mr-1"}),"Em Progresso"]})]})]})]}),l.jsx(Qe,{className:"bg-white border border-gray-100 rounded-2xl shadow-lg",children:l.jsx(nt,{className:"p-6",children:l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[l.jsxs("div",{className:"relative flex-1 max-w-md",children:[l.jsx(gc,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),l.jsx(Bt,{placeholder:"Pesquisar por nome, email, finalidade ou local...",value:n,onChange:ae=>i(ae.target.value),className:"pl-10 h-12 rounded-xl border-gray-200 focus:border-eccos-purple"})]}),l.jsxs(ei,{children:[l.jsx(ti,{asChild:!0,children:l.jsxs(me,{variant:"outline",className:"flex items-center gap-2 h-12 rounded-xl border-gray-200 px-6",children:[l.jsx(cc,{className:"h-4 w-4"})," Status (",a.length,")"]})}),l.jsx(zn,{align:"end",className:"rounded-xl",children:["pending","approved","rejected","in-progress","completed"].map(ae=>l.jsx(_o,{checked:a.includes(ae),onCheckedChange:K=>{s(K?[...a,ae]:a.filter(ie=>ie!==ae))},children:Uw(ae)},ae))})]}),l.jsx(_m,{data:W.map(ae=>{var K;return{...ae,date:((K=ae.date)==null?void 0:K.toDate().toLocaleString("pt-BR"))||"Não informado",createdAt:ae.createdAt.toDate().toLocaleString("pt-BR")}}),columns:V,filename:`reservas-${new Date().toISOString().slice(0,10)}`,children:l.jsxs(me,{variant:"outline",className:"flex items-center gap-2 h-12 rounded-xl border-gray-200 px-6",children:[l.jsx(Ps,{className:"h-4 w-4"})," Exportar"]})})]})})}),W.length===0?l.jsx(Qe,{className:"bg-white border border-gray-100 rounded-2xl shadow-lg",children:l.jsx(nt,{className:"p-12",children:l.jsxs("div",{className:"text-center text-muted-foreground",children:[l.jsx(Zn,{className:"h-16 w-16 mx-auto mb-4 text-gray-300"}),l.jsx("p",{className:"text-lg",children:"Nenhuma solicitação de reserva encontrada"}),l.jsx("p",{className:"text-sm",children:"Tente ajustar os filtros para ver mais resultados"})]})})}):l.jsx(Qe,{className:"bg-white border border-gray-100 rounded-2xl shadow-lg overflow-hidden",children:l.jsx(nt,{className:"p-0",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs(El,{children:[l.jsx(Sl,{children:l.jsxs(En,{className:"border-gray-100",children:[l.jsx(Lt,{className:"font-semibold text-gray-700",children:"Solicitante"}),l.jsx(Lt,{className:"font-semibold text-gray-700",children:"Status"}),l.jsx(Lt,{className:"font-semibold text-gray-700 hidden lg:table-cell",children:"Data"}),l.jsx(Lt,{className:"font-semibold text-gray-700 hidden lg:table-cell",children:"Hora"}),l.jsx(Lt,{className:"font-semibold text-gray-700",children:"Ações"})]})}),l.jsx(Tl,{children:W.map(ae=>{var K;return l.jsxs(En,{className:"border-gray-100 hover:bg-gray-50/50 transition-colors",children:[l.jsx(Dt,{className:"font-medium",children:ae.userName}),l.jsx(Dt,{children:Uw(ae.status)}),l.jsx(Dt,{className:"font-medium hidden lg:table-cell whitespace-nowrap min-w-[120px]",children:Gt(((K=ae.date)==null?void 0:K.toDate())||ae.createdAt.toDate(),"dd/MM/yyyy",{locale:Gr})}),l.jsx(Dt,{className:"font-medium hidden lg:table-cell whitespace-nowrap min-w-[100px]",children:ae.startTime&&ae.endTime?`${ae.startTime} - ${ae.endTime}`:"Não informado"}),l.jsx(Dt,{children:l.jsxs("div",{className:"flex gap-2",children:[l.jsx(me,{variant:"ghost",size:"icon",className:"h-9 w-9 rounded-xl hover:bg-eccos-purple/10 hover:text-eccos-purple",onClick:()=>z(ae),disabled:g,children:l.jsx(cf,{className:"h-4 w-4"})}),l.jsxs(me,{variant:"ghost",size:"icon",className:"h-9 w-9 rounded-xl hover:bg-blue-50 hover:text-blue-600 relative",onClick:()=>U(ae),children:[l.jsx(rm,{className:"h-4 w-4"}),v[ae.id]>0&&l.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:v[ae.id]})]}),l.jsx(me,{variant:"ghost",size:"icon",className:"h-9 w-9 rounded-xl hover:bg-red-50 hover:text-red-600",onClick:()=>se(ae),children:l.jsx(Rs,{className:"h-4 w-4"})})]})})]},ae.id)})})]})})})})]}),l.jsx(mn,{open:h,onOpenChange:m,children:l.jsx(on,{className:"max-w-3xl bg-white border border-gray-100 max-h-[95dvh] rounded-2xl flex flex-col",children:d&&l.jsxs(l.Fragment,{children:[l.jsxs(pn,{className:"p-6 pb-4 border-b border-gray-100 bg-white sticky top-0 z-10",children:[l.jsxs(ln,{className:"flex items-center gap-2",children:[l.jsx(Zn,{className:"h-5 w-5 text-purple-500"}),l.jsxs("span",{className:"bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:["Solicitação de Reserva - ",d.userName||d.userEmail]})]}),l.jsx(gn,{asChild:!0,children:l.jsxs("div",{className:"flex items-center justify-between text-gray-500 mt-2 px-1",children:[l.jsx("div",{children:d.startDate&&l.jsxs("span",{children:["Data:"," ",Gt(d.startDate.toDate(),"dd/MM/yyyy",{locale:Gr})]})}),l.jsx("div",{children:Uw(d.status)})]})})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Solicitante"}),l.jsx("p",{className:"font-medium",children:d.userName})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Local"}),l.jsx("p",{className:"font-medium",children:d.location})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Data"}),l.jsxs("p",{className:"font-medium",children:[d.date&&Gt(d.date.toDate(),"dd/MM/yyyy",{locale:Gr})," "]})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Hora"}),l.jsx("p",{className:"font-medium",children:d.startTime&&d.endTime?`${d.startTime} - ${d.endTime}`:"Não informado"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Finalidade"}),l.jsx("div",{className:"bg-gray-50 p-4 rounded-xl max-w-full",children:l.jsx("p",{className:"whitespace-pre-wrap break-words",children:d.purpose})})]}),o.length>0&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Equipamentos"}),l.jsx("div",{className:"bg-gray-50 p-4 rounded-xl max-w-full",children:l.jsx("ul",{className:"list-disc pl-6",children:o.map((ae,K)=>l.jsx("li",{children:ae},K))})})]}),l.jsx("div",{children:l.jsxs(ei,{children:[l.jsx(ti,{asChild:!0,children:l.jsxs(me,{variant:"outline",className:"flex items-center gap-2",children:["Alterar Status",l.jsx(lc,{className:"h-4 w-4"})]})}),l.jsx(zn,{children:["pending","approved","rejected","in-progress","completed","canceled"].map(ae=>l.jsx(_o,{checked:d.status===ae,onCheckedChange:()=>M(ae),children:Uw(ae)},ae))})]})})]}),l.jsx(ii,{className:"p-6 border-t border-gray-100 gap-2 bg-white sticky bottom-0 z-10",children:l.jsxs(me,{variant:"destructive",onClick:()=>se(d),className:"w-full sm:w-auto",children:[l.jsx(Rs,{className:"h-4 w-4 mr-2"}),"Excluir Solicitação"]})})]})})}),l.jsx(Dg,{request:T,isOpen:N,onOpenChange:E,onMessageSent:()=>e.invalidateQueries({queryKey:["allRequests"]})}),l.jsx(To,{open:A,onOpenChange:C,children:l.jsxs(Bs,{className:"rounded-2xl",children:[l.jsxs(Vs,{children:[l.jsx(Us,{children:"Confirmar exclusão"}),l.jsx(No,{children:"Tem certeza que deseja excluir permanentemente esta solicitação? Esta ação não pode ser desfeita."})]}),l.jsxs(wl,{children:[l.jsx(Co,{className:"rounded-xl",children:"Cancelar"}),l.jsx(Ao,{onClick:ne,className:"rounded-xl bg-red-600 hover:bg-red-700",children:"Confirmar Exclusão"})]})]})})]}),l.jsx("footer",{className:"bg-gray-50 py-10 px-4 md:px-12 border-t border-gray-100",children:l.jsx("div",{className:"max-w-6xl mx-auto text-center",children:l.jsx("p",{className:"text-gray-500 text-sm",children:"© 2025 Colégio ECCOS - Todos os direitos reservados"})})})]})}):l.jsx(sn,{children:l.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx(Vc,{className:"h-16 w-16 mx-auto mb-4 text-red-500"}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Acesso Negado"}),l.jsx("p",{className:"text-gray-600",children:"Você não tem permissão para acessar esta página."})]})})})};var mb=e=>e.type==="checkbox",rh=e=>e instanceof Date,Sa=e=>e==null;const Goe=e=>typeof e=="object";var Wn=e=>!Sa(e)&&!Array.isArray(e)&&Goe(e)&&!rh(e),Koe=e=>Wn(e)&&e.target?mb(e.target)?e.target.checked:e.target.value:e,wut=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Yoe=(e,t)=>e.has(wut(t)),_ut=e=>{const t=e.constructor&&e.constructor.prototype;return Wn(t)&&t.hasOwnProperty("isPrototypeOf")},H3=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function li(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(H3&&(e instanceof Blob||n))&&(r||Wn(e)))if(t=r?[]:Object.create(Object.getPrototypeOf(e)),!r&&!_ut(e))t=e;else for(const i in e)e.hasOwnProperty(i)&&(t[i]=li(e[i]));else return e;return t}var KN=e=>/^\w*$/.test(e),Bn=e=>e===void 0,q3=e=>Array.isArray(e)?e.filter(Boolean):[],G3=e=>q3(e.replace(/["|']|\]/g,"").split(/\.|\[/)),rt=(e,t,r)=>{if(!t||!Wn(e))return r;const n=(KN(t)?[t]:G3(t)).reduce((i,a)=>Sa(i)?i:i[a],e);return Bn(n)||n===e?Bn(e[t])?r:e[t]:n},ys=e=>typeof e=="boolean",Nr=(e,t,r)=>{let n=-1;const i=KN(t)?[t]:G3(t),a=i.length,s=a-1;for(;++n<a;){const o=i[n];let c=r;if(n!==s){const u=e[o];c=Wn(u)||Array.isArray(u)?u:isNaN(+i[n+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;e[o]=c,e=e[o]}};const i2={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},tl={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Nc={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},K3=te.createContext(null);K3.displayName="HookFormContext";const YN=()=>te.useContext(K3),Eut=e=>{const{children:t,...r}=e;return te.createElement(K3.Provider,{value:r},t)};var Xoe=(e,t,r,n=!0)=>{const i={defaultValues:t._defaultValues};for(const a in e)Object.defineProperty(i,a,{get:()=>{const s=a;return t._proxyFormState[s]!==tl.all&&(t._proxyFormState[s]=!n||tl.all),r&&(r[s]=!0),e[s]}});return i};const Y3=typeof window<"u"?te.useLayoutEffect:te.useEffect;function Sut(e){const t=YN(),{control:r=t.control,disabled:n,name:i,exact:a}=e||{},[s,o]=te.useState(r._formState),c=te.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return Y3(()=>r._subscribe({name:i,formState:c.current,exact:a,callback:u=>{!n&&o({...r._formState,...u})}}),[i,n,a]),te.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),te.useMemo(()=>Xoe(s,r,c.current,!1),[s,r])}var zl=e=>typeof e=="string",Qoe=(e,t,r,n,i)=>zl(e)?(n&&t.watch.add(e),rt(r,e,i)):Array.isArray(e)?e.map(a=>(n&&t.watch.add(a),rt(r,a))):(n&&(t.watchAll=!0),r),wI=e=>Sa(e)||!Goe(e);function Fc(e,t,r=new WeakSet){if(wI(e)||wI(t))return e===t;if(rh(e)&&rh(t))return e.getTime()===t.getTime();const n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const a of n){const s=e[a];if(!i.includes(a))return!1;if(a!=="ref"){const o=t[a];if(rh(s)&&rh(o)||Wn(s)&&Wn(o)||Array.isArray(s)&&Array.isArray(o)?!Fc(s,o,r):s!==o)return!1}}return!0}function Tut(e){const t=YN(),{control:r=t.control,name:n,defaultValue:i,disabled:a,exact:s,compute:o}=e||{},c=te.useRef(i),u=te.useRef(o),d=te.useRef(void 0);u.current=o;const f=te.useMemo(()=>r._getWatch(n,c.current),[r,n]),[h,m]=te.useState(u.current?u.current(f):f);return Y3(()=>r._subscribe({name:n,formState:{values:!0},exact:s,callback:g=>{if(!a){const p=Qoe(n,r._names,g.values||r._formValues,!1,c.current);if(u.current){const v=u.current(p);Fc(v,d.current)||(m(v),d.current=v)}else m(p)}}}),[r,a,n,s]),te.useEffect(()=>r._removeUnmounted()),h}function Nut(e){const t=YN(),{name:r,disabled:n,control:i=t.control,shouldUnregister:a,defaultValue:s}=e,o=Yoe(i._names.array,r),c=te.useMemo(()=>rt(i._formValues,r,rt(i._defaultValues,r,s)),[i,r,s]),u=Tut({control:i,name:r,defaultValue:c,exact:!0}),d=Sut({control:i,name:r,exact:!0}),f=te.useRef(e),h=te.useRef(i.register(r,{...e.rules,value:u,...ys(e.disabled)?{disabled:e.disabled}:{}}));f.current=e;const m=te.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!rt(d.errors,r)},isDirty:{enumerable:!0,get:()=>!!rt(d.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!rt(d.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!rt(d.validatingFields,r)},error:{enumerable:!0,get:()=>rt(d.errors,r)}}),[d,r]),g=te.useCallback(x=>h.current.onChange({target:{value:Koe(x),name:r},type:i2.CHANGE}),[r]),p=te.useCallback(()=>h.current.onBlur({target:{value:rt(i._formValues,r),name:r},type:i2.BLUR}),[r,i._formValues]),v=te.useCallback(x=>{const w=rt(i._fields,r);w&&x&&(w._f.ref={focus:()=>x.focus&&x.focus(),select:()=>x.select&&x.select(),setCustomValidity:N=>x.setCustomValidity(N),reportValidity:()=>x.reportValidity()})},[i._fields,r]),y=te.useMemo(()=>({name:r,value:u,...ys(n)||d.disabled?{disabled:d.disabled||n}:{},onChange:g,onBlur:p,ref:v}),[r,n,d.disabled,g,p,v,u]);return te.useEffect(()=>{const x=i._options.shouldUnregister||a;i.register(r,{...f.current.rules,...ys(f.current.disabled)?{disabled:f.current.disabled}:{}});const w=(N,E)=>{const T=rt(i._fields,N);T&&T._f&&(T._f.mount=E)};if(w(r,!0),x){const N=li(rt(i._options.defaultValues,r));Nr(i._defaultValues,r,N),Bn(rt(i._formValues,r))&&Nr(i._formValues,r,N)}return!o&&i.register(r),()=>{(o?x&&!i._state.action:x)?i.unregister(r):w(r,!1)}},[r,i,o,a]),te.useEffect(()=>{i._setDisabledField({disabled:n,name:r})},[n,r,i]),te.useMemo(()=>({field:y,formState:d,fieldState:m}),[y,d,m])}const Aut=e=>e.render(Nut(e));var Zoe=(e,t,r,n,i)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:i||!0}}:{},wy=e=>Array.isArray(e)?e:[e],oz=()=>{let e=[];return{get observers(){return e},next:i=>{for(const a of e)a.next&&a.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(a=>a!==i)}}),unsubscribe:()=>{e=[]}}},Ua=e=>Wn(e)&&!Object.keys(e).length,X3=e=>e.type==="file",rl=e=>typeof e=="function",a2=e=>{if(!H3)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Joe=e=>e.type==="select-multiple",Q3=e=>e.type==="radio",Cut=e=>Q3(e)||mb(e),xj=e=>a2(e)&&e.isConnected;function jut(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=Bn(e)?n++:e[t[n++]];return e}function Put(e){for(const t in e)if(e.hasOwnProperty(t)&&!Bn(e[t]))return!1;return!0}function Gn(e,t){const r=Array.isArray(t)?t:KN(t)?[t]:G3(t),n=r.length===1?e:jut(e,r),i=r.length-1,a=r[i];return n&&delete n[a],i!==0&&(Wn(n)&&Ua(n)||Array.isArray(n)&&Put(n))&&Gn(e,r.slice(0,-1)),e}var ele=e=>{for(const t in e)if(rl(e[t]))return!0;return!1};function s2(e,t={}){const r=Array.isArray(e);if(Wn(e)||r)for(const n in e)Array.isArray(e[n])||Wn(e[n])&&!ele(e[n])?(t[n]=Array.isArray(e[n])?[]:{},s2(e[n],t[n])):Sa(e[n])||(t[n]=!0);return t}function tle(e,t,r){const n=Array.isArray(e);if(Wn(e)||n)for(const i in e)Array.isArray(e[i])||Wn(e[i])&&!ele(e[i])?Bn(t)||wI(r[i])?r[i]=Array.isArray(e[i])?s2(e[i],[]):{...s2(e[i])}:tle(e[i],Sa(t)?{}:t[i],r[i]):r[i]=!Fc(e[i],t[i]);return r}var vv=(e,t)=>tle(e,t,s2(t));const lz={value:!1,isValid:!1},cz={value:!0,isValid:!0};var rle=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Bn(e[0].attributes.value)?Bn(e[0].value)||e[0].value===""?cz:{value:e[0].value,isValid:!0}:cz:lz}return lz},nle=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>Bn(e)?e:t?e===""?NaN:e&&+e:r&&zl(e)?new Date(e):n?n(e):e;const uz={isValid:!1,value:null};var ile=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,uz):uz;function dz(e){const t=e.ref;return X3(t)?t.files:Q3(t)?ile(e.refs).value:Joe(t)?[...t.selectedOptions].map(({value:r})=>r):mb(t)?rle(e.refs).value:nle(Bn(t.value)?e.ref.value:t.value,e)}var Rut=(e,t,r,n)=>{const i={};for(const a of e){const s=rt(t,a);s&&Nr(i,a,s._f)}return{criteriaMode:r,names:[...e],fields:i,shouldUseNativeValidation:n}},o2=e=>e instanceof RegExp,yv=e=>Bn(e)?e:o2(e)?e.source:Wn(e)?o2(e.value)?e.value.source:e.value:e,fz=e=>({isOnSubmit:!e||e===tl.onSubmit,isOnBlur:e===tl.onBlur,isOnChange:e===tl.onChange,isOnAll:e===tl.all,isOnTouch:e===tl.onTouched});const hz="AsyncFunction";var kut=e=>!!e&&!!e.validate&&!!(rl(e.validate)&&e.validate.constructor.name===hz||Wn(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===hz)),Iut=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),mz=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const _y=(e,t,r,n)=>{for(const i of r||Object.keys(e)){const a=rt(e,i);if(a){const{_f:s,...o}=a;if(s){if(s.refs&&s.refs[0]&&t(s.refs[0],i)&&!n)return!0;if(s.ref&&t(s.ref,s.name)&&!n)return!0;if(_y(o,t))break}else if(Wn(o)&&_y(o,t))break}}};function pz(e,t,r){const n=rt(e,r);if(n||KN(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const a=i.join("."),s=rt(t,a),o=rt(e,a);if(s&&!Array.isArray(s)&&r!==a)return{name:r};if(o&&o.type)return{name:a,error:o};if(o&&o.root&&o.root.type)return{name:`${a}.root`,error:o.root};i.pop()}return{name:r}}var Out=(e,t,r,n)=>{r(e);const{name:i,...a}=e;return Ua(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find(s=>t[s]===(!n||tl.all))},Dut=(e,t,r)=>!e||!t||e===t||wy(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),Mut=(e,t,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(t||e):(r?n.isOnBlur:i.isOnBlur)?!e:(r?n.isOnChange:i.isOnChange)?e:!0,Lut=(e,t)=>!q3(rt(e,t)).length&&Gn(e,t),Fut=(e,t,r)=>{const n=wy(rt(e,r));return Nr(n,"root",t[r]),Nr(e,r,n),e},R_=e=>zl(e);function gz(e,t,r="validate"){if(R_(e)||Array.isArray(e)&&e.every(R_)||ys(e)&&!e)return{type:r,message:R_(e)?e:"",ref:t}}var Lm=e=>Wn(e)&&!o2(e)?e:{value:e,message:""},vz=async(e,t,r,n,i,a)=>{const{ref:s,refs:o,required:c,maxLength:u,minLength:d,min:f,max:h,pattern:m,validate:g,name:p,valueAsNumber:v,mount:y}=e._f,x=rt(r,p);if(!y||t.has(p))return{};const w=o?o[0]:s,N=O=>{i&&w.reportValidity&&(w.setCustomValidity(ys(O)?"":O||""),w.reportValidity())},E={},T=Q3(s),S=mb(s),A=T||S,C=(v||X3(s))&&Bn(s.value)&&Bn(x)||a2(s)&&s.value===""||x===""||Array.isArray(x)&&!x.length,j=Zoe.bind(null,p,n,E),I=(O,k,D,B=Nc.maxLength,ee=Nc.minLength)=>{const z=O?k:D;E[p]={type:O?B:ee,message:z,ref:s,...j(O?B:ee,z)}};if(a?!Array.isArray(x)||!x.length:c&&(!A&&(C||Sa(x))||ys(x)&&!x||S&&!rle(o).isValid||T&&!ile(o).isValid)){const{value:O,message:k}=R_(c)?{value:!!c,message:c}:Lm(c);if(O&&(E[p]={type:Nc.required,message:k,ref:w,...j(Nc.required,k)},!n))return N(k),E}if(!C&&(!Sa(f)||!Sa(h))){let O,k;const D=Lm(h),B=Lm(f);if(!Sa(x)&&!isNaN(x)){const ee=s.valueAsNumber||x&&+x;Sa(D.value)||(O=ee>D.value),Sa(B.value)||(k=ee<B.value)}else{const ee=s.valueAsDate||new Date(x),z=se=>new Date(new Date().toDateString()+" "+se),V=s.type=="time",U=s.type=="week";zl(D.value)&&x&&(O=V?z(x)>z(D.value):U?x>D.value:ee>new Date(D.value)),zl(B.value)&&x&&(k=V?z(x)<z(B.value):U?x<B.value:ee<new Date(B.value))}if((O||k)&&(I(!!O,D.message,B.message,Nc.max,Nc.min),!n))return N(E[p].message),E}if((u||d)&&!C&&(zl(x)||a&&Array.isArray(x))){const O=Lm(u),k=Lm(d),D=!Sa(O.value)&&x.length>+O.value,B=!Sa(k.value)&&x.length<+k.value;if((D||B)&&(I(D,O.message,k.message),!n))return N(E[p].message),E}if(m&&!C&&zl(x)){const{value:O,message:k}=Lm(m);if(o2(O)&&!x.match(O)&&(E[p]={type:Nc.pattern,message:k,ref:s,...j(Nc.pattern,k)},!n))return N(k),E}if(g){if(rl(g)){const O=await g(x,r),k=gz(O,w);if(k&&(E[p]={...k,...j(Nc.validate,k.message)},!n))return N(k.message),E}else if(Wn(g)){let O={};for(const k in g){if(!Ua(O)&&!n)break;const D=gz(await g[k](x,r),w,k);D&&(O={...D,...j(k,D.message)},N(D.message),n&&(E[p]=O))}if(!Ua(O)&&(E[p]={ref:w,...O},!n))return E}}return N(!0),E};const $ut={mode:tl.onSubmit,reValidateMode:tl.onChange,shouldFocusError:!0};function But(e={}){let t={...$ut,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:rl(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},i=Wn(t.defaultValues)||Wn(t.values)?li(t.defaultValues||t.values)||{}:{},a=t.shouldUnregister?{}:li(i),s={action:!1,mount:!1,watch:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const h={array:oz(),state:oz()},m=t.criteriaMode===tl.all,g=Q=>ce=>{clearTimeout(u),u=setTimeout(Q,ce)},p=async Q=>{if(!t.disabled&&(d.isValid||f.isValid||Q)){const ce=t.resolver?Ua((await S()).errors):await C(n,!0);ce!==r.isValid&&h.state.next({isValid:ce})}},v=(Q,ce)=>{!t.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((Q||Array.from(o.mount)).forEach(he=>{he&&(ce?Nr(r.validatingFields,he,ce):Gn(r.validatingFields,he))}),h.state.next({validatingFields:r.validatingFields,isValidating:!Ua(r.validatingFields)}))},y=(Q,ce=[],he,Pe,ke=!0,Le=!0)=>{if(Pe&&he&&!t.disabled){if(s.action=!0,Le&&Array.isArray(rt(n,Q))){const Ve=he(rt(n,Q),Pe.argA,Pe.argB);ke&&Nr(n,Q,Ve)}if(Le&&Array.isArray(rt(r.errors,Q))){const Ve=he(rt(r.errors,Q),Pe.argA,Pe.argB);ke&&Nr(r.errors,Q,Ve),Lut(r.errors,Q)}if((d.touchedFields||f.touchedFields)&&Le&&Array.isArray(rt(r.touchedFields,Q))){const Ve=he(rt(r.touchedFields,Q),Pe.argA,Pe.argB);ke&&Nr(r.touchedFields,Q,Ve)}(d.dirtyFields||f.dirtyFields)&&(r.dirtyFields=vv(i,a)),h.state.next({name:Q,isDirty:I(Q,ce),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Nr(a,Q,ce)},x=(Q,ce)=>{Nr(r.errors,Q,ce),h.state.next({errors:r.errors})},w=Q=>{r.errors=Q,h.state.next({errors:r.errors,isValid:!1})},N=(Q,ce,he,Pe)=>{const ke=rt(n,Q);if(ke){const Le=rt(a,Q,Bn(he)?rt(i,Q):he);Bn(Le)||Pe&&Pe.defaultChecked||ce?Nr(a,Q,ce?Le:dz(ke._f)):D(Q,Le),s.mount&&p()}},E=(Q,ce,he,Pe,ke)=>{let Le=!1,Ve=!1;const ct={name:Q};if(!t.disabled){if(!he||Pe){(d.isDirty||f.isDirty)&&(Ve=r.isDirty,r.isDirty=ct.isDirty=I(),Le=Ve!==ct.isDirty);const $t=Fc(rt(i,Q),ce);Ve=!!rt(r.dirtyFields,Q),$t?Gn(r.dirtyFields,Q):Nr(r.dirtyFields,Q,!0),ct.dirtyFields=r.dirtyFields,Le=Le||(d.dirtyFields||f.dirtyFields)&&Ve!==!$t}if(he){const $t=rt(r.touchedFields,Q);$t||(Nr(r.touchedFields,Q,he),ct.touchedFields=r.touchedFields,Le=Le||(d.touchedFields||f.touchedFields)&&$t!==he)}Le&&ke&&h.state.next(ct)}return Le?ct:{}},T=(Q,ce,he,Pe)=>{const ke=rt(r.errors,Q),Le=(d.isValid||f.isValid)&&ys(ce)&&r.isValid!==ce;if(t.delayError&&he?(c=g(()=>x(Q,he)),c(t.delayError)):(clearTimeout(u),c=null,he?Nr(r.errors,Q,he):Gn(r.errors,Q)),(he?!Fc(ke,he):ke)||!Ua(Pe)||Le){const Ve={...Pe,...Le&&ys(ce)?{isValid:ce}:{},errors:r.errors,name:Q};r={...r,...Ve},h.state.next(Ve)}},S=async Q=>{v(Q,!0);const ce=await t.resolver(a,t.context,Rut(Q||o.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return v(Q),ce},A=async Q=>{const{errors:ce}=await S(Q);if(Q)for(const he of Q){const Pe=rt(ce,he);Pe?Nr(r.errors,he,Pe):Gn(r.errors,he)}else r.errors=ce;return ce},C=async(Q,ce,he={valid:!0})=>{for(const Pe in Q){const ke=Q[Pe];if(ke){const{_f:Le,...Ve}=ke;if(Le){const ct=o.array.has(Le.name),$t=ke._f&&kut(ke._f);$t&&d.validatingFields&&v([Pe],!0);const vn=await vz(ke,o.disabled,a,m,t.shouldUseNativeValidation&&!ce,ct);if($t&&d.validatingFields&&v([Pe]),vn[Le.name]&&(he.valid=!1,ce))break;!ce&&(rt(vn,Le.name)?ct?Fut(r.errors,vn,Le.name):Nr(r.errors,Le.name,vn[Le.name]):Gn(r.errors,Le.name))}!Ua(Ve)&&await C(Ve,ce,he)}}return he.valid},j=()=>{for(const Q of o.unMount){const ce=rt(n,Q);ce&&(ce._f.refs?ce._f.refs.every(he=>!xj(he)):!xj(ce._f.ref))&&oe(Q)}o.unMount=new Set},I=(Q,ce)=>!t.disabled&&(Q&&ce&&Nr(a,Q,ce),!Fc(se(),i)),O=(Q,ce,he)=>Qoe(Q,o,{...s.mount?a:Bn(ce)?i:zl(Q)?{[Q]:ce}:ce},he,ce),k=Q=>q3(rt(s.mount?a:i,Q,t.shouldUnregister?rt(i,Q,[]):[])),D=(Q,ce,he={})=>{const Pe=rt(n,Q);let ke=ce;if(Pe){const Le=Pe._f;Le&&(!Le.disabled&&Nr(a,Q,nle(ce,Le)),ke=a2(Le.ref)&&Sa(ce)?"":ce,Joe(Le.ref)?[...Le.ref.options].forEach(Ve=>Ve.selected=ke.includes(Ve.value)):Le.refs?mb(Le.ref)?Le.refs.forEach(Ve=>{(!Ve.defaultChecked||!Ve.disabled)&&(Array.isArray(ke)?Ve.checked=!!ke.find(ct=>ct===Ve.value):Ve.checked=ke===Ve.value||!!ke)}):Le.refs.forEach(Ve=>Ve.checked=Ve.value===ke):X3(Le.ref)?Le.ref.value="":(Le.ref.value=ke,Le.ref.type||h.state.next({name:Q,values:li(a)})))}(he.shouldDirty||he.shouldTouch)&&E(Q,ke,he.shouldTouch,he.shouldDirty,!0),he.shouldValidate&&U(Q)},B=(Q,ce,he)=>{for(const Pe in ce){if(!ce.hasOwnProperty(Pe))return;const ke=ce[Pe],Le=Q+"."+Pe,Ve=rt(n,Le);(o.array.has(Q)||Wn(ke)||Ve&&!Ve._f)&&!rh(ke)?B(Le,ke,he):D(Le,ke,he)}},ee=(Q,ce,he={})=>{const Pe=rt(n,Q),ke=o.array.has(Q),Le=li(ce);Nr(a,Q,Le),ke?(h.array.next({name:Q,values:li(a)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&he.shouldDirty&&h.state.next({name:Q,dirtyFields:vv(i,a),isDirty:I(Q,Le)})):Pe&&!Pe._f&&!Sa(Le)?B(Q,Le,he):D(Q,Le,he),mz(Q,o)&&h.state.next({...r,name:Q}),h.state.next({name:s.mount?Q:void 0,values:li(a)})},z=async Q=>{s.mount=!0;const ce=Q.target;let he=ce.name,Pe=!0;const ke=rt(n,he),Le=$t=>{Pe=Number.isNaN($t)||rh($t)&&isNaN($t.getTime())||Fc($t,rt(a,he,$t))},Ve=fz(t.mode),ct=fz(t.reValidateMode);if(ke){let $t,vn;const Ni=ce.type?dz(ke._f):Koe(Q),un=Q.type===i2.BLUR||Q.type===i2.FOCUS_OUT,Gi=!Iut(ke._f)&&!t.resolver&&!rt(r.errors,he)&&!ke._f.deps||Mut(un,rt(r.touchedFields,he),r.isSubmitted,ct,Ve),Ki=mz(he,o,un);Nr(a,he,Ni),un?(!ce||!ce.readOnly)&&(ke._f.onBlur&&ke._f.onBlur(Q),c&&c(0)):ke._f.onChange&&ke._f.onChange(Q);const si=E(he,Ni,un),ds=!Ua(si)||Ki;if(!un&&h.state.next({name:he,type:Q.type,values:li(a)}),Gi)return(d.isValid||f.isValid)&&(t.mode==="onBlur"?un&&p():un||p()),ds&&h.state.next({name:he,...Ki?{}:si});if(!un&&Ki&&h.state.next({...r}),t.resolver){const{errors:Yi}=await S([he]);if(Le(Ni),Pe){const zs=pz(r.errors,n,he),Fa=pz(Yi,n,zs.name||he);$t=Fa.error,he=Fa.name,vn=Ua(Yi)}}else v([he],!0),$t=(await vz(ke,o.disabled,a,m,t.shouldUseNativeValidation))[he],v([he]),Le(Ni),Pe&&($t?vn=!1:(d.isValid||f.isValid)&&(vn=await C(n,!0)));Pe&&(ke._f.deps&&U(ke._f.deps),T(he,vn,$t,si))}},V=(Q,ce)=>{if(rt(r.errors,ce)&&Q.focus)return Q.focus(),1},U=async(Q,ce={})=>{let he,Pe;const ke=wy(Q);if(t.resolver){const Le=await A(Bn(Q)?Q:ke);he=Ua(Le),Pe=Q?!ke.some(Ve=>rt(Le,Ve)):he}else Q?(Pe=(await Promise.all(ke.map(async Le=>{const Ve=rt(n,Le);return await C(Ve&&Ve._f?{[Le]:Ve}:Ve)}))).every(Boolean),!(!Pe&&!r.isValid)&&p()):Pe=he=await C(n);return h.state.next({...!zl(Q)||(d.isValid||f.isValid)&&he!==r.isValid?{}:{name:Q},...t.resolver||!Q?{isValid:he}:{},errors:r.errors}),ce.shouldFocus&&!Pe&&_y(n,V,Q?ke:o.mount),Pe},se=Q=>{const ce={...s.mount?a:i};return Bn(Q)?ce:zl(Q)?rt(ce,Q):Q.map(he=>rt(ce,he))},ne=(Q,ce)=>({invalid:!!rt((ce||r).errors,Q),isDirty:!!rt((ce||r).dirtyFields,Q),error:rt((ce||r).errors,Q),isValidating:!!rt(r.validatingFields,Q),isTouched:!!rt((ce||r).touchedFields,Q)}),M=Q=>{Q&&wy(Q).forEach(ce=>Gn(r.errors,ce)),h.state.next({errors:Q?r.errors:{}})},W=(Q,ce,he)=>{const Pe=(rt(n,Q,{_f:{}})._f||{}).ref,ke=rt(r.errors,Q)||{},{ref:Le,message:Ve,type:ct,...$t}=ke;Nr(r.errors,Q,{...$t,...ce,ref:Pe}),h.state.next({name:Q,errors:r.errors,isValid:!1}),he&&he.shouldFocus&&Pe&&Pe.focus&&Pe.focus()},G=(Q,ce)=>rl(Q)?h.state.subscribe({next:he=>"values"in he&&Q(O(void 0,ce),he)}):O(Q,ce,!0),P=Q=>h.state.subscribe({next:ce=>{Dut(Q.name,ce.name,Q.exact)&&Out(ce,Q.formState||d,ge,Q.reRenderRoot)&&Q.callback({values:{...a},...r,...ce,defaultValues:i})}}).unsubscribe,J=Q=>(s.mount=!0,f={...f,...Q.formState},P({...Q,formState:f})),oe=(Q,ce={})=>{for(const he of Q?wy(Q):o.mount)o.mount.delete(he),o.array.delete(he),ce.keepValue||(Gn(n,he),Gn(a,he)),!ce.keepError&&Gn(r.errors,he),!ce.keepDirty&&Gn(r.dirtyFields,he),!ce.keepTouched&&Gn(r.touchedFields,he),!ce.keepIsValidating&&Gn(r.validatingFields,he),!t.shouldUnregister&&!ce.keepDefaultValue&&Gn(i,he);h.state.next({values:li(a)}),h.state.next({...r,...ce.keepDirty?{isDirty:I()}:{}}),!ce.keepIsValid&&p()},ae=({disabled:Q,name:ce})=>{(ys(Q)&&s.mount||Q||o.disabled.has(ce))&&(Q?o.disabled.add(ce):o.disabled.delete(ce))},K=(Q,ce={})=>{let he=rt(n,Q);const Pe=ys(ce.disabled)||ys(t.disabled);return Nr(n,Q,{...he||{},_f:{...he&&he._f?he._f:{ref:{name:Q}},name:Q,mount:!0,...ce}}),o.mount.add(Q),he?ae({disabled:ys(ce.disabled)?ce.disabled:t.disabled,name:Q}):N(Q,!0,ce.value),{...Pe?{disabled:ce.disabled||t.disabled}:{},...t.progressive?{required:!!ce.required,min:yv(ce.min),max:yv(ce.max),minLength:yv(ce.minLength),maxLength:yv(ce.maxLength),pattern:yv(ce.pattern)}:{},name:Q,onChange:z,onBlur:z,ref:ke=>{if(ke){K(Q,ce),he=rt(n,Q);const Le=Bn(ke.value)&&ke.querySelectorAll&&ke.querySelectorAll("input,select,textarea")[0]||ke,Ve=Cut(Le),ct=he._f.refs||[];if(Ve?ct.find($t=>$t===Le):Le===he._f.ref)return;Nr(n,Q,{_f:{...he._f,...Ve?{refs:[...ct.filter(xj),Le,...Array.isArray(rt(i,Q))?[{}]:[]],ref:{type:Le.type,name:Q}}:{ref:Le}}}),N(Q,!1,void 0,Le)}else he=rt(n,Q,{}),he._f&&(he._f.mount=!1),(t.shouldUnregister||ce.shouldUnregister)&&!(Yoe(o.array,Q)&&s.action)&&o.unMount.add(Q)}}},ie=()=>t.shouldFocusError&&_y(n,V,o.mount),fe=Q=>{ys(Q)&&(h.state.next({disabled:Q}),_y(n,(ce,he)=>{const Pe=rt(n,he);Pe&&(ce.disabled=Pe._f.disabled||Q,Array.isArray(Pe._f.refs)&&Pe._f.refs.forEach(ke=>{ke.disabled=Pe._f.disabled||Q}))},0,!1))},le=(Q,ce)=>async he=>{let Pe;he&&(he.preventDefault&&he.preventDefault(),he.persist&&he.persist());let ke=li(a);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:Le,values:Ve}=await S();r.errors=Le,ke=li(Ve)}else await C(n);if(o.disabled.size)for(const Le of o.disabled)Gn(ke,Le);if(Gn(r.errors,"root"),Ua(r.errors)){h.state.next({errors:{}});try{await Q(ke,he)}catch(Le){Pe=Le}}else ce&&await ce({...r.errors},he),ie(),setTimeout(ie);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Ua(r.errors)&&!Pe,submitCount:r.submitCount+1,errors:r.errors}),Pe)throw Pe},Be=(Q,ce={})=>{rt(n,Q)&&(Bn(ce.defaultValue)?ee(Q,li(rt(i,Q))):(ee(Q,ce.defaultValue),Nr(i,Q,li(ce.defaultValue))),ce.keepTouched||Gn(r.touchedFields,Q),ce.keepDirty||(Gn(r.dirtyFields,Q),r.isDirty=ce.defaultValue?I(Q,li(rt(i,Q))):I()),ce.keepError||(Gn(r.errors,Q),d.isValid&&p()),h.state.next({...r}))},Oe=(Q,ce={})=>{const he=Q?li(Q):i,Pe=li(he),ke=Ua(Q),Le=ke?i:Pe;if(ce.keepDefaultValues||(i=he),!ce.keepValues){if(ce.keepDirtyValues){const Ve=new Set([...o.mount,...Object.keys(vv(i,a))]);for(const ct of Array.from(Ve))rt(r.dirtyFields,ct)?Nr(Le,ct,rt(a,ct)):ee(ct,rt(Le,ct))}else{if(H3&&Bn(Q))for(const Ve of o.mount){const ct=rt(n,Ve);if(ct&&ct._f){const $t=Array.isArray(ct._f.refs)?ct._f.refs[0]:ct._f.ref;if(a2($t)){const vn=$t.closest("form");if(vn){vn.reset();break}}}}if(ce.keepFieldsRef)for(const Ve of o.mount)ee(Ve,rt(Le,Ve));else n={}}a=t.shouldUnregister?ce.keepDefaultValues?li(i):{}:li(Le),h.array.next({values:{...Le}}),h.state.next({values:{...Le}})}o={mount:ce.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},s.mount=!d.isValid||!!ce.keepIsValid||!!ce.keepDirtyValues,s.watch=!!t.shouldUnregister,h.state.next({submitCount:ce.keepSubmitCount?r.submitCount:0,isDirty:ke?!1:ce.keepDirty?r.isDirty:!!(ce.keepDefaultValues&&!Fc(Q,i)),isSubmitted:ce.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:ke?{}:ce.keepDirtyValues?ce.keepDefaultValues&&a?vv(i,a):r.dirtyFields:ce.keepDefaultValues&&Q?vv(i,Q):ce.keepDirty?r.dirtyFields:{},touchedFields:ce.keepTouched?r.touchedFields:{},errors:ce.keepErrors?r.errors:{},isSubmitSuccessful:ce.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},vt=(Q,ce)=>Oe(rl(Q)?Q(a):Q,ce),mt=(Q,ce={})=>{const he=rt(n,Q),Pe=he&&he._f;if(Pe){const ke=Pe.refs?Pe.refs[0]:Pe.ref;ke.focus&&(ke.focus(),ce.shouldSelect&&rl(ke.select)&&ke.select())}},ge=Q=>{r={...r,...Q}},_e={control:{register:K,unregister:oe,getFieldState:ne,handleSubmit:le,setError:W,_subscribe:P,_runSchema:S,_focusError:ie,_getWatch:O,_getDirty:I,_setValid:p,_setFieldArray:y,_setDisabledField:ae,_setErrors:w,_getFieldArray:k,_reset:Oe,_resetDefaultValues:()=>rl(t.defaultValues)&&t.defaultValues().then(Q=>{vt(Q,t.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:j,_disableForm:fe,_subjects:h,_proxyFormState:d,get _fields(){return n},get _formValues(){return a},get _state(){return s},set _state(Q){s=Q},get _defaultValues(){return i},get _names(){return o},set _names(Q){o=Q},get _formState(){return r},get _options(){return t},set _options(Q){t={...t,...Q}}},subscribe:J,trigger:U,register:K,handleSubmit:le,watch:G,setValue:ee,getValues:se,reset:vt,resetField:Be,clearErrors:M,unregister:oe,setError:W,setFocus:mt,getFieldState:ne};return{..._e,formControl:_e}}function Z3(e={}){const t=te.useRef(void 0),r=te.useRef(void 0),[n,i]=te.useState({isDirty:!1,isValidating:!1,isLoading:rl(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:rl(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!rl(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:s,...o}=But(e);t.current={...o,formState:n}}const a=t.current.control;return a._options=e,Y3(()=>{const s=a._subscribe({formState:a._proxyFormState,callback:()=>i({...a._formState}),reRenderRoot:!0});return i(o=>({...o,isReady:!0})),a._formState.isReady=!0,s},[a]),te.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),te.useEffect(()=>{e.mode&&(a._options.mode=e.mode),e.reValidateMode&&(a._options.reValidateMode=e.reValidateMode)},[a,e.mode,e.reValidateMode]),te.useEffect(()=>{e.errors&&(a._setErrors(e.errors),a._focusError())},[a,e.errors]),te.useEffect(()=>{e.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,e.shouldUnregister]),te.useEffect(()=>{if(a._proxyFormState.isDirty){const s=a._getDirty();s!==n.isDirty&&a._subjects.state.next({isDirty:s})}},[a,n.isDirty]),te.useEffect(()=>{e.values&&!Fc(e.values,r.current)?(a._reset(e.values,{keepFieldsRef:!0,...a._options.resetOptions}),r.current=e.values,i(s=>({...s}))):a._resetDefaultValues()},[a,e.values]),te.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),t.current.formState=Xoe(n,a),t.current}var gr;(function(e){e.assertEqual=i=>{};function t(i){}e.assertIs=t;function r(i){throw new Error}e.assertNever=r,e.arrayToEnum=i=>{const a={};for(const s of i)a[s]=s;return a},e.getValidEnumValues=i=>{const a=e.objectKeys(i).filter(o=>typeof i[i[o]]!="number"),s={};for(const o of a)s[o]=i[o];return e.objectValues(s)},e.objectValues=i=>e.objectKeys(i).map(function(a){return i[a]}),e.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const a=[];for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&a.push(s);return a},e.find=(i,a)=>{for(const s of i)if(a(s))return s},e.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function n(i,a=" | "){return i.map(s=>typeof s=="string"?`'${s}'`:s).join(a)}e.joinValues=n,e.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(gr||(gr={}));var yz;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(yz||(yz={}));const gt=gr.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Xu=e=>{switch(typeof e){case"undefined":return gt.undefined;case"string":return gt.string;case"number":return Number.isNaN(e)?gt.nan:gt.number;case"boolean":return gt.boolean;case"function":return gt.function;case"bigint":return gt.bigint;case"symbol":return gt.symbol;case"object":return Array.isArray(e)?gt.array:e===null?gt.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?gt.promise:typeof Map<"u"&&e instanceof Map?gt.map:typeof Set<"u"&&e instanceof Set?gt.set:typeof Date<"u"&&e instanceof Date?gt.date:gt.object;default:return gt.unknown}},qe=gr.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Au extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(a){return a.message},n={_errors:[]},i=a=>{for(const s of a.issues)if(s.code==="invalid_union")s.unionErrors.map(i);else if(s.code==="invalid_return_type")i(s.returnTypeError);else if(s.code==="invalid_arguments")i(s.argumentsError);else if(s.path.length===0)n._errors.push(r(s));else{let o=n,c=0;for(;c<s.path.length;){const u=s.path[c];c===s.path.length-1?(o[u]=o[u]||{_errors:[]},o[u]._errors.push(r(s))):o[u]=o[u]||{_errors:[]},o=o[u],c++}}};return i(this),n}static assert(t){if(!(t instanceof Au))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,gr.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const i of this.issues)if(i.path.length>0){const a=i.path[0];r[a]=r[a]||[],r[a].push(t(i))}else n.push(t(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Au.create=e=>new Au(e);const _I=(e,t)=>{let r;switch(e.code){case qe.invalid_type:e.received===gt.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case qe.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,gr.jsonStringifyReplacer)}`;break;case qe.unrecognized_keys:r=`Unrecognized key(s) in object: ${gr.joinValues(e.keys,", ")}`;break;case qe.invalid_union:r="Invalid input";break;case qe.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${gr.joinValues(e.options)}`;break;case qe.invalid_enum_value:r=`Invalid enum value. Expected ${gr.joinValues(e.options)}, received '${e.received}'`;break;case qe.invalid_arguments:r="Invalid function arguments";break;case qe.invalid_return_type:r="Invalid function return type";break;case qe.invalid_date:r="Invalid date";break;case qe.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:gr.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case qe.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case qe.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case qe.custom:r="Invalid input";break;case qe.invalid_intersection_types:r="Intersection results could not be merged";break;case qe.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case qe.not_finite:r="Number must be finite";break;default:r=t.defaultError,gr.assertNever(e)}return{message:r}};let Vut=_I;function Uut(){return Vut}const zut=e=>{const{data:t,path:r,errorMaps:n,issueData:i}=e,a=[...r,...i.path||[]],s={...i,path:a};if(i.message!==void 0)return{...i,path:a,message:i.message};let o="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)o=u(s,{data:t,defaultError:o}).message;return{...i,path:a,message:o}};function lt(e,t){const r=Uut(),n=zut({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===_I?void 0:_I].filter(i=>!!i)});e.common.issues.push(n)}class Ms{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const i of r){if(i.status==="aborted")return Vt;i.status==="dirty"&&t.dirty(),n.push(i.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const i of r){const a=await i.key,s=await i.value;n.push({key:a,value:s})}return Ms.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const i of r){const{key:a,value:s}=i;if(a.status==="aborted"||s.status==="aborted")return Vt;a.status==="dirty"&&t.dirty(),s.status==="dirty"&&t.dirty(),a.value!=="__proto__"&&(typeof s.value<"u"||i.alwaysSet)&&(n[a.value]=s.value)}return{status:t.value,value:n}}}const Vt=Object.freeze({status:"aborted"}),$v=e=>({status:"dirty",value:e}),ko=e=>({status:"valid",value:e}),xz=e=>e.status==="aborted",bz=e=>e.status==="dirty",K0=e=>e.status==="valid",l2=e=>typeof Promise<"u"&&e instanceof Promise;var yt;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(yt||(yt={}));class rf{constructor(t,r,n,i){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const wz=(e,t)=>{if(K0(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Au(e.common.issues);return this._error=r,this._error}}};function Qt(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:i}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:i}:{errorMap:(s,o)=>{const{message:c}=e;return s.code==="invalid_enum_value"?{message:c??o.defaultError}:typeof o.data>"u"?{message:c??n??o.defaultError}:s.code!=="invalid_type"?{message:o.defaultError}:{message:c??r??o.defaultError}},description:i}}class fr{get description(){return this._def.description}_getType(t){return Xu(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:Xu(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Ms,ctx:{common:t.parent.common,data:t.data,parsedType:Xu(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(l2(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Xu(t)},i=this._parseSync({data:t,path:n.path,parent:n});return wz(n,i)}"~validate"(t){var n,i;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Xu(t)};if(!this["~standard"].async)try{const a=this._parseSync({data:t,path:[],parent:r});return K0(a)?{value:a.value}:{issues:r.common.issues}}catch(a){(i=(n=a==null?void 0:a.message)==null?void 0:n.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(a=>K0(a)?{value:a.value}:{issues:r.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Xu(t)},i=this._parse({data:t,path:n.path,parent:n}),a=await(l2(i)?i:Promise.resolve(i));return wz(n,a)}refine(t,r){const n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,a)=>{const s=t(i),o=()=>a.addIssue({code:qe.custom,...n(i)});return typeof Promise<"u"&&s instanceof Promise?s.then(c=>c?!0:(o(),!1)):s?!0:(o(),!1)})}refinement(t,r){return this._refinement((n,i)=>t(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(t){return new Q0({schema:this,typeName:Ut.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Od.create(this,this._def)}nullable(){return Z0.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return oc.create(this)}promise(){return f2.create(this,this._def)}or(t){return u2.create([this,t],this._def)}and(t){return d2.create(this,t,this._def)}transform(t){return new Q0({...Qt(this._def),schema:this,typeName:Ut.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new SI({...Qt(this._def),innerType:this,defaultValue:r,typeName:Ut.ZodDefault})}brand(){return new fdt({typeName:Ut.ZodBranded,type:this,...Qt(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new TI({...Qt(this._def),innerType:this,catchValue:r,typeName:Ut.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return J3.create(this,t)}readonly(){return NI.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Wut=/^c[^\s-]{8,}$/i,Hut=/^[0-9a-z]+$/,qut=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Gut=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Kut=/^[a-z0-9_-]{21}$/i,Yut=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Xut=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Qut=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Zut="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let bj;const Jut=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,edt=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,tdt=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,rdt=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,ndt=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,idt=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,ale="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",adt=new RegExp(`^${ale}$`);function sle(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function sdt(e){return new RegExp(`^${sle(e)}$`)}function odt(e){let t=`${ale}T${sle(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function ldt(e,t){return!!((t==="v4"||!t)&&Jut.test(e)||(t==="v6"||!t)&&tdt.test(e))}function cdt(e,t){if(!Yut.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),i=JSON.parse(atob(n));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||t&&i.alg!==t)}catch{return!1}}function udt(e,t){return!!((t==="v4"||!t)&&edt.test(e)||(t==="v6"||!t)&&rdt.test(e))}class qc extends fr{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==gt.string){const a=this._getOrReturnCtx(t);return lt(a,{code:qe.invalid_type,expected:gt.string,received:a.parsedType}),Vt}const n=new Ms;let i;for(const a of this._def.checks)if(a.kind==="min")t.data.length<a.value&&(i=this._getOrReturnCtx(t,i),lt(i,{code:qe.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")t.data.length>a.value&&(i=this._getOrReturnCtx(t,i),lt(i,{code:qe.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){const s=t.data.length>a.value,o=t.data.length<a.value;(s||o)&&(i=this._getOrReturnCtx(t,i),s?lt(i,{code:qe.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):o&&lt(i,{code:qe.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")Qut.test(t.data)||(i=this._getOrReturnCtx(t,i),lt(i,{validation:"email",code:qe.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")bj||(bj=new RegExp(Zut,"u")),bj.test(t.data)||(i=this._getOrReturnCtx(t,i),lt(i,{validation:"emoji",code:qe.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")Gut.test(t.data)||(i=this._getOrReturnCtx(t,i),lt(i,{validation:"uuid",code:qe.invalid_string,message:a.message}),n.dirty());else if(a.kind==="nanoid")Kut.test(t.data)||(i=this._getOrReturnCtx(t,i),lt(i,{validation:"nanoid",code:qe.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")Wut.test(t.data)||(i=this._getOrReturnCtx(t,i),lt(i,{validation:"cuid",code:qe.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")Hut.test(t.data)||(i=this._getOrReturnCtx(t,i),lt(i,{validation:"cuid2",code:qe.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")qut.test(t.data)||(i=this._getOrReturnCtx(t,i),lt(i,{validation:"ulid",code:qe.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(t.data)}catch{i=this._getOrReturnCtx(t,i),lt(i,{validation:"url",code:qe.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(t.data)||(i=this._getOrReturnCtx(t,i),lt(i,{validation:"regex",code:qe.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?t.data=t.data.trim():a.kind==="includes"?t.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(t,i),lt(i,{code:qe.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?t.data=t.data.toLowerCase():a.kind==="toUpperCase"?t.data=t.data.toUpperCase():a.kind==="startsWith"?t.data.startsWith(a.value)||(i=this._getOrReturnCtx(t,i),lt(i,{code:qe.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?t.data.endsWith(a.value)||(i=this._getOrReturnCtx(t,i),lt(i,{code:qe.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?odt(a).test(t.data)||(i=this._getOrReturnCtx(t,i),lt(i,{code:qe.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="date"?adt.test(t.data)||(i=this._getOrReturnCtx(t,i),lt(i,{code:qe.invalid_string,validation:"date",message:a.message}),n.dirty()):a.kind==="time"?sdt(a).test(t.data)||(i=this._getOrReturnCtx(t,i),lt(i,{code:qe.invalid_string,validation:"time",message:a.message}),n.dirty()):a.kind==="duration"?Xut.test(t.data)||(i=this._getOrReturnCtx(t,i),lt(i,{validation:"duration",code:qe.invalid_string,message:a.message}),n.dirty()):a.kind==="ip"?ldt(t.data,a.version)||(i=this._getOrReturnCtx(t,i),lt(i,{validation:"ip",code:qe.invalid_string,message:a.message}),n.dirty()):a.kind==="jwt"?cdt(t.data,a.alg)||(i=this._getOrReturnCtx(t,i),lt(i,{validation:"jwt",code:qe.invalid_string,message:a.message}),n.dirty()):a.kind==="cidr"?udt(t.data,a.version)||(i=this._getOrReturnCtx(t,i),lt(i,{validation:"cidr",code:qe.invalid_string,message:a.message}),n.dirty()):a.kind==="base64"?ndt.test(t.data)||(i=this._getOrReturnCtx(t,i),lt(i,{validation:"base64",code:qe.invalid_string,message:a.message}),n.dirty()):a.kind==="base64url"?idt.test(t.data)||(i=this._getOrReturnCtx(t,i),lt(i,{validation:"base64url",code:qe.invalid_string,message:a.message}),n.dirty()):gr.assertNever(a);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(i=>t.test(i),{validation:r,code:qe.invalid_string,...yt.errToObj(n)})}_addCheck(t){return new qc({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...yt.errToObj(t)})}url(t){return this._addCheck({kind:"url",...yt.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...yt.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...yt.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...yt.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...yt.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...yt.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...yt.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...yt.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...yt.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...yt.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...yt.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...yt.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...yt.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...yt.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...yt.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...yt.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...yt.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...yt.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...yt.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...yt.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...yt.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...yt.errToObj(r)})}nonempty(t){return this.min(1,yt.errToObj(t))}trim(){return new qc({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new qc({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new qc({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}qc.create=e=>new qc({checks:[],typeName:Ut.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...Qt(e)});function ddt(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,i=r>n?r:n,a=Number.parseInt(e.toFixed(i).replace(".","")),s=Number.parseInt(t.toFixed(i).replace(".",""));return a%s/10**i}class Yh extends fr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==gt.number){const a=this._getOrReturnCtx(t);return lt(a,{code:qe.invalid_type,expected:gt.number,received:a.parsedType}),Vt}let n;const i=new Ms;for(const a of this._def.checks)a.kind==="int"?gr.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),lt(n,{code:qe.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(n=this._getOrReturnCtx(t,n),lt(n,{code:qe.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(n=this._getOrReturnCtx(t,n),lt(n,{code:qe.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?ddt(t.data,a.value)!==0&&(n=this._getOrReturnCtx(t,n),lt(n,{code:qe.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),lt(n,{code:qe.not_finite,message:a.message}),i.dirty()):gr.assertNever(a);return{status:i.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,yt.toString(r))}gt(t,r){return this.setLimit("min",t,!1,yt.toString(r))}lte(t,r){return this.setLimit("max",t,!0,yt.toString(r))}lt(t,r){return this.setLimit("max",t,!1,yt.toString(r))}setLimit(t,r,n,i){return new Yh({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:yt.toString(i)}]})}_addCheck(t){return new Yh({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:yt.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:yt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:yt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:yt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:yt.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:yt.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:yt.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:yt.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:yt.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&gr.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}Yh.create=e=>new Yh({checks:[],typeName:Ut.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...Qt(e)});class Xh extends fr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==gt.bigint)return this._getInvalidInput(t);let n;const i=new Ms;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(n=this._getOrReturnCtx(t,n),lt(n,{code:qe.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(n=this._getOrReturnCtx(t,n),lt(n,{code:qe.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?t.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),lt(n,{code:qe.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):gr.assertNever(a);return{status:i.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return lt(r,{code:qe.invalid_type,expected:gt.bigint,received:r.parsedType}),Vt}gte(t,r){return this.setLimit("min",t,!0,yt.toString(r))}gt(t,r){return this.setLimit("min",t,!1,yt.toString(r))}lte(t,r){return this.setLimit("max",t,!0,yt.toString(r))}lt(t,r){return this.setLimit("max",t,!1,yt.toString(r))}setLimit(t,r,n,i){return new Xh({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:yt.toString(i)}]})}_addCheck(t){return new Xh({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:yt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:yt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:yt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:yt.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:yt.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Xh.create=e=>new Xh({checks:[],typeName:Ut.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...Qt(e)});class c2 extends fr{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==gt.boolean){const n=this._getOrReturnCtx(t);return lt(n,{code:qe.invalid_type,expected:gt.boolean,received:n.parsedType}),Vt}return ko(t.data)}}c2.create=e=>new c2({typeName:Ut.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...Qt(e)});class Y0 extends fr{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==gt.date){const a=this._getOrReturnCtx(t);return lt(a,{code:qe.invalid_type,expected:gt.date,received:a.parsedType}),Vt}if(Number.isNaN(t.data.getTime())){const a=this._getOrReturnCtx(t);return lt(a,{code:qe.invalid_date}),Vt}const n=new Ms;let i;for(const a of this._def.checks)a.kind==="min"?t.data.getTime()<a.value&&(i=this._getOrReturnCtx(t,i),lt(i,{code:qe.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):a.kind==="max"?t.data.getTime()>a.value&&(i=this._getOrReturnCtx(t,i),lt(i,{code:qe.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):gr.assertNever(a);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Y0({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:yt.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:yt.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}Y0.create=e=>new Y0({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Ut.ZodDate,...Qt(e)});class _z extends fr{_parse(t){if(this._getType(t)!==gt.symbol){const n=this._getOrReturnCtx(t);return lt(n,{code:qe.invalid_type,expected:gt.symbol,received:n.parsedType}),Vt}return ko(t.data)}}_z.create=e=>new _z({typeName:Ut.ZodSymbol,...Qt(e)});class Ez extends fr{_parse(t){if(this._getType(t)!==gt.undefined){const n=this._getOrReturnCtx(t);return lt(n,{code:qe.invalid_type,expected:gt.undefined,received:n.parsedType}),Vt}return ko(t.data)}}Ez.create=e=>new Ez({typeName:Ut.ZodUndefined,...Qt(e)});class Sz extends fr{_parse(t){if(this._getType(t)!==gt.null){const n=this._getOrReturnCtx(t);return lt(n,{code:qe.invalid_type,expected:gt.null,received:n.parsedType}),Vt}return ko(t.data)}}Sz.create=e=>new Sz({typeName:Ut.ZodNull,...Qt(e)});class Tz extends fr{constructor(){super(...arguments),this._any=!0}_parse(t){return ko(t.data)}}Tz.create=e=>new Tz({typeName:Ut.ZodAny,...Qt(e)});class Nz extends fr{constructor(){super(...arguments),this._unknown=!0}_parse(t){return ko(t.data)}}Nz.create=e=>new Nz({typeName:Ut.ZodUnknown,...Qt(e)});class nf extends fr{_parse(t){const r=this._getOrReturnCtx(t);return lt(r,{code:qe.invalid_type,expected:gt.never,received:r.parsedType}),Vt}}nf.create=e=>new nf({typeName:Ut.ZodNever,...Qt(e)});class Az extends fr{_parse(t){if(this._getType(t)!==gt.undefined){const n=this._getOrReturnCtx(t);return lt(n,{code:qe.invalid_type,expected:gt.void,received:n.parsedType}),Vt}return ko(t.data)}}Az.create=e=>new Az({typeName:Ut.ZodVoid,...Qt(e)});class oc extends fr{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),i=this._def;if(r.parsedType!==gt.array)return lt(r,{code:qe.invalid_type,expected:gt.array,received:r.parsedType}),Vt;if(i.exactLength!==null){const s=r.data.length>i.exactLength.value,o=r.data.length<i.exactLength.value;(s||o)&&(lt(r,{code:s?qe.too_big:qe.too_small,minimum:o?i.exactLength.value:void 0,maximum:s?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(lt(r,{code:qe.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(lt(r,{code:qe.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((s,o)=>i.type._parseAsync(new rf(r,s,r.path,o)))).then(s=>Ms.mergeArray(n,s));const a=[...r.data].map((s,o)=>i.type._parseSync(new rf(r,s,r.path,o)));return Ms.mergeArray(n,a)}get element(){return this._def.type}min(t,r){return new oc({...this._def,minLength:{value:t,message:yt.toString(r)}})}max(t,r){return new oc({...this._def,maxLength:{value:t,message:yt.toString(r)}})}length(t,r){return new oc({...this._def,exactLength:{value:t,message:yt.toString(r)}})}nonempty(t){return this.min(1,t)}}oc.create=(e,t)=>new oc({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Ut.ZodArray,...Qt(t)});function Gm(e){if(e instanceof Yn){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=Od.create(Gm(n))}return new Yn({...e._def,shape:()=>t})}else return e instanceof oc?new oc({...e._def,type:Gm(e.element)}):e instanceof Od?Od.create(Gm(e.unwrap())):e instanceof Z0?Z0.create(Gm(e.unwrap())):e instanceof Qh?Qh.create(e.items.map(t=>Gm(t))):e}class Yn extends fr{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=gr.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==gt.object){const u=this._getOrReturnCtx(t);return lt(u,{code:qe.invalid_type,expected:gt.object,received:u.parsedType}),Vt}const{status:n,ctx:i}=this._processInputParams(t),{shape:a,keys:s}=this._getCached(),o=[];if(!(this._def.catchall instanceof nf&&this._def.unknownKeys==="strip"))for(const u in i.data)s.includes(u)||o.push(u);const c=[];for(const u of s){const d=a[u],f=i.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new rf(i,f,i.path,u)),alwaysSet:u in i.data})}if(this._def.catchall instanceof nf){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of o)c.push({key:{status:"valid",value:d},value:{status:"valid",value:i.data[d]}});else if(u==="strict")o.length>0&&(lt(i,{code:qe.unrecognized_keys,keys:o}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of o){const f=i.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new rf(i,f,i.path,d)),alwaysSet:d in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>Ms.mergeObjectSync(n,u)):Ms.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return yt.errToObj,new Yn({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var a,s;const i=((s=(a=this._def).errorMap)==null?void 0:s.call(a,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:yt.errToObj(t).message??i}:{message:i}}}:{}})}strip(){return new Yn({...this._def,unknownKeys:"strip"})}passthrough(){return new Yn({...this._def,unknownKeys:"passthrough"})}extend(t){return new Yn({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Yn({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Ut.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new Yn({...this._def,catchall:t})}pick(t){const r={};for(const n of gr.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new Yn({...this._def,shape:()=>r})}omit(t){const r={};for(const n of gr.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new Yn({...this._def,shape:()=>r})}deepPartial(){return Gm(this)}partial(t){const r={};for(const n of gr.objectKeys(this.shape)){const i=this.shape[n];t&&!t[n]?r[n]=i:r[n]=i.optional()}return new Yn({...this._def,shape:()=>r})}required(t){const r={};for(const n of gr.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof Od;)a=a._def.innerType;r[n]=a}return new Yn({...this._def,shape:()=>r})}keyof(){return ole(gr.objectKeys(this.shape))}}Yn.create=(e,t)=>new Yn({shape:()=>e,unknownKeys:"strip",catchall:nf.create(),typeName:Ut.ZodObject,...Qt(t)});Yn.strictCreate=(e,t)=>new Yn({shape:()=>e,unknownKeys:"strict",catchall:nf.create(),typeName:Ut.ZodObject,...Qt(t)});Yn.lazycreate=(e,t)=>new Yn({shape:e,unknownKeys:"strip",catchall:nf.create(),typeName:Ut.ZodObject,...Qt(t)});class u2 extends fr{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function i(a){for(const o of a)if(o.result.status==="valid")return o.result;for(const o of a)if(o.result.status==="dirty")return r.common.issues.push(...o.ctx.common.issues),o.result;const s=a.map(o=>new Au(o.ctx.common.issues));return lt(r,{code:qe.invalid_union,unionErrors:s}),Vt}if(r.common.async)return Promise.all(n.map(async a=>{const s={...r,common:{...r.common,issues:[]},parent:null};return{result:await a._parseAsync({data:r.data,path:r.path,parent:s}),ctx:s}})).then(i);{let a;const s=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!a&&(a={result:d,ctx:u}),u.common.issues.length&&s.push(u.common.issues)}if(a)return r.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(c=>new Au(c));return lt(r,{code:qe.invalid_union,unionErrors:o}),Vt}}get options(){return this._def.options}}u2.create=(e,t)=>new u2({options:e,typeName:Ut.ZodUnion,...Qt(t)});function EI(e,t){const r=Xu(e),n=Xu(t);if(e===t)return{valid:!0,data:e};if(r===gt.object&&n===gt.object){const i=gr.objectKeys(t),a=gr.objectKeys(e).filter(o=>i.indexOf(o)!==-1),s={...e,...t};for(const o of a){const c=EI(e[o],t[o]);if(!c.valid)return{valid:!1};s[o]=c.data}return{valid:!0,data:s}}else if(r===gt.array&&n===gt.array){if(e.length!==t.length)return{valid:!1};const i=[];for(let a=0;a<e.length;a++){const s=e[a],o=t[a],c=EI(s,o);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return r===gt.date&&n===gt.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class d2 extends fr{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),i=(a,s)=>{if(xz(a)||xz(s))return Vt;const o=EI(a.value,s.value);return o.valid?((bz(a)||bz(s))&&r.dirty(),{status:r.value,value:o.data}):(lt(n,{code:qe.invalid_intersection_types}),Vt)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([a,s])=>i(a,s)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}d2.create=(e,t,r)=>new d2({left:e,right:t,typeName:Ut.ZodIntersection,...Qt(r)});class Qh extends fr{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==gt.array)return lt(n,{code:qe.invalid_type,expected:gt.array,received:n.parsedType}),Vt;if(n.data.length<this._def.items.length)return lt(n,{code:qe.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Vt;!this._def.rest&&n.data.length>this._def.items.length&&(lt(n,{code:qe.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const a=[...n.data].map((s,o)=>{const c=this._def.items[o]||this._def.rest;return c?c._parse(new rf(n,s,n.path,o)):null}).filter(s=>!!s);return n.common.async?Promise.all(a).then(s=>Ms.mergeArray(r,s)):Ms.mergeArray(r,a)}get items(){return this._def.items}rest(t){return new Qh({...this._def,rest:t})}}Qh.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Qh({items:e,typeName:Ut.ZodTuple,rest:null,...Qt(t)})};class Cz extends fr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==gt.map)return lt(n,{code:qe.invalid_type,expected:gt.map,received:n.parsedType}),Vt;const i=this._def.keyType,a=this._def.valueType,s=[...n.data.entries()].map(([o,c],u)=>({key:i._parse(new rf(n,o,n.path,[u,"key"])),value:a._parse(new rf(n,c,n.path,[u,"value"]))}));if(n.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const c of s){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return Vt;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),o.set(u.value,d.value)}return{status:r.value,value:o}})}else{const o=new Map;for(const c of s){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return Vt;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),o.set(u.value,d.value)}return{status:r.value,value:o}}}}Cz.create=(e,t,r)=>new Cz({valueType:t,keyType:e,typeName:Ut.ZodMap,...Qt(r)});class n1 extends fr{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==gt.set)return lt(n,{code:qe.invalid_type,expected:gt.set,received:n.parsedType}),Vt;const i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(lt(n,{code:qe.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(lt(n,{code:qe.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());const a=this._def.valueType;function s(c){const u=new Set;for(const d of c){if(d.status==="aborted")return Vt;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const o=[...n.data.values()].map((c,u)=>a._parse(new rf(n,c,n.path,u)));return n.common.async?Promise.all(o).then(c=>s(c)):s(o)}min(t,r){return new n1({...this._def,minSize:{value:t,message:yt.toString(r)}})}max(t,r){return new n1({...this._def,maxSize:{value:t,message:yt.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}n1.create=(e,t)=>new n1({valueType:e,minSize:null,maxSize:null,typeName:Ut.ZodSet,...Qt(t)});class jz extends fr{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}jz.create=(e,t)=>new jz({getter:e,typeName:Ut.ZodLazy,...Qt(t)});class Pz extends fr{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return lt(r,{received:r.data,code:qe.invalid_literal,expected:this._def.value}),Vt}return{status:"valid",value:t.data}}get value(){return this._def.value}}Pz.create=(e,t)=>new Pz({value:e,typeName:Ut.ZodLiteral,...Qt(t)});function ole(e,t){return new X0({values:e,typeName:Ut.ZodEnum,...Qt(t)})}class X0 extends fr{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return lt(r,{expected:gr.joinValues(n),received:r.parsedType,code:qe.invalid_type}),Vt}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return lt(r,{received:r.data,code:qe.invalid_enum_value,options:n}),Vt}return ko(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return X0.create(t,{...this._def,...r})}exclude(t,r=this._def){return X0.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}X0.create=ole;class Rz extends fr{_parse(t){const r=gr.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==gt.string&&n.parsedType!==gt.number){const i=gr.objectValues(r);return lt(n,{expected:gr.joinValues(i),received:n.parsedType,code:qe.invalid_type}),Vt}if(this._cache||(this._cache=new Set(gr.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const i=gr.objectValues(r);return lt(n,{received:n.data,code:qe.invalid_enum_value,options:i}),Vt}return ko(t.data)}get enum(){return this._def.values}}Rz.create=(e,t)=>new Rz({values:e,typeName:Ut.ZodNativeEnum,...Qt(t)});class f2 extends fr{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==gt.promise&&r.common.async===!1)return lt(r,{code:qe.invalid_type,expected:gt.promise,received:r.parsedType}),Vt;const n=r.parsedType===gt.promise?r.data:Promise.resolve(r.data);return ko(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}}f2.create=(e,t)=>new f2({type:e,typeName:Ut.ZodPromise,...Qt(t)});class Q0 extends fr{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ut.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),i=this._def.effect||null,a={addIssue:s=>{lt(n,s),s.fatal?r.abort():r.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){const s=i.transform(n.data,a);if(n.common.async)return Promise.resolve(s).then(async o=>{if(r.value==="aborted")return Vt;const c=await this._def.schema._parseAsync({data:o,path:n.path,parent:n});return c.status==="aborted"?Vt:c.status==="dirty"||r.value==="dirty"?$v(c.value):c});{if(r.value==="aborted")return Vt;const o=this._def.schema._parseSync({data:s,path:n.path,parent:n});return o.status==="aborted"?Vt:o.status==="dirty"||r.value==="dirty"?$v(o.value):o}}if(i.type==="refinement"){const s=o=>{const c=i.refinement(o,a);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?Vt:(o.status==="dirty"&&r.dirty(),s(o.value),{status:r.value,value:o.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>o.status==="aborted"?Vt:(o.status==="dirty"&&r.dirty(),s(o.value).then(()=>({status:r.value,value:o.value}))))}if(i.type==="transform")if(n.common.async===!1){const s=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!K0(s))return Vt;const o=i.transform(s.value,a);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:o}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(s=>K0(s)?Promise.resolve(i.transform(s.value,a)).then(o=>({status:r.value,value:o})):Vt);gr.assertNever(i)}}Q0.create=(e,t,r)=>new Q0({schema:e,typeName:Ut.ZodEffects,effect:t,...Qt(r)});Q0.createWithPreprocess=(e,t,r)=>new Q0({schema:t,effect:{type:"preprocess",transform:e},typeName:Ut.ZodEffects,...Qt(r)});class Od extends fr{_parse(t){return this._getType(t)===gt.undefined?ko(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Od.create=(e,t)=>new Od({innerType:e,typeName:Ut.ZodOptional,...Qt(t)});class Z0 extends fr{_parse(t){return this._getType(t)===gt.null?ko(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Z0.create=(e,t)=>new Z0({innerType:e,typeName:Ut.ZodNullable,...Qt(t)});class SI extends fr{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===gt.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}SI.create=(e,t)=>new SI({innerType:e,typeName:Ut.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Qt(t)});class TI extends fr{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return l2(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Au(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Au(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}TI.create=(e,t)=>new TI({innerType:e,typeName:Ut.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Qt(t)});class kz extends fr{_parse(t){if(this._getType(t)!==gt.nan){const n=this._getOrReturnCtx(t);return lt(n,{code:qe.invalid_type,expected:gt.nan,received:n.parsedType}),Vt}return{status:"valid",value:t.data}}}kz.create=e=>new kz({typeName:Ut.ZodNaN,...Qt(e)});class fdt extends fr{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class J3 extends fr{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Vt:a.status==="dirty"?(r.dirty(),$v(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})})();{const i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Vt:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(t,r){return new J3({in:t,out:r,typeName:Ut.ZodPipeline})}}class NI extends fr{_parse(t){const r=this._def.innerType._parse(t),n=i=>(K0(i)&&(i.value=Object.freeze(i.value)),i);return l2(r)?r.then(i=>n(i)):n(r)}unwrap(){return this._def.innerType}}NI.create=(e,t)=>new NI({innerType:e,typeName:Ut.ZodReadonly,...Qt(t)});var Ut;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Ut||(Ut={}));const Ta=qc.create;Yh.create;Xh.create;const hdt=c2.create,Iz=Y0.create;nf.create;const mdt=oc.create,eL=Yn.create;u2.create;d2.create;Qh.create;const tL=X0.create;f2.create;Od.create;Z0.create;const Oz={string:e=>qc.create({...e,coerce:!0}),number:e=>Yh.create({...e,coerce:!0}),boolean:e=>c2.create({...e,coerce:!0}),bigint:e=>Xh.create({...e,coerce:!0}),date:e=>Y0.create({...e,coerce:!0})},Dz=(e,t,r)=>{if(e&&"reportValidity"in e){const n=rt(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},lle=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?Dz(n.ref,r,e):n.refs&&n.refs.forEach(i=>Dz(i,r,e))}},pdt=(e,t)=>{t.shouldUseNativeValidation&&lle(e,t);const r={};for(const n in e){const i=rt(t.fields,n),a=Object.assign(e[n]||{},{ref:i&&i.ref});if(gdt(t.names||Object.keys(e),n)){const s=Object.assign({},rt(r,n));Nr(s,"root",a),Nr(r,n,s)}else Nr(r,n,a)}return r},gdt=(e,t)=>e.some(r=>r.startsWith(t+"."));var vdt=function(e,t){for(var r={};e.length;){var n=e[0],i=n.code,a=n.message,s=n.path.join(".");if(!r[s])if("unionErrors"in n){var o=n.unionErrors[0].errors[0];r[s]={message:o.message,type:o.code}}else r[s]={message:a,type:i};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return e.push(f)})}),t){var c=r[s].types,u=c&&c[n.code];r[s]=Zoe(s,t,r,i,u?[].concat(u,n.message):n.message)}e.shift()}return r},rL=function(e,t,r){return r===void 0&&(r={}),function(n,i,a){try{return Promise.resolve(function(s,o){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return a.shouldUseNativeValidation&&lle({},a),{errors:{},values:r.raw?n:u}})}catch(u){return o(u)}return c&&c.then?c.then(void 0,o):c}(0,function(s){if(function(o){return Array.isArray(o==null?void 0:o.errors)}(s))return{values:{},errors:pdt(vdt(s.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw s}))}catch(s){return Promise.reject(s)}}};const nL=Eut,cle=b.createContext({}),yn=({...e})=>l.jsx(cle.Provider,{value:{name:e.name},children:l.jsx(Aut,{...e})}),XN=()=>{const e=b.useContext(cle),t=b.useContext(ule),{getFieldState:r,formState:n}=YN(),i=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:a}=t;return{id:a,name:e.name,formItemId:`${a}-form-item`,formDescriptionId:`${a}-form-item-description`,formMessageId:`${a}-form-item-message`,...i}},ule=b.createContext({}),en=b.forwardRef(({className:e,...t},r)=>{const n=b.useId();return l.jsx(ule.Provider,{value:{id:n},children:l.jsx("div",{ref:r,className:Re("space-y-2",e),...t})})});en.displayName="FormItem";const tn=b.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:i}=XN();return l.jsx(_t,{ref:r,className:Re(n&&"text-destructive",e),htmlFor:i,...t})});tn.displayName="FormLabel";const dn=b.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:i,formMessageId:a}=XN();return l.jsx(hq,{ref:t,id:n,"aria-describedby":r?`${i} ${a}`:`${i}`,"aria-invalid":!!r,...e})});dn.displayName="FormControl";const dle=b.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=XN();return l.jsx("p",{ref:r,id:n,className:Re("text-sm text-muted-foreground",e),...t})});dle.displayName="FormDescription";const bn=b.forwardRef(({className:e,children:t,...r},n)=>{const{error:i,formMessageId:a}=XN(),s=i?String(i==null?void 0:i.message):t;return s?l.jsx("p",{ref:n,id:a,className:Re("text-sm font-medium text-destructive",e),...r,children:s}):null});bn.displayName="FormMessage";const Mz=async e=>{try{const t=await Promise.all(e.equipmentIds.map(async n=>{const i=await ts(xt(Ze,"equipment",n));return i.exists()?i.data().name:"Equipamento desconhecido"}));return(await xu(qr(Ze,"reservations"),{...e,equipmentNames:t,equipmentIds:e.equipmentIds,equipmentQuantities:e.equipmentQuantities,date:Ot.fromDate(e.date),type:"reservation",status:e.status||"pending",createdAt:Ot.now(),hidden:!1,unreadMessages:0,hasUnreadMessages:!1,isRecurring:e.isRecurring||!1,recurrencePattern:e.recurrencePattern||null,recurrenceEndDate:e.recurrenceEndDate?Ot.fromDate(e.recurrenceEndDate):null})).id}catch(t){throw console.error("Erro ao criar reserva:",t),t}},Lz=async e=>{try{const t=[],[r,n]=e.startTime.split(":").map(Number),[i,a]=e.endTime.split(":").map(Number),s=r*60+n,o=i*60+a,c=new Date(e.date);c.setHours(0,0,0,0);const u=ks(qr(Ze,"reservations"),la("status","in",["pending","approved","in-progress"]),la("hidden","==",!1)),d=await Ia(u),f=new Map;for(const h of e.equipmentIds){const m=await ts(xt(Ze,"equipment",h));m.exists()&&f.set(h,m.data().name)}for(const h of d.docs){const m=h.data(),g=m.date.toDate();if(g.setHours(0,0,0,0),g.getTime()!==c.getTime())continue;const[p,v]=m.startTime.split(":").map(Number),[y,x]=m.endTime.split(":").map(Number),w=p*60+v,N=y*60+x;if(s>=w&&s<N||o>w&&o<=N||s<=w&&o>=N){const T=m.equipmentIds.filter(S=>e.equipmentIds.includes(S));for(const S of T)t.push({equipmentName:f.get(S)||"Equipamento desconhecido",startTime:m.startTime,endTime:m.endTime})}}return t}catch(t){throw console.error("Erro ao verificar conflitos:",t),t}};class pb{constructor(t=0,r="Network Error"){this.status=t,this.text=r}}const ydt=()=>{if(!(typeof localStorage>"u"))return{get:e=>Promise.resolve(localStorage.getItem(e)),set:(e,t)=>Promise.resolve(localStorage.setItem(e,t)),remove:e=>Promise.resolve(localStorage.removeItem(e))}},Mi={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:ydt()},iL=e=>e?typeof e=="string"?{publicKey:e}:e.toString()==="[object Object]"?e:{}:{},xdt=(e,t="https://api.emailjs.com")=>{if(!e)return;const r=iL(e);Mi.publicKey=r.publicKey,Mi.blockHeadless=r.blockHeadless,Mi.storageProvider=r.storageProvider,Mi.blockList=r.blockList,Mi.limitRate=r.limitRate,Mi.origin=r.origin||t},fle=async(e,t,r={})=>{const n=await fetch(Mi.origin+e,{method:"POST",headers:r,body:t}),i=await n.text(),a=new pb(n.status,i);if(n.ok)return a;throw a},hle=(e,t,r)=>{if(!e||typeof e!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t||typeof t!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!r||typeof r!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},bdt=e=>{if(e&&e.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},mle=e=>e.webdriver||!e.languages||e.languages.length===0,ple=()=>new pb(451,"Unavailable For Headless Browser"),wdt=(e,t)=>{if(!Array.isArray(e))throw"The BlockList list has to be an array";if(typeof t!="string")throw"The BlockList watchVariable has to be a string"},_dt=e=>{var t;return!((t=e.list)!=null&&t.length)||!e.watchVariable},Edt=(e,t)=>e instanceof FormData?e.get(t):e[t],gle=(e,t)=>{if(_dt(e))return!1;wdt(e.list,e.watchVariable);const r=Edt(t,e.watchVariable);return typeof r!="string"?!1:e.list.includes(r)},vle=()=>new pb(403,"Forbidden"),Sdt=(e,t)=>{if(typeof e!="number"||e<0)throw"The LimitRate throttle has to be a positive number";if(t&&typeof t!="string")throw"The LimitRate ID has to be a non-empty string"},Tdt=async(e,t,r)=>{const n=Number(await r.get(e)||0);return t-Date.now()+n},yle=async(e,t,r)=>{if(!t.throttle||!r)return!1;Sdt(t.throttle,t.id);const n=t.id||e;return await Tdt(n,t.throttle,r)>0?!0:(await r.set(n,Date.now().toString()),!1)},xle=()=>new pb(429,"Too Many Requests"),Ndt=async(e,t,r,n)=>{const i=iL(n),a=i.publicKey||Mi.publicKey,s=i.blockHeadless||Mi.blockHeadless,o=i.storageProvider||Mi.storageProvider,c={...Mi.blockList,...i.blockList},u={...Mi.limitRate,...i.limitRate};return s&&mle(navigator)?Promise.reject(ple()):(hle(a,e,t),bdt(r),r&&gle(c,r)?Promise.reject(vle()):await yle(location.pathname,u,o)?Promise.reject(xle()):fle("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:a,service_id:e,template_id:t,template_params:r}),{"Content-type":"application/json"}))},Adt=e=>{if(!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},Cdt=e=>typeof e=="string"?document.querySelector(e):e,jdt=async(e,t,r,n)=>{const i=iL(n),a=i.publicKey||Mi.publicKey,s=i.blockHeadless||Mi.blockHeadless,o=Mi.storageProvider||i.storageProvider,c={...Mi.blockList,...i.blockList},u={...Mi.limitRate,...i.limitRate};if(s&&mle(navigator))return Promise.reject(ple());const d=Cdt(r);hle(a,e,t),Adt(d);const f=new FormData(d);return gle(c,f)?Promise.reject(vle()):await yle(location.pathname,u,o)?Promise.reject(xle()):(f.append("lib_version","4.4.1"),f.append("service_id",e),f.append("template_id",t),f.append("user_id",a),fle("/api/v1.0/email/send-form",f))},ble={init:xdt,send:Ndt,sendForm:jdt,EmailJSResponseStatus:pb};ble.init("ooADCrOkTxcKdeikN");const aL=async(e,t)=>{try{const r=await iAe();if(r.length===0){console.warn("[Email] Nenhum admin encontrado para notificar");return}await Promise.all(r.map(async n=>{try{const i=await ble.send("service_iwabe3j","template_qslkooq",{tipo_solicitacao:e,nome_usuario:t,to_email:n})}catch(i){console.error(`[Email] Erro para ${n}:`,i)}}))}catch(r){console.error("[Email] Erro geral:",r)}},wle=({onSelectUser:e,selectedUser:t,onClearSelection:r})=>{const[n,i]=b.useState([]),[a,s]=b.useState(!1),[o,c]=b.useState(!0);b.useEffect(()=>{(async()=>{try{const f=await q1();i(f)}catch(f){console.error("Erro ao carregar usuários:",f)}finally{c(!1)}})()},[]);const u=d=>{d.stopPropagation(),r&&r(),e&&e(null)};return l.jsxs("div",{className:"relative w-full",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs(me,{onClick:()=>s(!a),variant:"outline",className:xv("flex items-center justify-between w-full bg-white border border-gray-300 rounded-xl px-4 py-3",t?"border-eccos-purple ring-1 ring-eccos-purple":"hover:bg-gray-50"),children:[l.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[l.jsx(Kc,{size:18,className:xv("flex-shrink-0",t?"text-eccos-purple":"text-gray-600")}),l.jsx("span",{className:xv("truncate text-left",t?"font-medium text-eccos-purple":"text-gray-700"),children:t?t.displayName:"Selecionar solicitante"})]}),l.jsx(lc,{size:16,className:xv("flex-shrink-0 transition-transform",t?"text-eccos-purple":"text-gray-500",a?"rotate-180":"")})]}),t&&l.jsx("button",{onClick:u,className:"p-2 rounded-full hover:bg-gray-200 transition-colors flex-shrink-0 ml-auto",title:"Limpar seleção",children:l.jsx(go,{size:18,className:"text-gray-500 hover:text-red-500"})})]}),a&&l.jsx("div",{className:"absolute z-10 mt-2 w-full rounded-xl bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none",children:l.jsx("div",{className:"py-2 max-h-96 overflow-y-auto",children:o?l.jsx("div",{className:"px-4 py-3 text-sm text-gray-500",children:"Carregando usuários..."}):n.length===0?l.jsx("div",{className:"px-4 py-3 text-sm text-gray-500",children:"Nenhum usuário encontrado"}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"px-4 py-2 text-xs font-medium text-gray-500 border-b",children:t?"Trocar usuário":"Selecione um usuário"}),n.map(d=>l.jsx("button",{onClick:()=>{e&&e(d),s(!1)},className:xv("flex items-center w-full px-4 py-3 text-sm text-left transition-colors","hover:bg-gray-50 focus:outline-none",(t==null?void 0:t.uid)===d.uid?"bg-eccos-purple/10 text-eccos-purple font-medium":"text-gray-700"),children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-2 h-2 rounded-full bg-eccos-purple flex-shrink-0"}),l.jsx("span",{className:"truncate",children:d.displayName})]})},d.uid))]})})})]})};function xv(...e){return e.filter(Boolean).join(" ")}const Pdt=["Recepção","Secretaria","Sala de atendimento","Sala de atendimento (Laranja)","Sala de auxiliar de coordenação fundamental 1","Sala de oficinas","Sala de música","Sala de science","Integral","4º Ano","Patio (Cantina)","Refeitório","Biblioteca (Inferior)","3º Ano","2º Ano","1º Ano","Sala dos professores","Sala de Linguas","Coordenação de linguas/Fundamental 2","Sala de artes","Coordenação Fundamental 1 / Coordenação de matemática","8º ano","7º Ano","Apoio pedagógico","Orientação educacional","TI","Sala de oficinas (Piso superior)","5º Ano","6º Ano","Biblioteca (Superior)","Sala de convivência","9º Ano"],Rdt=eL({date:Iz({required_error:"Data de reserva é obrigatória",invalid_type_error:"Formato de data inválido"}),startTime:Ta({required_error:"Hora inicial é obrigatória"}).regex(/^(0[7-9]|1[0-9]):[0-5]\d$/,"Horário deve ser entre 07:00 e 19:00"),endTime:Ta({required_error:"Hora final é obrigatória"}).regex(/^(0[7-9]|1[0-9]):[0-5]\d$/,"Horário deve ser entre 07:00 e 19:00"),selectedEquipment:mdt(Ta(),{required_error:"Selecione pelo menos um equipamento",invalid_type_error:"Selecione equipamentos válidos"}).min(1,"Pelo menos um equipamento deve ser selecionado"),location:Ta({required_error:"Local de uso é obrigatório",invalid_type_error:"Selecione um local válido"}).min(1,"Local não pode estar vazio"),purpose:Ta({required_error:"Finalidade é obrigatória",invalid_type_error:"Insira uma descrição válida"}).min(10,"Finalidade deve ter pelo menos 10 caracteres"),isRecurring:hdt().default(!1),recurrencePattern:tL(["daily","weekly"]).optional(),recurrenceEndDate:Iz().optional()}).refine(e=>{const[t,r]=e.startTime.split(":").map(Number),[n,i]=e.endTime.split(":").map(Number);return t*60+r<n*60+i},{message:"A hora final deve ser depois da hora inicial",path:["endTime"]}).refine(e=>{const[t,r]=e.startTime.split(":").map(Number),[n,i]=e.endTime.split(":").map(Number);return t>=7&&t<19&&n>7&&n<=19},{message:"O horário deve estar entre 07:00 e 19:00",path:["endTime"]}).refine(e=>e.isRecurring?e.recurrencePattern&&e.recurrenceEndDate:!0,{message:"Selecione o padrão de recorrência",path:["recurrencePattern"]}).refine(e=>e.isRecurring?e.recurrenceEndDate&&e.recurrenceEndDate>e.date:!0,{message:"Data de término deve ser depois da data inicial",path:["recurrenceEndDate"]}),Fz=e=>{const t=e.replace(/\D/g,"");let r="";return t.length>=1&&(r+=t.substring(0,2)),t.length>=3&&(r+=":"+t.substring(2,4)),t.length===2&&e.length===2&&(r+=":"),r.substring(0,5)},kdt=()=>{const{currentUser:e,isSuperAdmin:t,userPermissions:r}=Mr(),[n,i]=b.useState([]),[a,s]=b.useState([]),[o,c]=b.useState(!1),[u,d]=b.useState(!1),[f,h]=b.useState(null),m=t||r.usuarios,g=Z3({resolver:rL(Rdt),defaultValues:{selectedEquipment:[],purpose:"",startTime:"",endTime:"",location:"",isRecurring:!1,recurrencePattern:void 0,recurrenceEndDate:void 0}}),p=(E,T,S)=>{const A=[],C=new Date(E);for(;C<=T;)A.push(new Date(C)),S==="daily"?C.setDate(C.getDate()+1):S==="weekly"?C.setDate(C.getDate()+7):S==="monthly"&&C.setMonth(C.getMonth()+1);return A},v=g.watch("recurrencePattern"),y=g.watch("isRecurring");b.useEffect(()=>{(async()=>{try{const[T,S]=await Promise.all([Hoe(),Cte()]);i(T.filter(A=>A instanceof Date&&!isNaN(A.getTime()))),s(S.sort((A,C)=>A.name.localeCompare(C.name)))}catch{$e.error("Erro ao carregar dados iniciais")}})()},[]);const x=E=>n.some(T=>T.toDateString()===E.toDateString()),w=async E=>{c(!0);try{const T=f||e,S=E.selectedEquipment.reduce((A,C)=>{const j=a.find(I=>I.id===C);return j&&(A[j.type]=(A[j.type]||0)+1),A},{});if(E.isRecurring&&E.recurrencePattern&&E.recurrenceEndDate){const A=p(E.date,E.recurrenceEndDate,E.recurrencePattern),C=[];for(const j of A){const I=await Lz({date:j,startTime:E.startTime,endTime:E.endTime,equipmentIds:E.selectedEquipment});I.length>0&&C.push({date:j,conflicts:I})}if(C.length>0){$e.error(l.jsxs("div",{children:[l.jsx("p",{className:"font-bold",children:"Conflitos detectados em algumas datas:"}),C.map(({date:j,conflicts:I},O)=>l.jsxs("div",{className:"mt-2",children:[l.jsxs("p",{className:"font-medium",children:[Gt(j,"dd/MM/yyyy"),":"]}),l.jsx("ul",{className:"mt-1 list-disc pl-4",children:I.map((k,D)=>l.jsxs("li",{children:[k.equipmentName,": ",k.startTime," - ",k.endTime]},D))})]},O))]}));return}for(const j of A){const I=x(j)&&E.startTime>="07:00"&&E.endTime<="19:00";await Mz({date:j,startTime:E.startTime,endTime:E.endTime,equipmentIds:E.selectedEquipment,location:E.location,purpose:E.purpose,equipmentQuantities:S,userName:(T==null?void 0:T.displayName)||"Usuário",userEmail:(T==null?void 0:T.email)||"email@exemplo.com",userId:(T==null?void 0:T.uid)||"",status:I?"approved":"pending",isRecurring:E.isRecurring,recurrencePattern:E.recurrencePattern,recurrenceEndDate:E.recurrenceEndDate})}$e.success(`Reservas recorrentes criadas (${A.length} dias)`)}else{const A=await Lz({date:E.date,startTime:E.startTime,endTime:E.endTime,equipmentIds:E.selectedEquipment});if(A.length>0){$e.error(l.jsxs("div",{children:[l.jsx("p",{children:"Conflitos detectados:"}),l.jsx("ul",{className:"mt-2 list-disc pl-4",children:A.map((j,I)=>l.jsxs("li",{children:[j.equipmentName,": ",j.startTime," - ",j.endTime]},I))})]}));return}const C=x(E.date)&&E.startTime>="07:00"&&E.endTime<="19:00";await Mz({date:E.date,startTime:E.startTime,endTime:E.endTime,equipmentIds:E.selectedEquipment,location:E.location,purpose:E.purpose,equipmentQuantities:S,userName:(T==null?void 0:T.displayName)||"Usuário",userEmail:(T==null?void 0:T.email)||"email@exemplo.com",userId:(T==null?void 0:T.uid)||"",status:C?"approved":"pending",isRecurring:E.isRecurring,recurrencePattern:E.recurrencePattern,recurrenceEndDate:E.recurrenceEndDate}),$e.success(C?"Reserva aprovada automaticamente!":"Solicitação enviada para aprovação")}g.reset(),h(null),await aL("Reserva",(T==null?void 0:T.displayName)||"Usuário")}catch{$e.error("Erro ao processar reserva")}finally{c(!1)}},N=()=>{g.reset(),h(null)};return l.jsx(sn,{children:l.jsxs("div",{className:"min-h-screen bg-white overflow-hidden relative",children:[l.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[l.jsx("div",{className:"absolute left-1/4 top-1/4 h-96 w-96 rounded-full bg-sidebar blur-3xl opacity-5"}),l.jsx("div",{className:"absolute right-1/4 bottom-1/4 h-80 w-80 rounded-full bg-eccos-purple blur-3xl opacity-5"})]}),l.jsxs("div",{className:"relative z-10 space-y-8 p-6 md:p-12",children:[l.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2 bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:[l.jsx(rE,{className:"text-eccos-purple",size:35}),"Nova Reserva"]}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Preencha o formulário para reservar equipamentos"}),m&&l.jsx(wle,{onSelectUser:h,selectedUser:f,onClearSelection:()=>h(null)}),l.jsx(nL,{...g,children:l.jsxs("form",{onSubmit:g.handleSubmit(w),className:"space-y-6",children:[l.jsx(yn,{control:g.control,name:"date",render:({field:E})=>l.jsxs(en,{className:"flex flex-col",children:[l.jsx(tn,{className:"text-gray-700",children:"Data *"}),l.jsxs(iy,{children:[l.jsx(ay,{asChild:!0,children:l.jsx(dn,{children:l.jsxs(me,{variant:"outline",className:Re("w-full pl-3 text-left font-normal rounded-xl","bg-white border border-gray-200 hover:border-gray-300","shadow-sm hover:shadow-md transition-all duration-300","text-gray-700 hover:bg-gray-50",!E.value&&"text-gray-400"),children:[E.value?Gt(E.value,"PPP",{locale:Gr}):l.jsx("span",{children:"Selecione uma data"}),l.jsx(Zn,{className:"ml-auto h-4 w-4 text-gray-500"})]})})}),l.jsx(Pp,{className:"w-[320px] h-[320px] p-0 border-gray-200 shadow-xl rounded-2xl overflow-hidden",align:"start",children:l.jsx(r1,{mode:"single",selected:E.value,onSelect:E.onChange,disabled:T=>P_(T)||!x(T),modifiers:{available:n},modifiersStyles:{available:{border:"2px solid #22c55e"}},initialFocus:!0,className:"bg-white"})})]}),l.jsx(bn,{})]})}),l.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-200",children:[l.jsx(yn,{control:g.control,name:"isRecurring",render:({field:E})=>l.jsxs(en,{className:"flex flex-row items-start space-x-3 space-y-0",children:[l.jsx(dn,{children:l.jsx(Kx,{checked:E.value,onCheckedChange:E.onChange})}),l.jsxs("div",{className:"space-y-1 leading-none",children:[l.jsx(tn,{children:"Reserva Recorrente"}),l.jsx(dle,{children:"Marque para repetir esta reserva periodicamente"})]})]})}),y&&l.jsx(l.Fragment,{children:l.jsxs("div",{className:"mt-4",children:[l.jsx(yn,{control:g.control,name:"recurrencePattern",render:({field:E})=>l.jsxs(en,{children:[l.jsx(tn,{className:"text-gray-700",children:"Frequência *"}),l.jsxs(Jo,{onValueChange:E.onChange,value:E.value??"",children:[l.jsx(dn,{children:l.jsx(co,{className:"rounded-xl border-gray-200",children:l.jsx(el,{placeholder:"Selecione a frequência"})})}),l.jsxs(uo,{className:"rounded-xl",children:[l.jsx(_r,{value:"daily",children:"Diariamente"}),l.jsx(_r,{value:"weekly",children:"Semanalmente"}),l.jsx(_r,{value:"monthly",children:"Mensalmente"})]})]}),l.jsx(bn,{})]})}),l.jsxs("p",{className:"text-sm text-gray-700 mt-3 bg-gray-200 px-3 py-2 rounded-lg mb-3",children:[l.jsx("span",{className:"font-bold text-eccos-purple mr-1",children:"*"}),"A reserva será repetida ",v==="daily"?"diariamente":v==="weekly"?"semanalmente no mesmo dia":"mensalmente no mesmo dia"," até a data de término."]}),l.jsx(yn,{control:g.control,name:"recurrenceEndDate",render:({field:E})=>l.jsxs(en,{className:"flex flex-col",children:[l.jsx(tn,{className:"text-gray-700",children:"Data de Término *"}),l.jsxs(iy,{children:[l.jsx(ay,{asChild:!0,children:l.jsx(dn,{children:l.jsxs(me,{variant:"outline",className:Re("w-full pl-3 text-left font-normal rounded-xl","bg-white border border-gray-200 hover:border-gray-300","shadow-sm hover:shadow-md transition-all duration-300","text-gray-700 hover:bg-gray-50",!E.value&&"text-gray-400"),children:[E.value?Gt(E.value,"PPP",{locale:Gr}):l.jsx("span",{children:"Selecione uma data"}),l.jsx(Zn,{className:"ml-auto h-4 w-4 text-gray-500"})]})})}),l.jsx(Pp,{className:"w-auto p-0 border-gray-200 shadow-xl rounded-2xl",align:"start",children:l.jsx(r1,{mode:"single",selected:E.value,onSelect:E.onChange,disabled:T=>T<new Date,initialFocus:!0})})]}),l.jsx(bn,{})]})})]})})]}),l.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[l.jsx(yn,{control:g.control,name:"startTime",render:({field:E})=>l.jsxs(en,{children:[l.jsx(tn,{className:"text-gray-700",children:"Hora Inicial *"}),l.jsx(dn,{children:l.jsx(Bt,{...E,placeholder:"07:00",maxLength:5,autoComplete:"off",className:"rounded-xl border-gray-200 focus:ring-eccos-purple",onChange:T=>{E.onChange(Fz(T.target.value))}})}),l.jsx(bn,{})]})}),l.jsx(yn,{control:g.control,name:"endTime",render:({field:E})=>l.jsxs(en,{children:[l.jsx(tn,{className:"text-gray-700",children:"Hora Final *"}),l.jsx(dn,{children:l.jsx(Bt,{...E,placeholder:"19:00",maxLength:5,autoComplete:"off",className:"rounded-xl border-gray-200 focus:ring-eccos-purple",onChange:T=>{E.onChange(Fz(T.target.value))}})}),l.jsx(bn,{})]})})]}),l.jsx(yn,{control:g.control,name:"selectedEquipment",render:({field:E})=>l.jsx(en,{children:l.jsxs("div",{className:"mb-4 relative",children:[l.jsx(tn,{className:"text-base text-gray-700",children:"Equipamentos *"}),(()=>{const T=a.filter(A=>E.value.includes(A.id)&&A.type==="Chromebook").length,S=a.filter(A=>E.value.includes(A.id)&&A.type==="iPad").length;if(T>0||S>0)return l.jsxs("div",{className:"fixed top-1/2 right-6 -translate-y-1/2 bg-white border border-gray-200 shadow-lg rounded-lg px-5 py-3 z-50 flex flex-col gap-1 transition-all duration-300",children:[T>0&&l.jsxs("span",{className:"text-sm text-blue-600",children:["Chromebooks: ",l.jsx("strong",{children:T})]}),S>0&&l.jsxs("span",{className:"text-sm text-purple-600",children:["iPads: ",l.jsx("strong",{children:S})]})]})})(),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-3 mt-6",children:a.map(T=>{const S=E.value.includes(T.id);return l.jsx("div",{onClick:()=>{const A=S?E.value.filter(C=>C!==T.id):[...E.value,T.id];E.onChange(A)},className:Re("flex flex-col justify-between p-3 cursor-pointer","bg-white border border-gray-200 rounded-lg","hover:border-gray-300 hover:shadow-md transition-all",S&&"ring-2 ring-eccos-purple bg-eccos-purple/5"),children:l.jsx("p",{className:"font-normal text-gray-700 text-sm",children:T.name})},T.id)})}),l.jsx(bn,{})]})})}),l.jsx(yn,{control:g.control,name:"location",render:({field:E})=>l.jsxs(en,{className:"flex flex-col",children:[l.jsx(tn,{className:"text-gray-700",children:"Local de Uso *"}),l.jsxs(iy,{open:u,onOpenChange:d,children:[l.jsx(ay,{asChild:!0,children:l.jsx(dn,{children:l.jsxs(me,{variant:"outline",className:Re("w-full justify-between pl-3 text-left font-normal rounded-xl","bg-white border border-gray-200 hover:border-gray-300","shadow-sm hover:shadow-md transition-all duration-300","text-gray-700 hover:bg-gray-50",!E.value&&"text-gray-400"),children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(xfe,{className:"h-4 w-4 text-gray-500"}),E.value||"Selecione um local"]}),l.jsx(lc,{className:"h-4 w-4 text-gray-500"})]})})}),l.jsx(Pp,{className:"w-[var(--radix-popover-trigger-width)] p-0 border-gray-200 shadow-xl rounded-2xl overflow-hidden max-h-[300px]",align:"start",sideOffset:4,children:l.jsxs("div",{className:"bg-white",children:[l.jsx("div",{className:"p-2 border-b border-gray-100",children:l.jsx("p",{className:"text-sm font-medium text-gray-600 px-2 py-1",children:"Selecione um local"})}),l.jsx("div",{className:"max-h-[250px] overflow-y-auto",children:Pdt.map(T=>l.jsx("button",{type:"button",onClick:()=>{E.onChange(T),d(!1)},className:Re("w-full text-left px-4 py-3 text-sm transition-colors","hover:bg-gray-50 focus:bg-gray-50 focus:outline-none","border-b border-gray-50 last:border-b-0",E.value===T&&"bg-eccos-purple/5 text-eccos-purple font-medium"),children:T},T))})]})})]}),l.jsx(bn,{})]})}),l.jsx(yn,{control:g.control,name:"purpose",render:({field:E})=>l.jsxs(en,{children:[l.jsx(tn,{className:"text-gray-700",children:"Finalidade *"}),l.jsx(dn,{children:l.jsx(Oa,{...E,placeholder:"Descreva o propósito da reserva...",autoComplete:"off",className:"rounded-xl border-gray-200 focus:ring-eccos-purple min-h-[120px]"})}),l.jsx(bn,{})]})}),l.jsxs("div",{className:"flex justify-end gap-4",children:[l.jsx(me,{type:"button",variant:"outline",onClick:N,className:"rounded-xl border-gray-200 hover:bg-gray-50 text-gray-700",children:"Limpar Formulário"}),l.jsx(me,{type:"submit",className:"rounded-xl bg-eccos-purple hover:bg-sidebar text-white px-8 py-6 text-lg font-semibold transition-all",disabled:o,children:o?"Enviando...":y?"Enviar Reservas Recorrentes":"Enviar Solicitação"})]})]})})]})]})})},Idt=async e=>{try{return(await xu(qr(Ze,"purchases"),{tipo:e.tipo,...e,financeiroVisible:!1,type:"purchase",status:"pending",createdAt:Ot.now(),hidden:!1,unreadMessages:0,hasUnreadMessages:!1,rejectionReason:""})).id}catch(t){throw console.error("Erro ao criar solicitação de compra:",t),t}},Odt=eL({tipo:tL(["Tecnologia","Infraestrutura","Pedagógico","Administrativo"],{required_error:"Selecione o tipo de compra"}),itemName:Ta().min(1,"Nome do item é obrigatório"),quantity:Oz.number().int({message:"Deve ser um número inteiro"}).positive("Quantidade deve ser positiva"),unitPrice:Oz.number().positive("Valor unitário deve ser positivo"),urgency:Ta().min(1,"Nível de urgência é obrigatório"),justification:Ta().min(10,"Justificativa deve ter pelo menos 10 caracteres"),additionalInfo:Ta().optional()}),Ddt=()=>{const{currentUser:e}=Mr(),t=Z3({resolver:rL(Odt),defaultValues:{itemName:"",quantity:0,unitPrice:0,urgency:"",justification:"",additionalInfo:""}}),r=async n=>{try{await Idt({...n,userName:(e==null?void 0:e.displayName)||"Usuário não identificado",userEmail:(e==null?void 0:e.email)||"email@nao.informado",type:"purchase",status:"pending",createdAt:new Date,hidden:!1}),$e.success("Solicitação de compra enviada com sucesso!"),t.reset(),await aL("Compra",(e==null?void 0:e.displayName)||"Usuário não identificado")}catch(i){console.error("[Solicitação] Erro completo:",i),$e.error("Erro ao enviar solicitação")}};return l.jsx(sn,{children:l.jsxs("div",{className:"min-h-screen bg-white overflow-hidden relative",children:[l.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[l.jsx("div",{className:"absolute left-1/4 top-1/4 h-96 w-96 rounded-full bg-sidebar blur-3xl opacity-5"}),l.jsx("div",{className:"absolute right-1/4 bottom-1/4 h-80 w-80 rounded-full bg-eccos-purple blur-3xl opacity-5"})]}),l.jsxs("div",{className:"relative z-10 space-y-8 p-6 md:p-12 fade-up",children:[l.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2 bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:[l.jsx(wn,{className:"text-eccos-purple",size:35}),"Nova Compra"]}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Preencha todos os campos obrigatórios para solicitar novos equipamentos ou materiais"}),l.jsx(nL,{...t,children:l.jsxs("form",{onSubmit:t.handleSubmit(r),className:"space-y-6",children:[l.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[l.jsx(yn,{control:t.control,name:"itemName",render:({field:n})=>l.jsxs(en,{children:[l.jsx(tn,{className:"text-gray-700",children:"Nome do Item *"}),l.jsx(dn,{children:l.jsx(Bt,{placeholder:"Ex: Notebook Dell Latitude 5440",className:"rounded-xl border-gray-200 focus:ring-eccos-purple",...n,autoComplete:"off"})}),l.jsx(bn,{})]})}),l.jsx(yn,{control:t.control,name:"tipo",render:({field:n})=>l.jsxs(en,{children:[l.jsx(tn,{className:"text-gray-700",children:"Tipo de Compra *"}),l.jsxs(Jo,{onValueChange:n.onChange,defaultValue:n.value,children:[l.jsx(dn,{children:l.jsx(co,{className:"rounded-xl border-gray-200 focus:ring-eccos-purple",children:l.jsx(el,{placeholder:"Selecione o tipo"})})}),l.jsxs(uo,{className:"rounded-xl border-gray-200",children:[l.jsx(_r,{value:"Tecnologia",children:"Tecnologia"}),l.jsx(_r,{value:"Infraestrutura",children:"Infraestrutura"}),l.jsx(_r,{value:"Pedagógico",children:"Pedagógico"}),l.jsx(_r,{value:"Administrativo",children:"Administrativo"})]})]}),l.jsx(bn,{})]})})]}),l.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[l.jsx(yn,{control:t.control,name:"quantity",render:({field:n})=>l.jsxs(en,{children:[l.jsx(tn,{className:"text-gray-700",children:"Quantidade *"}),l.jsx(dn,{children:l.jsx(Bt,{type:"number",className:"rounded-xl border-gray-200 focus:ring-eccos-purple",placeholder:"Ex: 5",value:n.value===0?"":n.value,onChange:i=>n.onChange(Number(i.target.value)),autoComplete:"off"})}),l.jsx(bn,{})]})}),l.jsx(yn,{control:t.control,name:"unitPrice",render:({field:n})=>l.jsxs(en,{children:[l.jsx(tn,{className:"text-gray-700",children:"Valor Unitário (R$) *"}),l.jsx(dn,{children:l.jsx(Bt,{type:"number",step:"0.01",min:"0.01",className:"rounded-xl border-gray-200 focus:ring-eccos-purple",placeholder:"Ex: 100.00",value:n.value===0?"":n.value,onChange:i=>n.onChange(Number(i.target.value)),autoComplete:"off"})}),l.jsx(bn,{})]})})]}),l.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[l.jsxs(en,{children:[l.jsx(tn,{className:"text-gray-700",children:"Valor Total Estimado"}),l.jsx(dn,{children:l.jsx(Bt,{readOnly:!0,className:"rounded-xl border-gray-200 bg-gray-50",value:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format((t.watch("unitPrice")||0)*(t.watch("quantity")||0))})})]}),l.jsx(yn,{control:t.control,name:"urgency",render:({field:n})=>l.jsxs(en,{children:[l.jsx(tn,{className:"text-gray-700",children:"Nível de Urgência *"}),l.jsxs(Jo,{onValueChange:n.onChange,defaultValue:n.value,children:[l.jsx(dn,{children:l.jsx(co,{className:"rounded-xl border-gray-200 focus:ring-eccos-purple",children:l.jsx(el,{placeholder:"Selecione a urgência"})})}),l.jsxs(uo,{className:"rounded-xl border-gray-200",children:[l.jsx(_r,{value:"low",children:"Baixa (30+ dias)"}),l.jsx(_r,{value:"medium",children:"Média (15 dias)"}),l.jsx(_r,{value:"high",children:"Alta (7 dias)"}),l.jsx(_r,{value:"critical",children:"Crítica (Imediata)"})]})]}),l.jsx(bn,{})]})})]}),l.jsx(yn,{control:t.control,name:"justification",render:({field:n})=>l.jsxs(en,{children:[l.jsx(tn,{className:"text-gray-700",children:"Justificativa *"}),l.jsx(dn,{children:l.jsx(Oa,{placeholder:"Descreva detalhadamente a necessidade desta compra...",className:"rounded-xl border-gray-200 focus:ring-eccos-purple min-h-[120px]",...n,autoComplete:"off"})}),l.jsx(bn,{})]})}),l.jsx(yn,{control:t.control,name:"additionalInfo",render:({field:n})=>l.jsxs(en,{children:[l.jsx(tn,{className:"text-gray-700",children:"Informações Adicionais"}),l.jsx(dn,{children:l.jsx(Oa,{placeholder:"Links de referência, especificações técnicas...",className:"rounded-xl border-gray-200 focus:ring-eccos-purple min-h-[100px]",...n,autoComplete:"off"})}),l.jsx(bn,{})]})}),l.jsxs("div",{className:"flex justify-end gap-4",children:[l.jsx(me,{type:"button",variant:"outline",onClick:()=>t.reset(),className:"rounded-xl border-gray-200 hover:bg-gray-50 text-gray-700",children:"Limpar Formulário"}),l.jsx(me,{type:"submit",className:"rounded-xl bg-eccos-purple hover:bg-sidebar text-white px-8 py-6 text-lg font-semibold transition-all",children:"Enviar Solicitação"})]})]})})]})]})})},Mdt=async e=>{try{return(await xu(qr(Ze,"supports"),{...e,type:"support",status:"pending",createdAt:Ot.now(),hidden:!1,unreadMessages:0,hasUnreadMessages:!1})).id}catch(t){throw console.error("Erro ao criar solicitação de suporte:",t),t}},Ldt={"Berçário e Educação Infantil":["Recepção","Sala de reuniões","Cozinha","Pátio","Sala de música","Sala de science","Berçário 2","Berçário 3","Refeitório","Sala de movimento","Pátio integral","Infantil 1","Infantil 2"],Fundamental:["Recepção","Secretaria","Sala de atendimento","Sala de atendimento (Laranja)","Sala de auxiliar de coordenação fundamental 1","Sala de oficinas","Sala de música","Sala de science","Integral","4º Ano","Patio (Cantina)","Refeitório","Biblioteca (Inferior)","3º Ano","2º Ano","1º Ano","Sala dos professores","Sala de Linguas","Coordenação de linguas/Fundamental 2","Sala de artes","Coordenação Fundamental 1 / Coordenação de matemática","8º ano","7º Ano","Apoio pedagógico","Orientação educacional","TI","Sala de oficinas (Piso superior)","5º Ano","6º Ano","Biblioteca (Superior)","Sala de convivência","9º Ano"],Anexo:["Sala de manutenção","Sala de reuniões","Refeitório","Cozinha","Nutrição","Controladoria","Financeiro","Operacional","Mantenedoria"]},Fdt=eL({tipo:tL(["Manutenção","Tecnologia"],{required_error:"Selecione o tipo de suporte"}),unit:Ta({required_error:"Selecione a unidade"}),location:Ta({required_error:"Selecione a localização"}),category:Ta({required_error:"Selecione a categoria"}),priority:Ta({required_error:"Selecione a prioridade"}),deviceInfo:Ta().optional(),description:Ta().min(10,"A descrição deve ter pelo menos 10 caracteres")}),$dt=()=>{const{currentUser:e,isSuperAdmin:t,userPermissions:r}=Mr(),[n,i]=b.useState(!1),[a,s]=b.useState(""),[o,c]=b.useState(null),u=t||r.usuarios,d=Z3({resolver:rL(Fdt),defaultValues:{unit:"",location:"",category:"",priority:"",deviceInfo:"",description:""}}),f=async h=>{try{i(!0);const m=o||e;await Mdt({...h,userName:(m==null?void 0:m.displayName)||"Usuário não identificado",userEmail:(m==null?void 0:m.email)||"email@nao.informado",userId:(m==null?void 0:m.uid)||"",type:"support",status:"pending",createdAt:Ot.now(),hidden:!1}),$e.success("Solicitação enviada com sucesso!"),d.reset(),s(""),c(null),await aL("Suporte",(m==null?void 0:m.displayName)||"Usuário não identificado")}catch(m){$e.error("Erro ao enviar solicitação"),console.error("Erro detalhado:",m)}finally{i(!1)}};return l.jsx(sn,{children:l.jsxs("div",{className:"min-h-screen bg-white overflow-hidden relative",children:[l.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[l.jsx("div",{className:"absolute left-1/4 top-1/4 h-96 w-96 rounded-full bg-sidebar blur-3xl opacity-5"}),l.jsx("div",{className:"absolute right-1/4 bottom-1/4 h-80 w-80 rounded-full bg-eccos-purple blur-3xl opacity-5"})]}),l.jsxs(xa.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"relative z-10 space-y-8 p-6 md:p-12 fade-up",children:[l.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2 bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:[l.jsx(ql,{className:"text-eccos-purple",size:35}),"Nova Manutenção"]}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Preencha todos os campos obrigatórios (*) para registrar sua solicitação"}),u&&l.jsx(wle,{onSelectUser:c,selectedUser:o,onClearSelection:()=>c(null)}),l.jsx(nL,{...d,children:l.jsxs("form",{onSubmit:d.handleSubmit(f),className:"space-y-8",children:[l.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[l.jsx(yn,{control:d.control,name:"unit",render:({field:h})=>l.jsxs(en,{children:[l.jsx(tn,{className:"text-gray-700",children:"Unidade *"}),l.jsxs(Jo,{onValueChange:m=>{h.onChange(m),s(m),d.resetField("location")},defaultValue:h.value,children:[l.jsx(dn,{children:l.jsx(co,{className:"rounded-xl border-gray-200 focus:ring-eccos-purple",children:l.jsx(el,{placeholder:"Selecione sua unidade"})})}),l.jsxs(uo,{className:"rounded-xl border-gray-200",children:[l.jsx(_r,{value:"Berçário e Educação Infantil",children:"Berçário e Educação Infantil"}),l.jsx(_r,{value:"Fundamental",children:"Fundamental"}),l.jsx(_r,{value:"Anexo",children:"Anexo"})]})]}),l.jsx(bn,{})]})}),l.jsx(yn,{control:d.control,name:"location",render:({field:h})=>l.jsxs(en,{children:[l.jsx(tn,{className:"text-gray-700",children:"Localização Exata *"}),l.jsxs(Jo,{onValueChange:h.onChange,value:h.value,disabled:!a,children:[l.jsx(dn,{children:l.jsx(co,{className:"rounded-xl border-gray-200 focus:ring-eccos-purple",children:l.jsx(el,{placeholder:a?"Selecione o local específico":"Selecione a unidade primeiro"})})}),l.jsx(uo,{className:"rounded-xl border-gray-200",children:a&&Ldt[a].map(m=>l.jsx(_r,{value:m,children:m},m))})]}),l.jsx(bn,{})]})}),l.jsx(yn,{control:d.control,name:"tipo",render:({field:h})=>l.jsxs(en,{children:[l.jsx(tn,{className:"text-gray-700",children:"Tipo de Manutenção *"}),l.jsxs(Jo,{onValueChange:h.onChange,defaultValue:h.value,children:[l.jsx(dn,{children:l.jsx(co,{className:"rounded-xl border-gray-200 focus:ring-eccos-purple",children:l.jsx(el,{placeholder:"Selecione o tipo de suporte"})})}),l.jsxs(uo,{className:"rounded-xl border-gray-200",children:[l.jsx(_r,{value:"Manutenção",children:"Infraestrutura"}),l.jsx(_r,{value:"Tecnologia",children:"Tecnologia"})]})]}),l.jsx(bn,{})]})}),l.jsx(yn,{control:d.control,name:"category",render:({field:h})=>l.jsxs(en,{children:[l.jsx(tn,{className:"text-gray-700",children:"Categoria da Manutenção *"}),l.jsxs(Jo,{onValueChange:h.onChange,defaultValue:h.value,children:[l.jsx(dn,{children:l.jsx(co,{className:"rounded-xl border-gray-200 focus:ring-eccos-purple",children:l.jsx(el,{placeholder:"Selecione a categoria do problema"})})}),l.jsxs(uo,{className:"rounded-xl border-gray-200",children:[l.jsx(_r,{value:"Manutenção Preventiva",children:"Manutenção Preventiva"}),l.jsx(_r,{value:"Manutenção Corretiva",children:"Manutenção Corretiva"})]})]}),l.jsx(bn,{})]})}),l.jsx(yn,{control:d.control,name:"priority",render:({field:h})=>l.jsxs(en,{children:[l.jsx(tn,{className:"text-gray-700",children:"Nível de Urgência *"}),l.jsxs(Jo,{onValueChange:h.onChange,defaultValue:h.value,children:[l.jsx(dn,{children:l.jsx(co,{className:"rounded-xl border-gray-200 focus:ring-eccos-purple",children:l.jsx(el,{placeholder:"Qual a urgência do atendimento?"})})}),l.jsxs(uo,{className:"rounded-xl border-gray-200",children:[l.jsx(_r,{value:"low",children:"Baixa - Não interfere nas atividades"}),l.jsx(_r,{value:"medium",children:"Média - Afeta parcialmente o trabalho"}),l.jsx(_r,{value:"high",children:"Alta - Impede atividades importantes"}),l.jsx(_r,{value:"critical",children:"Crítica - Paralisação total"})]})]}),l.jsx(bn,{})]})}),l.jsx(yn,{control:d.control,name:"deviceInfo",render:({field:h})=>l.jsxs(en,{children:[l.jsx(tn,{className:"text-gray-700",children:"Identificação do Equipamento"}),l.jsx(dn,{children:l.jsx(Bt,{placeholder:"Ex: Torneira da Cozinha, Notebook Cinza, etc.",className:"rounded-xl border-gray-200 focus:ring-eccos-purple",...h,autoComplete:"off"})}),l.jsx(bn,{})]})})]}),l.jsx(yn,{control:d.control,name:"description",render:({field:h})=>l.jsxs(en,{children:[l.jsx(tn,{className:"text-gray-700",children:"Descrição Completa do Problema *"}),l.jsx(dn,{children:l.jsx(Oa,{placeholder:`Descreva detalhadamente:
- O que está acontecendo?
- Quando começou o problema?
- Quais mensagens de erro aparecem?
- Quais tentativas de solução já foram feitas?`,className:"rounded-xl border-gray-200 focus:ring-eccos-purple min-h-[150px]",...h,autoComplete:"off"})}),l.jsx(bn,{})]})}),l.jsxs("div",{className:"flex justify-end gap-4",children:[l.jsx(me,{type:"button",variant:"outline",onClick:()=>{d.reset(),c(null)},className:"rounded-xl border-gray-200 hover:bg-gray-50 text-gray-700",children:"Limpar Formulário"}),l.jsx(me,{type:"submit",className:"rounded-xl bg-eccos-purple hover:bg-sidebar text-white px-8 py-6 text-lg font-semibold transition-all",disabled:n,children:n?"Enviando...":"Enviar Solicitação"})]})]})})]})]})})},zw=e=>{switch(e){case"pending":return l.jsx(Se,{variant:"outline",className:"border-yellow-500 text-yellow-600",children:"Pendente"});case"in-progress":return l.jsx(Se,{className:"bg-blue-500 text-white",children:"Em Andamento"});case"completed":return l.jsx(Se,{className:"bg-green-500 text-white",children:"Concluído"});case"canceled":return l.jsx(Se,{className:"bg-amber-500 text-white",children:"Cancelado"});default:return l.jsx(Se,{variant:"outline",children:"Desconhecido"})}},wj=e=>{if(!e)return l.jsx(Se,{variant:"outline",children:"Não especificado"});const t={labels:{critical:"Crítica",high:"Alta",medium:"Média",low:"Baixa"},colors:{critical:"bg-red-100 text-red-600 border-red-200",high:"bg-orange-100 text-orange-600 border-orange-200",medium:"bg-amber-100 text-amber-600 border-amber-200",low:"bg-green-100 text-green-600 border-green-200"}},r=e.toLowerCase();return l.jsx(Se,{className:Re("border",t.colors[r]),children:t.labels[r]||e})},Bdt=()=>{const e=vl(),{currentUser:t}=Mr(),[r,n]=b.useState(""),[i,a]=b.useState(null),[s,o]=b.useState(!1),[c,u]=b.useState(!1),[d,f]=b.useState(null),[h,m]=b.useState({}),[g,p]=b.useState(()=>{const ne=typeof window<"u"?localStorage.getItem("operacionalViewedRequests"):null;return ne?new Set(JSON.parse(ne)):new Set}),[v,y]=b.useState(!1),[x,w]=b.useState(null),N=["Tecnologia","Manutenção"],[E,T]=b.useState(N),{data:S=[],isLoading:A}=ua({queryKey:["allRequests"],queryFn:()=>Pu()});b.useEffect(()=>{(()=>{const M={};S.forEach(W=>{const P=(W.messages||[]).filter(J=>!J.isAdmin&&!g.has(`${W.id}-${J.timestamp.toMillis()}`)).length;P>0&&(M[W.id]=P)}),m(M)})()},[S,g]);const C=async ne=>{try{const M=await wu(ne.id,ne.collectionName);w(M),p(W=>{const G=new Set(W);return(M.messages||[]).forEach(P=>{P.isAdmin||G.add(`${M.id}-${P.timestamp.toMillis()}`)}),localStorage.setItem("operacionalViewedRequests",JSON.stringify(Array.from(G))),G}),m(W=>{const G={...W};return delete G[M.id],G}),y(!0)}catch(M){$e.error("Erro ao abrir chat"),console.error("Error:",M)}},j=async ne=>{if(i)try{const M=xt(Ze,i.collectionName,i.id);await ur(M,{status:ne}),await Ra({title:"Alteração de Status",message:`Status do seu chamado foi alterado para: ${ne}`,link:"minhas-solicitacoes",createdAt:new Date,readBy:[],recipients:[i.userEmail],isBatch:!1}),$e.success("Status atualizado"),e.invalidateQueries({queryKey:["allRequests"]}),a({...i,status:ne})}catch(M){$e.error("Erro ao atualizar"),console.error("Error:",M)}},I=async ne=>{if(i)try{const M=xt(Ze,i.collectionName,i.id);await ur(M,{tipo:ne}),await Ra({title:"Alteração de Tipo",message:`Tipo do seu chamado foi alterado para: ${ne}`,link:"minhas-solicitacoes",createdAt:new Date,readBy:[],recipients:[i.userEmail],isBatch:!1}),$e.success("Tipo atualizado"),e.invalidateQueries({queryKey:["allRequests"]}),a({...i,tipo:ne})}catch(M){$e.error("Erro ao atualizar tipo"),console.error("Error:",M)}},O=ne=>{f({id:ne.id,collectionName:ne.collectionName}),u(!0)},k=[{id:"userName",label:"Solicitante",defaultSelected:!0},{id:"userEmail",label:"Email",defaultSelected:!0},{id:"tipo",label:"Tipo",defaultSelected:!0},{id:"status",label:"Status",defaultSelected:!0},{id:"priority",label:"Prioridade",defaultSelected:!0},{id:"unit",label:"Unidade",defaultSelected:!0},{id:"location",label:"Localização",defaultSelected:!0},{id:"category",label:"Categoria",defaultSelected:!0},{id:"deviceInfo",label:"Equipamento",defaultSelected:!0},{id:"description",label:"Descrição",defaultSelected:!0},{id:"createdAt",label:"Data de Criação",defaultSelected:!0}],D=async()=>{if(d)try{await fm(d.id,d.collectionName),$e.success("Excluído com sucesso"),u(!1),f(null),s&&o(!1),e.invalidateQueries({queryKey:["allRequests"]})}catch(ne){$e.error("Erro ao excluir"),console.error("Error:",ne)}},B=ne=>(ne==null?void 0:ne.toLowerCase())==="critical",ee=S.filter(ne=>ne.type==="support").filter(ne=>{var W,G,P;const M=r.toLowerCase();return(((W=ne.userName)==null?void 0:W.toLowerCase().includes(M))||((G=ne.userEmail)==null?void 0:G.toLowerCase().includes(M))||((P=ne.description)==null?void 0:P.toLowerCase().includes(M)))&&E.includes(ne.tipo)}),z=ee.length,V=ee.filter(ne=>ne.status==="pending").length,U=ee.filter(ne=>ne.status==="in-progress").length,se=ee.filter(ne=>ne.status==="completed").length;return l.jsx(sn,{children:l.jsxs("div",{className:"min-h-screen bg-white relative overflow-hidden",children:[l.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[l.jsx("div",{className:"absolute left-1/4 top-1/4 h-96 w-96 rounded-full bg-sidebar blur-3xl opacity-5"}),l.jsx("div",{className:"absolute right-1/4 bottom-1/4 h-80 w-80 rounded-full bg-eccos-purple blur-3xl opacity-5"})]}),l.jsxs("div",{className:"relative z-10 space-y-8 p-6 md:p-12",children:[l.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2 bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:[l.jsx(ql,{className:"text-eccos-purple",size:35}),"Solicitações de Manutenção"]}),A?l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-eccos-purple"})}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"grid gap-4 grid-cols-2 sm:grid-cols-2 lg:grid-cols-4",children:[l.jsxs(Qe,{className:"bg-white border border-gray-100 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300",children:[l.jsx(Rt,{className:"pb-2",children:l.jsx(kt,{className:"text-sm font-medium text-gray-600",children:"Total de Chamados"})}),l.jsxs(nt,{children:[l.jsx("div",{className:"text-2xl font-bold bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:z}),l.jsx(Se,{variant:"outline",className:"mt-2 border-eccos-purple text-eccos-purple",children:"Total"})]})]}),l.jsxs(Qe,{className:"bg-white border border-gray-100 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300",children:[l.jsx(Rt,{className:"pb-2",children:l.jsx(kt,{className:"text-sm font-medium text-gray-600",children:"Pendentes"})}),l.jsxs(nt,{children:[l.jsx("div",{className:"text-2xl font-bold bg-gradient-to-r from-yellow-500 to-yellow-600 bg-clip-text text-transparent",children:V}),l.jsxs(Se,{variant:"outline",className:"mt-2 border-yellow-500 text-yellow-500",children:[l.jsx(fu,{className:"h-3 w-3 mr-1"}),"Aguardando"]})]})]}),l.jsxs(Qe,{className:"bg-white border border-gray-100 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300",children:[l.jsx(Rt,{className:"pb-2",children:l.jsx(kt,{className:"text-sm font-medium text-gray-600",children:"Em Andamento"})}),l.jsxs(nt,{children:[l.jsx("div",{className:"text-2xl font-bold bg-gradient-to-r from-blue-500 to-blue-600 bg-clip-text text-transparent",children:U}),l.jsxs(Se,{variant:"outline",className:"mt-2 border-blue-500 text-blue-500",children:[l.jsx(sE,{className:"h-3 w-3 mr-1"}),"Ativo"]})]})]}),l.jsxs(Qe,{className:"bg-white border border-gray-100 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300",children:[l.jsx(Rt,{className:"pb-2",children:l.jsx(kt,{className:"text-sm font-medium text-gray-600",children:"Concluídos"})}),l.jsxs(nt,{children:[l.jsx("div",{className:"text-2xl font-bold bg-gradient-to-r from-green-500 to-green-600 bg-clip-text text-transparent",children:se}),l.jsxs(Se,{variant:"outline",className:"mt-2 border-green-500 text-green-500",children:[l.jsx(I2,{className:"h-3 w-3 mr-1"}),"Finalizados"]})]})]})]}),l.jsx(Qe,{className:"bg-white border border-gray-100 rounded-2xl shadow-lg",children:l.jsx(nt,{className:"p-6",children:l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[l.jsxs("div",{className:"relative flex-1 max-w-md",children:[l.jsx(gc,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),l.jsx(Bt,{placeholder:"Pesquisar por nome, email ou descrição...",value:r,onChange:ne=>n(ne.target.value),className:"pl-10 h-12 rounded-xl border-gray-200 focus:border-eccos-purple"})]}),l.jsxs(ei,{children:[l.jsx(ti,{asChild:!0,children:l.jsxs(me,{variant:"outline",className:"flex items-center gap-2 h-12 rounded-xl border-gray-200 px-6",children:[l.jsx(cc,{className:"h-4 w-4"})," Tipo (",E.length,")"]})}),l.jsx(zn,{align:"end",className:"bg-background rounded-xl",children:N.map(ne=>l.jsx(_o,{checked:E.includes(ne),onCheckedChange:M=>{T(M?[...E,ne]:E.filter(W=>W!==ne))},children:ne},ne))})]}),l.jsx(_m,{data:ee.map(ne=>({...ne,createdAt:ne.createdAt.toDate().toLocaleString("pt-BR"),priority:ne.priority?wj(ne.priority).props.children:"Não especificada"})),columns:k,filename:`suporte-operacional-${new Date().toISOString().slice(0,10)}`,children:l.jsxs(me,{variant:"outline",className:"flex items-center gap-2 h-12 rounded-xl border-gray-200 px-6",children:[l.jsx(Ps,{className:"h-4 w-4"})," Exportar"]})})]})})}),ee.length===0?l.jsx(Qe,{className:"bg-white border border-gray-100 rounded-2xl shadow-lg",children:l.jsx(nt,{className:"p-12",children:l.jsxs("div",{className:"text-center text-muted-foreground",children:[l.jsx(ql,{className:"h-16 w-16 mx-auto mb-4 text-gray-300"}),l.jsx("p",{className:"text-lg",children:"Nenhuma solicitação de Manutenção encontrada"}),l.jsx("p",{className:"text-sm",children:"Tente ajustar os filtros para ver mais resultados"})]})})}):l.jsx(Qe,{className:"bg-white border border-gray-100 rounded-2xl shadow-lg overflow-hidden",children:l.jsx(nt,{className:"p-0",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs(El,{children:[l.jsx(Sl,{children:l.jsxs(En,{className:"border-gray-100",children:[l.jsx(Lt,{className:"font-semibold text-gray-700",children:"Solicitante"}),l.jsx(Lt,{className:"font-semibold text-gray-700 hidden md:table-cell",children:"Tipo"}),l.jsx(Lt,{className:"font-semibold text-gray-700",children:"Status"}),l.jsx(Lt,{className:"font-semibold text-gray-700 hidden lg:table-cell",children:"Prioridade"}),l.jsx(Lt,{className:"font-semibold text-gray-700",children:"Ações"})]})}),l.jsx(Tl,{children:ee.map(ne=>l.jsxs(En,{className:Re("group border-gray-100 transition-all",B(ne.priority)?"bg-red-600 hover:bg-red-700 text-white border-l-4 border-l-red-800 shadow-md":"hover:bg-gray-50/50"),children:[l.jsx(Dt,{className:Re("font-medium",B(ne.priority)&&"text-white font-bold"),children:ne.userName}),l.jsx(Dt,{className:Re("hidden md:table-cell",B(ne.priority)&&"text-white font-bold"),children:ne.tipo}),l.jsx(Dt,{children:B(ne.priority)?l.jsx("div",{className:"scale-110 transform",children:zw(ne.status)}):zw(ne.status)}),l.jsx(Dt,{className:Re("hidden lg:table-cell",B(ne.priority)&&"text-white font-bold"),children:wj(ne.priority)}),l.jsx(Dt,{children:l.jsxs("div",{className:"flex gap-2",children:[l.jsx(me,{variant:"ghost",size:"icon",className:Re("h-9 w-9 rounded-xl",B(ne.priority)?"text-white hover:bg-red-800 hover:text-white":"hover:bg-eccos-purple/10 hover:text-eccos-purple"),onClick:()=>{a(ne),o(!0)},children:l.jsx(cf,{className:"h-4 w-4"})}),l.jsxs(me,{variant:"ghost",size:"icon",className:Re("h-9 w-9 rounded-xl relative",B(ne.priority)?"text-white hover:bg-red-800 hover:text-white":"hover:bg-blue-50 hover:text-blue-600"),onClick:()=>C(ne),children:[l.jsx(rm,{className:"h-4 w-4"}),h[ne.id]>0&&l.jsx("span",{className:Re("absolute -top-1 -right-1 text-xs rounded-full h-5 w-5 flex items-center justify-center",B(ne.priority)?"bg-white text-red-600":"bg-red-500 text-white"),children:h[ne.id]})]})]})})]},ne.id))})]})})})})]}),l.jsx(mn,{open:s,onOpenChange:o,children:l.jsx(on,{className:"max-w-3xl bg-white border border-gray-100 rounded-2xl overflow-hidden",children:i&&l.jsxs("div",{className:"flex flex-col h-[80vh]",children:[l.jsxs(pn,{className:"p-6 pb-2 border-b border-gray-100 bg-white sticky top-0 z-10",children:[l.jsxs(ln,{className:"flex items-center gap-2",children:[l.jsx(ql,{className:"h-5 w-5 text-purple-500"}),l.jsxs("span",{className:"bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:["Chamado de Manutenção - ",i.userName||i.userEmail]})]}),l.jsx(gn,{asChild:!0,children:l.jsxs("div",{className:"flex items-center justify-between text-gray-500 px-1 mt-2",children:[l.jsx("div",{children:Gt(i.createdAt.toDate(),"dd/MM/yyyy HH:mm",{locale:Gr})}),l.jsx("div",{className:"flex items-center gap-2",children:l.jsxs(ei,{children:[l.jsx(ti,{asChild:!0,children:l.jsx("button",{className:"cursor-pointer",children:zw(i.status)})}),l.jsx(zn,{className:"rounded-xl",align:"end",children:["pending","in-progress","completed","canceled"].map(ne=>l.jsx(wo,{onSelect:()=>j(ne),className:"cursor-pointer px-4 py-2 hover:bg-gray-100",children:l.jsx("div",{className:"flex items-center gap-2",children:zw(ne)})},ne))})]})})]})})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Tipo"}),l.jsx("div",{className:"flex items-center gap-2",children:l.jsxs(ei,{children:[l.jsx(ti,{asChild:!0,children:l.jsxs(me,{variant:"outline",size:"sm",className:"flex items-center gap-1",children:[i.tipo||"Não especificado",l.jsx(lc,{className:"h-3 w-3"})]})}),l.jsx(zn,{className:"rounded-xl",children:N.map(ne=>l.jsx(wo,{onSelect:()=>I(ne),className:"cursor-pointer px-4 py-2 hover:bg-gray-100",children:ne},ne))})]})})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Solicitante"}),l.jsx("p",{className:"font-medium",children:i.userName})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Unidade"}),l.jsx("p",{className:"font-medium",children:i.unit})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Localização"}),l.jsx("p",{className:"font-medium",children:i.location})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Categoria"}),l.jsx("p",{className:"font-medium",children:i.category})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Prioridade"}),l.jsx("div",{className:"mt-1",children:wj(i.priority)})]})]}),i.deviceInfo&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Identificação do Equipamento"}),l.jsx("div",{className:"bg-gray-50 p-4 rounded-xl",children:l.jsx("p",{className:"break-words",children:i.deviceInfo})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Descrição do Problema"}),l.jsx("div",{className:"bg-gray-50 p-4 rounded-xl",children:l.jsx("p",{className:"whitespace-pre-wrap break-words",children:i.description})})]})]}),l.jsx(ii,{className:"p-6 border-t border-gray-100 gap-2 bg-white sticky bottom-0 z-10",children:l.jsxs(me,{variant:"destructive",onClick:()=>O(i),className:"w-full sm:w-auto",children:[l.jsx(Rs,{className:"h-4 w-4 mr-2"}),"Excluir Chamado"]})})]})})}),l.jsx(Dg,{request:x,isOpen:v,onOpenChange:y,onMessageSent:()=>e.invalidateQueries({queryKey:["allRequests"]})}),l.jsx(To,{open:c,onOpenChange:u,children:l.jsxs(Bs,{className:"rounded-2xl",children:[l.jsxs(Vs,{children:[l.jsx(Us,{children:"Confirmar exclusão"}),l.jsx(No,{children:"Tem certeza que deseja excluir permanentemente este chamado? Esta ação não pode ser desfeita."})]}),l.jsxs(wl,{children:[l.jsx(Co,{className:"rounded-xl",children:"Cancelar"}),l.jsx(Ao,{onClick:D,className:"rounded-xl bg-red-600 hover:bg-red-700",children:"Confirmar Exclusão"})]})]})})]}),l.jsx("footer",{className:"relative z-10 bg-gray-50 py-10 px-4 md:px-12",children:l.jsx("div",{className:"max-w-6xl mx-auto text-center",children:l.jsx("p",{className:"text-gray-500 text-sm",children:"© 2025 Colégio ECCOS - Todos os direitos reservados"})})})]})})},Vdt=({filtroCategoria:e,filtroNomeDescricao:t,setFiltroCategoria:r,setFiltroNomeDescricao:n,todasCategorias:i})=>l.jsxs("div",{className:"flex flex-wrap gap-4",children:[l.jsxs("div",{className:"flex-1 min-w-[250px]",children:[l.jsx(_t,{children:"Filtrar por Nome ou Descrição"}),l.jsx(Bt,{placeholder:"Digite um termo...",value:t,onChange:a=>n(a.target.value)})]}),l.jsxs("div",{className:"flex-1 min-w-[250px]",children:[l.jsx(_t,{children:"Filtrar por Categoria"}),l.jsxs("select",{className:"w-full mt-1 flex h-10 items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm",value:e,onChange:a=>r(a.target.value),children:[l.jsx("option",{value:"",children:"Todas categorias"}),i.map(a=>l.jsx("option",{value:a,children:a},a))]})]})]}),Udt=({itensFiltrados:e,setIsDetailModalOpen:t,setSelectedItemDetails:r})=>l.jsx("div",{className:"rounded-md border",children:l.jsxs(El,{children:[l.jsx(Sl,{children:l.jsxs(En,{children:[l.jsx(Lt,{className:"w-[200px]",children:"Item"}),l.jsx(Lt,{children:"Quantidade"}),l.jsx(Lt,{children:"Categoria"}),l.jsx(Lt,{className:"text-right",children:"Detalhes"})]})}),l.jsx(Tl,{children:e.map(n=>l.jsxs(En,{children:[l.jsx(Dt,{className:"font-medium",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(qq,{className:"h-4 w-4"}),n.nome]})}),l.jsx(Dt,{children:n.quantidade}),l.jsx(Dt,{children:n.categoria}),l.jsx(Dt,{className:"text-right",children:l.jsx(me,{variant:"ghost",size:"sm",onClick:()=>{r(n),t(!0)},children:l.jsx(cf,{className:"h-4 w-4"})})})]},n.id))})]})}),zdt=({isOpen:e,onClose:t,selectedItemDetails:r,onDelete:n,onClone:i,onEdit:a})=>{var c;if(!r)return null;const s={Ótimo:"bg-green-500 text-white",Bom:"bg-blue-500 text-white",Razoável:"bg-yellow-500 text-white",Ruim:"bg-orange-500 text-white",Péssimo:"bg-red-500 text-white"},o=!!r.responsavel;return l.jsx(mn,{open:e,onOpenChange:t,children:l.jsx(on,{className:"max-w-3xl w-full bg-white border border-gray-100 rounded-2xl overflow-hidden",children:l.jsxs("div",{className:"flex flex-col h-[80vh]",children:[l.jsxs(pn,{className:"p-6 pb-2 border-b border-gray-100 bg-white sticky top-0 z-10 shadow-sm",children:[l.jsxs(ln,{className:"flex items-center gap-2",children:[l.jsx(NO,{className:"h-5 w-5 text-purple-500"}),l.jsx("span",{className:"bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:"Detalhes do Item"})]}),l.jsx(gn,{asChild:!0,children:l.jsx("div",{className:"text-sm text-gray-500 mt-2",children:"Informações completas sobre o item do estoque"})})]}),l.jsx("div",{className:"flex-1 overflow-y-auto p-6 pb-20 space-y-6",children:l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx(_t,{className:"text-xs font-medium",children:"Nome:"}),l.jsx("p",{className:"font-medium text-sm",children:r.nome})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx(_t,{className:"text-xs font-medium",children:"Quantidade:"}),l.jsx("p",{className:"text-sm",children:r.quantidade})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx(_t,{className:"text-xs font-medium",children:"Categoria:"}),l.jsx("p",{className:"text-sm",children:r.categoria})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx(_t,{className:"text-xs font-medium",children:"Valor Unitário:"}),l.jsx("p",{className:"text-sm",children:((c=r.valorUnitario)==null?void 0:c.toLocaleString("pt-BR",{style:"currency",currency:"BRL"}))||"Não informado"})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx(_t,{className:"text-xs font-medium",children:"Valor Total:"}),l.jsx("p",{className:"text-sm",children:(r.quantidade*(r.valorUnitario||0)).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx(_t,{className:"text-xs font-medium",children:"Data de Recebimento:"}),l.jsx("p",{className:"text-sm",children:r.dataRecebimento||"Não informada"})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx(_t,{className:"text-xs font-medium",children:"Nota Fiscal:"}),l.jsx("p",{className:"text-sm",children:r.notaFiscal||"Não informada"})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx(_t,{className:"text-xs font-medium",children:"Número do Pedido:"}),l.jsx("p",{className:"text-sm",children:r.numeroPedido||"Não informado"})]}),o?l.jsxs("div",{className:"col-span-1 sm:col-span-2 space-y-1",children:[l.jsx(_t,{className:"text-xs font-medium",children:"Responsável:"}),l.jsx("p",{className:"text-sm font-medium text-gray-800",children:r.responsavel})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx(_t,{className:"text-xs font-medium",children:"Unidade:"}),l.jsx("p",{className:"text-sm",children:r.unidade||"Não informada"})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx(_t,{className:"text-xs font-medium",children:"Localização:"}),l.jsx("p",{className:"text-sm",children:r.localizacao||"Não informada"})]})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx(_t,{className:"text-xs font-medium",children:"Estado:"}),l.jsx("p",{className:`inline-flex items-center rounded-md px-2 py-1 text-xs font-medium ${s[r.estado]||"bg-gray-100 text-gray-800"}`,children:r.estado})]}),l.jsxs("div",{className:"col-span-1 sm:col-span-2 space-y-1",children:[l.jsx(_t,{className:"text-xs font-medium",children:"Descrição:"}),l.jsx("p",{className:"text-sm whitespace-pre-wrap break-words",children:r.descricao||"Não informada"})]})]})}),l.jsx(ii,{className:"p-6 border-t border-gray-100 bg-white sticky bottom-0 z-10",children:l.jsxs("div",{className:"flex flex-col-reverse sm:flex-row gap-2 justify-end w-full",children:[l.jsxs(me,{variant:"destructive",onClick:n,className:"w-full sm:w-auto",children:[l.jsx(Rs,{className:"mr-2 h-4 w-4"})," Excluir"]}),l.jsxs(me,{onClick:i,className:"w-full sm:w-auto",children:[l.jsx(hfe,{className:"mr-2 h-4 w-4"})," Copiar"]}),l.jsxs(me,{onClick:a,className:"w-full sm:w-auto",children:[l.jsx(Vy,{className:"mr-2 h-4 w-4"})," Editar"]})]})})]})})})},Wdt=({isOpen:e,onClose:t,formState:r,editingItem:n,handleSubmit:i,handleChange:a,locationsByUnit:s})=>{var u;const[o,c]=b.useState(r.responsavel?"responsible":"local");return l.jsx(mn,{open:e,onOpenChange:t,children:l.jsx(on,{className:"max-w-2xl w-full bg-white border border-gray-100 rounded-2xl overflow-hidden",children:l.jsxs("div",{className:"flex flex-col h-[80vh] max-h-[80vh]",children:[l.jsxs(pn,{className:"p-6 pb-2 border-b border-gray-100 bg-white sticky top-0 z-10 shadow-sm",children:[l.jsxs(ln,{className:"flex items-center gap-2",children:[l.jsx(NO,{className:"h-5 w-5 text-purple-500"}),l.jsx("span",{className:"bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:n?"Editar Item":"Novo Item"})]}),l.jsx(gn,{asChild:!0,children:l.jsxs("div",{className:"text-sm text-gray-500 mt-2",children:["Campos marcados com ",l.jsx("span",{className:"text-destructive",children:"*"})," são obrigatórios"]})})]}),l.jsx("div",{className:"flex-1 overflow-y-auto p-6 pb-16",children:l.jsx("form",{onSubmit:i,className:"space-y-6",children:l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs(_t,{children:["Nome do Item ",l.jsx("span",{className:"text-destructive",children:"*"})]}),l.jsx(Bt,{placeholder:"Ex: Computador",value:r.nome,onChange:d=>a("nome",d.target.value),className:"focus:ring-2 focus:ring-eccos-purple focus:border-eccos-purple outline-none transition-all"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(_t,{children:["Quantidade ",l.jsx("span",{className:"text-destructive",children:"*"})]}),l.jsx(Bt,{type:"number",min:"0",step:"1",value:isNaN(r.quantidade)?"":r.quantidade,onChange:d=>a("quantidade",Number(d.target.value)),className:"focus:ring-2 focus:ring-eccos-purple focus:border-eccos-purple outline-none transition-all"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(_t,{children:["Estado ",l.jsx("span",{className:"text-destructive",children:"*"})]}),l.jsxs("select",{value:r.estado,onChange:d=>a("estado",d.target.value),className:"w-full h-10 rounded-md border px-3 focus:ring-2 focus:ring-eccos-purple focus:border-eccos-purple outline-none transition-all",children:[l.jsx("option",{value:"",children:"Selecione um estado"}),l.jsx("option",{value:"Ótimo",children:"Ótimo"}),l.jsx("option",{value:"Bom",children:"Bom"}),l.jsx("option",{value:"Razoável",children:"Razoável"}),l.jsx("option",{value:"Ruim",children:"Ruim"}),l.jsx("option",{value:"Péssimo",children:"Péssimo"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(_t,{children:["Categoria ",l.jsx("span",{className:"text-destructive",children:"*"})]}),l.jsxs("select",{value:r.categoria,onChange:d=>a("categoria",d.target.value),className:"w-full h-10 rounded-md border px-3 focus:ring-2 focus:ring-eccos-purple focus:border-eccos-purple outline-none transition-all",children:[l.jsx("option",{value:"",children:"Selecione uma categoria"}),l.jsx("option",{value:"TI",children:"TI"}),l.jsx("option",{value:"Administrativo",children:"Administrativo"}),l.jsx("option",{value:"Limpeza",children:"Limpeza"}),l.jsx("option",{value:"Manutenção",children:"Manutenção"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(_t,{children:"Data de Recebimento"}),l.jsx(Bt,{type:"date",value:r.dataRecebimento||"",onChange:d=>a("dataRecebimento",d.target.value),className:"focus:ring-2 focus:ring-eccos-purple focus:border-eccos-purple outline-none transition-all"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(_t,{children:"Nota Fiscal"}),l.jsx(Bt,{placeholder:"Número da nota fiscal",value:r.notaFiscal||"",onChange:d=>a("notaFiscal",d.target.value),className:"focus:ring-2 focus:ring-eccos-purple focus:border-eccos-purple outline-none transition-all"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(_t,{children:"Número do Pedido"}),l.jsx(Bt,{placeholder:"Número do pedido",value:r.numeroPedido||"",onChange:d=>a("numeroPedido",d.target.value),className:"focus:ring-2 focus:ring-eccos-purple focus:border-eccos-purple outline-none transition-all"})]}),l.jsxs("div",{className:"col-span-1 sm:col-span-2 space-y-2",children:[l.jsx(_t,{children:"Descrição"}),l.jsx(Oa,{placeholder:"Descreva o item (opcional)",value:r.descricao||"",onChange:d=>a("descricao",d.target.value),className:"w-full h-20 focus:ring-2 focus:ring-eccos-purple focus:border-eccos-purple outline-none transition-all"})]}),l.jsxs("div",{className:"col-span-1 sm:col-span-2 space-y-4",children:[l.jsxs("div",{className:"flex gap-2 mb-2",children:[l.jsx(me,{type:"button",variant:o==="local"?"default":"outline",onClick:()=>c("local"),className:"flex-1",children:"Local"}),l.jsx(me,{type:"button",variant:o==="responsible"?"default":"outline",onClick:()=>c("responsible"),className:"flex-1",children:"Responsável"})]}),o==="responsible"?l.jsxs("div",{className:"space-y-2",children:[l.jsxs(_t,{children:["Nome do Responsável ",l.jsx("span",{className:"text-destructive",children:"*"})]}),l.jsx(Bt,{placeholder:"Ex: João Silva",value:r.responsavel||"",onChange:d=>a("responsavel",d.target.value),className:"focus:ring-2 focus:ring-eccos-purple focus:border-eccos-purple outline-none transition-all"})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs(_t,{children:["Unidade ",l.jsx("span",{className:"text-destructive",children:"*"})]}),l.jsxs("select",{value:r.unidade,onChange:d=>a("unidade",d.target.value),className:"w-full h-10 rounded-md border px-3 focus:ring-2 focus:ring-eccos-purple focus:border-eccos-purple outline-none transition-all",children:[l.jsx("option",{value:"",children:"Selecione uma unidade"}),Object.keys(s).map(d=>l.jsx("option",{value:d,children:d},d))]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(_t,{children:["Localização ",l.jsx("span",{className:"text-destructive",children:"*"})]}),l.jsxs("select",{value:r.localizacao,onChange:d=>a("localizacao",d.target.value),disabled:!r.unidade,className:`w-full h-10 rounded-md border px-3 focus:ring-2 focus:ring-eccos-purple focus:border-eccos-purple outline-none transition-all ${r.unidade?"":"bg-gray-50 text-gray-400 cursor-not-allowed"}`,children:[l.jsx("option",{value:"",children:"Selecione uma localização"}),r.unidade&&((u=s[r.unidade])==null?void 0:u.map(d=>l.jsx("option",{value:d,children:d},d)))]})]})]})]})]})})}),l.jsx(ii,{className:"p-6 border-t border-gray-100 bg-white sticky bottom-0 z-10",children:l.jsxs("div",{className:"flex flex-col-reverse sm:flex-row gap-2 justify-end w-full",children:[l.jsx(me,{variant:"outline",onClick:t,className:"w-full sm:w-auto",children:"Cancelar"}),l.jsx(me,{onClick:i,className:"w-full sm:w-auto",children:n?"Salvar Alterações":"Adicionar Item"})]})})]})})})},Hdt=({isOpen:e,onClose:t,itemName:r,onConfirm:n})=>l.jsx(To,{open:e,onOpenChange:t,children:l.jsxs(Bs,{children:[l.jsxs(Vs,{children:[l.jsx(Us,{children:"Confirmar exclusão"}),l.jsx(No,{children:"Esta ação não pode ser desfeita. O item será permanentemente removido."})]}),l.jsxs("div",{className:"py-4",children:['Tem certeza que deseja excluir o item "',r,'"?']}),l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx(Co,{children:"Cancelar"}),l.jsx(Ao,{onClick:n,className:"bg-destructive hover:bg-destructive/90",children:"Confirmar Exclusão"})]})]})}),qdt=({isOpen:e,onClose:t,itemName:r,onCreateAnyway:n,onEditExisting:i})=>l.jsx(To,{open:e,onOpenChange:t,children:l.jsxs(Bs,{children:[l.jsxs(Vs,{children:[l.jsx(Us,{children:"Item já existe"}),l.jsxs(No,{children:['Um item com o nome "',r,'" já está cadastrado no estoque.']})]}),l.jsx("div",{className:"py-4",children:"Você quer:"}),l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx(me,{variant:"outline",onClick:n,children:"Criar Novo Item"}),l.jsx(me,{onClick:i,children:"Editar Item Existente"})]})]})}),Gdt=({isOpen:e,onClose:t,bulkFormState:r,handleBulkChange:n,handleBulkSubmit:i,locationsByUnit:a})=>{var s;return l.jsx(mn,{open:e,onOpenChange:t,children:l.jsx(on,{className:"max-w-2xl w-full bg-white border border-gray-100 rounded-2xl overflow-hidden",children:l.jsxs("div",{className:"flex flex-col h-[80vh]",children:[l.jsxs(pn,{className:"p-6 pb-2 border-b border-gray-100 bg-white sticky top-0 z-10 shadow-sm",children:[l.jsxs(ln,{className:"flex items-center gap-2",children:[l.jsx(zq,{className:"h-6 w-6 text-purple-500"}),l.jsx("span",{className:"bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:"Cadastrar Múltiplos Itens"})]}),l.jsx(gn,{asChild:!0,children:l.jsx("div",{className:"text-sm text-gray-500 mt-2",children:"Preencha os campos para cadastrar vários itens idênticos"})})]}),l.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:l.jsx("form",{onSubmit:i,className:"space-y-6",children:l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs(_t,{children:["Nome Base ",l.jsx("span",{className:"text-destructive",children:"*"})]}),l.jsx(Bt,{placeholder:"Ex: Mesa de escritório",value:r.nomeBase,onChange:o=>n("nomeBase",o.target.value),className:"focus:ring-2 focus:ring-eccos-purple focus:border-eccos-purple outline-none transition-all"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(_t,{children:["Quantidade de Itens ",l.jsx("span",{className:"text-destructive",children:"*"})]}),l.jsx(Bt,{type:"number",min:"1",step:"1",value:r.quantidadeItens,onChange:o=>n("quantidadeItens",Number(o.target.value)),className:"focus:ring-2 focus:ring-eccos-purple focus:border-eccos-purple outline-none transition-all"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(_t,{children:["Categoria ",l.jsx("span",{className:"text-destructive",children:"*"})]}),l.jsxs("select",{value:r.categoria,onChange:o=>n("categoria",o.target.value),className:"w-full h-10 rounded-md border px-3 focus:ring-2 focus:ring-eccos-purple focus:border-eccos-purple outline-none transition-all",children:[l.jsx("option",{value:"",children:"Selecione uma categoria"}),l.jsx("option",{value:"TI",children:"TI"}),l.jsx("option",{value:"Administrativo",children:"Administrativo"}),l.jsx("option",{value:"Limpeza",children:"Limpeza"}),l.jsx("option",{value:"Manutenção",children:"Manutenção"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(_t,{children:["Unidade ",l.jsx("span",{className:"text-destructive",children:"*"})]}),l.jsxs("select",{value:r.unidade,onChange:o=>n("unidade",o.target.value),className:"w-full h-10 rounded-md border px-3 focus:ring-2 focus:ring-eccos-purple focus:border-eccos-purple outline-none transition-all",children:[l.jsx("option",{value:"",children:"Selecione uma unidade"}),Object.keys(a).map(o=>l.jsx("option",{value:o,children:o},o))]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(_t,{children:["Localização ",l.jsx("span",{className:"text-destructive",children:"*"})]}),l.jsxs("select",{value:r.localizacao,onChange:o=>n("localizacao",o.target.value),disabled:!r.unidade,className:`w-full h-10 rounded-md border px-3 focus:ring-2 focus:ring-eccos-purple focus:border-eccos-purple outline-none transition-all ${r.unidade?"":"bg-gray-50 text-gray-400 cursor-not-allowed"}`,children:[l.jsx("option",{value:"",children:"Selecione uma localização"}),r.unidade&&((s=a[r.unidade])==null?void 0:s.map(o=>l.jsx("option",{value:o,children:o},o)))]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(_t,{children:["Estado ",l.jsx("span",{className:"text-destructive",children:"*"})]}),l.jsxs("select",{value:r.estado,onChange:o=>n("estado",o.target.value),className:"w-full h-10 rounded-md border px-3 focus:ring-2 focus:ring-eccos-purple focus:border-eccos-purple outline-none transition-all",children:[l.jsx("option",{value:"",children:"Selecione um estado"}),l.jsx("option",{value:"Ótimo",children:"Ótimo"}),l.jsx("option",{value:"Bom",children:"Bom"}),l.jsx("option",{value:"Razoável",children:"Razoável"}),l.jsx("option",{value:"Ruim",children:"Ruim"}),l.jsx("option",{value:"Péssimo",children:"Péssimo"})]})]}),l.jsxs("div",{className:"col-span-1 sm:col-span-2 space-y-2",children:[l.jsx(_t,{children:"Descrição"}),l.jsx(Oa,{placeholder:"Descreva os itens (opcional)",value:r.descricao||"",onChange:o=>n("descricao",o.target.value),className:"focus:ring-2 focus:ring-eccos-purple focus:border-eccos-purple outline-none transition-all"})]})]})})}),l.jsx(ii,{className:"p-6 border-t border-gray-100 bg-white sticky bottom-0 z-10",children:l.jsxs("div",{className:"flex flex-col-reverse sm:flex-row gap-2 justify-end w-full",children:[l.jsx(me,{variant:"outline",onClick:t,className:"w-full sm:w-auto",children:"Cancelar"}),l.jsx(me,{onClick:i,className:"w-full sm:w-auto",children:"Adicionar Múltiplos Itens"})]})})]})})})},$z={"Berçário e Educação Infantil":["Recepção","Sala de reuniões","Cozinha","Pátio","Sala de música","Sala de science","Berçário 2","Berçário 3","Refeitório","Sala de movimento","Pátio integral","Infantil 1","Infantil 2"],Fundamental:["Recepção","Secretaria","Sala de atendimento","Sala de atendimento (Laranja)","Sala de auxiliar de coordenação fundamental 1","Sala de oficinas","Sala de música","Sala de science","Integral","4º Ano","Patio (Cantina)","Refeitório","Biblioteca (Inferior)","3º Ano","2º Ano","1º Ano","Sala dos professores","Sala de Linguas","Coordenação de linguas/Fundamental 2","Sala de artes","Coordenação Fundamental 1 / Coordenação de matemática","8º ano","7º Ano","Apoio pedagógico","Orientação educacional","TI","Sala de oficinas (Piso superior)","5º Ano","6º Ano","Biblioteca (Superior)","Sala de convivência","9º Ano"],Anexo:["Sala de manutenção","Sala de reuniões","Refeitório","Cozinha","Nutrição","Controladoria","Financeiro","Operacional","Mantenedoria"]},Kdt=()=>{const e=vl(),[t,r]=b.useState(!1),[n,i]=b.useState(!1),[a,s]=b.useState(!1),[o,c]=b.useState(!1),[u,d]=b.useState(null),[f,h]=b.useState(null),[m,g]=b.useState(null),[p,v]=b.useState(""),[y,x]=b.useState(""),[w,N]=b.useState(""),[E,T]=b.useState({nome:"",quantidade:NaN,valorUnitario:void 0,descricao:"",categoria:"",unidade:"",localizacao:"",estado:"Bom",responsavel:"",dataRecebimento:"",notaFiscal:"",numeroPedido:""}),[S,A]=b.useState(!1),[C,j]=b.useState(null),I=[{id:"nome",label:"Nome",defaultSelected:!0},{id:"quantidade",label:"Quantidade",defaultSelected:!0},{id:"valorUnitario",label:"Valor Unitário",defaultSelected:!0},{id:"categoria",label:"Categoria",defaultSelected:!0},{id:"unidade",label:"Unidade",defaultSelected:!0},{id:"localizacao",label:"Localização",defaultSelected:!0},{id:"estado",label:"Estado",defaultSelected:!0},{id:"descricao",label:"Descrição",defaultSelected:!0},{id:"responsavel",label:"Responsável",defaultSelected:!0},{id:"dataRecebimento",label:"Data de Recebimento",defaultSelected:!0},{id:"notaFiscal",label:"Nota Fiscal",defaultSelected:!0},{id:"numeroPedido",label:"Número do Pedido",defaultSelected:!0}],[O,k]=b.useState({nomeBase:"",quantidadeItens:1,categoria:"",unidade:"",localizacao:"",estado:"Bom",descricao:""});b.useEffect(()=>{const fe=new IntersectionObserver(le=>{le.forEach(Be=>{Be.isIntersecting&&Be.target.classList.add("visible")})},{threshold:.1});return document.querySelectorAll(".fade-up").forEach(le=>fe.observe(le)),()=>fe.disconnect()},[]);const{data:D=[],isLoading:B}=ua({queryKey:["estoque"],queryFn:async()=>(await Ia(qr(Ze,"estoque"))).docs.map(le=>({id:le.id,...le.data()}))}),ee=D.filter(fe=>{var vt;const le=p?fe.categoria===p:!0,Be=y?fe.localizacao===y:!0,Oe=w?fe.nome.toLowerCase().includes(w.toLowerCase())||((vt=fe.descricao)==null?void 0:vt.toLowerCase().includes(w.toLowerCase()))||!1:!0;return le&&Be&&Oe}),z=["TI","Administrativo","Limpeza","Manutenção"],V=Array.from(new Set(D.map(fe=>fe.localizacao).filter(fe=>fe!==""))),U=Xb({mutationFn:async fe=>{await xu(qr(Ze,"estoque"),fe)},onSuccess:()=>{e.invalidateQueries({queryKey:["estoque"]}),$e.success("Item adicionado com sucesso")}}),se=Xb({mutationFn:async fe=>{const le=fe.map(Be=>xu(qr(Ze,"estoque"),Be));await Promise.all(le)},onSuccess:()=>{e.invalidateQueries({queryKey:["estoque"]}),$e.success("Itens adicionados com sucesso")}}),ne=Xb({mutationFn:async fe=>{if(!fe.id)return;const{id:le,...Be}=fe;await ur(xt(Ze,"estoque",le),Be)},onSuccess:()=>{e.invalidateQueries({queryKey:["estoque"]}),$e.success("Item atualizado com sucesso")}}),M=Xb({mutationFn:async fe=>{await gf(xt(Ze,"estoque",fe))},onSuccess:()=>{e.invalidateQueries({queryKey:["estoque"]}),$e.success("Item removido com sucesso")}}),W=fe=>{fe.preventDefault();const le=E.nome.trim();if(!le){$e.error("Nome do item é obrigatório");return}if(E.quantidade<=0){$e.error("Quantidade deve ser maior que zero");return}if(!E.categoria){$e.error("Selecione uma categoria");return}if(E.responsavel)E.unidade="",E.localizacao="";else{if(!E.unidade){$e.error("Selecione uma unidade");return}if(!E.localizacao){$e.error("Selecione uma localização");return}}const Be=D.find(vt=>vt.nome===le);if(Be&&!m){j(Be),A(!0);return}const Oe={nome:le,quantidade:E.quantidade,categoria:E.categoria,estado:E.estado,...E.valorUnitario!==void 0&&{valorUnitario:E.valorUnitario},...E.descricao&&{descricao:E.descricao},...E.responsavel&&{responsavel:E.responsavel},...!E.responsavel&&{unidade:E.unidade,localizacao:E.localizacao},...E.dataRecebimento&&{dataRecebimento:E.dataRecebimento},...E.notaFiscal&&{notaFiscal:E.notaFiscal},...E.numeroPedido&&{numeroPedido:E.numeroPedido}};m?ne.mutate({...Oe,id:m.id}):U.mutate(Oe),r(!1),P()},G=fe=>{fe.preventDefault();const{nomeBase:le,quantidadeItens:Be,categoria:Oe,unidade:vt,localizacao:mt,estado:ge,descricao:st}=O;if(!le.trim()){$e.error("Nome base é obrigatório");return}if(Be<=0||!Number.isInteger(Be)){$e.error("Quantidade deve ser um número inteiro positivo");return}if(!Oe||!vt||!mt){$e.error("Todos os campos são obrigatórios");return}const _e=Array.from({length:Be}).map((Q,ce)=>({nome:`${le} ${ce+1}`,quantidade:1,categoria:Oe,unidade:vt,localizacao:mt,estado:ge,descricao:st,dataRecebimento:"",notaFiscal:"",numeroPedido:""}));se.mutate(_e),i(!1),k({nomeBase:"",quantidadeItens:1,categoria:"",unidade:"",localizacao:"",estado:"Bom",descricao:""})},P=()=>{T({nome:"",quantidade:NaN,valorUnitario:void 0,descricao:"",categoria:"",unidade:"",localizacao:"",estado:"Bom",responsavel:"",dataRecebimento:"",notaFiscal:"",numeroPedido:""}),g(null)},J=fe=>{g(fe),T(fe),r(!0)},oe=fe=>{const le={...fe};delete le.id,g(null),T(le),r(!0)},ae=()=>{A(!1);const fe={nome:E.nome,quantidade:E.quantidade,categoria:E.categoria,estado:E.estado,...E.valorUnitario!==void 0&&{valorUnitario:E.valorUnitario},...E.descricao&&{descricao:E.descricao},...E.responsavel&&{responsavel:E.responsavel},...!E.responsavel&&{unidade:E.unidade,localizacao:E.localizacao},...E.dataRecebimento&&{dataRecebimento:E.dataRecebimento},...E.notaFiscal&&{notaFiscal:E.notaFiscal},...E.numeroPedido&&{numeroPedido:E.numeroPedido}};U.mutate(fe),r(!1),P()},K=()=>{C&&(J(C),A(!1))},ie=(fe,le)=>{T(Be=>({...Be,[fe]:le}))};return l.jsx(sn,{children:l.jsxs("div",{className:"min-h-screen bg-white overflow-hidden relative",children:[l.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[l.jsx("div",{className:"absolute left-1/4 top-1/4 h-96 w-96 rounded-full bg-sidebar blur-3xl opacity-5"}),l.jsx("div",{className:"absolute right-1/4 bottom-1/4 h-80 w-80 rounded-full bg-eccos-purple blur-3xl opacity-5"})]}),l.jsxs("div",{className:"relative z-10 space-y-8 p-6 md:p-12 fade-up",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2 bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:[l.jsx(oE,{className:"text-eccos-purple",size:36}),"Controle de Estoque"]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(_m,{data:ee.map(fe=>({...fe,valorUnitario:fe.valorUnitario?new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(fe.valorUnitario):"Não informado",dataRecebimento:fe.dataRecebimento||"Não informada"})),columns:I,filename:`estoque-${new Date().toISOString().slice(0,10)}`,children:l.jsxs(me,{variant:"outline",className:"flex items-center gap-2",children:[l.jsx(Ps,{className:"h-4 w-4"}),"Exportar"]})}),l.jsxs(me,{onClick:()=>r(!0),className:"bg-eccos-purple hover:bg-sidebar text-white transition-all duration-300",children:[l.jsx(TO,{className:"mr-2 h-4 w-4"}),"Novo Item"]}),l.jsxs(me,{onClick:()=>i(!0),className:"bg-green-600 hover:bg-green-700 text-white transition-all duration-300",children:[l.jsx(zq,{className:"mr-2 h-4 w-4"}),"Múltiplos Itens"]})]})]}),l.jsxs("div",{className:"bg-white border border-gray-100 rounded-2xl shadow-lg p-6 fade-up",children:[l.jsx("h2",{className:"text-lg font-semibold mb-4 text-gray-700",children:"Filtros"}),l.jsx(Vdt,{filtroCategoria:p,filtroNomeDescricao:w,setFiltroCategoria:v,setFiltroNomeDescricao:N,todasCategorias:z,localizacoesCadastradas:V})]}),l.jsx("div",{className:"bg-white border border-gray-100 rounded-2xl shadow-lg overflow-hidden fade-up",children:l.jsx(Udt,{itensFiltrados:ee,setIsDetailModalOpen:c,setSelectedItemDetails:h})}),l.jsx(zdt,{isOpen:o,onClose:()=>c(!1),selectedItemDetails:f,onDelete:()=>{d(f),s(!0)},onClone:()=>oe(f),onEdit:()=>J(f)}),l.jsx(Wdt,{isOpen:t,onClose:()=>r(!1),formState:E,editingItem:m,handleSubmit:W,handleChange:ie,locationsByUnit:$z}),l.jsx(Gdt,{isOpen:n,onClose:()=>i(!1),bulkFormState:O,handleBulkChange:(fe,le)=>k(Be=>({...Be,[fe]:le})),handleBulkSubmit:G,locationsByUnit:$z}),l.jsx(Hdt,{isOpen:a,onClose:()=>s(!1),itemName:(u==null?void 0:u.nome)||"",onConfirm:()=>{u!=null&&u.id&&M.mutate(u.id),s(!1),c(!1),r(!1)}}),l.jsx(qdt,{isOpen:S,onClose:()=>A(!1),itemName:E.nome,onCreateAnyway:ae,onEditExisting:K})]}),l.jsx("footer",{className:"relative z-10 bg-gray-50 py-10 px-4 md:px-12 fade-up",children:l.jsx("div",{className:"max-w-6xl mx-auto",children:l.jsx("div",{className:"text-center",children:l.jsx("p",{className:"text-gray-500 text-sm",children:"© 2025 Colégio ECCOS - Todos os direitos reservados"})})})})]})})},Bz=e=>{switch(e){case"pending":return l.jsx(Se,{variant:"outline",className:"border-yellow-500 text-yellow-600",children:"Pendente"});case"approved":return l.jsx(Se,{className:"bg-green-500 text-white",children:"Aprovada"});case"rejected":return l.jsx(Se,{variant:"destructive",children:"Reprovada"});case"in-progress":return l.jsx(Se,{className:"bg-blue-500 text-white",children:"Em Andamento"});case"completed":return l.jsx(Se,{className:"bg-slate-500 text-white",children:"Concluída"});case"canceled":return l.jsx(Se,{className:"bg-amber-500 text-white",children:"Cancelada"});default:return l.jsx(Se,{variant:"outline",children:"Desconhecido"})}},Ydt=()=>{var ee;const[e,t]=b.useState(new Date),[r,n]=b.useState(null),[i,a]=b.useState(null),[s,o]=b.useState(!1),[c,u]=b.useState(""),[d,f]=b.useState(["pending","approved","in-progress"]),[h,m]=b.useState({}),{currentUser:g}=Mr();((g==null?void 0:g.role)||[]).includes("admin");const{data:p=[],isLoading:v,isError:y,refetch:x}=ua({queryKey:["reservasCalendario"],queryFn:()=>Pu(),select:z=>z.filter(V=>V.type==="reservation"),retry:2}),w=async(z,V)=>{if(!V.length)return[];const U=await Promise.all(V.map(async se=>{const ne=await ts(xt(Ze,"equipment",se));return ne.exists()?ne.data().name:"Equipamento desconhecido"}));m(se=>({...se,[z]:U.filter(Boolean)}))},N=(z,V)=>{const U=new Date(z),[se,ne]=V.split(":").map(Number);return U.setHours(se,ne,0,0),U},E=p.reduce((z,V)=>{const U=Gt(V.date.toDate(),"yyyy-MM-dd");return z[U]||(z[U]=[]),z[U].push({...V,start:N(U,V.startTime),end:N(U,V.endTime)}),z},{}),T=()=>{const z=[];for(let V=0;V<24;V++)z.push(`${V.toString().padStart(2,"0")}:00`);return z},S=()=>{const z=pl(e,{weekStartsOn:0});return Array.from({length:7}).map((V,U)=>bi(z,U))},A=p.length,C=S().reduce((z,V)=>{var se;const U=Gt(V,"yyyy-MM-dd");return z+(((se=E[U])==null?void 0:se.length)||0)},0),j=[...new Set(p.map(z=>z.location))].length,I=[...new Set(p.map(z=>z.userId))].length,O=async z=>{await w(z.id,z.equipmentIds||[]),n(z)},k=async z=>{if(r)try{const V=xt(Ze,r.collectionName,r.id);await ur(V,{status:z,history:v0({status:z,message:`Status alterado para ${z}`,timestamp:Ot.now()})}),$e.success("Status atualizado"),x()}catch{$e.error("Erro ao atualizar status")}},D=z=>{a(z),o(!0)},B=async()=>{if(i)try{await fm(i.id,i.collectionName),$e.success("Excluído com sucesso"),o(!1),a(null),x()}catch(z){$e.error("Erro ao excluir"),console.error("Error:",z)}};return l.jsx(sn,{children:l.jsxs("div",{className:"min-h-screen bg-white overflow-hidden relative",children:[l.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[l.jsx("div",{className:"absolute left-1/4 top-1/4 h-96 w-96 rounded-full bg-sidebar blur-3xl opacity-5"}),l.jsx("div",{className:"absolute right-1/4 bottom-1/4 h-80 w-80 rounded-full bg-eccos-purple blur-3xl opacity-5"})]}),l.jsxs("div",{className:"relative z-10 space-y-6 p-4 md:p-6 lg:p-12 fade-up",children:[l.jsxs("h1",{className:"text-2xl md:text-3xl font-bold flex items-center gap-2 bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:[l.jsx(Zn,{className:"text-eccos-purple",size:35}),"Calendário de Reservas"]}),v&&l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-eccos-purple"})}),y&&l.jsxs("div",{className:"bg-white border border-gray-100 rounded-2xl shadow-lg p-8 text-center",children:[l.jsx("p",{className:"text-lg text-gray-500 mb-4",children:"Ocorreu um erro ao carregar as reservas."}),l.jsx(me,{onClick:()=>x(),className:"bg-eccos-purple hover:bg-sidebar text-white",children:"Tentar novamente"})]}),!v&&!y&&l.jsxs("div",{className:"space-y-6 fade-up",children:[l.jsxs("div",{className:"grid gap-4 grid-cols-2 lg:grid-cols-4",children:[l.jsxs(Qe,{className:"bg-white border border-gray-100 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 relative group overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),l.jsx(Rt,{className:"pb-2",children:l.jsx(kt,{className:"text-xs md:text-sm font-medium text-gray-600",children:"Total de Reservas"})}),l.jsxs(nt,{children:[l.jsx("div",{className:"text-xl md:text-2xl font-bold bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:A}),l.jsx(Se,{variant:"outline",className:"mt-2 border-eccos-purple text-eccos-purple text-xs",children:"Agendamentos"})]})]}),l.jsxs(Qe,{className:"bg-white border border-gray-100 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 relative group overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),l.jsx(Rt,{className:"pb-2",children:l.jsx(kt,{className:"text-xs md:text-sm font-medium text-gray-600",children:"Reservas Nesta Semana"})}),l.jsxs(nt,{children:[l.jsx("div",{className:"text-xl md:text-2xl font-bold bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:C}),l.jsx(Se,{variant:"outline",className:"mt-2 border-eccos-purple text-eccos-purple text-xs",children:"Esta Semana"})]})]}),l.jsxs(Qe,{className:"bg-white border border-gray-100 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 relative group overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),l.jsx(Rt,{className:"pb-2",children:l.jsx(kt,{className:"text-xs md:text-sm font-medium text-gray-600",children:"Locais Reservados"})}),l.jsxs(nt,{children:[l.jsx("div",{className:"text-xl md:text-2xl font-bold bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:j}),l.jsx(Se,{variant:"outline",className:"mt-2 border-eccos-purple text-eccos-purple text-xs",children:"Espaços"})]})]}),l.jsxs(Qe,{className:"bg-white border border-gray-100 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 relative group overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),l.jsx(Rt,{className:"pb-2",children:l.jsx(kt,{className:"text-xs md:text-sm font-medium text-gray-600",children:"Usuários com Reservas"})}),l.jsxs(nt,{children:[l.jsx("div",{className:"text-xl md:text-2xl font-bold bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:I}),l.jsx(Se,{variant:"outline",className:"mt-2 border-eccos-purple text-eccos-purple text-xs",children:"Professores"})]})]})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4 px-4 py-4 bg-white rounded-lg shadow border border-gray-200",children:[l.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[l.jsx(me,{variant:"outline",size:"sm",className:"border-eccos-purple text-eccos-purple hover:bg-eccos-purple/10",onClick:()=>t(z=>bi(z,-7)),children:l.jsx(nE,{className:"h-4 w-4"})}),l.jsx("span",{className:"font-medium text-black text-sm sm:text-lg whitespace-nowrap",children:Gt(e,"MMMM 'de' yyyy",{locale:Gr})}),l.jsx(me,{variant:"outline",size:"sm",className:"border-eccos-purple text-black hover:bg-eccos-purple/10",onClick:()=>t(z=>bi(z,7)),children:l.jsx(By,{className:"h-4 w-4"})})]}),l.jsx(me,{size:"sm",className:"bg-eccos-purple hover:bg-sidebar text-white",onClick:()=>x(),children:"Atualizar"})]}),l.jsxs(Qe,{className:"rounded-2xl shadow-lg overflow-hidden bg-white",children:[l.jsx("div",{className:"bg-white sticky top-0 z-10",children:l.jsxs("div",{className:"grid grid-cols-8 h-12 md:h-12",children:[l.jsx("div",{className:"flex items-center justify-center text-xs md:text-sm font-medium"}),S().map((z,V)=>{const U=["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"];return l.jsxs("div",{className:"flex flex-col items-center justify-center text-xs md:text-sm font-medium",children:[l.jsx("span",{className:"text-xs font-bold text-black",children:U[V]}),l.jsx("span",{className:"mt-1 text-sm md:text-lg font-bold text-eccos-purple",children:Gt(z,"d")})]},V)})]})}),l.jsx("div",{className:"bg-white overflow-x-auto p-0",children:l.jsx("div",{className:"grid grid-cols-8 min-w-full mt-0",children:T().map(z=>l.jsxs(te.Fragment,{children:[l.jsx("div",{className:"border-r border-gray-200 p-1 md:p-2 text-xs text-blue-600 text-center font-medium h-8 md:h-10 flex items-center justify-center min-w-[50px]",children:z}),S().map((V,U)=>{const se=Gt(V,"yyyy-MM-dd"),ne=E[se]||[];return l.jsx("div",{className:"border-t border-r border-gray-200 relative hover:bg-gray-50 transition-colors bg-white h-8 md:h-10 min-w-[50px]",style:{overflow:"visible"},children:ne.filter(M=>{const W=N(se,z),[G]=z.split(":").map(Number),P=new Date(W);return P.setHours(G+1,0,0,0),M.start>=W&&M.start<P}).map((M,W)=>{const G=(M.end.getTime()-M.start.getTime())/36e5,P=(M.start.getHours()*60+M.start.getMinutes())%60/60*100;return l.jsxs("div",{role:"button",tabIndex:0,onClick:()=>O(M),onKeyDown:J=>{(J.key==="Enter"||J.key===" ")&&O(M)},className:"absolute bg-gradient-to-r from-blue-50 to-blue-100 border border-blue-300 rounded p-1 md:p-2 m-0.5 md:m-1 text-xs w-[95%] cursor-pointer z-20 shadow-md hover:shadow-lg transition-shadow flex flex-col justify-center",style:{top:`${P}%`,height:`${G*100}%`},children:[l.jsx("div",{className:"font-medium truncate text-xs",title:M.userName,children:M.userName.split(" ")[0]}),l.jsxs("div",{className:"text-blue-600 mt-0.5 text-xs hidden md:block",children:[Gt(M.start,"HH:mm")," - ",Gt(M.end,"HH:mm")]})]},W)})},U)})]},z))})})]})]}),r&&l.jsx(mn,{open:!!r,onOpenChange:()=>n(null),children:l.jsx(on,{className:"max-w-3xl bg-white border border-gray-100 rounded-2xl overflow-hidden",children:l.jsxs("div",{className:"flex flex-col h-[80vh]",children:[l.jsxs(pn,{className:"p-6 pb-2 border-b border-gray-100 bg-white sticky top-0 z-10",children:[l.jsxs(ln,{className:"flex items-center gap-2",children:[l.jsx(Zn,{className:"h-5 w-5 text-purple-500"}),l.jsxs("span",{className:"bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:["Solicitação de Reserva - ",r.userName||r.userEmail]})]}),l.jsx(gn,{asChild:!0,children:l.jsxs("div",{className:"flex items-center justify-between text-gray-500 px-1 mt-2",children:[l.jsx("div",{children:Gt(r.date.toDate(),"dd/MM/yyyy HH:mm",{locale:Gr})}),l.jsx("div",{children:Bz(r.status)})]})})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Solicitante"}),l.jsx("p",{className:"font-medium",children:r.userName})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Local"}),l.jsx("p",{className:"font-medium",children:r.location})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Data/Hora"}),l.jsxs("p",{className:"font-medium",children:[Gt(r.date.toDate(),"dd/MM/yyyy",{locale:Gr})," •"," ",r.startTime," - ",r.endTime]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Finalidade"}),l.jsx("div",{className:"bg-gray-50 p-4 rounded-xl",children:l.jsx("p",{className:"whitespace-pre-wrap break-words",children:r.purpose})})]}),((ee=h[r.id])==null?void 0:ee.length)>0&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Equipamentos"}),l.jsx("div",{className:"bg-gray-50 p-4 rounded-xl",children:l.jsx("ul",{className:"list-disc list-inside space-y-1",children:h[r.id].map((z,V)=>l.jsx("li",{className:"text-gray-700",children:z},V))})})]}),l.jsx("div",{children:l.jsxs(ei,{children:[l.jsx(ti,{asChild:!0,children:l.jsxs(me,{variant:"outline",className:"flex items-center gap-2",children:["Alterar Status",l.jsx(lc,{className:"h-4 w-4"})]})}),l.jsx(zn,{align:"start",className:"bg-background rounded-xl",children:["pending","approved","rejected","in-progress","completed","canceled"].map(z=>l.jsx(_o,{checked:r.status===z,onCheckedChange:()=>k(z),children:Bz(z)},z))})]})})]}),l.jsx(ii,{className:"p-6 border-t border-gray-100 gap-2 bg-white sticky bottom-0 z-10",children:l.jsxs(me,{variant:"destructive",onClick:()=>D(r),className:"w-full sm:w-auto",children:[l.jsx(Rs,{className:"h-4 w-4 mr-2"}),"Excluir Solicitação"]})})]})})}),l.jsx(To,{open:s,onOpenChange:o,children:l.jsxs(Bs,{className:"rounded-2xl",children:[l.jsxs(Vs,{children:[l.jsx(Us,{children:"Confirmar exclusão"}),l.jsx(No,{children:"Tem certeza que deseja excluir permanentemente esta solicitação? Esta ação não pode ser desfeita."})]}),l.jsxs(wl,{children:[l.jsx(Co,{className:"rounded-xl",children:"Cancelar"}),l.jsx(Ao,{onClick:B,className:"rounded-xl bg-red-600 hover:bg-red-700",children:"Confirmar Exclusão"})]})]})})]}),l.jsx("footer",{className:"relative z-10 bg-gray-50 py-10 px-4 md:px-12 fade-up",children:l.jsx("div",{className:"max-w-6xl mx-auto text-center",children:l.jsx("p",{className:"text-gray-500 text-sm",children:"© 2025 Colégio ECCOS - Todos os direitos reservados"})})})]})})},bv=CX(M1),Xdt=()=>{const{toast:e}=So(),[t,r]=b.useState([]),[n,i]=b.useState([]),[a,s]=b.useState(!0),[o,c]=b.useState(null),[u,d]=b.useState([]),[f,h]=b.useState(!1),[m,g]=b.useState("bugs"),[p,v]=b.useState(!1),[y,x]=b.useState(!1),w=b.useRef(null),N=lQ(M1);b.useEffect(()=>{(async()=>{try{s(!0);const B=ks(qr(bv,"bugReports"),la("status","==","open")),ee=ks(qr(bv,"bugReports"),la("status","==","resolved")),[z,V]=await Promise.all([Ia(B),Ia(ee)]),U=[],se=[];z.forEach(ne=>{const M=ne.data();U.push({id:ne.id,title:M.title,description:M.description,createdAt:M.createdAt.toDate(),status:M.status,userEmail:M.userEmail,pageUrl:M.pageUrl})}),V.forEach(ne=>{const M=ne.data();se.push({id:ne.id,title:M.title,description:M.description,createdAt:M.createdAt.toDate(),status:M.status,userEmail:M.userEmail,pageUrl:M.pageUrl})}),r(U.sort((ne,M)=>M.createdAt.getTime()-ne.createdAt.getTime())),i(se.sort((ne,M)=>M.createdAt.getTime()-ne.createdAt.getTime()))}catch(B){console.error("Erro ao carregar relatórios de bugs:",B),e({title:"Erro",description:"Não foi possível carregar os relatórios de bugs.",variant:"destructive"})}finally{s(!1)}})()},[e]),b.useEffect(()=>{const D=async()=>{try{const B=Xc(N,"manuais/"),ee=await oQ(B).catch(V=>{if(V.code==="storage/object-not-found")return{items:[]};throw V});if(ee.items.length===0){d([]);return}const z=await Promise.all(ee.items.map(async V=>{try{const U=await y0(V);return{name:V.name,url:U}}catch(U){return console.error(`Erro ao obter URL para ${V.name}:`,U),null}}));d(z.filter(Boolean))}catch(B){console.error("Erro ao carregar manuais:",B);let ee="Não foi possível carregar os manuais.";B.code==="storage/unauthorized"?ee="Permissão negada. Verifique as regras do Firebase.":B.code==="storage/object-not-found"?ee="Pasta de manuais não encontrada. Faça o primeiro upload.":ee="Não foi possível carregar os manuais. Verifique sua conexão.",e({title:"Erro",description:ee,variant:"destructive"}),B.code!=="storage/unauthorized"&&B.code!=="storage/object-not-found"&&setTimeout(D,5e3)}};D()},[e,N]);const E=D=>{if(D.target.files&&D.target.files[0]){const B=D.target.files[0];B.type==="application/pdf"?c(B):e({title:"Tipo de arquivo inválido",description:"Apenas arquivos PDF são permitidos.",variant:"destructive"})}},T=D=>{D.preventDefault(),D.stopPropagation(),D.type==="dragenter"||D.type==="dragover"?x(!0):D.type==="dragleave"&&x(!1)},S=D=>{if(D.preventDefault(),D.stopPropagation(),x(!1),D.dataTransfer.files&&D.dataTransfer.files[0]){const B=D.dataTransfer.files[0];B.type==="application/pdf"?c(B):e({title:"Tipo de arquivo inválido",description:"Apenas arquivos PDF são permitidos.",variant:"destructive"})}},A=()=>{var D;(D=w.current)==null||D.click()},C=async()=>{if(!o){e({title:"Erro",description:"Por favor, selecione um arquivo.",variant:"destructive"});return}h(!0);try{const D=Xc(N,`manuais/${o.name}`);await a4(D,o);const B=await y0(D);d([...u,{name:o.name,url:B}]),c(null),e({title:"Sucesso!",description:"Arquivo enviado com sucesso."})}catch(D){console.error("Erro ao fazer upload:",D),e({title:"Erro",description:"Falha ao enviar o arquivo.",variant:"destructive"})}finally{h(!1)}},j=async D=>{try{const B=Xc(N,`manuais/${D}`);await s4(B),d(u.filter(ee=>ee.name!==D)),e({title:"Sucesso",description:"Manual removido com sucesso."})}catch(B){console.error("Erro ao excluir manual:",B),e({title:"Erro",description:"Falha ao remover o manual.",variant:"destructive"})}},I=async D=>{try{const B=xt(bv,"bugReports",D);await ur(B,{status:"resolved",resolvedAt:new Date});const ee=t.find(z=>z.id===D);ee&&(i([{...ee,status:"resolved"},...n]),r(t.filter(z=>z.id!==D))),e({title:"Bug resolvido",description:"O problema foi marcado como resolvido."})}catch(B){console.error("Erro ao marcar bug como resolvido:",B),e({title:"Erro",description:"Falha ao atualizar o status do bug.",variant:"destructive"})}},O=async D=>{try{const B=xt(bv,"bugReports",D);await ur(B,{status:"open",resolvedAt:null});const ee=n.find(z=>z.id===D);ee&&(r([{...ee,status:"open"},...t]),i(n.filter(z=>z.id!==D))),e({title:"Bug reaberto",description:"O problema foi marcado como aberto novamente."})}catch(B){console.error("Erro ao reabrir bug:",B),e({title:"Erro",description:"Falha ao reabrir o bug.",variant:"destructive"})}},k=async D=>{try{await gf(xt(bv,"bugReports",D)),r(t.filter(B=>B.id!==D)),i(n.filter(B=>B.id!==D)),e({title:"Bug Excluído",description:"O relatório foi removido com sucesso."})}catch(B){console.error("Erro ao excluir bug:",B),e({title:"Erro",description:"Falha ao remover o relatório.",variant:"destructive"})}};return a?l.jsx(sn,{children:l.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-eccos-purple/10 text-eccos-purple mb-4",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-eccos-purple"})}),l.jsx("p",{className:"text-gray-600",children:"Carregando dados do suporte..."})]})})}):l.jsx(sn,{children:l.jsxs("div",{className:"min-h-screen bg-white relative",children:[l.jsxs("div",{className:"relative z-20 space-y-8 p-6 md:p-12 fade-up",children:[l.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[l.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2 bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:[l.jsx(mfe,{className:"text-eccos-purple",size:35}),"Suporte da Plataforma"]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(me,{variant:m==="bugs"?"default":"outline",onClick:()=>g("bugs"),className:"flex items-center gap-2",children:[l.jsx(pd,{className:"h-4 w-4"}),"Relatórios de Bugs"]}),l.jsxs(me,{variant:m==="manuais"?"default":"outline",onClick:()=>g("manuais"),className:"flex items-center gap-2",children:[l.jsx(Oi,{className:"h-4 w-4"}),"Manuais"]})]})]}),l.jsxs("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-4",children:[l.jsxs(Qe,{className:"bg-white border border-gray-100 rounded-2xl shadow-lg transition-all duration-300",children:[l.jsx(Rt,{className:"pb-2",children:l.jsx(kt,{className:"text-sm font-medium text-gray-600",children:"Bugs Reportados"})}),l.jsxs(nt,{children:[l.jsx("div",{className:"text-2xl font-bold bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:t.length}),l.jsx(Se,{variant:"outline",className:"mt-2 border-red-500 text-red-500",children:"Em Aberto"})]})]}),l.jsxs(Qe,{className:"bg-white border border-gray-100 rounded-2xl shadow-lg transition-all duration-300",children:[l.jsx(Rt,{className:"pb-2",children:l.jsx(kt,{className:"text-sm font-medium text-gray-600",children:"Bugs Resolvidos"})}),l.jsxs(nt,{children:[l.jsx("div",{className:"text-2xl font-bold bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:n.length}),l.jsx(Se,{variant:"outline",className:"mt-2 border-green-500 text-green-500",children:"Concluídos"})]})]}),l.jsxs(Qe,{className:"bg-white border border-gray-100 rounded-2xl shadow-lg transition-all duration-300",children:[l.jsx(Rt,{className:"pb-2",children:l.jsx(kt,{className:"text-sm font-medium text-gray-600",children:"Manuais Disponíveis"})}),l.jsxs(nt,{children:[l.jsx("div",{className:"text-2xl font-bold bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:u.length}),l.jsx(Se,{variant:"outline",className:"mt-2 border-blue-500 text-blue-500",children:"Documentos"})]})]}),l.jsxs(Qe,{className:"bg-white border border-gray-100 rounded-2xl shadow-lg transition-all duration-300",children:[l.jsx(Rt,{className:"pb-2",children:l.jsx(kt,{className:"text-sm font-medium text-gray-600",children:"Status do Sistema"})}),l.jsxs(nt,{children:[l.jsx("div",{className:"text-2xl font-bold bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:"Online"}),l.jsx(Se,{variant:"outline",className:"mt-2 border-green-500 text-green-500",children:"Operacional"})]})]})]}),m==="bugs"?l.jsxs(Qe,{className:"bg-white border border-gray-100 rounded-2xl shadow-lg transition-all duration-300 fade-up",children:[l.jsx(Rt,{children:l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(pd,{className:"text-red-500",size:24}),l.jsx(kt,{className:"bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:"Relatórios de Bugs"}),l.jsx(Se,{variant:"destructive",className:"ml-2",children:t.length})]}),l.jsx(me,{variant:p?"default":"outline",onClick:()=>v(!p),className:"flex items-center gap-2",children:p?l.jsxs(l.Fragment,{children:[l.jsx(Vc,{className:"h-4 w-4"}),"Ocultar Resolvidos"]}):l.jsxs(l.Fragment,{children:[l.jsx(ph,{className:"h-4 w-4"}),"Mostrar Resolvidos"]})})]})}),l.jsx(nt,{children:t.length===0&&!p?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-green-100 text-green-600 mb-4",children:l.jsx(ph,{size:24})}),l.jsx("h3",{className:"text-lg font-semibold mb-2 text-gray-800",children:"Nenhum bug reportado"}),l.jsx("p",{className:"text-gray-500",children:"Todos os problemas foram resolvidos ou não há bugs reportados recentemente."})]}):l.jsxs("div",{className:"space-y-4 max-h-[500px] overflow-y-auto pr-2",children:[t.length>0&&l.jsxs("div",{className:"mb-6",children:[l.jsxs("h3",{className:"text-lg font-semibold mb-4 text-gray-800 flex items-center gap-2",children:[l.jsx("span",{className:"w-3 h-3 rounded-full bg-red-500"}),"Bugs Abertos (",t.length,")"]}),t.map(D=>l.jsx("div",{className:"border border-gray-100 rounded-xl p-4 hover:bg-gray-50 transition-all duration-200 hover:shadow-md relative mb-4",children:l.jsxs("div",{className:"flex justify-between items-start gap-4",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"font-semibold text-lg text-gray-800 mb-2",children:D.title}),l.jsx("p",{className:"text-gray-600 mb-3 leading-relaxed",children:D.description}),l.jsxs("div",{className:"space-y-1 text-sm text-gray-500",children:[l.jsxs("p",{children:[l.jsx("span",{className:"font-medium",children:"Reportado por:"})," ",D.userEmail]}),l.jsxs("p",{children:[l.jsx("span",{className:"font-medium",children:"Página:"})," ",D.pageUrl]}),l.jsxs("p",{children:[l.jsx("span",{className:"font-medium",children:"Data:"})," ",Gt(D.createdAt,"dd/MM/yyyy 'às' HH:mm",{locale:Gr})]})]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(me,{variant:"outline",size:"sm",onClick:()=>I(D.id),className:"flex items-center gap-2 border-green-200 text-green-700 hover:bg-green-50 hover:border-green-300 transition-all duration-200",children:[l.jsx(ph,{className:"h-4 w-4"}),"Resolver"]}),l.jsxs(me,{variant:"outline",size:"sm",onClick:()=>k(D.id),className:"flex items-center gap-2 border-red-200 text-red-700 hover:bg-red-50 hover:border-red-300 transition-all duration-200",children:[l.jsx(Rs,{className:"h-4 w-4"}),"Excluir"]})]})]})},D.id))]}),p&&n.length>0&&l.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-100",children:[l.jsxs("h3",{className:"text-lg font-semibold mb-4 text-gray-800 flex items-center gap-2",children:[l.jsx("span",{className:"w-3 h-3 rounded-full bg-green-500"}),"Bugs Resolvidos (",n.length,")"]}),n.map(D=>l.jsx("div",{className:"border border-gray-100 rounded-xl p-4 hover:bg-gray-50 transition-all duration-200 hover:shadow-md relative mb-4",children:l.jsxs("div",{className:"flex justify-between items-start gap-4",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"font-semibold text-lg text-gray-800 mb-2",children:D.title}),l.jsx("p",{className:"text-gray-600 mb-3 leading-relaxed",children:D.description}),l.jsxs("div",{className:"space-y-1 text-sm text-gray-500",children:[l.jsxs("p",{children:[l.jsx("span",{className:"font-medium",children:"Reportado por:"})," ",D.userEmail]}),l.jsxs("p",{children:[l.jsx("span",{className:"font-medium",children:"Página:"})," ",D.pageUrl]}),l.jsxs("p",{children:[l.jsx("span",{className:"font-medium",children:"Data:"})," ",Gt(D.createdAt,"dd/MM/yyyy 'às' HH:mm",{locale:Gr})]})]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(me,{variant:"outline",size:"sm",onClick:()=>O(D.id),className:"flex items-center gap-2 border-red-200 text-red-700 hover:bg-red-50 hover:border-red-300 transition-all duration-200",children:[l.jsx(Vc,{className:"h-4 w-4"}),"Reabrir"]}),l.jsxs(me,{variant:"outline",size:"sm",onClick:()=>k(D.id),className:"flex items-center gap-2 border-red-200 text-red-700 hover:bg-red-50 hover:border-red-300 transition-all duration-200",children:[l.jsx(Rs,{className:"h-4 w-4"}),"Excluir"]})]})]})},D.id))]}),p&&n.length===0&&l.jsxs("div",{className:"text-center py-8",children:[l.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-gray-100 text-gray-600 mb-4",children:l.jsx(Oi,{size:24})}),l.jsx("h3",{className:"text-lg font-semibold mb-2 text-gray-800",children:"Nenhum bug resolvido"}),l.jsx("p",{className:"text-gray-500",children:"Todos os bugs reportados estão em aberto."})]})]})})]}):l.jsxs(Qe,{className:"bg-white border border-gray-100 rounded-2xl shadow-lg transition-all duration-300 fade-up",children:[l.jsx(Rt,{children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Oi,{className:"text-blue-500",size:24}),l.jsx(kt,{className:"bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:"Manuais e Tutoriais"}),l.jsx(Se,{variant:"secondary",className:"ml-2",children:u.length})]})}),l.jsxs(nt,{children:[l.jsxs("div",{className:"mb-8 p-6 bg-gray-50 rounded-xl border border-gray-100",children:[l.jsx("h3",{className:"font-semibold text-lg mb-4 text-gray-800",children:"Adicionar Novo Manual"}),l.jsxs("div",{className:`border-2 border-dashed rounded-lg p-8 text-center cursor-pointer transition-colors ${y?"border-eccos-purple bg-purple-50":"border-gray-300 hover:border-gray-400"}`,onDragEnter:T,onDragOver:T,onDragLeave:T,onDrop:S,onClick:A,children:[l.jsx("input",{ref:w,type:"file",accept:".pdf",onChange:E,className:"hidden"}),l.jsxs("div",{className:"flex flex-col items-center justify-center gap-3",children:[l.jsx(bP,{className:"h-10 w-10 text-gray-400"}),l.jsxs("p",{className:"text-gray-600",children:[l.jsx("span",{className:"text-eccos-purple font-medium",children:"Clique para enviar"})," ou arraste e solte"]}),l.jsx("p",{className:"text-sm text-gray-500",children:"PDF (máx. 10MB)"})]})]}),o&&l.jsxs("div",{className:"mt-4 flex items-center justify-between p-3 bg-white border border-gray-200 rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Oi,{className:"text-gray-500"}),l.jsx("span",{className:"font-medium",children:o.name})]}),l.jsx(me,{variant:"ghost",size:"icon",onClick:()=>c(null),className:"text-gray-500 hover:text-red-500",children:l.jsx(Vc,{className:"h-5 w-5"})})]}),l.jsx("div",{className:"mt-4 flex justify-end",children:l.jsxs(me,{onClick:C,disabled:!o||f,className:"flex items-center gap-2 bg-eccos-purple hover:bg-sidebar text-white transition-all duration-200",children:[l.jsx(bP,{className:"h-4 w-4"}),f?"Enviando...":"Enviar Arquivo"]})})]}),l.jsx("h3",{className:"font-semibold text-lg mb-4 text-gray-800",children:"Manuais Disponíveis"}),u.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-blue-100 text-blue-600 mb-4",children:l.jsx(Oi,{size:24})}),l.jsx("h3",{className:"text-lg font-semibold mb-2 text-gray-800",children:"Nenhum manual disponível"}),l.jsx("p",{className:"text-gray-500",children:"Faça upload dos primeiros manuais para começar a biblioteca de documentação."})]}):l.jsx("div",{className:"space-y-3 max-h-[500px] overflow-y-auto pr-2",children:u.map((D,B)=>l.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-100 rounded-xl hover:bg-gray-50 transition-all duration-200 hover:shadow-md",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-lg bg-blue-100 text-blue-600",children:l.jsx(Oi,{className:"h-5 w-5"})}),l.jsx("span",{className:"font-medium text-gray-800 truncate max-w-xs",children:D.name})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("a",{href:D.url,target:"_blank",rel:"noopener noreferrer",children:l.jsxs(me,{variant:"outline",size:"sm",className:"border-blue-200 text-blue-700 hover:bg-blue-50 hover:border-blue-300 transition-all duration-200",children:[l.jsx(Ps,{className:"h-4 w-4 mr-1"}),"Baixar"]})}),l.jsxs(me,{variant:"outline",size:"sm",onClick:()=>j(D.name),className:"border-red-200 text-red-700 hover:bg-red-50 hover:border-red-300 transition-all duration-200",children:[l.jsx(Vc,{className:"h-4 w-4 mr-1"}),"Remover"]})]})]},B))})]})]})]}),l.jsx("footer",{className:"relative z-20 bg-gray-50 py-10 px-4 md:p-12 fade-up",children:l.jsx("div",{className:"max-w-6xl mx-auto",children:l.jsx("div",{className:"text-center",children:l.jsx("p",{className:"text-gray-500 text-sm",children:"© 2025 Colégio ECCOS - Todos os direitos reservados"})})})})]})})},Qdt=({className:e})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e||"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})}),Zdt=({className:e})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e||"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})}),Jdt=()=>{var C,j;const{currentUser:e,loading:t,updateUserData:r}=Mr(),[n,i]=b.useState(""),[a,s]=b.useState(""),[o,c]=b.useState(!0),[u,d]=b.useState(!1),{toast:f}=So(),[h,m]=b.useState(null),[g,p]=b.useState(null),[v,y]=b.useState(0),[x,w]=b.useState(!1),N=b.useRef(null);b.useEffect(()=>{(async()=>{if(e)try{const O=xt(Ze,"users",e.uid),k=await ts(O);if(k.exists()){const D=k.data();i(D.displayName||""),s(D.birthDate||"")}}catch(O){console.error("Error fetching user data:",O),f({title:"Erro",description:"Não foi possível carregar os dados do perfil.",variant:"destructive"})}finally{c(!1)}})()},[e,f]),b.useEffect(()=>()=>{g&&URL.revokeObjectURL(g)},[g]);const E=I=>{if(I.target.files&&I.target.files[0]){const O=I.target.files[0];if(!O.type.match("image.*")){f({title:"Erro",description:"Por favor, selecione um arquivo de imagem (JPEG, PNG, etc.)",variant:"destructive"});return}if(O.size>5*1024*1024){f({title:"Arquivo muito grande",description:"A imagem deve ter no máximo 5MB",variant:"destructive"});return}m(O),p(URL.createObjectURL(O))}},T=async()=>{if(!h||!e)return null;w(!0),y(0);try{const I=Xc(x0,`profile_pics/${e.uid}`),O=ySe(I,h);return new Promise((k,D)=>{O.on("state_changed",B=>{const ee=B.bytesTransferred/B.totalBytes*100;y(ee)},B=>{w(!1),console.error("Upload error:",B),f({title:"Erro no upload",description:"Houve um problema ao fazer upload da imagem.",variant:"destructive"}),D(B)},async()=>{try{const B=await y0(O.snapshot.ref);w(!1),k(B)}catch(B){w(!1),console.error("Error getting download URL:",B),f({title:"Erro",description:"Não foi possível obter a URL da imagem.",variant:"destructive"}),D(B)}})})}catch(I){return w(!1),console.error("Upload error:",I),f({title:"Erro no upload",description:"Houve um problema ao fazer upload da imagem.",variant:"destructive"}),null}},S=async()=>{if(!(!e||!e.photoURL)&&window.confirm("Tem certeza que deseja remover sua foto de perfil?")){d(!0);try{if(e.photoURL.includes("firebase")){const O=Xc(x0,`profile_pics/${e.uid}`);try{await s4(O)}catch{console.log("Storage file not found or already deleted")}}const I=xt(Ze,"users",e.uid);await ur(I,{photoURL:null}),r({photoURL:null}),p(null),m(null),N.current&&(N.current.value=""),f({title:"Foto removida",description:"Sua foto de perfil foi removida com sucesso."})}catch(I){console.error("Error removing profile photo:",I),f({title:"Erro",description:"Não foi possível remover a foto de perfil.",variant:"destructive"})}finally{d(!1)}}},A=async()=>{if(e){d(!0);try{const I={displayName:n,birthDate:a};if(h){const k=await T();k&&(I.photoURL=k)}const O=xt(Ze,"users",e.uid);await ur(O,I),r(I),f({title:"Perfil atualizado",description:"Seus dados foram salvos com sucesso."}),m(null),g&&(URL.revokeObjectURL(g),p(null)),N.current&&(N.current.value="")}catch(I){console.error("Error updating profile:",I),f({title:"Erro",description:"Não foi possível atualizar o perfil.",variant:"destructive"})}finally{d(!1)}}};return t||o?l.jsx(sn,{children:l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-eccos-blue"})})}):l.jsx(sn,{children:l.jsxs("div",{className:"max-w-4xl mx-auto p-4 md:p-8",children:[l.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Perfil do Usuário"}),l.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 mb-6",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[l.jsxs("div",{className:"relative group",children:[g||e!=null&&e.photoURL?l.jsx("div",{className:"h-16 w-16 rounded-full overflow-hidden",children:l.jsx("img",{src:g||(e==null?void 0:e.photoURL)||"",alt:"Foto de perfil",className:"w-full h-full object-cover rounded-full"})}):l.jsx("div",{className:"h-16 w-16 rounded-full flex items-center justify-center bg-gradient-to-br from-sidebar to-eccos-purple text-white text-2xl font-bold",children:((C=e==null?void 0:e.displayName)==null?void 0:C.charAt(0))||((j=e==null?void 0:e.email)==null?void 0:j.charAt(0).toUpperCase())||"U"}),l.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-40 rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:l.jsx(_t,{htmlFor:"profilePhoto",className:"cursor-pointer p-2 rounded-full bg-white bg-opacity-80 hover:bg-opacity-100",children:l.jsx(Qdt,{className:"h-4 w-4 text-gray-800"})})})]}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-semibold",children:(e==null?void 0:e.displayName)||(e==null?void 0:e.email)}),l.jsx("p",{className:"text-gray-500 capitalize",children:e==null?void 0:e.role})]})]}),l.jsx(Bt,{id:"profilePhoto",type:"file",accept:"image/*",className:"hidden",onChange:E,disabled:x||u,ref:N}),x&&l.jsxs("div",{className:"mt-2 mb-4",children:[l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:l.jsx("div",{className:"bg-eccos-blue h-2.5 rounded-full",style:{width:`${v}%`}})}),l.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Enviando imagem... ",Math.round(v),"%"]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(_t,{htmlFor:"displayName",children:"Nome"}),l.jsx(Bt,{id:"displayName",value:n,onChange:I=>i(I.target.value),placeholder:"Seu nome completo"})]}),l.jsxs("div",{children:[l.jsx(_t,{htmlFor:"birthDate",children:"Data de Nascimento"}),l.jsx(Bt,{type:"date",id:"birthDate",value:a,onChange:I=>s(I.target.value)})]})]}),(e==null?void 0:e.photoURL)&&!g&&l.jsx("div",{className:"mt-4",children:l.jsxs(me,{variant:"outline",onClick:S,disabled:u||x,className:"text-red-600 border-red-300 hover:bg-red-50 flex items-center gap-2",children:[l.jsx(Zdt,{className:"h-4 w-4"}),l.jsx("span",{children:"Remover Foto de Perfil"})]})})]}),l.jsx("div",{className:"flex justify-end",children:l.jsx(me,{onClick:A,disabled:u||x,className:"min-w-[180px]",children:u?"Salvando...":x?"Enviando imagem...":"Salvar Alterações"})})]})})},Bp={dashboard:{label:"Dashboard Administrativo",icon:l.jsx(D2,{className:"h-4 w-4"}),category:"Administração"},userdashboard:{label:"Dashboard do Usuário",icon:l.jsx(iE,{className:"h-4 w-4"}),category:"Geral"},equipamentos:{label:"Equipamentos",icon:l.jsx(iE,{className:"h-4 w-4"}),category:"Tecnologia"},disponibilidade:{label:"Disponibilidade",icon:l.jsx(Zn,{className:"h-4 w-4"}),category:"Tecnologia"},estoque:{label:"Estoque",icon:l.jsx(oE,{className:"h-4 w-4"}),category:"Recursos"},usuarios:{label:"Usuários",icon:l.jsx(Uy,{className:"h-4 w-4"}),category:"Administração"},solicitacoes:{label:"Solicitações (Admin)",icon:l.jsx(Oi,{className:"h-4 w-4"}),category:"Administração"},"user-solicitacoes":{label:"Minhas Solicitações",icon:l.jsx(Oi,{className:"h-4 w-4"}),category:"Geral"},"nova-reserva":{label:"Nova Reserva",icon:l.jsx(rE,{className:"h-4 w-4"}),category:"Ações"},"nova-compra":{label:"Nova Compra",icon:l.jsx(wn,{className:"h-4 w-4"}),category:"Ações"},"nova-suporte":{label:"Nova Solicitação de Manutenção",icon:l.jsx(ql,{className:"h-4 w-4"}),category:"Ações"},notificacoes:{label:"Notificações",icon:l.jsx(mh,{className:"h-4 w-4"}),category:"Administração"},"compras-financeiro":{label:"Compras Financeiro",icon:l.jsx(wn,{className:"h-4 w-4"}),category:"Compras"},"compras-tecnologia":{label:"Compras Tecnologia",icon:l.jsx(wn,{className:"h-4 w-4"}),category:"Compras"},"compras-infraestrutura":{label:"Compras Infraestrutura",icon:l.jsx(wn,{className:"h-4 w-4"}),category:"Compras"},"compras-pedagogicoadmin":{label:"Compras Pedagógico / Administrativo",icon:l.jsx(wn,{className:"h-4 w-4"}),category:"Compras"},"suporte-operacional":{label:"Suporte Operacional",icon:l.jsx(ql,{className:"h-4 w-4"}),category:"Manutenção"},"calendario-reservas":{label:"Calendário de Reservas",icon:l.jsx(Zn,{className:"h-4 w-4"}),category:"Tecnologia"},"suporte-plataforma":{label:"Suporte da Plataforma",icon:l.jsx(pd,{className:"h-4 w-4"}),category:"Manutenção"},"roles-management":{label:"Gerenciar Roles",icon:l.jsx(TO,{className:"h-4 w-4"}),category:"Administração"},profile:{label:"Perfil",icon:l.jsx(Uy,{className:"h-4 w-4"}),category:"Geral"},"notice-board-edit":{label:"Editar Quadro de Avisos",icon:l.jsx(Oi,{className:"h-4 w-4"}),category:"Administração"}},Vz=Object.keys(Bp),_j=[{id:"admin",name:"Administrador",description:"Acesso administrativo total",permissions:{dashboard:!0,userdashboard:!1,equipamentos:!0,disponibilidade:!0,estoque:!0,usuarios:!0,solicitacoes:!0,"user-solicitacoes":!0,"nova-reserva":!0,"nova-compra":!0,"nova-suporte":!0,notificacoes:!0,"compras-financeiro":!0,"compras-tecnologia":!0,"compras-infraestrutura":!0,"compras-pedagogicoadmin":!0,"suporte-operacional":!0,"calendario-reservas":!0,"suporte-plataforma":!0,"roles-management":!0,profile:!0,"notice-board-edit":!0}},{id:"financeiro",name:"Financeiro",description:"Controle financeiro e compras",permissions:{dashboard:!1,userdashboard:!0,"compras-financeiro":!0,"user-solicitacoes":!0,notificacoes:!0,profile:!0}},{id:"operacional",name:"Operacional",description:"Equipe de manutenção e suporte operacional",permissions:{dashboard:!1,userdashboard:!0,"suporte-operacional":!0,equipamentos:!0,estoque:!0,"user-solicitacoes":!0,notificacoes:!0,profile:!0}},{id:"user",name:"Usuário Padrão",description:"Usuário básico com acesso limitado",permissions:{dashboard:!1,userdashboard:!0,"user-solicitacoes":!0,"nova-reserva":!0,"nova-compra":!0,"nova-suporte":!0,notificacoes:!0,profile:!0}}],eft=({role:e,onClose:t,onSave:r,onTogglePermission:n,onChange:i})=>{if(!e)return null;const a=Vz.reduce((o,c)=>{var d;const u=((d=Bp[c])==null?void 0:d.category)||"Outros";return o[u]||(o[u]=[]),o[u].push(c),o},{}),s={Administração:"bg-red-50 border-red-200 text-red-800",Geral:"bg-blue-50 border-blue-200 text-blue-800",Recursos:"bg-green-50 border-green-200 text-green-800",Ações:"bg-purple-50 border-purple-200 text-purple-800",Financeiro:"bg-yellow-50 border-yellow-200 text-yellow-800",Operacional:"bg-orange-50 border-orange-200 text-orange-800",Técnico:"bg-gray-50 border-gray-200 text-gray-800",Manutenção:"bg-slate-50 border-slate-200 text-slate-800"};return l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-5xl max-h-[90vh] overflow-hidden",children:[l.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-blue-600 text-white p-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:l.jsx(CO,{className:"h-6 w-6"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-2xl font-bold",children:e.id?"Editar Role":"Nova Role"}),l.jsx("p",{className:"text-white/80",children:e.id?"Modificar permissões e informações da role":"Criar uma nova role no sistema"})]})]}),l.jsx(me,{variant:"ghost",size:"sm",onClick:t,className:"text-white hover:bg-white/20 rounded-lg",children:l.jsx(go,{className:"h-5 w-5"})})]})}),l.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-200px)]",children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700",children:"ID da Role"}),l.jsx(Bt,{placeholder:"ex: admin, user, financeiro",value:e.id,onChange:o=>i("id",o.target.value.toLowerCase().replace(/\s+/g,"-")),disabled:!!e.id&&e.id!=="",className:"rounded-lg border-gray-200 focus:border-purple-500 focus:ring-purple-500"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Nome da Role"}),l.jsx(Bt,{placeholder:"ex: Administrador, Usuário",value:e.name,onChange:o=>i("name",o.target.value),className:"rounded-lg border-gray-200 focus:border-purple-500 focus:ring-purple-500"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Descrição"}),l.jsx(Bt,{placeholder:"Descreva as responsabilidades desta role",value:e.description,onChange:o=>i("description",o.target.value),className:"rounded-lg border-gray-200 focus:border-purple-500 focus:ring-purple-500"})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(wfe,{className:"h-5 w-5 text-purple-600"}),l.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"Permissões do Sistema"})]}),Object.entries(a).map(([o,c])=>l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Se,{variant:"outline",className:`px-3 py-1 text-xs font-medium ${s[o]||s.Outros}`,children:o}),l.jsxs("span",{className:"text-sm text-gray-500",children:[c.filter(u=>{var d;return(d=e.permissions)==null?void 0:d[u]}).length,"/",c.length," ativas"]})]}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2",children:c.map(u=>{var h;const d=Bp[u],f=(h=e.permissions)==null?void 0:h[u];return l.jsx(me,{variant:f?"default":"outline",onClick:()=>n(u),className:`justify-start text-sm h-auto py-3 px-4 rounded-lg transition-all ${f?"bg-gradient-to-r from-purple-600 to-blue-600 text-white shadow-md hover:shadow-lg":"hover:bg-gray-50 border-gray-200"}`,children:l.jsxs("span",{className:"flex items-center gap-2 min-w-0",children:[l.jsx("span",{className:`flex-shrink-0 ${f?"text-white":"text-gray-500"}`,children:d.icon}),l.jsx("span",{className:"truncate font-medium",children:d.label})]})},u)})})]},o))]})]})}),l.jsx("div",{className:"border-t bg-gray-50 px-6 py-4",children:l.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[l.jsxs("div",{className:"text-sm text-gray-600",children:[l.jsx("span",{className:"font-medium",children:Object.values(e.permissions||{}).filter(Boolean).length})," permissões ativas de ",l.jsx("span",{className:"font-medium",children:Vz.length})," disponíveis"]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx(me,{variant:"outline",onClick:t,className:"px-6 rounded-lg border-gray-300 hover:bg-gray-50",children:"Cancelar"}),l.jsxs(me,{onClick:r,className:"px-6 bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white rounded-lg shadow-md hover:shadow-lg transition-all",children:[l.jsx(M2,{className:"mr-2 h-4 w-4"}),"Salvar Role"]})]})]})})]})})},tft=()=>{const[e,t]=b.useState([]),[r,n]=b.useState(!1),[i,a]=b.useState(null),[s,o]=b.useState(!1),c=async()=>{n(!0);try{const y=await Ia(qr(Ze,"roles")),x=[];y.forEach(w=>{x.push(w.data())}),x.length===0?(await Promise.all(_j.map(async w=>{await ME(xt(Ze,"roles",w.id),w)})),t(_j),Vo({title:"Roles inicializadas",description:"As roles padrão foram criadas no banco de dados"})):t(x)}catch(y){console.error("Erro ao carregar roles:",y),Vo({title:"Erro",description:"Não foi possível carregar as roles",variant:"destructive"}),t(_j)}finally{n(!1)}};b.useEffect(()=>{c()},[]);const u=async y=>{var w;if(["admin","superadmin"].includes(y)){Vo({title:"Ação não permitida",description:`Não é possível excluir a role "${y}"`,variant:"destructive"});return}const x=(w=e.find(N=>N.id===y))==null?void 0:w.name;if(window.confirm(`Tem certeza que deseja excluir a role "${x}"?`))try{await gf(xt(Ze,"roles",y)),t(N=>N.filter(E=>E.id!==y)),Vo({title:"Role excluída",description:`A role "${x}" foi removida com sucesso`}),console.log(`Role "${y}" excluída com sucesso do Firestore`)}catch(N){console.error("Erro ao excluir role:",N),Vo({title:"Erro",description:"Não foi possível excluir a role",variant:"destructive"})}},d=async()=>{if(i){if(!i.id.trim()){Vo({title:"Campo obrigatório",description:"ID é obrigatório",variant:"destructive"});return}if(!i.name.trim()){Vo({title:"Campo obrigatório",description:"Nome é obrigatório",variant:"destructive"});return}try{await ME(xt(Ze,"roles",i.id),i),e.some(x=>x.id===i.id)?(t(x=>x.map(w=>w.id===i.id?i:w)),Vo({title:"Role atualizada",description:`A role "${i.name}" foi atualizada com sucesso`})):(t(x=>[...x,i]),Vo({title:"Role criada",description:`A role "${i.name}" foi criada com sucesso`})),console.log(`Role "${i.id}" salva com sucesso no Firestore`),a(null),o(!1)}catch(y){console.error("Erro ao salvar role:",y),Vo({title:"Erro",description:"Não foi possível salvar a role",variant:"destructive"})}}},f=y=>{var x;i&&a({...i,permissions:{...i.permissions,[y]:!((x=i.permissions)!=null&&x[y])}})},h=()=>{a({id:"",name:"",description:"",permissions:{dashboard:!1,userdashboard:!0,profile:!0}}),o(!0)},m=y=>{a({...y}),o(!0)},g=(y,x)=>{i&&a({...i,[y]:x})},p=y=>{switch(y){case"admin":return"bg-red-50 border-red-200 text-red-800";case"financeiro":return"bg-yellow-50 border-yellow-200 text-yellow-800";case"operacional":return"bg-orange-50 border-orange-200 text-orange-800";case"user":return"bg-blue-50 border-blue-200 text-blue-800";default:return"bg-purple-50 border-purple-200 text-purple-800"}},v=l.jsxs("div",{className:"min-h-screen bg-gray-50 relative",children:[l.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[l.jsx("div",{className:"absolute left-1/4 top-1/4 h-96 w-96 rounded-full bg-purple-100 blur-3xl opacity-20"}),l.jsx("div",{className:"absolute right-1/4 bottom-1/4 h-80 w-80 rounded-full bg-blue-100 blur-3xl opacity-20"})]}),l.jsxs("div",{className:"relative space-y-8",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[l.jsxs("div",{children:[l.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-3 bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent",children:[l.jsx(CO,{className:"text-purple-600",size:35}),"Gerenciar Roles"]}),l.jsx("p",{className:"text-gray-600 mt-2",children:"Configure permissões e controle de acesso do sistema"})]}),l.jsxs(me,{onClick:h,className:"bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white rounded-lg shadow-md hover:shadow-lg transition-all px-6",children:[l.jsx(aE,{className:"mr-2 w-4 h-4"}),"Nova Role"]})]}),r?l.jsx("div",{className:"flex justify-center items-center p-20",children:l.jsxs("div",{className:"text-center",children:[l.jsx(Wq,{className:"animate-spin w-12 h-12 text-purple-600 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600",children:"Carregando roles..."})]})}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:e.map(y=>{const x=Object.keys(y.permissions).filter(w=>y.permissions[w]);return l.jsxs(Qe,{className:"bg-white border border-gray-200 rounded-2xl shadow-sm hover:shadow-lg transition-all duration-300 hover:border-purple-200",children:[l.jsx(Rt,{className:"pb-4",children:l.jsx("div",{className:"flex items-start justify-between",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 bg-gradient-to-r from-purple-100 to-blue-100 rounded-lg",children:l.jsx(Sfe,{className:"h-5 w-5 text-purple-600"})}),l.jsxs("div",{children:[l.jsx(kt,{className:"text-lg font-bold text-gray-900",children:y.name}),l.jsx(Se,{variant:"outline",className:`mt-1 text-xs ${p(y.id)}`,children:y.id})]})]})})}),l.jsxs(nt,{className:"space-y-4",children:[l.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:y.description}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Permissões Ativas"}),l.jsxs(Se,{variant:"outline",className:"text-xs",children:[x.length,"/",Object.keys(Bp).length]})]}),l.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:x.length>0?x.map(w=>{var N,E;return l.jsxs("div",{className:"flex items-center gap-2 text-xs bg-gradient-to-r from-purple-50 to-blue-50 text-purple-800 px-3 py-2 rounded-lg border border-purple-100",children:[l.jsx("span",{className:"text-purple-600",children:(N=Bp[w])==null?void 0:N.icon}),l.jsx("span",{className:"font-medium",children:((E=Bp[w])==null?void 0:E.label)||w})]},w)}):l.jsx("div",{className:"text-xs text-gray-500 text-center py-4 bg-gray-50 rounded-lg",children:"Nenhuma permissão ativa"})})]}),l.jsxs("div",{className:"flex gap-2 pt-4 border-t",children:[l.jsxs(me,{variant:"outline",size:"sm",onClick:()=>m(y),className:"flex-1 rounded-lg hover:bg-gray-50",children:[l.jsx(Vy,{className:"w-4 h-4 mr-1"}),"Editar"]}),l.jsxs(me,{variant:"destructive",size:"sm",onClick:()=>u(y.id),disabled:["admin","superadmin"].includes(y.id),className:"flex-1 rounded-lg",children:[l.jsx(xP,{className:"w-4 h-4 mr-1"}),"Excluir"]})]})]})]},y.id)})}),s&&i&&l.jsx(eft,{role:i,onClose:()=>o(!1),onSave:d,onTogglePermission:f,onChange:g})]})]});return l.jsx(sn,{children:v})},rft=()=>{const{userPermissions:e}=Mr();return e.dashboard?l.jsx(Yie,{}):l.jsx(Kie,{})},Ww=e=>{switch(e){case"pending":return l.jsx(Se,{variant:"outline",className:"border-yellow-500 text-yellow-600",children:"Pendente"});case"analyzing":return l.jsx(Se,{variant:"outline",className:"bg-yellow-500 text-white",children:"Em Análise"});case"approved":return l.jsx(Se,{className:"bg-green-500 text-white",children:"Aprovado"});case"rejected":return l.jsx(Se,{variant:"destructive",children:"Reprovado"});case"waitingDelivery":return l.jsx(Se,{className:"bg-blue-500 text-white",children:"Aguardando entrega"});case"delivered":return l.jsx(Se,{className:"bg-indigo-500 text-white",children:"Recebido"});case"completed":return l.jsx(Se,{className:"bg-slate-500 text-white",children:"Concluído"});case"canceled":return l.jsx(Se,{className:"bg-amber-500 text-white",children:"Cancelado"});default:return l.jsx(Se,{variant:"outline",children:"Desconhecido"})}},nft=()=>{const e=vl(),{currentUser:t}=Mr(),[r,n]=b.useState(""),[i,a]=b.useState(null),[s,o]=b.useState(!1),[c,u]=b.useState(!1),[d,f]=b.useState(null),[h,m]=b.useState(!1),[g,p]=b.useState(null),[v,y]=b.useState({}),[x,w]=b.useState(()=>{const P=typeof window<"u"?localStorage.getItem("pedAdminViewedRequests"):null;return P?new Set(JSON.parse(P)):new Set}),[N,E]=b.useState(""),[T,S]=b.useState(!1),A=["pending","analyzing","approved","rejected","waitingDelivery","delivered","completed","canceled"],C=["rejected","completed","canceled","delivered"],j=A.filter(P=>!C.includes(P)),[I,O]=b.useState(j),{data:k=[],isLoading:D}=ua({queryKey:["allRequests"],queryFn:()=>Pu()});b.useEffect(()=>{(()=>{const J={};k.filter(ae=>ae.type==="purchase"&&(ae.tipo==="Pedagógico"||ae.tipo==="Administrativo")).forEach(ae=>{const ie=(ae.messages||[]).filter(fe=>!fe.isAdmin&&!x.has(`${ae.id}-${fe.timestamp.toMillis()}`)).length;ie>0&&(J[ae.id]=ie)}),y(J)})()},[k,x]);const B=async P=>{try{const J=await wu(P.id,P.collectionName);p(J),w(oe=>{const ae=new Set(oe);return(J.messages||[]).forEach(K=>{K.isAdmin||ae.add(`${J.id}-${K.timestamp.toMillis()}`)}),localStorage.setItem("pedAdminViewedRequests",JSON.stringify(Array.from(ae))),ae}),y(oe=>{const ae={...oe};return delete ae[J.id],ae}),m(!0)}catch(J){$e.error("Erro ao abrir chat"),console.error("Error:",J)}},ee=[{id:"tipo",label:"Tipo",defaultSelected:!0},{id:"userName",label:"Solicitante",defaultSelected:!0},{id:"userEmail",label:"Email",defaultSelected:!0},{id:"itemName",label:"Item",defaultSelected:!0},{id:"quantity",label:"Quantidade",defaultSelected:!0},{id:"unitPrice",label:"Valor Unitário",defaultSelected:!0},{id:"status",label:"Status",defaultSelected:!0},{id:"justification",label:"Justificativa",defaultSelected:!0},{id:"additionalInfo",label:"Informações Adicionais",defaultSelected:!0},{id:"createdAt",label:"Data de Criação",defaultSelected:!0},{id:"rejectionReason",label:"Motivo da Rejeição",defaultSelected:!0}],z=async P=>{if(i){if(P==="rejected"){S(!0);return}try{const J={status:P};P==="approved"&&(J.financeiroVisible=!0);const oe=xt(Ze,i.collectionName,i.id);await ur(oe,J),await Ra({title:"Alteração de Status",message:`Status da sua solicitação de compra foi alterado para: ${P}`,link:"minhas-solicitacoes",createdAt:new Date,readBy:[],recipients:[i.userEmail],isBatch:!1}),$e.success("Status atualizado"),e.invalidateQueries({queryKey:["allRequests"]}),a({...i,status:P,...J})}catch(J){$e.error("Erro ao atualizar"),console.error("Error:",J)}}},V=async()=>{if(i)try{const P=xt(Ze,i.collectionName,i.id);await ur(P,{status:"rejected",rejectionReason:N}),await Ra({title:"Solicitação Reprovada",message:`Sua solicitação de compra foi reprovada. Motivo: ${N}`,link:"minhas-solicitacoes",createdAt:new Date,readBy:[],recipients:[i.userEmail],isBatch:!1}),$e.success("Solicitação reprovada com justificativa"),S(!1),E(""),e.invalidateQueries({queryKey:["allRequests"]}),a({...i,status:"rejected",rejectionReason:N})}catch(P){$e.error("Erro ao reprovar solicitação"),console.error("Error:",P)}},U=async()=>{if(d)try{await fm(d.id,d.collectionName),$e.success("Excluído com sucesso"),u(!1),f(null),s&&o(!1),e.invalidateQueries({queryKey:["allRequests"]})}catch(P){$e.error("Erro ao excluir"),console.error("Error:",P)}},se=k.filter(P=>P.type==="purchase"&&(P.tipo==="Pedagógico"||P.tipo==="Administrativo")).filter(P=>{var oe,ae,K;const J=r.toLowerCase();return(((oe=P.userName)==null?void 0:oe.toLowerCase().includes(J))||((ae=P.userEmail)==null?void 0:ae.toLowerCase().includes(J))||((K=P.itemName)==null?void 0:K.toLowerCase().includes(J)))&&I.includes(P.status)}),ne=se.length,M=se.filter(P=>P.status==="pending").length,W=se.filter(P=>P.status==="analyzing").length,G=se.reduce((P,J)=>P+(J.quantity||0)*(J.unitPrice||0),0);return l.jsx(sn,{children:l.jsxs("div",{className:"min-h-screen bg-white relative overflow-hidden",children:[l.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[l.jsx("div",{className:"absolute left-1/4 top-1/4 h-96 w-96 rounded-full bg-sidebar blur-3xl opacity-5"}),l.jsx("div",{className:"absolute right-1/4 bottom-1/4 h-80 w-80 rounded-full bg-eccos-purple blur-3xl opacity-5"})]}),l.jsxs("div",{className:"relative z-10 space-y-8 p-6 md:p-12",children:[l.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2 bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:[l.jsx(wn,{className:"text-eccos-purple",size:35}),"Solicitações de Compra - Pedagógico / Administrativo"]}),D?l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-eccos-purple"})}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"grid gap-4 grid-cols-2 sm:grid-cols-2 lg:grid-cols-4",children:[l.jsxs(Qe,{className:"bg-white border border-gray-100 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300",children:[l.jsx(Rt,{className:"pb-2",children:l.jsx(kt,{className:"text-sm font-medium text-gray-600",children:"Total de Solicitações"})}),l.jsxs(nt,{children:[l.jsx("div",{className:"text-2xl font-bold bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:ne}),l.jsx(Se,{variant:"outline",className:"mt-2 border-eccos-purple text-eccos-purple",children:"Total"})]})]}),l.jsxs(Qe,{className:"bg-white border border-gray-100 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300",children:[l.jsx(Rt,{className:"pb-2",children:l.jsx(kt,{className:"text-sm font-medium text-gray-600",children:"Pendentes"})}),l.jsxs(nt,{children:[l.jsx("div",{className:"text-2xl font-bold bg-gradient-to-r from-yellow-500 to-yellow-600 bg-clip-text text-transparent",children:M}),l.jsxs(Se,{variant:"outline",className:"mt-2 border-yellow-500 text-yellow-500",children:[l.jsx(fu,{className:"h-3 w-3 mr-1"}),"Aguardando"]})]})]}),l.jsxs(Qe,{className:"bg-white border border-gray-100 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300",children:[l.jsx(Rt,{className:"pb-2",children:l.jsx(kt,{className:"text-sm font-medium text-gray-600",children:"Em Análise"})}),l.jsxs(nt,{children:[l.jsx("div",{className:"text-2xl font-bold bg-gradient-to-r from-blue-500 to-blue-600 bg-clip-text text-transparent",children:W}),l.jsxs(Se,{variant:"outline",className:"mt-2 border-blue-500 text-blue-500",children:[l.jsx(I2,{className:"h-3 w-3 mr-1"}),"Em Análise"]})]})]}),l.jsxs(Qe,{className:"bg-white border border-gray-100 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300",children:[l.jsx(Rt,{className:"pb-2",children:l.jsx(kt,{className:"text-sm font-medium text-gray-600",children:"Valor Total"})}),l.jsxs(nt,{children:[l.jsx("div",{className:"text-2xl font-bold bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",notation:"compact"}).format(G)}),l.jsxs(Se,{variant:"outline",className:"mt-2 border-eccos-purple text-eccos-purple",children:[l.jsx(O2,{className:"h-3 w-3 mr-1"}),"Total"]})]})]})]}),l.jsx(Qe,{className:"bg-white border border-gray-100 rounded-2xl shadow-lg",children:l.jsx(nt,{className:"p-6",children:l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[l.jsxs("div",{className:"relative flex-1 max-w-md",children:[l.jsx(gc,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),l.jsx(Bt,{placeholder:"Pesquisar por nome, email ou item...",value:r,onChange:P=>n(P.target.value),className:"pl-10 h-12 rounded-xl border-gray-200 focus:border-eccos-purple"})]}),l.jsxs(ei,{children:[l.jsx(ti,{asChild:!0,children:l.jsxs(me,{variant:"outline",className:"flex items-center gap-2 h-12 rounded-xl border-gray-200 px-6",children:[l.jsx(cc,{className:"h-4 w-4"})," Status (",I.length,")"]})}),l.jsx(zn,{align:"end",className:"bg-background rounded-xl",children:A.map(P=>l.jsx(_o,{checked:I.includes(P),onCheckedChange:J=>{O(J?[...I,P]:I.filter(oe=>oe!==P))},children:l.jsx("div",{className:"flex items-center gap-2",children:Ww(P)})},P))})]}),l.jsx(_m,{data:se.map(P=>({...P,createdAt:P.createdAt.toDate().toLocaleString("pt-BR"),unitPrice:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(P.unitPrice||0)})),columns:ee,filename:`compras-pedagogico-admin-${new Date().toISOString().slice(0,10)}`,children:l.jsxs(me,{variant:"outline",className:"flex items-center gap-2 h-12 rounded-xl border-gray-200 px-6",children:[l.jsx(Ps,{className:"h-4 w-4"})," Exportar"]})})]})})}),se.length===0?l.jsx(Qe,{className:"bg-white border border-gray-100 rounded-2xl shadow-lg",children:l.jsx(nt,{className:"p-12",children:l.jsxs("div",{className:"text-center text-muted-foreground",children:[l.jsx(wn,{className:"h-16 w-16 mx-auto mb-4 text-gray-300"}),l.jsx("p",{className:"text-lg",children:"Nenhuma solicitação de compra encontrada"}),l.jsx("p",{className:"text-sm",children:"Tente ajustar os filtros para ver mais resultados"})]})})}):l.jsx(Qe,{className:"bg-white border border-gray-100 rounded-2xl shadow-lg overflow-hidden",children:l.jsx(nt,{className:"p-0",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs(El,{children:[l.jsx(Sl,{children:l.jsxs(En,{className:"border-gray-100",children:[l.jsx(Lt,{className:"font-semibold text-gray-700",children:"Tipo"}),l.jsx(Lt,{className:"font-semibold text-gray-700",children:"Solicitante"}),l.jsx(Lt,{className:"font-semibold text-gray-700 hidden md:table-cell",children:"Item"}),l.jsx(Lt,{className:"font-semibold text-gray-700",children:"Status"}),l.jsx(Lt,{className:"font-semibold text-gray-700 hidden lg:table-cell",children:"Valor Total"}),l.jsx(Lt,{className:"font-semibold text-gray-700",children:"Ações"})]})}),l.jsx(Tl,{children:se.map(P=>l.jsxs(En,{className:"border-gray-100 hover:bg-gray-50/50 transition-colors",children:[l.jsx(Dt,{children:l.jsx(Se,{className:P.tipo==="Pedagógico"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800",children:P.tipo})}),l.jsx(Dt,{className:"font-medium",children:P.userName}),l.jsx(Dt,{className:"hidden md:table-cell",children:P.itemName}),l.jsx(Dt,{children:Ww(P.status)}),l.jsx(Dt,{className:"font-semibold hidden lg:table-cell",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format((P.quantity||0)*(P.unitPrice||0))}),l.jsx(Dt,{children:l.jsxs("div",{className:"flex gap-2",children:[l.jsx(me,{variant:"ghost",size:"icon",className:"h-9 w-9 rounded-xl hover:bg-eccos-purple/10 hover:text-eccos-purple",onClick:()=>{a(P),o(!0)},children:l.jsx(cf,{className:"h-4 w-4"})}),l.jsxs(me,{variant:"ghost",size:"icon",className:"h-9 w-9 rounded-xl hover:bg-blue-50 hover:text-blue-600 relative",onClick:()=>B(P),children:[l.jsx(rm,{className:"h-4 w-4"}),v[P.id]>0&&l.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:v[P.id]})]})]})})]},P.id))})]})})})})]}),l.jsx(mn,{open:s,onOpenChange:o,children:l.jsx(on,{className:"max-w-3xl bg-white border border-gray-100 rounded-2xl overflow-hidden",children:i&&l.jsxs("div",{className:"flex flex-col h-[80vh]",children:[l.jsxs(pn,{className:"p-6 pb-2 border-b border-gray-100 bg-white sticky top-0 z-10",children:[l.jsxs(ln,{className:"flex items-center gap-2",children:[i.tipo==="Pedagógico"?l.jsx(cfe,{className:"h-5 w-5 text-blue-500"}):l.jsx(NO,{className:"h-5 w-5 text-green-500"}),l.jsxs("span",{className:"bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:[i.tipo," - ",i.userName||i.userEmail]})]}),l.jsx(gn,{asChild:!0,children:l.jsxs("div",{className:"flex items-center justify-between text-gray-500 px-1 mt-2",children:[l.jsx("div",{children:Gt(i.createdAt.toDate(),"dd/MM/yyyy HH:mm",{locale:Gr})}),l.jsx("div",{className:"flex items-center gap-2",children:l.jsxs(ei,{children:[l.jsx(ti,{asChild:!0,children:l.jsx("button",{className:"cursor-pointer",children:Ww(i.status)})}),l.jsx(zn,{className:"rounded-xl",align:"end",children:A.map(P=>l.jsx(wo,{onSelect:()=>z(P),className:"cursor-pointer px-4 py-2 hover:bg-gray-100",children:l.jsx("div",{className:"flex items-center gap-2",children:Ww(P)})},P))})]})})]})})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Tipo"}),l.jsx(Se,{className:`text-base ${i.tipo==="Pedagógico"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:i.tipo})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Solicitante"}),l.jsx("p",{className:"font-medium",children:i.userName})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Item"}),l.jsx("p",{className:"font-medium break-words",children:i.itemName})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Quantidade"}),l.jsx("p",{className:"font-medium",children:i.quantity})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Valor Unitário"}),l.jsx("p",{className:"font-medium",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(i.unitPrice||0)})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Valor Total"}),l.jsx("p",{className:"font-bold text-lg bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format((i.quantity||0)*(i.unitPrice||0))})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Justificativa"}),l.jsx("div",{className:"bg-gray-50 p-4 rounded-xl",children:l.jsx("p",{className:"whitespace-pre-wrap break-words",children:i.justification})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Informações Adicionais"}),l.jsx("div",{className:"bg-gray-50 p-4 rounded-xl",children:l.jsx("p",{className:"whitespace-pre-wrap break-words",children:i.additionalInfo||"Nenhuma informação adicional fornecida"})})]}),i.status==="rejected"&&i.rejectionReason&&l.jsxs("div",{className:"space-y-2 mt-4",children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Motivo da Rejeição"}),l.jsx("div",{className:"bg-red-50 p-4 rounded-xl border border-red-100",children:l.jsx("p",{className:"text-red-700 whitespace-pre-wrap break-words",children:i.rejectionReason})})]})]}),l.jsx(ii,{className:"p-6 border-t border-gray-100 gap-2 bg-white sticky bottom-0 z-10",children:l.jsx(me,{variant:"outline",onClick:()=>o(!1),className:"w-full sm:w-auto",children:"Fechar"})})]})})}),l.jsx(Dg,{request:g,isOpen:h,onOpenChange:m,onMessageSent:()=>e.invalidateQueries({queryKey:["allRequests"]})}),l.jsx(To,{open:c,onOpenChange:u,children:l.jsxs(Bs,{className:"rounded-2xl",children:[l.jsxs(Vs,{children:[l.jsx(Us,{children:"Confirmar exclusão"}),l.jsx(No,{children:"Tem certeza que deseja excluir permanentemente esta solicitação? Esta ação não pode ser desfeita."})]}),l.jsxs(wl,{children:[l.jsx(Co,{className:"rounded-xl",children:"Cancelar"}),l.jsx(Ao,{onClick:U,className:"rounded-xl bg-red-600 hover:bg-red-700",children:"Confirmar Exclusão"})]})]})}),l.jsx(mn,{open:T,onOpenChange:S,children:l.jsxs(on,{className:"rounded-2xl",children:[l.jsxs(pn,{children:[l.jsx(ln,{children:"Justificativa de Rejeição"}),l.jsx(gn,{children:"Por favor, informe o motivo da rejeição desta solicitação."})]}),l.jsx("div",{className:"px-4",children:l.jsx(Oa,{placeholder:"Digite o motivo da rejeição...",value:N,onChange:P=>E(P.target.value),className:"min-h-[120px] w-full"})}),l.jsxs(ii,{children:[l.jsx(me,{variant:"outline",onClick:()=>S(!1),children:"Cancelar"}),l.jsx(me,{onClick:V,disabled:!N.trim(),className:"bg-red-600 hover:bg-red-700",children:"Confirmar Rejeição"})]})]})})]}),l.jsx("footer",{className:"relative z-10 bg-gray-50 py-10 px-4 md:px-12",children:l.jsx("div",{className:"max-w-6xl mx-auto text-center",children:l.jsx("p",{className:"text-gray-500 text-sm",children:"© 2025 Colégio ECCOS - Todos os direitos reservados"})})})]})})},ift=new $pe,aft=({basename:e=""})=>{const t=Qge([{path:"/login",element:l.jsx(YRe,{})},{path:"/unauthorized",element:l.jsx(Xie,{})},{path:"/404",element:l.jsx(XQe,{})},{path:"/",element:l.jsx(EAe,{}),children:[{index:!0,element:l.jsx(Ln,{children:l.jsx(rft,{})})},{path:"dashboard",element:l.jsx(Ln,{children:l.jsx(Yie,{})})},{path:"nova-solicitacao/reserva",element:l.jsx(Ln,{children:l.jsx(kdt,{})})},{path:"nova-solicitacao/compra",element:l.jsx(Ln,{children:l.jsx(Ddt,{})})},{path:"nova-solicitacao/suporte",element:l.jsx(Ln,{children:l.jsx($dt,{})})},{path:"suporte-operacional",element:l.jsx(Ln,{requiredPermission:"suporte-operacional",children:l.jsx(Bdt,{})})},{path:"compras-financeiro",element:l.jsx(Ln,{requiredPermission:"compras-financeiro",children:l.jsx(Qot,{})})},{path:"compras-tecnologia",element:l.jsx(Ln,{requiredPermission:"compras-tecnologia",children:l.jsx(Zot,{})})},{path:"compras-infraestrutura",element:l.jsx(Ln,{requiredPermission:"compras-infraestrutura",children:l.jsx(Jot,{})})},{path:"compras-pedagogicoadmin",element:l.jsx(Ln,{requiredPermission:"compras-pedagogicoadmin",children:l.jsx(nft,{})})},{path:"calendario",element:l.jsx(Ln,{requiredPermission:"solicitacoes",children:l.jsx(Ydt,{})})},{path:"equipamentos",element:l.jsx(Ln,{requiredPermission:"equipamentos",children:l.jsx(klt,{})})},{path:"estoque",element:l.jsx(Ln,{requiredPermission:"estoque",children:l.jsx(Kdt,{})})},{path:"disponibilidade",element:l.jsx(Ln,{requiredPermission:"equipamentos",children:l.jsx(mut,{})})},{path:"usuarios",element:l.jsx(Ln,{requiredPermission:"usuarios",children:l.jsx(xut,{})})},{path:"solicitacoes",element:l.jsx(Ln,{requiredPermission:"solicitacoes",children:l.jsx(but,{})})},{path:"suporte-plataforma",element:l.jsx(Ln,{requiredPermission:"suporte-plataforma",children:l.jsx(Xdt,{})})},{path:"notificacoes",element:l.jsx(Ln,{requiredPermission:"notificacoes",children:l.jsx(xAe,{})})},{path:"minhas-solicitacoes",element:l.jsx(Ln,{children:l.jsx(JJe,{})})},{path:"perfil",element:l.jsx(Ln,{children:l.jsx(Jdt,{})})},{path:"roles",element:l.jsx(Ln,{requiredPermission:"all",children:l.jsx(tft,{})})},{path:"*",element:l.jsx(Xv,{to:"/404",replace:!0})}]},{path:"/index",element:l.jsx(Xv,{to:"/",replace:!0})}],{basename:e});return te.useEffect(()=>{if(window.__REDIRECT_PATH__){const r=window.__REDIRECT_PATH__;delete window.__REDIRECT_PATH__,window.history.replaceState(null,"",r)}},[]),l.jsx(Wpe,{client:ift,children:l.jsx(ESe,{children:l.jsxs(_pe,{children:[l.jsx(she,{}),l.jsx(Fhe,{}),l.jsx(cve,{router:t})]})})})};fq(document.getElementById("root")).render(l.jsx(aft,{}));
