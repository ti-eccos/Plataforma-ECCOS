<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>Redirecionando...</title>
    <script>
        // Armazena a URL original antes do redirecionamento
        const path = window.location.pathname + window.location.search;
        const basePath = "/Plataforma-ECCOS";
        
        // Remove o basePath se estiver presente
        const cleanPath = path.startsWith(basePath) 
            ? path.slice(basePath.length)
            : path;
            
        sessionStorage.setItem("redirectPath", cleanPath || "/");
        
        // Redireciona para a raiz mantendo o basePath
        window.location.href = basePath + "/";
    </script>
</head>
<body>
    <p>Redirecionando para a aplicação...</p>
</body>
</html>
export default defineConfig({
  base: "/Plataforma-ECCOS/",
  build: {
    outDir: "dist",
    rollupOptions: {
      input: {
        main: path.resolve(__dirname, "index.html"),
        404: path.resolve(__dirname, "public/404.html"), // Adicione esta linha
      },
    },
  },
});